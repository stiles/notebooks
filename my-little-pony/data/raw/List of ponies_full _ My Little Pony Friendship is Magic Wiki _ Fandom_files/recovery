(function(){
/** @license Copyright (c) 2020, Blockthrough All rights reserved.
 See license text at: https://blockthrough.com/license
*/(()=>{var __webpack_modules__={905:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{yC:()=>DeviceTypeAll,Xh:()=>browser,Jv:()=>platform,Uh:()=>device,tq:()=>isMobile,l7:()=>getDeviceType});const PlatformUnknown="unknown",PlatformAndroid="android",PlatformIOS="ios",PlatformWindows="windows",PlatformLinux="linux",PlatformOSX="osx",PlatformWindowsPhone="windowsphone",BrowserUnknown="unknown",BrowserChrome="chrome",BrowserFirefox="firefox",BrowserIE="ie",BrowserEdge="edge",BrowserOpera="opera",BrowserSafari="safari",BrowserUCBrowser="uc",DeviceUnknown="unknown",DeviceHighEndPhone="highendphone",DeviceTablet="tablet",DevicePersonalComputer="pc",DeviceConnectedTV="tv",DeviceGameConsole="console",DeviceTypeAll="all",DeviceTypeDesktop="desktop",DeviceTypeMobile="mobile";var browser=function(){var ua=navigator.userAgent;return/edge/i.test(ua)?BrowserEdge:/opera/i.test(ua)||/opr|opios/i.test(ua)?BrowserOpera:/chrome|chromium/i.test(ua)?BrowserChrome:/firefox|iceweasel|fxios/i.test(ua)?BrowserFirefox:/msie|trident/i.test(ua)?BrowserIE:/^((?!chrome|android).)*safari/i.test(ua)?BrowserSafari:/ucbrowser/i.test(ua)?BrowserUCBrowser:window.chrome?BrowserChrome:"undefined"!=typeof InstallTrigger?BrowserFirefox:eval("/*@cc_on!@*/false")||document.documentMode?BrowserIE:window.StyleMedia?BrowserEdge:BrowserUnknown},platform=function(){var e=navigator.userAgent;return/windows|win32/i.test(e)?PlatformWindows:/ipod|iphone|ipad/i.test(e)?PlatformIOS:/android/i.test(e)?PlatformAndroid:/macintosh|mac os x/i.test(e)?PlatformOSX:/linux/i.test(e)?PlatformLinux:/windows phone/i.test(e)?PlatformWindowsPhone:PlatformUnknown},device=function(){var e=navigator.userAgent;return/tablet|ipad/i.test(e)?DeviceTablet:/mobile/i.test(e)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(e)||/ucbrowser/i.test(e)&&window.ucweb?DeviceHighEndPhone:DevicePersonalComputer};function isMobile(){return"function"==typeof window.bt_isMobileCustom?window.bt_isMobileCustom():/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))}function getDeviceType(){return isMobile()?DeviceTypeMobile:DeviceTypeDesktop}},491:(e,t,n)=>{"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{z:()=>l,Z:()=>c});var r=n(614),o=n(302),a=n(616);const s=Boolean(window.console&&window.console.info);let d=!1;!function(){try{d=a.topmostAccessibleWindow.location.href.indexOf("bt_debug=true")>=0||"true"===a.topmostAccessibleWindow.localStorage.getItem("bt_debug")}catch(e){d=!1}}();class c{constructor(){let{prefix:e="",level:t=l.DEFAULT}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,"tag","Blockthrough"),i(this,"prefix",""),this.setPrefix(e),this.setLevel(t)}setPrefix(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.prefix=e}setLevel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.DEFAULT;w(e)?this.level=e:this.level=l.DEFAULT}log(e,t,n,i){if(!d||!s)return;if(arguments.length<3||!w(e)||"object"!=typeof t||"string"!=typeof n)throw new TypeError;if(e<this.level)return;const r=(new Date).getTime()-g,o=m(t);let a="";a+="%c["+this.tag+" - "+h[e]+"]%c",a+="%c[%s]%c ",o&&(a+="%c["+o+"]%c "),this.prefix&&(a+=this.prefix),a+=n;let c=[];c.push(a),c.push("color: #000000; background-color: "+p[e]),c.push("background-color: inherit"),c.push("color: #757575;"),c.push(function(e){if(e<1e3)return Math.round(e).toString()+"ms";return(e/1e3).toFixed(2)+"s"}(r)),c.push("background-color: inherit"),o&&(c.push("color: "+function(e){const t=m(e);if(!t)return"#000000";return f[function(e){let t=2166136261;for(let n=0;n<e.length;++n)t^=e.charCodeAt(n),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0}(t)%f.length]}(t)),c.push("color: inherit")),c=c.concat(Array.prototype.slice.call(arguments,3)),console.info.apply(console,c)}debugf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.DEBUG,e,t].concat(n)),b(i,u.DEBUG)}infof(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.INFO,e,t].concat(n)),b(i,u.INFO)}noticef(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.NOTICE,e,t].concat(n)),b(i,u.NOTICE)}warningf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.WARNING,e,t].concat(n)),b(i,u.WARNING)}errorf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.ERROR,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:1,event:"general_error_event",error:{name:t}}),b(i,u.ERROR)}criticalf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.CRITICAL,e,t].concat(n)),i||(i={sendToServer:!0,sendPercentage:1,event:"general_critical_event",error:{name:t}}),b(i,u.CRITICAL)}alertf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.ALERT,e,t].concat(n)),b(i,u.ALERT)}emergencyf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.log.apply(this,[l.EMERGENCY,e,t].concat(n)),b(i,u.EMERGENCY)}}const l={DEFAULT:0,DEBUG:1,INFO:2,NOTICE:3,WARNING:4,ERROR:5,CRITICAL:6,ALERT:7,EMERGENCY:8},u={DEBUG:0,INFO:1,NOTICE:2,WARNING:3,ERROR:4,CRITICAL:5,ALERT:6,EMERGENCY:7},h={[l.DEFAULT]:"DFT",[l.DEBUG]:"DBG",[l.INFO]:"INF",[l.NOTICE]:"NTC",[l.WARNING]:"WRN",[l.ERROR]:"ERR",[l.CRITICAL]:"CRT",[l.ALERT]:"ALR",[l.EMERGENCY]:"EMR"},p={[l.DEFAULT]:"#F5F5F5",[l.DEBUG]:"#BBDEFB",[l.INFO]:"#B3E5FC",[l.NOTICE]:"#DCEDC8",[l.WARNING]:"#FFE0B2",[l.ERROR]:"#FFCCBC",[l.CRITICAL]:"#E57373",[l.ALERT]:"#F06292",[l.EMERGENCY]:"#BA68C8"},f=["#B71C1C","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#37474F"],g=(new Date).getTime();function m(e){return e&&e.id||null}function w(e){return"number"==typeof e&&void 0!==h[e]}function b(e,t){if(e&&e.event&&e.sendToServer&&t&&(!e.sendPercentage||r.Z.commonUtils.getTrueByProbability(e.sendPercentage))){const n=Object.assign({},e,{severity:t});o.Y.fireEvent("sendLog",n)}}},586:(e,t,n)=>{"use strict";n.r(t),n.d(t,{refreshTypeDecoder:()=>a,getSpaceElement:()=>s,isATFElement:()=>d});var i=n(614),r=n(868);const o=new(n(491).Z)({prefix:"commonBLUtils: "});var a=function(e){switch(e){case"ALL":return r.Z.consts.refreshType.ALL;case"VISIBLE":return r.Z.consts.refreshType.VISIBLE;case"HIDDEN":return r.Z.consts.refreshType.HIDDEN;default:return r.Z.consts.refreshType.UNKNOWN}};function s(e){return e&&e.selector?i.Z.commonUtils.getElementWithSelector(e.selector.value):null}function d(e){try{if(!e)return;var t,n,i=!1;"none"===window.getComputedStyle(e).display&&(t=e.style.getPropertyValue("display"),n=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),i=!0);var a=e.getBoundingClientRect().top+window.scrollY;return i&&e.style.setProperty("display",t,n),a<=r.Z.consts.acceptableStandardScreenSize.height}catch(e){o.errorf(null,"isATFElement - error: %o",e)}}},302:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var i=new function(){this.events={},this.hasEventListener=function(e){return this.events.hasOwnProperty(e)},this.addEventListener=function(e,t){this.hasEventListener(e)?this.events[e].push(t):this.events[e]=[t]},this.removeEventListener=function(e,t){if(this.hasEventListener(e)){var n=this.events[e].indexOf(t);-1!=n&&this.events[e].splice(n,1)}},this.fireEvent=function(e,t,n,i){if(this.hasEventListener(e))for(var o=new r(e,t),a=this.events[e],s=a.length,d=0;d<s;d++){try{var c=a[d].call(n,o)}catch(e){console.error("CustomEvents - error in `fireEvent`:",e)}if(null!=c)return c;if(o.shouldStop)return}}},r=function(e,t){this.name=e,this.data=t,this.shouldStop=!1}},17:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});var i={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3},elementVisibility:{VISIBLE:"VISIBLE",HIDDEN:"HIDDEN",NOT_FOUND:"NOT_FOUND"},htmlElements:["HTMLScriptElement","HTMLElement","HTMLVideoElement","HTMLAudioElement","HTMLHtmlElement","HTMLHeadElement","HTMLLinkElement","HTMLStyleElement","HTMLBodyElement","HTMLFormElement","HTMLSelectElement","HTMLOptionElement","HTMLInputElement","HTMLTextAreaElement","HTMLButtonElement","HTMLLabelElement","HTMLFieldSetElement","HTMLLegendElement","HTMLUListElement","HTMLOListElement","HTMLDListElement","HTMLDirectoryElement","HTMLMenuElement","HTMLLIElement","HTMLDivElement","HTMLParagraphElement","HTMLHeadingElement","HTMLQuoteElement","HTMLPreElement","HTMLBRElement","HTMLFontElement","HTMLHRElement","HTMLAnchorElement","HTMLImageElement","HTMLObjectElement","HTMLParamElement","HTMLMapElement","HTMLModElement","HTMLAreaElement","HTMLTableElement","HTMLTableCaptionElement","HTMLTableColElement","HTMLTableSectionElement","HTMLTableRowElement","HTMLTableCellElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement"],btDemand:{btDemandPrefix:"bt_",snigel:"bt_exchange",relay:"bt_server"}}},868:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=new function(){this.data={},this.setItem=function(e,t){this.data[e]=t},this.getItem=function(e){return this.data[e]},this.removeItem=function(e){delete this.data[e]},this.clearSharedObject=function(){this.data={}}},r=n(17),o=n(143),a="KGZ1bmN0aW9uKF8weDIwZTZiZixfMHg1ODg3ZDcpe3ZhciBfMHg4YjdlM2M9XzB4M2U2MixfMHg1MmEwOGY9XzB4MjBlNmJmKCk7d2hpbGUoISFbXSl7dHJ5e3ZhciBfMHgxN2M0YjI9LXBhcnNlSW50KF8weDhiN2UzYygweDFhMCkpLzB4MSoocGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTk0KSkvMHgyKSstcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTczKSkvMHgzKihwYXJzZUludChfMHg4YjdlM2MoMHgxOTMpKS8weDQpK3BhcnNlSW50KF8weDhiN2UzYygweDE4NSkpLzB4NSooLXBhcnNlSW50KF8weDhiN2UzYygweDE5ZCkpLzB4NikrcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTg0KSkvMHg3Ky1wYXJzZUludChfMHg4YjdlM2MoMHgxN2UpKS8weDgrLXBhcnNlSW50KF8weDhiN2UzYygweDE2NSkpLzB4OStwYXJzZUludChfMHg4YjdlM2MoMHgxOTIpKS8weGE7aWYoXzB4MTdjNGIyPT09XzB4NTg4N2Q3KWJyZWFrO2Vsc2UgXzB4NTJhMDhmWydwdXNoJ10oXzB4NTJhMDhmWydzaGlmdCddKCkpO31jYXRjaChfMHgzYjgwZTQpe18weDUyYTA4ZlsncHVzaCddKF8weDUyYTA4Zlsnc2hpZnQnXSgpKTt9fX0oXzB4MzYwMSwweDFlZDAyKSwoZnVuY3Rpb24oKXt2YXIgXzB4M2FkMGIxPWZ1bmN0aW9uKF8weGEwYzY4ZCl7dmFyIF8weDMwODdlMD1fMHgzZTYyO2lmKCFfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTcyKV0pe18weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNzIpXT0hMHgwO3RyeXt2YXIgXzB4MjVkZmNkPV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXShfMHgzMDg3ZTAoMHgxOGQpKTsoXzB4YTBjNjhkWydkb2N1bWVudCddWydoZWFkJ118fF8weGEwYzY4ZFsnZG9jdW1lbnQnXVtfMHgzMDg3ZTAoMHgxODIpXXx8XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldWydkb2N1bWVudEVsZW1lbnQnXSlbJ2FwcGVuZENoaWxkJ10oXzB4MjVkZmNkKSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTllKV1bJ3N0eWxlU2hlZXRzJ11bMHgwXVtfMHgzMDg3ZTAoMHgxOTUpXShfMHgzMDg3ZTAoMHgxOWIpLDB4MCk7fWNhdGNoKF8weDMxZmUxNyl7fV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxNmYpXT1kb2N1bWVudFtfMHgzMDg3ZTAoMHgxNzkpXSxfMHhhMGM2OGRbJ2RvY3VtZW50J11bJ2dldEVsZW1lbnRCeUlkJ109ZnVuY3Rpb24oXzB4MjNhY2NhKXt2YXIgXzB4MTc4MDY1PV8weDMwODdlMDt0cnl7aWYoJ2llY2N0ZXN0Jz09PV8weDIzYWNjYSlyZXR1cm4gXzB4YTBjNjhkWydkb2N1bWVudCddW18weDE3ODA2NSgweDE3YSldKCdiJyk7fWNhdGNoKF8weDM2ZmU5Yil7fXJldHVybiBfMHhhMGM2OGRbJ2RvY3VtZW50J11bXzB4MTc4MDY1KDB4MTZmKV1bXzB4MTc4MDY1KDB4MTZiKV0odGhpcyxfMHgyM2FjY2EpO30sXzB4YTBjNjhkWydkb2N1bWVudCddW18weDMwODdlMCgweDE5NyldPWRvY3VtZW50W18weDMwODdlMCgweDE3YSldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXT1mdW5jdGlvbihfMHgzMGJkOTQpe3ZhciBfMHg0NzE2YWQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NzE2YWQoMHgxOWMpPT09XzB4MzBiZDk0W18weDQ3MTZhZCgweDFhNCldKCkpe3ZhciBfMHg0YjU2ZjQ9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDQ3MTZhZCgweDE5NyldW18weDQ3MTZhZCgweDE2YildKHRoaXMsXzB4MzBiZDk0KTtyZXR1cm4gXzB4NGI1NmY0W18weDQ3MTZhZCgweDE3NCldKF8weDQ3MTZhZCgweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4MjI0MGI5PV8weDQ3MTZhZDt0cnl7dGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXT1fMHgzYWQwYjEsdGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXVtfMHgyMjQwYjkoMHgxNmIpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1snY29udGVudFdpbmRvdyddKTt9Y2F0Y2goXzB4MWZiMjEyKXt9fSksXzB4NGI1NmY0O319Y2F0Y2goXzB4NTUxY2EwKXt9cmV0dXJuIF8weGEwYzY4ZFtfMHg0NzE2YWQoMHgxOWUpXVtfMHg0NzE2YWQoMHgxOTcpXVtfMHg0NzE2YWQoMHgxNmIpXSh0aGlzLF8weDMwYmQ5NCk7fSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bXzB4MzA4N2UwKDB4MTcwKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldW18weDMwODdlMCgweDFhMyldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVtfMHgzMDg3ZTAoMHgxODgpXVtfMHgzMDg3ZTAoMHgxYTMpXT1mdW5jdGlvbihfMHgxNjk2ODUpe3ZhciBfMHgzZjRmNDk9XzB4MzA4N2UwLF8weDE1NDRhNT1fMHhhMGM2OGRbXzB4M2Y0ZjQ5KDB4MTZhKV1bJ3Byb3RvdHlwZSddW18weDNmNGY0OSgweDE3MCldWydjYWxsJ10odGhpcyxfMHgxNjk2ODUpO3RyeXtmb3IodmFyIF8weDI1ZTBjOT0weDA7XzB4MjVlMGM5PF8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgzZjRmNDkoMHgxNzEpXTtfMHgyNWUwYzkrKyknSUZSQU1FJz09PV8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgyNWUwYzldWyd0YWdOYW1lJ10mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTZkKV1bXzB4MjVlMGM5XVtfMHgzZjRmNDkoMHgxN2QpXXx8XzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTc0KV0oXzB4M2Y0ZjQ5KDB4MWEyKSxmdW5jdGlvbigpe3ZhciBfMHg3OWM5NjA9XzB4M2Y0ZjQ5O3RoaXNbXzB4NzljOTYwKDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHg3OWM5NjAoMHgxN2QpXVtfMHg3OWM5NjAoMHgxNzcpXVtfMHg3OWM5NjAoMHgxNmIpXSh0aGlzW18weDc5Yzk2MCgweDE3ZCldLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV09XzB4M2FkMGIxLF8weDE2OTY4NVsnY2hpbGRyZW4nXVtfMHgyNWUwYzldW18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldW18weDNmNGY0OSgweDE2YildKHRoaXMsXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bJ2NvbnRlbnRXaW5kb3cnXSkpO18weDNmNGY0OSgweDE3Yik9PT1fMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTc1KV0mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV18fF8weDE2OTY4NVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJyxmdW5jdGlvbigpe3ZhciBfMHgyNjY3NDY9XzB4M2Y0ZjQ5O3RoaXNbXzB4MjY2NzQ2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHgyNjY3NDYoMHgxN2QpXVsnd3JhcElmcmFtZSddW18weDI2Njc0NigweDE2YildKHRoaXNbXzB4MjY2NzQ2KDB4MTdkKV0sdGhpc1tfMHgyNjY3NDYoMHgxN2QpXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldPV8weDNhZDBiMSxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV1bXzB4M2Y0ZjQ5KDB4MTZiKV0odGhpcyxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV0pKTt9Y2F0Y2goXzB4NDJmMjFiKXt9cmV0dXJuIF8weDE1NDRhNTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVsncHJvdG90eXBlJ11bXzB4MzA4N2UwKDB4MWExKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldWydpbnNlcnRCZWZvcmUnXSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bJ2luc2VydEJlZm9yZSddPWZ1bmN0aW9uKF8weDU3NDEwNSxfMHg1MjhkNzgpe3ZhciBfMHgxZGJlMjY9XzB4MzA4N2UwLF8weDI5MDhiOT1fMHhhMGM2OGRbXzB4MWRiZTI2KDB4MTZhKV1bXzB4MWRiZTI2KDB4MTg4KV1bXzB4MWRiZTI2KDB4MWExKV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDUsXzB4NTI4ZDc4KTt0cnl7Zm9yKHZhciBfMHgzOTc3NjA9MHgwO18weDM5Nzc2MDxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTZkKV1bXzB4MWRiZTI2KDB4MTcxKV07XzB4Mzk3NzYwKyspXzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NSldJiYoXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV18fF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNmQpXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NCldKF8weDFkYmUyNigweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4NThmOTE4PV8weDFkYmUyNjt0aGlzWydjb250ZW50V2luZG93J11bXzB4NThmOTE4KDB4MTc3KV09XzB4M2FkMGIxLHRoaXNbXzB4NThmOTE4KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVsnY2FsbCddKHRoaXNbXzB4NThmOTE4KDB4MTdkKV0sdGhpc1tfMHg1OGY5MTgoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgxZGJlMjYoMHgxNzcpXT1fMHgzYWQwYjEsXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVtfMHgxZGJlMjYoMHgxNmIpXSh0aGlzLF8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3ZCldKSk7XzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNzUpXSYmKF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxN2QpXXx8XzB4NTc0MTA1WydhZGRFdmVudExpc3RlbmVyJ10oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJjMmJjMD1fMHgxZGJlMjY7dGhpc1snY29udGVudFdpbmRvdyddW18weDJjMmJjMCgweDE3NyldPV8weDNhZDBiMSx0aGlzW18weDJjMmJjMCgweDE3ZCldWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgyYzJiYzAoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE3ZCldW18weDFkYmUyNigweDE3NyldPV8weDNhZDBiMSxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV1bXzB4MWRiZTI2KDB4MTc3KV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV0pKTt9Y2F0Y2goXzB4MjhjOTAzKXt9cmV0dXJuIF8weDI5MDhiOTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVsnd3JpdGVPJ109XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldW18weDMwODdlMCgweDE5OCldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxOTgpXT1mdW5jdGlvbihfMHg0NjUyYjEpe3ZhciBfMHg1Y2JjMmQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NjUyYjEmJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS9bXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSl7dmFyIF8weDU0ZTVmMj1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTY2KV0oL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdLyksXzB4MTBkZjg1PV8weDU0ZTVmMlsweDBdW18weDVjYmMyZCgweDE3NildKF8weDVjYmMyZCgweDE5YyksXzB4NWNiYzJkKDB4MTgxKSk7XzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXShfMHg1NGU1ZjIsXzB4MTBkZjg1KTt9aWYoXzB4NDY1MmIxJiYve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9L1tfMHg1Y2JjMmQoMHgxOTEpXShfMHg0NjUyYjEpKXt2YXIgXzB4MTRhYThjPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNjYpXSgve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9LylbMHgwXSxfMHg0Nzg1NzU9LyhbLlxTXHNdK3ByaW1hcnlGaWxlczogKShcW1teXFtdK3JlbmRlckFzOiAnQkFDS1VQX0lNQUdFJ1teXF1dK1xdKShbLlxTXHNdKykvZztfMHg0NjUyYjE9XzB4NDY1MmIxW18weDVjYmMyZCgweDE3NildKF8weDQ3ODU3NSxfMHg1Y2JjMmQoMHgxOWEpK18weDE0YWE4YytfMHg1Y2JjMmQoMHgxNjgpKTt9XzB4NDY1MmIxJiZfMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTgzKV0oJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnKT4tMHgxJiYoXzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXSgndHlwZTpceDIwXHgyN0hUTUw1XHgyNycsXzB4NWNiYzJkKDB4MTZjKSkpO3ZhciBfMHgxYzBmMjQ9LyhbLlxTXHNdK2lmXCgiRVhQQU5EQUJMRSI9PSkoW2EtekEtWl0pKFx8XHwiQkFOTkVSIj09KShbYS16QS1aXSkoWy5cU1xzXSspL2c7XzB4NDY1MmIxJiZfMHgxYzBmMjRbXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSYmKF8weDQ2NTJiMT1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTc2KV0oXzB4MWMwZjI0LF8weDVjYmMyZCgweDE3YykpKTt9Y2F0Y2goXzB4MjgyODlmKXt9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDVjYmMyZCgweDE2NyldW18weDVjYmMyZCgweDE2YildKHRoaXMsXzB4NDY1MmIxKTt9LF8weGEwYzY4ZFsnZWJDZmcnXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThiKV09dm9pZCAweDAsXzB4YTBjNjhkW18weDMwODdlMCgweDE4YSldKF8weDMwODdlMCgweDE4NiksZnVuY3Rpb24oXzB4MzJiNTg2KXt2YXIgXzB4NDM3YmJiPV8weDMwODdlMDtyZXR1cm4gXzB4YTBjNjhkW18weDQzN2JiYigweDE4YildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxODYpLGZ1bmN0aW9uKF8weDViODAxZil7dmFyIF8weDUwOTE3Yz1fMHgzMDg3ZTA7cmV0dXJuIF8weDViODAxZltfMHg1MDkxN2MoMHgxOTYpXT0nJyxfMHhhMGM2OGRbXzB4NTA5MTdjKDB4MThiKV09XzB4NWI4MDFmO30pLE9iamVjdFtfMHgzMDg3ZTAoMHgxYTUpXShPYmplY3RbXzB4MzA4N2UwKDB4MTg4KV0sXzB4MzA4N2UwKDB4MTg5KSx7J3ZhbHVlJzpmdW5jdGlvbigpe3JldHVybiEweDE7fX0pLF8weDI1ZGZjZD1mdW5jdGlvbihfMHgzZTg4NjYsXzB4ODhmNTRlKXt2YXIgXzB4NDY2MTk4PV8weDMwODdlMDtfMHhhMGM2OGRbXzB4NDY2MTk4KDB4MTdmKV1bXzB4NDY2MTk4KDB4MWE1KV0oXzB4YTBjNjhkWydPYmplY3QnXVtfMHg0NjYxOTgoMHgxODgpXSxfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7dmFyIF8weDFjNzA2OD1fMHg0NjYxOTg7cmV0dXJuIHRoaXNbXzB4MWM3MDY4KDB4MTc4KStfMHgzZTg4NjZdO30sJ3NldCc6ZnVuY3Rpb24oXzB4NTBmMTAwKXt2YXIgXzB4M2U3Mzc5PV8weDQ2NjE5ODtfMHg1MGYxMDA9XzB4ODhmNTRlKHRoaXMsXzB4NTBmMTAwKSxfMHhhMGM2OGRbJ09iamVjdCddW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U4ODY2LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDNlODg2Nl07fSwnc2V0JzpmdW5jdGlvbihfMHhlYTkwYTQpe3ZhciBfMHg3NmU3Y2Q9XzB4M2U3Mzc5O18weGVhOTBhND1fMHg4OGY1NGUodGhpcyxfMHhlYTkwYTQpLHRoaXNbXzB4NzZlN2NkKDB4MTc4KStfMHgzZTg4NjZdPV8weGVhOTBhNDt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDU2ZjdkMz1fMHg1MGYxMDA7XzB4YTBjNjhkW18weDNlNzM3OSgweDE3ZildW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U3Mzc5KDB4MTc4KStfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDU2ZjdkMzt9LCdzZXQnOmZ1bmN0aW9uKF8weDJiNDIzMyl7XzB4NTZmN2QzPV8weDJiNDIzMz1fMHg4OGY1NGUodGhpcyxfMHgyYjQyMzMpO30sJ2VudW1lcmFibGUnOiEweDF9KTt9LCdlbnVtZXJhYmxlJzohMHgxLCdjb25maWd1cmFibGUnOiEweDF9KTt9LF8weDI1ZGZjZChfMHgzMDg3ZTAoMHgxOGMpLGZ1bmN0aW9uKF8weDIyMDA2MyxfMHgzNWZhMDUpe3ZhciBfMHg0MzdhOWQ9XzB4MzA4N2UwO3JldHVybiBfMHg0MzdhOWQoMHgxOTkpPT09dHlwZW9mIF8weDIyMDA2MyYmXzB4MjIwMDYzW18weDQzN2E5ZCgweDE5ZildKF8weDQzN2E5ZCgweDE4OSkpJiYoXzB4MjIwMDYzW18weDQzN2E5ZCgweDE4OSldPWZ1bmN0aW9uKCl7cmV0dXJuITB4MTt9KSxfMHgzNWZhMDU7fSksXzB4MjVkZmNkKCdpcycsZnVuY3Rpb24oXzB4MTg2MzFhLF8weDU0MWY3ZSl7dmFyIF8weDNlMzE2Nj1fMHgzMDg3ZTA7cmV0dXJuIF8weDNlMzE2NigweDE5OSk9PT10eXBlb2YgXzB4MTg2MzFhJiZfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTlmKV0oXzB4M2UzMTY2KDB4MTg5KSkmJihfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTg5KV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDU0MWY3ZTt9KTt2YXIgXzB4MmUwZDcwPXZvaWQgMHgwO18weDI1ZGZjZChfMHgzMDg3ZTAoMHgxNjkpLGZ1bmN0aW9uKF8weDg3NjMxZSxfMHgxMDFkOTIpe3JldHVybiBfMHgyZTBkNzA9XzB4MTAxZDkyO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmUpXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThhKV0oXzB4MzA4N2UwKDB4MTZlKSxmdW5jdGlvbigpe3ZhciBfMHg0MjZiYWM9XzB4MzA4N2UwO3JldHVybiB0aGlzW18weDQyNmJhYygweDE4ZildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxNmUpLGZ1bmN0aW9uKF8weDFhNzE4NSl7dmFyIF8weGY4MDAwYj1fMHgzMDg3ZTA7cmV0dXJuIHRoaXNbXzB4ZjgwMDBiKDB4MThmKV09ZnVuY3Rpb24oKXt2YXIgXzB4NTViMzQzPV8weGY4MDAwYixfMHg0MWUyY2M9YXJndW1lbnRzOy0weDE8XzB4NDFlMmNjWzB4M11bXzB4NTViMzQzKDB4MTgzKV0oXzB4NTViMzQzKDB4MTgwKSkmJl8weDU1YjM0MygweDE5MCk9PT10eXBlb2YgXzB4MmUwZDcwJiYoXzB4NDFlMmNjWzB4M109XzB4NTViMzQzKDB4MTg3KStfMHgyZTBkNzBbXzB4NTViMzQzKDB4MTc2KV0oLycvZywnaScpKydceDI3JyksXzB4MWE3MTg1WydhcHBseSddKHRoaXMsXzB4NDFlMmNjKTt9LF8weDFhNzE4NTt9KTt9fTtfMHgzYWQwYjEod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgzZTYyKF8weDVjNzYxNyxfMHgyN2ZlNzMpe3ZhciBfMHgzNjAxZWQ9XzB4MzYwMSgpO3JldHVybiBfMHgzZTYyPWZ1bmN0aW9uKF8weDNlNjJkOCxfMHgyN2ExYTEpe18weDNlNjJkOD1fMHgzZTYyZDgtMHgxNjU7dmFyIF8weDkyYWY0OD1fMHgzNjAxZWRbXzB4M2U2MmQ4XTtyZXR1cm4gXzB4OTJhZjQ4O30sXzB4M2U2MihfMHg1Yzc2MTcsXzB4MjdmZTczKTt9ZnVuY3Rpb24gXzB4MzYwMSgpe3ZhciBfMHhkNDU3ODI9Wyc5OTBCdXRiQlMnLCdlYkNmZycsJ2phdmFzY3JpcHQ6XHgyNycsJ3Byb3RvdHlwZScsJ3N1cHBvcnRlZEJyb3dzZXInLCdfX2RlZmluZUdldHRlcl9fJywnZWJDZmdfXycsJ3BhZ2VWaXNpYmxlJywnc3R5bGUnLCdfX2RlZmluZVNldHRlcl9fJywnYWRMb2FkZXJfXycsJ3N0cmluZycsJ3Rlc3QnLCc4OTg5ODMwSGNuRG92JywnMTcyMTJjRVlRSHUnLCcxNDE2ZlZ1eGVSJywnaW5zZXJ0UnVsZScsJ2FkSHRtbFBhdGgnLCdjcmVhdGVFbGVtZW50TycsJ3dyaXRlJywnb2JqZWN0JywnJDFbJywnaW1nW2NsYXNzXj1ceDI3cGwtbG9hZGVyLVx4Mjdde2Rpc3BsYXk6bm9uZVx4MjAhaW1wb3J0YW50fScsJ2lmcmFtZScsJzQyNDJtV3lXVEcnLCdkb2N1bWVudCcsJ2hhc093blByb3BlcnR5JywnMzMyaUhiYnNKJywnaW5zZXJ0QmVmb3JlTycsJ2xvYWQnLCdhcHBlbmRDaGlsZCcsJ3RvTG93ZXJDYXNlJywnZGVmaW5lUHJvcGVydHknLCcyMDQzNTc2QXZKY0lEJywnbWF0Y2gnLCd3cml0ZU8nLCddJDMnLCdiYW5uZXJBZEh0bWxUZXh0JywnSFRNTEVsZW1lbnQnLCdjYWxsJywndHlwZTpceDIwXHgyN0lNQUdFXHgyNycsJ2NoaWxkcmVuJywnYWRMb2FkZXInLCdnZXRFbGVtZW50QnlJZE8nLCdhcHBlbmRDaGlsZE8nLCdsZW5ndGgnLCdhbHJlYWR5SW5qZWN0ZWQnLCcxNjJEdHBEeGUnLCdhZGRFdmVudExpc3RlbmVyJywndGFnTmFtZScsJ3JlcGxhY2UnLCd3cmFwSWZyYW1lJywnX19fJywnZ2V0RWxlbWVudEJ5SWQnLCdjcmVhdGVFbGVtZW50JywnSUZSQU1FJywnJDEkMiQzJDR8fFx4MjJCQUNLVVBfSU1BR0VceDIyPT0kMiQ1JywnY29udGVudFdpbmRvdycsJzY4OTQzMmN1QVR1bycsJ09iamVjdCcsJy5odG1sJywnc2NyaXB0JywnYm9keScsJ2luZGV4T2YnLCcxMDM1MTE4cmtOZ2hsJ107XzB4MzYwMT1mdW5jdGlvbigpe3JldHVybiBfMHhkNDU3ODI7fTtyZXR1cm4gXzB4MzYwMSgpO30=";const s={SharedObject:i,consts:r.v,upoSettings:o.I,whitelistingIFrame:undefined,cpbjs:undefined,uGoogletag:undefined,backupCreativeScript:a,backupCreativeScriptForPostMessage:"try { eval(atob('KGZ1bmN0aW9uKF8weDIwZTZiZixfMHg1ODg3ZDcpe3ZhciBfMHg4YjdlM2M9XzB4M2U2MixfMHg1MmEwOGY9XzB4MjBlNmJmKCk7d2hpbGUoISFbXSl7dHJ5e3ZhciBfMHgxN2M0YjI9LXBhcnNlSW50KF8weDhiN2UzYygweDFhMCkpLzB4MSoocGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTk0KSkvMHgyKSstcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTczKSkvMHgzKihwYXJzZUludChfMHg4YjdlM2MoMHgxOTMpKS8weDQpK3BhcnNlSW50KF8weDhiN2UzYygweDE4NSkpLzB4NSooLXBhcnNlSW50KF8weDhiN2UzYygweDE5ZCkpLzB4NikrcGFyc2VJbnQoXzB4OGI3ZTNjKDB4MTg0KSkvMHg3Ky1wYXJzZUludChfMHg4YjdlM2MoMHgxN2UpKS8weDgrLXBhcnNlSW50KF8weDhiN2UzYygweDE2NSkpLzB4OStwYXJzZUludChfMHg4YjdlM2MoMHgxOTIpKS8weGE7aWYoXzB4MTdjNGIyPT09XzB4NTg4N2Q3KWJyZWFrO2Vsc2UgXzB4NTJhMDhmWydwdXNoJ10oXzB4NTJhMDhmWydzaGlmdCddKCkpO31jYXRjaChfMHgzYjgwZTQpe18weDUyYTA4ZlsncHVzaCddKF8weDUyYTA4Zlsnc2hpZnQnXSgpKTt9fX0oXzB4MzYwMSwweDFlZDAyKSwoZnVuY3Rpb24oKXt2YXIgXzB4M2FkMGIxPWZ1bmN0aW9uKF8weGEwYzY4ZCl7dmFyIF8weDMwODdlMD1fMHgzZTYyO2lmKCFfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTcyKV0pe18weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNzIpXT0hMHgwO3RyeXt2YXIgXzB4MjVkZmNkPV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXShfMHgzMDg3ZTAoMHgxOGQpKTsoXzB4YTBjNjhkWydkb2N1bWVudCddWydoZWFkJ118fF8weGEwYzY4ZFsnZG9jdW1lbnQnXVtfMHgzMDg3ZTAoMHgxODIpXXx8XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldWydkb2N1bWVudEVsZW1lbnQnXSlbJ2FwcGVuZENoaWxkJ10oXzB4MjVkZmNkKSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTllKV1bJ3N0eWxlU2hlZXRzJ11bMHgwXVtfMHgzMDg3ZTAoMHgxOTUpXShfMHgzMDg3ZTAoMHgxOWIpLDB4MCk7fWNhdGNoKF8weDMxZmUxNyl7fV8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxNmYpXT1kb2N1bWVudFtfMHgzMDg3ZTAoMHgxNzkpXSxfMHhhMGM2OGRbJ2RvY3VtZW50J11bJ2dldEVsZW1lbnRCeUlkJ109ZnVuY3Rpb24oXzB4MjNhY2NhKXt2YXIgXzB4MTc4MDY1PV8weDMwODdlMDt0cnl7aWYoJ2llY2N0ZXN0Jz09PV8weDIzYWNjYSlyZXR1cm4gXzB4YTBjNjhkWydkb2N1bWVudCddW18weDE3ODA2NSgweDE3YSldKCdiJyk7fWNhdGNoKF8weDM2ZmU5Yil7fXJldHVybiBfMHhhMGM2OGRbJ2RvY3VtZW50J11bXzB4MTc4MDY1KDB4MTZmKV1bXzB4MTc4MDY1KDB4MTZiKV0odGhpcyxfMHgyM2FjY2EpO30sXzB4YTBjNjhkWydkb2N1bWVudCddW18weDMwODdlMCgweDE5NyldPWRvY3VtZW50W18weDMwODdlMCgweDE3YSldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxN2EpXT1mdW5jdGlvbihfMHgzMGJkOTQpe3ZhciBfMHg0NzE2YWQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NzE2YWQoMHgxOWMpPT09XzB4MzBiZDk0W18weDQ3MTZhZCgweDFhNCldKCkpe3ZhciBfMHg0YjU2ZjQ9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDQ3MTZhZCgweDE5NyldW18weDQ3MTZhZCgweDE2YildKHRoaXMsXzB4MzBiZDk0KTtyZXR1cm4gXzB4NGI1NmY0W18weDQ3MTZhZCgweDE3NCldKF8weDQ3MTZhZCgweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4MjI0MGI5PV8weDQ3MTZhZDt0cnl7dGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXT1fMHgzYWQwYjEsdGhpc1tfMHgyMjQwYjkoMHgxN2QpXVtfMHgyMjQwYjkoMHgxNzcpXVtfMHgyMjQwYjkoMHgxNmIpXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1snY29udGVudFdpbmRvdyddKTt9Y2F0Y2goXzB4MWZiMjEyKXt9fSksXzB4NGI1NmY0O319Y2F0Y2goXzB4NTUxY2EwKXt9cmV0dXJuIF8weGEwYzY4ZFtfMHg0NzE2YWQoMHgxOWUpXVtfMHg0NzE2YWQoMHgxOTcpXVtfMHg0NzE2YWQoMHgxNmIpXSh0aGlzLF8weDMwYmQ5NCk7fSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bXzB4MzA4N2UwKDB4MTcwKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldW18weDMwODdlMCgweDFhMyldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVtfMHgzMDg3ZTAoMHgxODgpXVtfMHgzMDg3ZTAoMHgxYTMpXT1mdW5jdGlvbihfMHgxNjk2ODUpe3ZhciBfMHgzZjRmNDk9XzB4MzA4N2UwLF8weDE1NDRhNT1fMHhhMGM2OGRbXzB4M2Y0ZjQ5KDB4MTZhKV1bJ3Byb3RvdHlwZSddW18weDNmNGY0OSgweDE3MCldWydjYWxsJ10odGhpcyxfMHgxNjk2ODUpO3RyeXtmb3IodmFyIF8weDI1ZTBjOT0weDA7XzB4MjVlMGM5PF8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgzZjRmNDkoMHgxNzEpXTtfMHgyNWUwYzkrKyknSUZSQU1FJz09PV8weDE2OTY4NVtfMHgzZjRmNDkoMHgxNmQpXVtfMHgyNWUwYzldWyd0YWdOYW1lJ10mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTZkKV1bXzB4MjVlMGM5XVtfMHgzZjRmNDkoMHgxN2QpXXx8XzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTc0KV0oXzB4M2Y0ZjQ5KDB4MWEyKSxmdW5jdGlvbigpe3ZhciBfMHg3OWM5NjA9XzB4M2Y0ZjQ5O3RoaXNbXzB4NzljOTYwKDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHg3OWM5NjAoMHgxN2QpXVtfMHg3OWM5NjAoMHgxNzcpXVtfMHg3OWM5NjAoMHgxNmIpXSh0aGlzW18weDc5Yzk2MCgweDE3ZCldLHRoaXNbJ2NvbnRlbnRXaW5kb3cnXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV09XzB4M2FkMGIxLF8weDE2OTY4NVsnY2hpbGRyZW4nXVtfMHgyNWUwYzldW18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldW18weDNmNGY0OSgweDE2YildKHRoaXMsXzB4MTY5Njg1W18weDNmNGY0OSgweDE2ZCldW18weDI1ZTBjOV1bJ2NvbnRlbnRXaW5kb3cnXSkpO18weDNmNGY0OSgweDE3Yik9PT1fMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTc1KV0mJihfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV18fF8weDE2OTY4NVsnYWRkRXZlbnRMaXN0ZW5lciddKCdsb2FkJyxmdW5jdGlvbigpe3ZhciBfMHgyNjY3NDY9XzB4M2Y0ZjQ5O3RoaXNbXzB4MjY2NzQ2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXT1fMHgzYWQwYjEsdGhpc1tfMHgyNjY3NDYoMHgxN2QpXVsnd3JhcElmcmFtZSddW18weDI2Njc0NigweDE2YildKHRoaXNbXzB4MjY2NzQ2KDB4MTdkKV0sdGhpc1tfMHgyNjY3NDYoMHgxN2QpXSk7fSksXzB4MTY5Njg1W18weDNmNGY0OSgweDE3ZCldW18weDNmNGY0OSgweDE3NyldPV8weDNhZDBiMSxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV1bXzB4M2Y0ZjQ5KDB4MTc3KV1bXzB4M2Y0ZjQ5KDB4MTZiKV0odGhpcyxfMHgxNjk2ODVbXzB4M2Y0ZjQ5KDB4MTdkKV0pKTt9Y2F0Y2goXzB4NDJmMjFiKXt9cmV0dXJuIF8weDE1NDRhNTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmEpXVsncHJvdG90eXBlJ11bXzB4MzA4N2UwKDB4MWExKV09XzB4YTBjNjhkW18weDMwODdlMCgweDE2YSldW18weDMwODdlMCgweDE4OCldWydpbnNlcnRCZWZvcmUnXSxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MTZhKV1bXzB4MzA4N2UwKDB4MTg4KV1bJ2luc2VydEJlZm9yZSddPWZ1bmN0aW9uKF8weDU3NDEwNSxfMHg1MjhkNzgpe3ZhciBfMHgxZGJlMjY9XzB4MzA4N2UwLF8weDI5MDhiOT1fMHhhMGM2OGRbXzB4MWRiZTI2KDB4MTZhKV1bXzB4MWRiZTI2KDB4MTg4KV1bXzB4MWRiZTI2KDB4MWExKV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDUsXzB4NTI4ZDc4KTt0cnl7Zm9yKHZhciBfMHgzOTc3NjA9MHgwO18weDM5Nzc2MDxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTZkKV1bXzB4MWRiZTI2KDB4MTcxKV07XzB4Mzk3NzYwKyspXzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NSldJiYoXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV18fF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNmQpXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3NCldKF8weDFkYmUyNigweDFhMiksZnVuY3Rpb24oKXt2YXIgXzB4NThmOTE4PV8weDFkYmUyNjt0aGlzWydjb250ZW50V2luZG93J11bXzB4NThmOTE4KDB4MTc3KV09XzB4M2FkMGIxLHRoaXNbXzB4NThmOTE4KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVsnY2FsbCddKHRoaXNbXzB4NThmOTE4KDB4MTdkKV0sdGhpc1tfMHg1OGY5MTgoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bJ2NvbnRlbnRXaW5kb3cnXVtfMHgxZGJlMjYoMHgxNzcpXT1fMHgzYWQwYjEsXzB4NTc0MTA1W18weDFkYmUyNigweDE2ZCldW18weDM5Nzc2MF1bXzB4MWRiZTI2KDB4MTdkKV1bJ3dyYXBJZnJhbWUnXVtfMHgxZGJlMjYoMHgxNmIpXSh0aGlzLF8weDU3NDEwNVsnY2hpbGRyZW4nXVtfMHgzOTc3NjBdW18weDFkYmUyNigweDE3ZCldKSk7XzB4MWRiZTI2KDB4MTdiKT09PV8weDU3NDEwNVtfMHgxZGJlMjYoMHgxNzUpXSYmKF8weDU3NDEwNVtfMHgxZGJlMjYoMHgxN2QpXXx8XzB4NTc0MTA1WydhZGRFdmVudExpc3RlbmVyJ10oJ2xvYWQnLGZ1bmN0aW9uKCl7dmFyIF8weDJjMmJjMD1fMHgxZGJlMjY7dGhpc1snY29udGVudFdpbmRvdyddW18weDJjMmJjMCgweDE3NyldPV8weDNhZDBiMSx0aGlzW18weDJjMmJjMCgweDE3ZCldWyd3cmFwSWZyYW1lJ11bJ2NhbGwnXSh0aGlzWydjb250ZW50V2luZG93J10sdGhpc1tfMHgyYzJiYzAoMHgxN2QpXSk7fSksXzB4NTc0MTA1W18weDFkYmUyNigweDE3ZCldW18weDFkYmUyNigweDE3NyldPV8weDNhZDBiMSxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV1bXzB4MWRiZTI2KDB4MTc3KV1bXzB4MWRiZTI2KDB4MTZiKV0odGhpcyxfMHg1NzQxMDVbXzB4MWRiZTI2KDB4MTdkKV0pKTt9Y2F0Y2goXzB4MjhjOTAzKXt9cmV0dXJuIF8weDI5MDhiOTt9LF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVsnd3JpdGVPJ109XzB4YTBjNjhkW18weDMwODdlMCgweDE5ZSldW18weDMwODdlMCgweDE5OCldLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOWUpXVtfMHgzMDg3ZTAoMHgxOTgpXT1mdW5jdGlvbihfMHg0NjUyYjEpe3ZhciBfMHg1Y2JjMmQ9XzB4MzA4N2UwO3RyeXtpZihfMHg0NjUyYjEmJi9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS9bXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSl7dmFyIF8weDU0ZTVmMj1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTY2KV0oL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdLyksXzB4MTBkZjg1PV8weDU0ZTVmMlsweDBdW18weDVjYmMyZCgweDE3NildKF8weDVjYmMyZCgweDE5YyksXzB4NWNiYzJkKDB4MTgxKSk7XzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXShfMHg1NGU1ZjIsXzB4MTBkZjg1KTt9aWYoXzB4NDY1MmIxJiYve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9L1tfMHg1Y2JjMmQoMHgxOTEpXShfMHg0NjUyYjEpKXt2YXIgXzB4MTRhYThjPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNjYpXSgve1tee10rcmVuZGVyQXM6ICdCQUNLVVBfSU1BR0UnW159XSt9LylbMHgwXSxfMHg0Nzg1NzU9LyhbLlxTXHNdK3ByaW1hcnlGaWxlczogKShcW1teXFtdK3JlbmRlckFzOiAnQkFDS1VQX0lNQUdFJ1teXF1dK1xdKShbLlxTXHNdKykvZztfMHg0NjUyYjE9XzB4NDY1MmIxW18weDVjYmMyZCgweDE3NildKF8weDQ3ODU3NSxfMHg1Y2JjMmQoMHgxOWEpK18weDE0YWE4YytfMHg1Y2JjMmQoMHgxNjgpKTt9XzB4NDY1MmIxJiZfMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTgzKV0oJ3R5cGU6XHgyMFx4MjdIVE1MNVx4MjcnKT4tMHgxJiYoXzB4NDY1MmIxPV8weDQ2NTJiMVtfMHg1Y2JjMmQoMHgxNzYpXSgndHlwZTpceDIwXHgyN0hUTUw1XHgyNycsXzB4NWNiYzJkKDB4MTZjKSkpO3ZhciBfMHgxYzBmMjQ9LyhbLlxTXHNdK2lmXCgiRVhQQU5EQUJMRSI9PSkoW2EtekEtWl0pKFx8XHwiQkFOTkVSIj09KShbYS16QS1aXSkoWy5cU1xzXSspL2c7XzB4NDY1MmIxJiZfMHgxYzBmMjRbXzB4NWNiYzJkKDB4MTkxKV0oXzB4NDY1MmIxKSYmKF8weDQ2NTJiMT1fMHg0NjUyYjFbXzB4NWNiYzJkKDB4MTc2KV0oXzB4MWMwZjI0LF8weDVjYmMyZCgweDE3YykpKTt9Y2F0Y2goXzB4MjgyODlmKXt9XzB4YTBjNjhkWydkb2N1bWVudCddW18weDVjYmMyZCgweDE2NyldW18weDVjYmMyZCgweDE2YildKHRoaXMsXzB4NDY1MmIxKTt9LF8weGEwYzY4ZFsnZWJDZmcnXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThiKV09dm9pZCAweDAsXzB4YTBjNjhkW18weDMwODdlMCgweDE4YSldKF8weDMwODdlMCgweDE4NiksZnVuY3Rpb24oXzB4MzJiNTg2KXt2YXIgXzB4NDM3YmJiPV8weDMwODdlMDtyZXR1cm4gXzB4YTBjNjhkW18weDQzN2JiYigweDE4YildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxODYpLGZ1bmN0aW9uKF8weDViODAxZil7dmFyIF8weDUwOTE3Yz1fMHgzMDg3ZTA7cmV0dXJuIF8weDViODAxZltfMHg1MDkxN2MoMHgxOTYpXT0nJyxfMHhhMGM2OGRbXzB4NTA5MTdjKDB4MThiKV09XzB4NWI4MDFmO30pLE9iamVjdFtfMHgzMDg3ZTAoMHgxYTUpXShPYmplY3RbXzB4MzA4N2UwKDB4MTg4KV0sXzB4MzA4N2UwKDB4MTg5KSx7J3ZhbHVlJzpmdW5jdGlvbigpe3JldHVybiEweDE7fX0pLF8weDI1ZGZjZD1mdW5jdGlvbihfMHgzZTg4NjYsXzB4ODhmNTRlKXt2YXIgXzB4NDY2MTk4PV8weDMwODdlMDtfMHhhMGM2OGRbXzB4NDY2MTk4KDB4MTdmKV1bXzB4NDY2MTk4KDB4MWE1KV0oXzB4YTBjNjhkWydPYmplY3QnXVtfMHg0NjYxOTgoMHgxODgpXSxfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7dmFyIF8weDFjNzA2OD1fMHg0NjYxOTg7cmV0dXJuIHRoaXNbXzB4MWM3MDY4KDB4MTc4KStfMHgzZTg4NjZdO30sJ3NldCc6ZnVuY3Rpb24oXzB4NTBmMTAwKXt2YXIgXzB4M2U3Mzc5PV8weDQ2NjE5ODtfMHg1MGYxMDA9XzB4ODhmNTRlKHRoaXMsXzB4NTBmMTAwKSxfMHhhMGM2OGRbJ09iamVjdCddW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U4ODY2LHsnZ2V0JzpmdW5jdGlvbigpe3JldHVybiB0aGlzWydfX18nK18weDNlODg2Nl07fSwnc2V0JzpmdW5jdGlvbihfMHhlYTkwYTQpe3ZhciBfMHg3NmU3Y2Q9XzB4M2U3Mzc5O18weGVhOTBhND1fMHg4OGY1NGUodGhpcyxfMHhlYTkwYTQpLHRoaXNbXzB4NzZlN2NkKDB4MTc4KStfMHgzZTg4NjZdPV8weGVhOTBhNDt9LCdlbnVtZXJhYmxlJzohMHgwfSk7dmFyIF8weDU2ZjdkMz1fMHg1MGYxMDA7XzB4YTBjNjhkW18weDNlNzM3OSgweDE3ZildW18weDNlNzM3OSgweDFhNSldKHRoaXMsXzB4M2U3Mzc5KDB4MTc4KStfMHgzZTg4NjYseydnZXQnOmZ1bmN0aW9uKCl7cmV0dXJuIF8weDU2ZjdkMzt9LCdzZXQnOmZ1bmN0aW9uKF8weDJiNDIzMyl7XzB4NTZmN2QzPV8weDJiNDIzMz1fMHg4OGY1NGUodGhpcyxfMHgyYjQyMzMpO30sJ2VudW1lcmFibGUnOiEweDF9KTt9LCdlbnVtZXJhYmxlJzohMHgxLCdjb25maWd1cmFibGUnOiEweDF9KTt9LF8weDI1ZGZjZChfMHgzMDg3ZTAoMHgxOGMpLGZ1bmN0aW9uKF8weDIyMDA2MyxfMHgzNWZhMDUpe3ZhciBfMHg0MzdhOWQ9XzB4MzA4N2UwO3JldHVybiBfMHg0MzdhOWQoMHgxOTkpPT09dHlwZW9mIF8weDIyMDA2MyYmXzB4MjIwMDYzW18weDQzN2E5ZCgweDE5ZildKF8weDQzN2E5ZCgweDE4OSkpJiYoXzB4MjIwMDYzW18weDQzN2E5ZCgweDE4OSldPWZ1bmN0aW9uKCl7cmV0dXJuITB4MTt9KSxfMHgzNWZhMDU7fSksXzB4MjVkZmNkKCdpcycsZnVuY3Rpb24oXzB4MTg2MzFhLF8weDU0MWY3ZSl7dmFyIF8weDNlMzE2Nj1fMHgzMDg3ZTA7cmV0dXJuIF8weDNlMzE2NigweDE5OSk9PT10eXBlb2YgXzB4MTg2MzFhJiZfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTlmKV0oXzB4M2UzMTY2KDB4MTg5KSkmJihfMHgxODYzMWFbXzB4M2UzMTY2KDB4MTg5KV09ZnVuY3Rpb24oKXtyZXR1cm4hMHgxO30pLF8weDU0MWY3ZTt9KTt2YXIgXzB4MmUwZDcwPXZvaWQgMHgwO18weDI1ZGZjZChfMHgzMDg3ZTAoMHgxNjkpLGZ1bmN0aW9uKF8weDg3NjMxZSxfMHgxMDFkOTIpe3JldHVybiBfMHgyZTBkNzA9XzB4MTAxZDkyO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxNmUpXT12b2lkIDB4MCxfMHhhMGM2OGRbXzB4MzA4N2UwKDB4MThhKV0oXzB4MzA4N2UwKDB4MTZlKSxmdW5jdGlvbigpe3ZhciBfMHg0MjZiYWM9XzB4MzA4N2UwO3JldHVybiB0aGlzW18weDQyNmJhYygweDE4ZildO30pLF8weGEwYzY4ZFtfMHgzMDg3ZTAoMHgxOGUpXShfMHgzMDg3ZTAoMHgxNmUpLGZ1bmN0aW9uKF8weDFhNzE4NSl7dmFyIF8weGY4MDAwYj1fMHgzMDg3ZTA7cmV0dXJuIHRoaXNbXzB4ZjgwMDBiKDB4MThmKV09ZnVuY3Rpb24oKXt2YXIgXzB4NTViMzQzPV8weGY4MDAwYixfMHg0MWUyY2M9YXJndW1lbnRzOy0weDE8XzB4NDFlMmNjWzB4M11bXzB4NTViMzQzKDB4MTgzKV0oXzB4NTViMzQzKDB4MTgwKSkmJl8weDU1YjM0MygweDE5MCk9PT10eXBlb2YgXzB4MmUwZDcwJiYoXzB4NDFlMmNjWzB4M109XzB4NTViMzQzKDB4MTg3KStfMHgyZTBkNzBbXzB4NTViMzQzKDB4MTc2KV0oLycvZywnaScpKydceDI3JyksXzB4MWE3MTg1WydhcHBseSddKHRoaXMsXzB4NDFlMmNjKTt9LF8weDFhNzE4NTt9KTt9fTtfMHgzYWQwYjEod2luZG93KTt9KCkpKTtmdW5jdGlvbiBfMHgzZTYyKF8weDVjNzYxNyxfMHgyN2ZlNzMpe3ZhciBfMHgzNjAxZWQ9XzB4MzYwMSgpO3JldHVybiBfMHgzZTYyPWZ1bmN0aW9uKF8weDNlNjJkOCxfMHgyN2ExYTEpe18weDNlNjJkOD1fMHgzZTYyZDgtMHgxNjU7dmFyIF8weDkyYWY0OD1fMHgzNjAxZWRbXzB4M2U2MmQ4XTtyZXR1cm4gXzB4OTJhZjQ4O30sXzB4M2U2MihfMHg1Yzc2MTcsXzB4MjdmZTczKTt9ZnVuY3Rpb24gXzB4MzYwMSgpe3ZhciBfMHhkNDU3ODI9Wyc5OTBCdXRiQlMnLCdlYkNmZycsJ2phdmFzY3JpcHQ6XHgyNycsJ3Byb3RvdHlwZScsJ3N1cHBvcnRlZEJyb3dzZXInLCdfX2RlZmluZUdldHRlcl9fJywnZWJDZmdfXycsJ3BhZ2VWaXNpYmxlJywnc3R5bGUnLCdfX2RlZmluZVNldHRlcl9fJywnYWRMb2FkZXJfXycsJ3N0cmluZycsJ3Rlc3QnLCc4OTg5ODMwSGNuRG92JywnMTcyMTJjRVlRSHUnLCcxNDE2ZlZ1eGVSJywnaW5zZXJ0UnVsZScsJ2FkSHRtbFBhdGgnLCdjcmVhdGVFbGVtZW50TycsJ3dyaXRlJywnb2JqZWN0JywnJDFbJywnaW1nW2NsYXNzXj1ceDI3cGwtbG9hZGVyLVx4Mjdde2Rpc3BsYXk6bm9uZVx4MjAhaW1wb3J0YW50fScsJ2lmcmFtZScsJzQyNDJtV3lXVEcnLCdkb2N1bWVudCcsJ2hhc093blByb3BlcnR5JywnMzMyaUhiYnNKJywnaW5zZXJ0QmVmb3JlTycsJ2xvYWQnLCdhcHBlbmRDaGlsZCcsJ3RvTG93ZXJDYXNlJywnZGVmaW5lUHJvcGVydHknLCcyMDQzNTc2QXZKY0lEJywnbWF0Y2gnLCd3cml0ZU8nLCddJDMnLCdiYW5uZXJBZEh0bWxUZXh0JywnSFRNTEVsZW1lbnQnLCdjYWxsJywndHlwZTpceDIwXHgyN0lNQUdFXHgyNycsJ2NoaWxkcmVuJywnYWRMb2FkZXInLCdnZXRFbGVtZW50QnlJZE8nLCdhcHBlbmRDaGlsZE8nLCdsZW5ndGgnLCdhbHJlYWR5SW5qZWN0ZWQnLCcxNjJEdHBEeGUnLCdhZGRFdmVudExpc3RlbmVyJywndGFnTmFtZScsJ3JlcGxhY2UnLCd3cmFwSWZyYW1lJywnX19fJywnZ2V0RWxlbWVudEJ5SWQnLCdjcmVhdGVFbGVtZW50JywnSUZSQU1FJywnJDEkMiQzJDR8fFx4MjJCQUNLVVBfSU1BR0VceDIyPT0kMiQ1JywnY29udGVudFdpbmRvdycsJzY4OTQzMmN1QVR1bycsJ09iamVjdCcsJy5odG1sJywnc2NyaXB0JywnYm9keScsJ2luZGV4T2YnLCcxMDM1MTE4cmtOZ2hsJ107XzB4MzYwMT1mdW5jdGlvbigpe3JldHVybiBfMHhkNDU3ODI7fTtyZXR1cm4gXzB4MzYwMSgpO30=')) } catch (err) {}"}},143:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,I:()=>o});const i="static.btloader.com",r="https://".concat(i,"/safeFrame.html?upapi=true");var o={acceptableURLParam:"upapi=true",prebidTimeout:2e3,staticDomain:i,whitelistingIFrameSettings:{defaultWhitelistingIFrameURL:r,publisherDomainWhitelistingIFrameCandidates:[{src:"/robots.txt",acceptHTMLType:!1},{src:"/ads.txt",acceptHTMLType:!1}]},minTimeBetweenRefreshes:3e4,amazonBidderConfiguration:{enabled:!1,keepHbPb:!1},recoveryScriptVersion:"5629513996697600"}},228:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>prebidLoader});var _services__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(614),_shared__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(868),prebidLoader=new function(){var subscriptionLayer=new _services__WEBPACK_IMPORTED_MODULE_0__.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){subscriptionLayer.subscribeForEvent(e,t)};var initPbjs=function(){var prebidjsCode="LyogcHJlYmlkLmpzIHY1LjIwLjIKVXBkYXRlZCA6IDIwMjItMDYtMDkqLwohZnVuY3Rpb24oZSl7dmFyIHQ9d2luZG93LnVwYmpzQ2h1bms7d2luZG93LnVwYmpzQ2h1bms9ZnVuY3Rpb24obixvLGEpe2Zvcih2YXIgYyx1LHMsZD0wLGY9W107ZDxuLmxlbmd0aDtkKyspdT1uW2RdLHJbdV0mJmYucHVzaChyW3VdWzBdKSxyW3VdPTA7Zm9yKGMgaW4gbylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobyxjKSYmKGVbY109b1tjXSk7Zm9yKHQmJnQobixvLGEpO2YubGVuZ3RoOylmLnNoaWZ0KCkoKTtpZihhKWZvcihkPTA7ZDxhLmxlbmd0aDtkKyspcz1pKGkucz1hW2RdKTtyZXR1cm4gc307dmFyIG49e30scj17MzgwOjB9O2Z1bmN0aW9uIGkodCl7aWYoblt0XSlyZXR1cm4gblt0XS5leHBvcnRzO3ZhciByPW5bdF09e2k6dCxsOiExLGV4cG9ydHM6e319O3JldHVybiBlW3RdLmNhbGwoci5leHBvcnRzLHIsci5leHBvcnRzLGkpLHIubD0hMCxyLmV4cG9ydHN9aS5tPWUsaS5jPW4saS5kPWZ1bmN0aW9uKGUsdCxuKXtpLm8oZSx0KXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7Y29uZmlndXJhYmxlOiExLGVudW1lcmFibGU6ITAsZ2V0Om59KX0saS5uPWZ1bmN0aW9uKGUpe3ZhciB0PWUmJmUuX19lc01vZHVsZT9mdW5jdGlvbigpe3JldHVybiBlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIGV9O3JldHVybiBpLmQodCwiYSIsdCksdH0saS5vPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpfSxpLnA9IiIsaS5vZT1mdW5jdGlvbihlKXt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9LGkoaS5zPTk1MSl9KHswOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJpbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSksdC5nZXRQcmViaWRJbnRlcm5hbD1mdW5jdGlvbigpe3JldHVybiBSfSxuLmQodCwiYmluZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEJ9KSksdC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyPUQsdC5nZW5lcmF0ZVVVSUQ9ayx0LmdldEJpZElkUGFyYW1ldGVyPWZ1bmN0aW9uKGUsdCl7aWYodCYmdFtlXSlyZXR1cm4gdFtlXTtyZXR1cm4iIn0sdC50cnlBcHBlbmRRdWVyeVN0cmluZz1mdW5jdGlvbihlLHQsbil7aWYobilyZXR1cm4gZSt0KyI9IitlbmNvZGVVUklDb21wb25lbnQobikrIiYiO3JldHVybiBlfSx0LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe3ZhciB0PSIiO2Zvcih2YXIgbiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJih0Kz1uKyI9IitlbmNvZGVVUklDb21wb25lbnQoZVtuXSkrIiYiKTtyZXR1cm4gdD10LnJlcGxhY2UoLyYkLywiIil9LHQudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmxlbmd0aD4wP3NlKGUpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGRlKGUsdCkpKX0pKS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmQXJyYXkuaXNBcnJheShlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKSl7dmFyIG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcztBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobil9ZWxzZSBBcnJheS5pc0FycmF5KGUuc2l6ZXMpJiYoQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKT90PWUuc2l6ZXM6dC5wdXNoKGUuc2l6ZXMpKTtyZXR1cm4gdH0sdC5wYXJzZVNpemVzSW5wdXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoInN0cmluZyI9PXR5cGVvZiBlKXt2YXIgbj1lLnNwbGl0KCIsIikscj0vXihcZCkreChcZCkrJC9pO2lmKG4pZm9yKHZhciBpIGluIG4pdGUobixpKSYmbltpXS5tYXRjaChyKSYmdC5wdXNoKG5baV0pfWVsc2UgaWYoIm9iamVjdCI9PT1tKGUpKXt2YXIgbz1lLmxlbmd0aDtpZihvPjApaWYoMj09PW8mJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdKXQucHVzaChOKGUpKTtlbHNlIGZvcih2YXIgYT0wO2E8bzthKyspdC5wdXNoKE4oZVthXSkpfXJldHVybiB0fSx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5PU4sdC5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZT1mdW5jdGlvbihlKXtpZihQKGUpKXJldHVybnt3OmVbMF0saDplWzFdfX0sdC5nZXRXaW5kb3dUb3A9cSx0LmdldFdpbmRvd1NlbGY9TSx0LmdldFdpbmRvd0xvY2F0aW9uPUcsdC5sb2dNZXNzYWdlPUwsdC5sb2dJbmZvPVcsdC5sb2dXYXJuPUYsdC5sb2dFcnJvcj16LHQuaGFzQ29uc29sZUxvZ2dlcj1mdW5jdGlvbigpe3JldHVybiBFfSx0LmRlYnVnVHVybmVkT249SCx0LmNyZWF0ZUludmlzaWJsZUlmcmFtZT1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO3JldHVybiBlLmlkPUQoKSxlLmhlaWdodD0wLGUud2lkdGg9MCxlLmJvcmRlcj0iMHB4IixlLmhzcGFjZT0iMCIsZS52c3BhY2U9IjAiLGUubWFyZ2luV2lkdGg9IjAiLGUubWFyZ2luSGVpZ2h0PSIwIixlLnN0eWxlLmJvcmRlcj0iMCIsZS5zY3JvbGxpbmc9Im5vIixlLmZyYW1lQm9yZGVyPSIwIixlLnNyYz0iYWJvdXQ6YmxhbmsiLGUuc3R5bGUuZGlzcGxheT0ibm9uZSIsZX0sdC5nZXRQYXJhbWV0ZXJCeU5hbWU9ZnVuY3Rpb24oZSl7cmV0dXJuIGplKEcoKS5zZWFyY2gpW2VdfHwiIn0sdC5pc0E9Syx0LmlzRm49Six0LmlzU3RyPVksdC5pc0FycmF5PVEsdC5pc051bWJlcj0kLHQuaXNQbGFpbk9iamVjdD1YLHQuaXNCb29sZWFuPWZ1bmN0aW9uKGUpe3JldHVybiBLKGUsIkJvb2xlYW4iKX0sdC5pc0VtcHR5PVosdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiBZKGUpJiYoIWV8fDA9PT1lLmxlbmd0aCl9LHQuX2VhY2g9ZWUsdC5jb250YWlucz1mdW5jdGlvbihlLHQpe2lmKFooZSkpcmV0dXJuITE7aWYoSihlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKGUsdCl7aWYoWihlKSlyZXR1cm5bXTtpZihKKGUubWFwKSlyZXR1cm4gZS5tYXAodCk7dmFyIG49W107cmV0dXJuIGVlKGUsKGZ1bmN0aW9uKHIsaSl7bi5wdXNoKHQocixpLGUpKX0pKSxufSx0Lmhhc093bj10ZSx0Lmluc2VydEVsZW1lbnQ9bmUsdC50cmlnZ2VyUGl4ZWw9cmUsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09Ty5TMlMuU1JDJiZuJiZDLnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1EKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsQy5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1pZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5jKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1vZSx0LmdldFZhbHVlU3RyaW5nPWFlLHQudW5pcXVlcz1jZSx0LmZsYXR0ZW49dWUsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3ZhciBuO3JldHVybiB0LnNvbWUoKGZ1bmN0aW9uKHQpe3ZhciByPWMoKSh0LmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZSgoZnVuY3Rpb24obil7cmV0dXJuIHRbbl09PT1lfSkpfSkpO3JldHVybiByJiYobj1yKSxyfSkpLG59LHQuZ2V0S2V5cz1zZSx0LmdldFZhbHVlPWRlLHQuZ2V0S2V5QnlWYWx1ZT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbiBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkobikmJmVbbl09PT10KXJldHVybiBufSx0LmdldEJpZGRlckNvZGVzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnVwYmpzLmFkVW5pdHM7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpLnJlZHVjZSh1ZSxbXSl9KSkucmVkdWNlKHVlKS5maWx0ZXIoY2UpfSx0LmlzR3B0UHViYWRzRGVmaW5lZD1mZSx0LmlzQXBuR2V0VGFnRGVmaW5lZD1mdW5jdGlvbigpe2lmKHdpbmRvdy5hcG50YWcmJkood2luZG93LmFwbnRhZy5nZXRUYWcpKXJldHVybiEwfSxuLmQodCwiZ2V0SGlnaGVzdENwbSIsKGZ1bmN0aW9uKCl7cmV0dXJuIGxlfSkpLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIiwoZnVuY3Rpb24oKXtyZXR1cm4gcGV9KSksbi5kKHQsImdldExhdGVzdEhpZ2hlc3RDcG1CaWQiLChmdW5jdGlvbigpe3JldHVybiBnZX0pKSx0LnNodWZmbGU9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5sZW5ndGg7Zm9yKDt0PjA7KXt2YXIgbj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCk7dC0tO3ZhciByPWVbdF07ZVt0XT1lW25dLGVbbl09cn1yZXR1cm4gZX0sdC5hZFVuaXRzRmlsdGVyPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHMoKShlLHQmJnQuYWRVbml0Q29kZSl9LHQuZGVlcENsb25lPXZlLHQuaW5JZnJhbWU9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEMuZ2V0V2luZG93U2VsZigpIT09Qy5nZXRXaW5kb3dUb3AoKX1jYXRjaChlKXtyZXR1cm4hMH19LHQuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL14oKD8hY2hyb21lfGFuZHJvaWR8Y3Jpb3N8Znhpb3MpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KX0sdC5yZXBsYWNlQXVjdGlvblByaWNlPWZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wkXHtBVUNUSU9OX1BSSUNFXH0vZyx0KX0sdC5yZXBsYWNlQ2xpY2tUaHJvdWdoPWZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0fHwic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuO3JldHVybiBlLnJlcGxhY2UoL1wke0NMSUNLVEhST1VHSH0vZyx0KX0sdC50aW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdC5nZXRQZXJmb3JtYW5jZU5vdz1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3cmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3coKXx8MH0sdC5oYXNEZXZpY2VBY2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4hMSE9PXIuYi5nZXRDb25maWcoImRldmljZUFjY2VzcyIpfSx0LmNoZWNrQ29va2llU3VwcG9ydD15ZSx0LmRlbGF5RXhlY3V0aW9uPWZ1bmN0aW9uKGUsdCl7aWYodDwxKXRocm93IG5ldyBFcnJvcigibnVtUmVxdWlyZWRDYWxscyBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLiBHb3QgIi5jb25jYXQodCkpO3ZhciBuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7KytuPT09dCYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSx0Lmdyb3VwQnk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuKGVbblt0XV09ZVtuW3RdXXx8W10pLnB1c2gobiksZX0pLHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGgodCx5KHt9LG4sZVtuXSkpfSkse30pfSx0LmlzVmFsaWRNZWRpYVR5cGVzPWZ1bmN0aW9uKGUpe3ZhciB0PVsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXTtpZighT2JqZWN0LmtleXMoZSkuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBzKCkodCxlKX0pKSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJighbnx8ZS5hZFVuaXRDb2RlPT09bil9KSkubGVuZ3RoPjB9KSl8fHtzdGFydDpudWxsLGF1Y3Rpb25JZDpudWxsfX0sdC5nZXRVc2VyQ29uZmlndXJlZFBhcmFtcz1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHN9KSkucmVkdWNlKHVlLFtdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXN8fHt9fSkpfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBoZShlLHQpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9bWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7ZmUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxtZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPU9lLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZywoZnVuY3Rpb24oZSx0KXtyZXR1cm4iXyIrdC50b0xvd2VyQ2FzZSgpfSkpLnJlcGxhY2UoL15fLywiIil9LHQuY2xlYW5PYmo9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09ZVtuXSYmKHRbbl09ZVtuXSksdH0pLHt9KX0sdC5waWNrPWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCIhPT1tKGUpKXJldHVybnt9O3JldHVybiB0LnJlZHVjZSgoZnVuY3Rpb24obixyLGkpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiByKXJldHVybiBuO3ZhciBvPXIsYT1yLm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7YSYmKHI9YVsxXSxvPWFbMl0pO3ZhciBjPWVbcl07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRbaSsxXSYmKGM9dFtpKzFdKGMsbikpLHZvaWQgMCE9PWMmJihuW29dPWMpLG59KSx7fSl9LHQudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3Jkcz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06ImtleXdvcmRzIixuPVtdO3JldHVybiBlZShlLChmdW5jdGlvbihlLHIpe2lmKFEoZSkpe3ZhciBpPVtdO2VlKGUsKGZ1bmN0aW9uKGUpeygoZT1hZSh0KyIuIityLGUpKXx8IiI9PT1lKSYmaS5wdXNoKGUpfSkpLGU9aX1lbHNle2lmKCFZKGU9YWUodCsiLiIrcixlKSkpcmV0dXJuO2U9W2VdfW4ucHVzaCh7a2V5OnIsdmFsdWU6ZX0pfSkpLG59LHQuY29udmVydFR5cGVzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByLGk7dFtuXSYmKEooZVtuXSk/dFtuXT1lW25dKHRbbl0pOnRbbl09KHI9ZVtuXSxpPXRbbl0sInN0cmluZyI9PT1yP2kmJmkudG9TdHJpbmcoKToibnVtYmVyIj09PXI/TnVtYmVyKGkpOmkpLGlzTmFOKHRbbl0pJiZkZWxldGUgdC5rZXkpfSkpLHR9LHQuaXNBcnJheU9mTnVtcz1mdW5jdGlvbihlLHQpe3JldHVybiBRKGUpJiYoIXR8fGUubGVuZ3RoPT09dCkmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPZShlKX0pKX0sdC5maWxsPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPHQ7cisrKXt2YXIgaT1YKGUpP3ZlKGUpOmU7bi5wdXNoKGkpfXJldHVybiBufSx0LmNodW5rPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPVtdLHI9MDtyPE1hdGguY2VpbChlLmxlbmd0aC90KTtyKyspe3ZhciBpPXIqdCxvPWkrdDtuLnB1c2goZS5zbGljZShpLG8pKX1yZXR1cm4gbn0sdC5nZXRNaW5WYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCxnKGUpKX0sdC5nZXRNYXhWYWx1ZUZyb21BcnJheT1mdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCxnKGUpKX0sdC5jb21wYXJlT249ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIHRbZV08bltlXT8xOnRbZV0+bltlXT8tMTowfX0sdC5wYXJzZVFTPWplLHQuZm9ybWF0UVM9U2UsdC5wYXJzZVVybD1mdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTt0JiYibm9EZWNvZGVXaG9sZVVSTCJpbiB0JiZ0Lm5vRGVjb2RlV2hvbGVVUkw/bi5ocmVmPWU6bi5ocmVmPWRlY29kZVVSSUNvbXBvbmVudChlKTt2YXIgcj10JiYiZGVjb2RlU2VhcmNoQXNTdHJpbmciaW4gdCYmdC5kZWNvZGVTZWFyY2hBc1N0cmluZztyZXR1cm57aHJlZjpuLmhyZWYscHJvdG9jb2w6KG4ucHJvdG9jb2x8fCIiKS5yZXBsYWNlKC86JC8sIiIpLGhvc3RuYW1lOm4uaG9zdG5hbWUscG9ydDorbi5wb3J0LHBhdGhuYW1lOm4ucGF0aG5hbWUucmVwbGFjZSgvXig/IVwvKS8sIi8iKSxzZWFyY2g6cj9uLnNlYXJjaDpDLnBhcnNlUVMobi5zZWFyY2h8fCIiKSxoYXNoOihuLmhhc2h8fCIiKS5yZXBsYWNlKC9eIy8sIiIpLGhvc3Q6bi5ob3N0fHx3aW5kb3cubG9jYXRpb24uaG9zdH19LHQuYnVpbGRVcmw9ZnVuY3Rpb24oZSl7cmV0dXJuKGUucHJvdG9jb2x8fCJodHRwIikrIjovLyIrKGUuaG9zdHx8ZS5ob3N0bmFtZSsoZS5wb3J0PyI6Ii5jb25jYXQoZS5wb3J0KToiIikpKyhlLnBhdGhuYW1lfHwiIikrKGUuc2VhcmNoPyI/Ii5jb25jYXQoQy5mb3JtYXRRUyhlLnNlYXJjaHx8IiIpKToiIikrKGUuaGFzaD8iIyIuY29uY2F0KGUuaGFzaCk6IiIpfSx0LmRlZXBFcXVhbD1FZSx0Lm1lcmdlRGVlcD1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksaT0xO2k8bjtpKyspcltpLTFdPWFyZ3VtZW50c1tpXTtpZighci5sZW5ndGgpcmV0dXJuIHQ7dmFyIG89ci5zaGlmdCgpO2lmKFgodCkmJlgobykpZm9yKHZhciBhIGluIG8pWChvW2FdKT8odFthXXx8aCh0LHkoe30sYSx7fSkpLGUodFthXSxvW2FdKSk6UShvW2FdKSYmdFthXT9RKHRbYV0pJiYodFthXT10W2FdLmNvbmNhdChvW2FdKSk6aCh0LHkoe30sYSxvW2FdKSk7cmV0dXJuIGUuYXBwbHkodm9pZCAwLFt0XS5jb25jYXQocikpfSx0LmN5cmI1M0hhc2g9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjAscj1mdW5jdGlvbihlLHQpe2lmKEooTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTY4KSxvPW4ubihpKSxhPW4oMTEpLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDQ3KSxmPW4oMTY5KTtuLmQodCwiZGVlcEFjY2VzcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGYuYX0pKTt2YXIgbD1uKDE3MCk7ZnVuY3Rpb24gcChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgbj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PW4pcmV0dXJuO3ZhciByLGksbz1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihuPW4uY2FsbChlKTshKGE9KHI9bi5uZXh0KCkpLmRvbmUpJiYoby5wdXNoKHIudmFsdWUpLCF0fHxvLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLGk9ZX1maW5hbGx5e3RyeXthfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgaX19cmV0dXJuIG99KGUsdCl8fGIoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHYoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLChmdW5jdGlvbigpe3JldHVybiBsLmF9KSk7dmFyIE89big1KSxqPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsUz1Cb29sZWFuKHdpbmRvdy5jb25zb2xlKSxFPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUubG9nKSxBPUJvb2xlYW4oUyYmd2luZG93LmNvbnNvbGUuaW5mbyksVD1Cb29sZWFuKFMmJndpbmRvdy5jb25zb2xlLndhcm4pLEk9Qm9vbGVhbihTJiZ3aW5kb3cuY29uc29sZS5lcnJvciksdz1uKDEwKSxDPXtjaGVja0Nvb2tpZVN1cHBvcnQ6eWUsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6b2UsZ2V0V2luZG93U2VsZjpNLGdldFdpbmRvd1RvcDpxLGdldFdpbmRvd0xvY2F0aW9uOkcsaW5zZXJ0VXNlclN5bmNJZnJhbWU6aWUsaW5zZXJ0RWxlbWVudDpuZSxpc0ZuOkosdHJpZ2dlclBpeGVsOnJlLGxvZ0Vycm9yOnosbG9nV2FybjpGLGxvZ01lc3NhZ2U6TCxsb2dJbmZvOlcscGFyc2VRUzpqZSxmb3JtYXRRUzpTZSxkZWVwRXF1YWw6RWV9LFI9e307dmFyIF8sVT17fSxCPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHR9LmJpbmQobnVsbCwxLFUpKCk9PT1VP0Z1bmN0aW9uLnByb3RvdHlwZS5iaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMsbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuYXBwbHkoZSxuLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSl9fSx4PShfPTAsZnVuY3Rpb24oKXtyZXR1cm4rK199KTtmdW5jdGlvbiBEKCl7cmV0dXJuIHgoKStNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMil9ZnVuY3Rpb24gayhlKXtyZXR1cm4gZT8oZV4od2luZG93JiZ3aW5kb3cuY3J5cHRvJiZ3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcz9jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDEpKVswXSUxNjoxNipNYXRoLnJhbmRvbSgpKT4+ZS80KS50b1N0cmluZygxNik6KFsxZTddKy0xZTMrLTRlMystOGUzKy0xZTExKS5yZXBsYWNlKC9bMDE4XS9nLGspfWZ1bmN0aW9uIE4oZSl7aWYoUChlKSlyZXR1cm4gZVswXSsieCIrZVsxXX1mdW5jdGlvbiBQKGUpe3JldHVybiBRKGUpJiYyPT09ZS5sZW5ndGgmJiFpc05hTihlWzBdKSYmIWlzTmFOKGVbMV0pfWZ1bmN0aW9uIHEoKXtyZXR1cm4gd2luZG93LnRvcH1mdW5jdGlvbiBNKCl7cmV0dXJuIHdpbmRvdy5zZWxmfWZ1bmN0aW9uIEcoKXtyZXR1cm4gd2luZG93LmxvY2F0aW9ufWZ1bmN0aW9uIEwoKXtIKCkmJkUmJmNvbnNvbGUubG9nLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIk1FU1NBR0U6IikpfWZ1bmN0aW9uIFcoKXtIKCkmJkEmJmNvbnNvbGUuaW5mby5hcHBseShjb25zb2xlLFYoYXJndW1lbnRzLCJJTkZPOiIpKX1mdW5jdGlvbiBGKCl7SCgpJiZUJiZjb25zb2xlLndhcm4uYXBwbHkoY29uc29sZSxWKGFyZ3VtZW50cywiV0FSTklORzoiKSksdy5lbWl0KE8uRVZFTlRTLkFVQ1RJT05fREVCVUcse3R5cGU6IldBUk5JTkciLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiB6KCl7SCgpJiZJJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsVihhcmd1bWVudHMsIkVSUk9SOiIpKSx3LmVtaXQoTy5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiBWKGUsdCl7ZT1bXS5zbGljZS5jYWxsKGUpO3ZhciBuPXIuYi5nZXRDdXJyZW50QmlkZGVyKCk7cmV0dXJuIHQmJmUudW5zaGlmdCh0KSxuJiZlLnVuc2hpZnQoaSgiI2FhYSIpKSxlLnVuc2hpZnQoaSgiIzNiODhjMyIpKSxlLnVuc2hpZnQoIiVjUHJlYmlkIisobj8iJWMiLmNvbmNhdChuKToiIikpLGU7ZnVuY3Rpb24gaShlKXtyZXR1cm4iZGlzcGxheTogaW5saW5lLWJsb2NrOyBjb2xvcjogI2ZmZjsgYmFja2dyb3VuZDogIi5jb25jYXQoZSwiOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7Iil9fWZ1bmN0aW9uIEgoKXtyZXR1cm4hIXIuYi5nZXRDb25maWcoImRlYnVnIil9ZnVuY3Rpb24gSyhlLHQpe3JldHVybiBqLmNhbGwoZSk9PT0iW29iamVjdCAiK3QrIl0ifWZ1bmN0aW9uIEooZSl7cmV0dXJuIEsoZSwiRnVuY3Rpb24iKX1mdW5jdGlvbiBZKGUpe3JldHVybiBLKGUsIlN0cmluZyIpfWZ1bmN0aW9uIFEoZSl7cmV0dXJuIEsoZSwiQXJyYXkiKX1mdW5jdGlvbiAkKGUpe3JldHVybiBLKGUsIk51bWJlciIpfWZ1bmN0aW9uIFgoZSl7cmV0dXJuIEsoZSwiT2JqZWN0Iil9ZnVuY3Rpb24gWihlKXtpZighZSlyZXR1cm4hMDtpZihRKGUpfHxZKGUpKXJldHVybiEoZS5sZW5ndGg+MCk7Zm9yKHZhciB0IGluIGUpaWYoaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGVlKGUsdCl7aWYoIVooZSkpe2lmKEooZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKHI+MClmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19ZnVuY3Rpb24gdGUoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiBuZShlLHQsbixyKXt2YXIgaTtlJiZlLnNyYyYmKGUuc3JjPWQuYyhlLnNyYykpLHQ9dHx8ZG9jdW1lbnQsaT1uP3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUobik6dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpO3RyeXtpZigoaT1pLmxlbmd0aD9pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKSkubGVuZ3RoKXtpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiByZShlLHQpe3ZhciBuPWsoKSxyPXtldmVudDoidXNlci1zeW5jIixtZXRhOntmaXJlZDohMCx1aWQ6bixzeW5jX3R5cGU6ImltYWdlIixkb21haW46d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLHVybDplfX07ZC5lKG51bGwsInRyaWdnZXJpbmctcGl4ZWwtZmlyZWQiLFtdLHIpLGQuYSgpLnRoZW4oKGZ1bmN0aW9uKHIpe3ZhciBpPXIuZnJhbWU7aWYoci5pc0JUU2FmZUZyYW1lRG9tYWluKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uIGUobil7aWYobi5zb3VyY2U9PT1pLmNvbnRlbnRXaW5kb3cpe3ZhciByO3RyeXtyPUpTT04ucGFyc2Uobi5kYXRhKX1jYXRjaChlKXt9ciYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1yLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksdCYmQy5pc0ZuKHQpJiZ0KCkpfX0pKTt2YXIgbz0ibGV0IGltZyA9IG5ldyBJbWFnZSgpOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IGltZy5zcmMgPSBhdG9iKCciK2J0b2EoZSkrIicpOyI7aS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOm99LCIqIik7dmFyIGE9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e3N1Y2Nlc3M6ITAsdWlkOm4sc3luY190eXBlOiJpbWFnZSIsZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSx1cmw6ZX19O2QuZShudWxsLCJ0cmlnZ2VyaW5nLXBpeGVsLXN1Y2Nlc3MiLFtdLGEpfWVsc2V7dmFyIGM9bmV3IGkuY29udGVudFdpbmRvdy5JbWFnZTt0JiZDLmlzRm4odCkmJihjLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLHQpLGMuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLHQpKSxjLnNyYz1lfX0pKX1mdW5jdGlvbiBpZShlLHQpe3ZhciBuPUMuY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWwoZSwhMSwiYWxsb3ctc2NyaXB0cyBhbGxvdy1zYW1lLW9yaWdpbiIpLHI9aygpLGk9e2V2ZW50OiJ1c2VyLXN5bmMiLG1ldGE6e2ZpcmVkOiEwLHVpZDpyLHN5bmNfdHlwZToiaWZyYW1lIn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1maXJlZCIsW10saSksZC5hKCkudGhlbigoZnVuY3Rpb24oZSl7dmFyIGk9ZS5mcmFtZTtpZihlLmlzQlRTYWZlRnJhbWVEb21haW4pe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIiwoZnVuY3Rpb24gZShuKXtpZihuLnNvdXJjZT09PWkuY29udGVudFdpbmRvdyl7dmFyIHI7dHJ5e3I9SlNPTi5wYXJzZShuLmRhdGEpfWNhdGNoKGUpe31yJiYiZG9uZVRyaWdnZXJpbmdQaXhlbCI9PXIudHlwZSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJtZXNzYWdlIixlKSx0JiZDLmlzRm4odCkmJnQoKSl9fSkpO3ZhciBvPSJsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7IGRpdi5pbm5lckhUTUwgPSBhdG9iKCciK2J0b2EobikrIicpOyBsZXQgaWZyYW1lID0gZGl2LmZpcnN0Q2hpbGQ7IGZ1bmN0aW9uIGRvbmUoKSB7IHRvcC5wb3N0TWVzc2FnZSh7IHR5cGU6IFwiZG9uZVRyaWdnZXJpbmdQaXhlbFwiIH0sIFwiKlwiKSB9OyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGRvbmUpOyBpZnJhbWUuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBkb25lKTsgdHJ5IHsgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2h0bWwnKVswXS5pbnNlcnRCZWZvcmUoaWZyYW1lLCBudWxsKTsgfSBjYXRjaCAoZXJyKSB7IH0iO2kuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTpvfSwiKiIpO3ZhciBhPXtldmVudDoidXNlci1zeW5jIixtZXRhOntzdWNjZXNzOiEwLHVpZDpyLHN5bmNfdHlwZToiaWZyYW1lIn19O2QuZShudWxsLCJpbnNlcnQtdXNlci1zeW5jLWlmcmFtZS1zdWNjZXNzIixbXSxhKX1lbHNle3ZhciBjPWkuY29udGVudFdpbmRvdy5kb2N1bWVudCx1PWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7dS5pbm5lckhUTUw9bjt2YXIgcz11LmZpcnN0Q2hpbGQ7dCYmQy5pc0ZuKHQpJiYocy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxzLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksQy5pbnNlcnRFbGVtZW50KHMsYywiaHRtbCIsITApfX0pKX1mdW5jdGlvbiBvZShlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiO3JldHVybiBlPyh0JiYoZT1lbmNvZGVVUkkoZSkpLG4mJihuPSdzYW5kYm94PSInLmNvbmNhdChuLCciJykpLCI8aWZyYW1lICIuY29uY2F0KG4sJyBpZD0iJykuY29uY2F0KEQoKSwnIlxuICAgICAgZnJhbWVib3JkZXI9IjAiXG4gICAgICBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSJcbiAgICAgIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiXG4gICAgICB3aWR0aD0iMCIgaHNwYWNlPSIwIiB2c3BhY2U9IjAiIGhlaWdodD0iMCJcbiAgICAgIHN0eWxlPSJoZWlnaHQ6MHB4O3dpZHRoOjBweDtkaXNwbGF5Om5vbmU7IlxuICAgICAgc2Nyb2xsaW5nPSJubyJcbiAgICAgIHNyYz0iJykuY29uY2F0KGUsJyI+XG4gICAgPC9pZnJhbWU+JykpOiIifWZ1bmN0aW9uIGFlKGUsdCxuKXtyZXR1cm4gbnVsbD09dD9uOlkodCk/dDokKHQpP3QudG9TdHJpbmcoKTp2b2lkIEMubG9nV2FybigiVW5zdXBvcnRlZCB0eXBlIGZvciBwYXJhbTogIitlKyIgcmVxdWlyZWQgdHlwZTogU3RyaW5nIil9ZnVuY3Rpb24gY2UoZSx0LG4pe3JldHVybiBuLmluZGV4T2YoZSk9PT10fWZ1bmN0aW9uIHVlKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQpfWZ1bmN0aW9uIHNlKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKX1mdW5jdGlvbiBkZShlLHQpe3JldHVybiBlW3RdfWZ1bmN0aW9uIGZlKCl7aWYod2luZG93Lmdvb2dsZXRhZyYmSih3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcykmJkood2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cykpcmV0dXJuITB9dmFyIGxlPWJlKCJ0aW1lVG9SZXNwb25kIiwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT50fSkpLHBlPWJlKCJyZXNwb25zZVRpbWVzdGFtcCIsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU+dH0pKSxnZT1iZSgicmVzcG9uc2VUaW1lc3RhbXAiLChmdW5jdGlvbihlLHQpe3JldHVybiBlPHR9KSk7ZnVuY3Rpb24gYmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gbi5jcG09PT1yLmNwbT90KG5bZV0scltlXSk/cjpuOm4uY3BtPHIuY3BtP3I6bn19ZnVuY3Rpb24gdmUoZSl7cmV0dXJuIG8oKShlKX1mdW5jdGlvbiB5ZSgpe2lmKHdpbmRvdy5uYXZpZ2F0b3IuY29va2llRW5hYmxlZHx8ZG9jdW1lbnQuY29va2llLmxlbmd0aClyZXR1cm4hMH12YXIgaGU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5nZXRBZFVuaXRQYXRoKCk9PT10fHxlLmdldFNsb3RFbGVtZW50SWQoKT09PXR9O2Z1bmN0aW9uIG1lKGUpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gaGUodCxlKX19ZnVuY3Rpb24gT2UoZSl7cmV0dXJuIE51bWJlci5pc0ludGVnZXI/TnVtYmVyLmlzSW50ZWdlcihlKToibnVtYmVyIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZNYXRoLmZsb29yKGUpPT09ZX1mdW5jdGlvbiBqZShlKXtyZXR1cm4gZT9lLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXAodC5zcGxpdCgiPSIpLDIpLHI9blswXSxpPW5bMV07cmV0dXJuL1xbXF0kLy50ZXN0KHIpPyhlW3I9ci5yZXBsYWNlKCJbXSIsIiIpXT1lW3JdfHxbXSxlW3JdLnB1c2goaSkpOmVbcl09aXx8IiIsZX0pLHt9KTp7fX1mdW5jdGlvbiBTZShlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShlW3RdKT9lW3RdLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KHQsIltdPSIpLmNvbmNhdChlKX0pKS5qb2luKCImIik6IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZVt0XSl9KSkuam9pbigiJiIpfWZ1bmN0aW9uIEVlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoIm9iamVjdCI9PT1tKGUpJiZudWxsIT09ZSYmIm9iamVjdCI9PT1tKHQpJiZudWxsIT09dCl7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbiBpbiBlKXtpZighdC5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4hMTtpZighRWUoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1yZXR1cm4hMX19LDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQucmVnaXN0ZXJCaWRkZXI9ZnVuY3Rpb24oZSl7dmFyIHQ9QXJyYXkuaXNBcnJheShlLnN1cHBvcnRlZE1lZGlhVHlwZXMpP3tzdXBwb3J0ZWRNZWRpYVR5cGVzOmUuc3VwcG9ydGVkTWVkaWFUeXBlc306dm9pZCAwO2Z1bmN0aW9uIG4oZSl7dmFyIG49dyhlKTtpLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG4sZS5jb2RlLHQpfW4oZSksQXJyYXkuaXNBcnJheShlLmFsaWFzZXMpJiZlLmFsaWFzZXMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHIsbyxhPXQ7T2JqZWN0KHkuaXNQbGFpbk9iamVjdCkodCkmJihhPXQuY29kZSxyPXQuZ3ZsaWQsbz10LnNraXBQYnNBbGlhc2luZyksaS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbYV09ZS5jb2RlLG4oQSh7fSxlLHtjb2RlOmEsZ3ZsaWQ6cixza2lwUGJzQWxpYXNpbmc6b30pKX0pKX0sdC5uZXdCaWRkZXI9dyxuLmQodCwicmVnaXN0ZXJTeW5jSW5uZXIiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLHQucHJlbG9hZEJpZGRlck1hcHBpbmdGaWxlPVIsdC5nZXRJYWJTdWJDYXRlZ29yeT1mdW5jdGlvbihlLHQpe3ZhciBuPWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKG4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIHI9bi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCksbz1yLmxvY2FsU3RvcmFnZUtleT9yLmxvY2FsU3RvcmFnZUtleTpuLmdldEJpZGRlckNvZGUoKSxhPVQuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uobyk7aWYoYSl7dHJ5e2E9SlNPTi5wYXJzZShhKX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgbWFwcGluZyBkYXRhIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIikpfXJldHVybiBhLm1hcHBpbmdbdF0/YS5tYXBwaW5nW3RdOm51bGx9fX0sdC5pc1ZhbGlkPV87dmFyIHI9big4MyksaT1uKDgpLG89bigzKSxhPW4oNDMpLGM9big2MSksdT1uKDM4KSxzPW4oMjIpLGQ9big1KSxmPW4ubihkKSxsPW4oMTApLHA9bi5uKGwpLGc9bigxMiksYj1uLm4oZyksdj1uKDQpLHk9bigwKSxoPW4oMiksbT1uKDkpLE89big3KTtmdW5jdGlvbiBqKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBTKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBTKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBTKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gRShlKXtyZXR1cm4oRT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIEEoKXtyZXR1cm4oQT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBUPU9iamVjdChPLmEpKCJiaWRkZXJGYWN0b3J5IiksST1bInJlcXVlc3RJZCIsImNwbSIsInR0bCIsImNyZWF0aXZlSWQiLCJuZXRSZXZlbnVlIiwiY3VycmVuY3kiXTtmdW5jdGlvbiB3KGUpe3JldHVybiBBKG5ldyByLmEoZS5jb2RlKSx7Z2V0U3BlYzpmdW5jdGlvbigpe3JldHVybiBPYmplY3QuZnJlZXplKGUpfSxyZWdpc3RlclN5bmNzOnQsY2FsbEJpZHM6ZnVuY3Rpb24ocixjLHUscyxkLGwpe2lmKEFycmF5LmlzQXJyYXkoci5iaWRzKSl7dmFyIGc9e30sYj1bXSx2PXIuYmlkcy5maWx0ZXIobik7aWYoMCE9PXYubGVuZ3RoKXt2YXIgaD17fTt2LmZvckVhY2goKGZ1bmN0aW9uKGUpe2hbZS5iaWRJZF09ZSxlLmFkVW5pdENvZGV8fChlLmFkVW5pdENvZGU9ZS5wbGFjZW1lbnRDb2RlKX0pKTt2YXIgbT1lLmJ1aWxkUmVxdWVzdHModixyKTtpZihtJiYwIT09bS5sZW5ndGgpe0FycmF5LmlzQXJyYXkobSl8fChtPVttXSk7dmFyIE89T2JqZWN0KHkuZGVsYXlFeGVjdXRpb24pKGwoaiksbS5sZW5ndGgpO20uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHAuYS5lbWl0KGYuYS5FVkVOVFMuQkVGT1JFX0JJRERFUl9IVFRQLHIpfSkpLG0uZm9yRWFjaCgoZnVuY3Rpb24odCl7c3dpdGNoKHQubWV0aG9kKXtjYXNlIkdFVCI6cygiIi5jb25jYXQodC51cmwpLmNvbmNhdChmdW5jdGlvbihlKXtpZihlKXJldHVybiI/Ii5jb25jYXQoIm9iamVjdCI9PT1FKGUpP09iamVjdCh5LnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKShlKTplKTtyZXR1cm4iIn0odC5kYXRhKSkse3N1Y2Nlc3M6bChuKSxlcnJvcjpvfSx2b2lkIDAsQSh7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMH0sdC5vcHRpb25zKSk7YnJlYWs7Y2FzZSJQT1NUIjpzKHQudXJsLHtzdWNjZXNzOmwobiksZXJyb3I6b30sInN0cmluZyI9PXR5cGVvZiB0LmRhdGE/dC5kYXRhOkpTT04uc3RyaW5naWZ5KHQuZGF0YSksQSh7bWV0aG9kOiJQT1NUIixjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSx0Lm9wdGlvbnMpKTticmVhaztkZWZhdWx0Ok9iamVjdCh5LmxvZ1dhcm4pKCJTa2lwcGluZyBpbnZhbGlkIHJlcXVlc3QgZnJvbSAiLmNvbmNhdChlLmNvZGUsIi4gUmVxdWVzdCB0eXBlICIpLmNvbmNhdCh0LnR5cGUsIiBtdXN0IGJlIEdFVCBvciBQT1NUIikpLE8oKX1mdW5jdGlvbiBuKG4saSl7ZChlLmNvZGUpO3RyeXtuPUpTT04ucGFyc2Uobil9Y2F0Y2goZSl7fXZhciBvO249e2JvZHk6bixoZWFkZXJzOntnZXQ6aS5nZXRSZXNwb25zZUhlYWRlci5iaW5kKGkpfX0sYi5wdXNoKG4pO3RyeXtvPWUuaW50ZXJwcmV0UmVzcG9uc2Uobix0KX1jYXRjaCh0KXtyZXR1cm4gT2JqZWN0KHkubG9nRXJyb3IpKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgZmFpbGVkIHRvIGludGVycHJldCB0aGUgc2VydmVyJ3MgcmVzcG9uc2UuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzIiksbnVsbCx0KSx2b2lkIE8oKX1mdW5jdGlvbiB1KHQpe3ZhciBuPWhbdC5yZXF1ZXN0SWRdO2lmKG4pe3Qub3JpZ2luYWxDcG09dC5jcG0sdC5vcmlnaW5hbEN1cnJlbmN5PXQuY3VycmVuY3ksdC5tZXRhPXQubWV0YXx8QSh7fSx0W24uYmlkZGVyXSk7dmFyIGk9QShPYmplY3QoYS5hKShmLmEuU1RBVFVTLkdPT0QsbiksdCk7IWZ1bmN0aW9uKGUsdCl7Z1tlXT0hMCxfKGUsdCxbcl0pJiZjKGUsdCl9KG4uYWRVbml0Q29kZSxpKX1lbHNlIE9iamVjdCh5LmxvZ1dhcm4pKCJCaWRkZXIgIi5jb25jYXQoZS5jb2RlLCIgbWFkZSBiaWQgZm9yIHVua25vd24gcmVxdWVzdCBJRDogIikuY29uY2F0KHQucmVxdWVzdElkLCIuIElnbm9yaW5nLiIpKX1vJiYoT2JqZWN0KHkuaXNBcnJheSkobyk/by5mb3JFYWNoKHUpOnUobykpLE8obyl9ZnVuY3Rpb24gbyh0LG4pe2QoZS5jb2RlKSxpLmRlZmF1bHQuY2FsbEJpZGRlckVycm9yKGUuY29kZSxuLHIpLHAuYS5lbWl0KGYuYS5FVkVOVFMuQklEREVSX0VSUk9SLHtlcnJvcjpuLGJpZGRlclJlcXVlc3Q6cn0pLE9iamVjdCh5LmxvZ0Vycm9yKSgiU2VydmVyIGNhbGwgZm9yICIuY29uY2F0KGUuY29kZSwiIGZhaWxlZDogIikuY29uY2F0KHQsIiAiKS5jb25jYXQobi5zdGF0dXMsIi4gQ29udGludWluZyB3aXRob3V0IGJpZHMuIikpLE8oKX19KSl9ZWxzZSBqKCl9ZWxzZSBqKCl9ZnVuY3Rpb24gaigpe3UoKSxvLmIucnVuV2l0aEJpZGRlcihlLmNvZGUsKGZ1bmN0aW9uKCl7cC5hLmVtaXQoZi5hLkVWRU5UUy5CSURERVJfRE9ORSxyKSx0KGIsci5nZHByQ29uc2VudCxyLnVzcENvbnNlbnQpfSkpfX19KTtmdW5jdGlvbiB0KHQsbixyKXtDKGUsdCxuLHIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISFlLmlzQmlkUmVxdWVzdFZhbGlkKHQpfHwoT2JqZWN0KHkubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KGUuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKSwhMSl9fXZhciBDPU9iamVjdChtLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLHIpe3ZhciBhPW8uYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTtpZihlLmdldFVzZXJTeW5jcyYmKGF8fCFpLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmNvZGVdKSl7dmFyIHU9by5iLmdldENvbmZpZygidXNlclN5bmMuZmlsdGVyU2V0dGluZ3MiKSxzPWUuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIXV8fCF1LmlmcmFtZSYmIXUuYWxsKSxwaXhlbEVuYWJsZWQ6ISghdXx8IXUuaW1hZ2UmJiF1LmFsbCl9LHQsbixyKTtzJiYoQXJyYXkuaXNBcnJheShzKXx8KHM9W3NdKSxzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2MuYS5yZWdpc3RlclN5bmModC50eXBlLGUuY29kZSx0LnVybCl9KSkpfX0pLCJyZWdpc3RlclN5bmNzIik7ZnVuY3Rpb24gUihlLHQpe2lmKCFvLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikpcmV0dXJuIGUuY2FsbCh0aGlzLHQpO3QuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik9PT1oLmF9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyfSkpfSkpLnJlZHVjZSh5LmZsYXR0ZW4sW10pLmZpbHRlcih5LnVuaXF1ZXMpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PWkuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKGUpO2lmKHQuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIG49dC5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCkscj1uLnJlZnJlc2hJbkRheXM/bi5yZWZyZXNoSW5EYXlzOjEsbz1uLmxvY2FsU3RvcmFnZUtleT9uLmxvY2FsU3RvcmFnZUtleTp0LmdldFNwZWMoKS5jb2RlLGE9VC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShvKTt0cnl7KCEoYT1hP0pTT04ucGFyc2UoYSk6dm9pZCAwKXx8T2JqZWN0KHkudGltZXN0YW1wKSgpPmEubGFzdFVwZGF0ZWQrMjQqcio2MCo2MCoxZTMpJiZPYmplY3Qodi5hKShuLnVybCx7c3VjY2VzczpmdW5jdGlvbih0KXt0cnl7dD1KU09OLnBhcnNlKHQpO3ZhciBuPXtsYXN0VXBkYXRlZDpPYmplY3QoeS50aW1lc3RhbXApKCksbWFwcGluZzp0Lm1hcHBpbmd9O1Quc2V0RGF0YUluTG9jYWxTdG9yYWdlKG8sSlNPTi5zdHJpbmdpZnkobikpfWNhdGNoKHQpe09iamVjdCh5LmxvZ0Vycm9yKSgiRmFpbGVkIHRvIHBhcnNlICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gbWFwcGluZyBmaWxlIikpfX0sZXJyb3I6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBsb2FkICIuY29uY2F0KGUsIiBiaWRkZXIgdHJhbnNsYXRpb24gZmlsZSIpKX19KX1jYXRjaCh0KXtPYmplY3QoeS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChlLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19fSkpLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIF8oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksSS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoKShpLGUpJiYhYigpKFt2b2lkIDAsbnVsbF0sdFtlXSl9KSk/Im5hdGl2ZSIhPT10Lm1lZGlhVHlwZXx8T2JqZWN0KHUuZykodCxuKT8idmlkZW8iIT09dC5tZWRpYVR5cGV8fE9iamVjdChzLmQpKHQsbik/ISgiYmFubmVyIj09PXQubWVkaWFUeXBlJiYhZnVuY3Rpb24oZSx0LG4pe2lmKCh0LndpZHRofHwwPT09cGFyc2VJbnQodC53aWR0aCwxMCkpJiYodC5oZWlnaHR8fDA9PT1wYXJzZUludCh0LmhlaWdodCwxMCkpKXJldHVybiB0LndpZHRoPXBhcnNlSW50KHQud2lkdGgsMTApLHQuaGVpZ2h0PXBhcnNlSW50KHQuaGVpZ2h0LDEwKSwhMDt2YXIgcj1PYmplY3QoeS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9aihvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwhMH1yZXR1cm4hMX0oZSx0LG4pKXx8KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdCh5LmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KHkubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdCh5LmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QoeS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChtLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKFIpfSwxMDpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGk9bigwKSxvPW4oNSksYT1BcnJheS5wcm90b3R5cGUuc2xpY2UsYz1BcnJheS5wcm90b3R5cGUucHVzaCx1PWkuX21hcChvLkVWRU5UUywoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSkscz1vLkVWRU5UX0lEX1BBVEhTLGQ9W107ZS5leHBvcnRzPWZ1bmN0aW9uKCl7dmFyIGU9e30sdD17fTtmdW5jdGlvbiBuKHQsbil7aS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrdCk7dmFyIHI9blswXXx8e30sbz1yW3NbdF1dLGE9ZVt0XXx8e3F1ZTpbXX0sdT1pLl9tYXAoYSwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0pKSxmPVtdO2QucHVzaCh7ZXZlbnRUeXBlOnQsYXJnczpyLGlkOm8sZWxhcHNlZFRpbWU6aS5nZXRQZXJmb3JtYW5jZU5vdygpfSksbyYmaS5jb250YWlucyh1LG8pJiZjLmFwcGx5KGYsYVtvXS5xdWUpLGMuYXBwbHkoZixhLnF1ZSksaS5fZWFjaChmLChmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsbil9Y2F0Y2goZSl7aS5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGhhbmRsZXI6IiwiZXZlbnRzLmpzIixlKX19KSl9cmV0dXJuIHQub249ZnVuY3Rpb24odCxuLHIpe2lmKGZ1bmN0aW9uKGUpe3JldHVybiBpLmNvbnRhaW5zKHUsZSl9KHQpKXt2YXIgbz1lW3RdfHx7cXVlOltdfTtyPyhvW3JdPW9bcl18fHtxdWU6W119LG9bcl0ucXVlLnB1c2gobikpOm8ucXVlLnB1c2gobiksZVt0XT1vfWVsc2UgaS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrdCsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK3UpfSx0LmVtaXQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YS5jYWxsKGFyZ3VtZW50cywxKTtuKGUsdCl9LHQub2ZmPWZ1bmN0aW9uKHQsbixyKXt2YXIgbz1lW3RdO2kuaXNFbXB0eShvKXx8aS5pc0VtcHR5KG8ucXVlKSYmaS5pc0VtcHR5KG9bcl0pfHxyJiYoaS5pc0VtcHR5KG9bcl0pfHxpLmlzRW1wdHkob1tyXS5xdWUpKXx8KHI/aS5fZWFjaChvW3JdLnF1ZSwoZnVuY3Rpb24oZSl7dmFyIHQ9b1tyXS5xdWU7ZT09PW4mJnQuc3BsaWNlKHQuaW5kZXhPZihlKSwxKX0pKTppLl9lYWNoKG8ucXVlLChmdW5jdGlvbihlKXt2YXIgdD1vLnF1ZTtlPT09biYmdC5zcGxpY2UodC5pbmRleE9mKGUpLDEpfSkpLGVbdF09byl9LHQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQuZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9W107cmV0dXJuIGkuX2VhY2goZCwoZnVuY3Rpb24odCl7dmFyIG49cih7fSx0KTtlLnB1c2gobil9KSksZX0sdH0oKX0sMTAwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big1MCksaT1uKDU1KSxvPW4oNDEpLGE9big0NiksYz1uKDczKSx1PSJBcnJheSBJdGVyYXRvciIscz1hLnNldCxkPWEuZ2V0dGVyRm9yKHUpO2UuZXhwb3J0cz1jKEFycmF5LCJBcnJheSIsKGZ1bmN0aW9uKGUsdCl7cyh0aGlzLHt0eXBlOnUsdGFyZ2V0OnIoZSksaW5kZXg6MCxraW5kOnR9KX0pLChmdW5jdGlvbigpe3ZhciBlPWQodGhpcyksdD1lLnRhcmdldCxuPWUua2luZCxyPWUuaW5kZXgrKztyZXR1cm4hdHx8cj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KToia2V5cyI9PW4/e3ZhbHVlOnIsZG9uZTohMX06InZhbHVlcyI9PW4/e3ZhbHVlOnRbcl0sZG9uZTohMX06e3ZhbHVlOltyLHRbcl1dLGRvbmU6ITF9fSksInZhbHVlcyIpLG8uQXJndW1lbnRzPW8uQXJyYXksaSgia2V5cyIpLGkoInZhbHVlcyIpLGkoImVudHJpZXMiKX0sMTAxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7aWYoZS5sYWJlbEFsbClyZXR1cm57bGFiZWxBbGw6ITAsbGFiZWxzOmUubGFiZWxBbGwsYWN0aXZlTGFiZWxzOnR9O3JldHVybntsYWJlbEFsbDohMSxsYWJlbHM6ZS5sYWJlbEFueSxhY3RpdmVMYWJlbHM6dH19LHQuYz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dSxuPXModCk7aWYoIW4uc2hvdWxkRmlsdGVyKXJldHVybiEwO3JldHVybiEhbi5zaXplc1N1cHBvcnRlZFtlXX0sdC5iPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5sYWJlbHMsbj12b2lkIDA9PT10P1tdOnQscj1lLmxhYmVsQWxsLG89dm9pZCAwIT09ciYmcixjPWUuYWN0aXZlTGFiZWxzLGQ9dm9pZCAwPT09Yz9bXTpjLGY9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbD1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMCxwPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp1LGc9cyhwKTtmPU9iamVjdChpLmlzUGxhaW5PYmplY3QpKGYpP09iamVjdChpLmRlZXBDbG9uZSkoZik6bD97YmFubmVyOntzaXplczpsfX06e307dmFyIGI9T2JqZWN0KGkuZGVlcEFjY2VzcykoZiwiYmFubmVyLnNpemVzIik7Zy5zaG91bGRGaWx0ZXImJmImJihmLmJhbm5lci5zaXplcz1iLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGcuc2l6ZXNTdXBwb3J0ZWRbZV19KSkpO3ZhciB2PU9iamVjdC5rZXlzKGYpLHk9e2FjdGl2ZTp2LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KSl8fHYuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT1lfSkpJiZPYmplY3QoaS5kZWVwQWNjZXNzKShmLCJiYW5uZXIuc2l6ZXMubGVuZ3RoIik+MCYmKDA9PT1uLmxlbmd0aHx8IW8mJihuLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBnLmxhYmVsc1tlXX0pKXx8bi5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gYSgpKGQsZSl9KSkpfHxvJiZuLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9nLmxhYmVsc1t0XXx8YSgpKGQsdCk6ZX0pLCEwKSksbWVkaWFUeXBlczpmfTtiJiZiLmxlbmd0aCE9PWYuYmFubmVyLnNpemVzLmxlbmd0aCYmKHkuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmIsYWZ0ZXI6Zi5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4geX07dmFyIHI9bigzKSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKTtmdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9W107ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PT1jKHQpJiYic3RyaW5nIj09dHlwZW9mIHQubWVkaWFRdWVyeSYmdC5tZWRpYVF1ZXJ5Lmxlbmd0aD4wKXt2YXIgbj0hMTt0cnl7bj1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCkubWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlVuZnJpZW5kbHkgaUZyYW1lIGJsb2NrcyBzaXplQ29uZmlnIGZyb20gYmVpbmcgY29ycmVjdGx5IGV2YWx1YXRlZCIpLG49bWF0Y2hNZWRpYSh0Lm1lZGlhUXVlcnkpLm1hdGNoZXN9biYmKEFycmF5LmlzQXJyYXkodC5zaXplc1N1cHBvcnRlZCkmJihlLnNob3VsZEZpbHRlcj0hMCksWyJsYWJlbHMiLCJzaXplc1N1cHBvcnRlZCJdLmZvckVhY2goKGZ1bmN0aW9uKG4pe3JldHVybih0W25dfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbbl1bdF09ITB9KSl9KSkpfWVsc2UgT2JqZWN0KGkubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBlfSkse2xhYmVsczp7fSxzaXplc1N1cHBvcnRlZDp7fSxzaG91bGRGaWx0ZXI6ITF9KX1yLmIuZ2V0Q29uZmlnKCJzaXplQ29uZmlnIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3U9ZX0oZS5zaXplQ29uZmlnKX0pKX0sMTAyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUsdCxuKXt2YXIgbz17cHV0czplLm1hcChhLG4pfTtPYmplY3Qoci5hKShpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSxmdW5jdGlvbihlKXtyZXR1cm57c3VjY2VzczpmdW5jdGlvbih0KXt2YXIgbjt0cnl7bj1KU09OLnBhcnNlKHQpLnJlc3BvbnNlc31jYXRjaCh0KXtyZXR1cm4gdm9pZCBlKHQsW10pfW4/ZShudWxsLG4pOmUobmV3IEVycm9yKCJUaGUgY2FjaGUgc2VydmVyIGRpZG4ndCByZXNwb25kIHdpdGggYSByZXNwb25zZXMgcHJvcGVydHkuIiksW10pfSxlcnJvcjpmdW5jdGlvbih0LG4pe2UobmV3IEVycm9yKCJFcnJvciBzdG9yaW5nIHZpZGVvIGFkIGluIHRoZSBjYWNoZTogIi5jb25jYXQodCwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkobikpKSxbXSl9fX0odCksSlNPTi5zdHJpbmdpZnkobykse2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX0sdC5hPWZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChpLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKSwiP3V1aWQ9IikuY29uY2F0KGUpfTt2YXIgcj1uKDQpLGk9bigzKSxvPW4oMCk7ZnVuY3Rpb24gYShlKXt2YXIgdCxuLHIsYT17dHlwZToieG1sIix2YWx1ZTplLnZhc3RYbWw/ZS52YXN0WG1sOih0PWUudmFzdFVybCxuPWUudmFzdEltcFVybCxyPW4/IjwhW0NEQVRBWyIuY29uY2F0KG4sIl1dPiIpOiIiLCc8VkFTVCB2ZXJzaW9uPSIzLjAiPlxuICAgIDxBZD5cbiAgICAgIDxXcmFwcGVyPlxuICAgICAgICA8QWRTeXN0ZW0+cHJlYmlkLm9yZyB3cmFwcGVyPC9BZFN5c3RlbT5cbiAgICAgICAgPFZBU1RBZFRhZ1VSST48IVtDREFUQVsnLmNvbmNhdCh0LCJdXT48L1ZBU1RBZFRhZ1VSST5cbiAgICAgICAgPEltcHJlc3Npb24+IikuY29uY2F0KHIsIjwvSW1wcmVzc2lvbj5cbiAgICAgICAgPENyZWF0aXZlcz48L0NyZWF0aXZlcz5cbiAgICAgIDwvV3JhcHBlcj5cbiAgICA8L0FkPlxuICA8L1ZBU1Q+IikpLHR0bHNlY29uZHM6TnVtYmVyKGUudHRsKX07cmV0dXJuIGkuYi5nZXRDb25maWcoImNhY2hlLnZhc3R0cmFjayIpJiYoYS5iaWRkZXI9ZS5iaWRkZXIsYS5iaWRpZD1lLnJlcXVlc3RJZCxhLmFpZD1lLmF1Y3Rpb25JZCxPYmplY3Qoby5pc1BsYWluT2JqZWN0KSh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihhLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoYS5rZXk9ZS5jdXN0b21DYWNoZUtleSksYX19LDEwNjpmdW5jdGlvbihlLHQsbil7bigxMDcpO3ZhciByPW4oNTYpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmQiKX0sMTA3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDY0KS5maW5kLG89big1NSksYT0iZmluZCIsYz0hMDthIGluW10mJkFycmF5KDEpLmZpbmQoKGZ1bmN0aW9uKCl7Yz0hMX0pKSxyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6Y30se2ZpbmQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwxMDg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigxMDkpLG89big0NCksYT1uKDUwKSxjPW4oNjMpLHU9bigzMSkscz1uKDg1KSxkPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7dC5mPXI/ZDpmdW5jdGlvbihlLHQpe2lmKGU9YShlKSx0PWModCwhMCkscyl0cnl7cmV0dXJuIGQoZSx0KX1jYXRjaChlKXt9aWYodShlLHQpKXJldHVybiBvKCFpLmYuY2FsbChlLHQpLGVbdF0pfX0sMTA5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9e30ucHJvcGVydHlJc0VudW1lcmFibGUsaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLG89aSYmIXIuY2FsbCh7MToyfSwxKTt0LmY9bz9mdW5jdGlvbihlKXt2YXIgdD1pKHRoaXMsZSk7cmV0dXJuISF0JiZ0LmVudW1lcmFibGV9OnJ9LDExOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwNik7ZS5leHBvcnRzPXJ9LDExMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSksaT0vI3xcLnByb3RvdHlwZVwuLyxvPWZ1bmN0aW9uKGUsdCl7dmFyIG49Y1thKGUpXTtyZXR1cm4gbj09c3x8biE9dSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P3IodCk6ISF0KX0sYT1vLm5vcm1hbGl6ZT1mdW5jdGlvbihlKXtyZXR1cm4gU3RyaW5nKGUpLnJlcGxhY2UoaSwiLiIpLnRvTG93ZXJDYXNlKCl9LGM9by5kYXRhPXt9LHU9by5OQVRJVkU9Ik4iLHM9by5QT0xZRklMTD0iUCI7ZS5leHBvcnRzPW99LDExMTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDExMiksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBpKGUpJiYoImZ1bmN0aW9uIiE9dHlwZW9mKG49ZS5jb25zdHJ1Y3Rvcil8fG4hPT1BcnJheSYmIWkobi5wcm90b3R5cGUpP3IobikmJm51bGw9PT0obj1uW29dKSYmKG49dm9pZCAwKTpuPXZvaWQgMCksbmV3KHZvaWQgMD09PW4/QXJyYXk6bikoMD09PXQ/MDp0KX19LDExMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MSk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PXIoZSl9fSwxMTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dHJ5e2kocixlLHQpfWNhdGNoKG4pe3JbZV09dH1yZXR1cm4gdH19LDExNDpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvPW4oMjcpLGE9bigxMTUpLGM9by5wcm9jZXNzLHU9YyYmYy52ZXJzaW9ucyxzPXUmJnUudjg7cz9pPShyPXMuc3BsaXQoIi4iKSlbMF08ND8xOnJbMF0rclsxXTphJiYoIShyPWEubWF0Y2goL0VkZ2VcLyhcZCspLykpfHxyWzFdPj03NCkmJihyPWEubWF0Y2goL0Nocm9tZVwvKFxkKykvKSkmJihpPXJbMV0pLGUuZXhwb3J0cz1pJiYraX0sMTE1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9cigibmF2aWdhdG9yIiwidXNlckFnZW50Iil8fCIifSwxMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oODgpO2UuZXhwb3J0cz1yJiYhU3ltYm9sLnNoYW0mJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yfSwxMTc6ZnVuY3Rpb24oZSx0LG4pe24oMTE4KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiQXJyYXkiLCJpbmNsdWRlcyIpfSwxMTg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oODkpLmluY2x1ZGVzLG89big1NSk7cih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITB9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gaSh0aGlzLGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApfX0pLG8oImluY2x1ZGVzIil9LDExOTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1NYXRoLm1heCxvPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuPXIoZSk7cmV0dXJuIG48MD9pKG4rdCwwKTpvKG4sdCl9fSwxMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxMTcpO2UuZXhwb3J0cz1yfSwxMjA6ZnVuY3Rpb24oZSx0LG4pe24oMTIxKSxuKDEzNiksbig5OSksbigxMzgpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlNldH0sMTIxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMjIpLGk9bigxMjcpO2UuZXhwb3J0cz1yKCJTZXQiLChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZSh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/YXJndW1lbnRzWzBdOnZvaWQgMCl9fSksaSl9LDEyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigyNyksbz1uKDkxKSxhPW4oMjkpLGM9bigzMiksdT1uKDIwKSxzPW4oNjkpLGQ9bigzMCksZj1uKDYwKSxsPW4oMzQpLmYscD1uKDY0KS5mb3JFYWNoLGc9bigzMyksYj1uKDQ2KSx2PWIuc2V0LHk9Yi5nZXR0ZXJGb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYixoPS0xIT09ZS5pbmRleE9mKCJNYXAiKSxtPS0xIT09ZS5pbmRleE9mKCJXZWFrIiksTz1oPyJzZXQiOiJhZGQiLGo9aVtlXSxTPWomJmoucHJvdG90eXBlLEU9e307aWYoZyYmImZ1bmN0aW9uIj09dHlwZW9mIGomJihtfHxTLmZvckVhY2gmJiFhKChmdW5jdGlvbigpeyhuZXcgaikuZW50cmllcygpLm5leHQoKX0pKSkpe2I9dCgoZnVuY3Rpb24odCxuKXt2KHModCxiLGUpLHt0eXBlOmUsY29sbGVjdGlvbjpuZXcgan0pLG51bGwhPW4mJnUobix0W09dLHt0aGF0OnQsQVNfRU5UUklFUzpofSl9KSk7dmFyIEE9eShlKTtwKFsiYWRkIiwiY2xlYXIiLCJkZWxldGUiLCJmb3JFYWNoIiwiZ2V0IiwiaGFzIiwic2V0Iiwia2V5cyIsInZhbHVlcyIsImVudHJpZXMiXSwoZnVuY3Rpb24oZSl7dmFyIHQ9ImFkZCI9PWV8fCJzZXQiPT1lOyEoZSBpbiBTKXx8bSYmImNsZWFyIj09ZXx8YyhiLnByb3RvdHlwZSxlLChmdW5jdGlvbihuLHIpe3ZhciBpPUEodGhpcykuY29sbGVjdGlvbjtpZighdCYmbSYmIWQobikpcmV0dXJuImdldCI9PWUmJnZvaWQgMDt2YXIgbz1pW2VdKDA9PT1uPzA6bixyKTtyZXR1cm4gdD90aGlzOm99KSl9KSksbXx8bChiLnByb3RvdHlwZSwic2l6ZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQSh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSl9ZWxzZSBiPW4uZ2V0Q29uc3RydWN0b3IodCxlLGgsTyksby5SRVFVSVJFRD0hMDtyZXR1cm4gZihiLGUsITEsITApLEVbZV09YixyKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxFKSxtfHxuLnNldFN0cm9uZyhiLGUsaCksYn19LDEyMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOSk7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKE9iamVjdC5wcmV2ZW50RXh0ZW5zaW9ucyh7fSkpfSkpfSwxMjQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDY4KSxpPW4oNTkpO2UuZXhwb3J0cz1yP3t9LnRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgIitpKHRoaXMpKyJdIn19LDEyNTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDEyNiksbz1yLldlYWtNYXA7ZS5leHBvcnRzPSJmdW5jdGlvbiI9PXR5cGVvZiBvJiYvbmF0aXZlIGNvZGUvLnRlc3QoaShvKSl9LDEyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NiksaT1GdW5jdGlvbi50b1N0cmluZzsiZnVuY3Rpb24iIT10eXBlb2Ygci5pbnNwZWN0U291cmNlJiYoci5pbnNwZWN0U291cmNlPWZ1bmN0aW9uKGUpe3JldHVybiBpLmNhbGwoZSl9KSxlLmV4cG9ydHM9ci5pbnNwZWN0U291cmNlfSwxMjc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDM0KS5mLGk9big3MSksbz1uKDk1KSxhPW4oMjUpLGM9big2OSksdT1uKDIwKSxzPW4oNzMpLGQ9bigxMzUpLGY9bigzMyksbD1uKDkxKS5mYXN0S2V5LHA9big0NiksZz1wLnNldCxiPXAuZ2V0dGVyRm9yO2UuZXhwb3J0cz17Z2V0Q29uc3RydWN0b3I6ZnVuY3Rpb24oZSx0LG4scyl7dmFyIGQ9ZSgoZnVuY3Rpb24oZSxyKXtjKGUsZCx0KSxnKGUse3R5cGU6dCxpbmRleDppKG51bGwpLGZpcnN0OnZvaWQgMCxsYXN0OnZvaWQgMCxzaXplOjB9KSxmfHwoZS5zaXplPTApLG51bGwhPXImJnUocixlW3NdLHt0aGF0OmUsQVNfRU5UUklFUzpufSl9KSkscD1iKHQpLHY9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz1wKGUpLGE9eShlLHQpO3JldHVybiBhP2EudmFsdWU9bjooby5sYXN0PWE9e2luZGV4Omk9bCh0LCEwKSxrZXk6dCx2YWx1ZTpuLHByZXZpb3VzOnI9by5sYXN0LG5leHQ6dm9pZCAwLHJlbW92ZWQ6ITF9LG8uZmlyc3R8fChvLmZpcnN0PWEpLHImJihyLm5leHQ9YSksZj9vLnNpemUrKzplLnNpemUrKywiRiIhPT1pJiYoby5pbmRleFtpXT1hKSksZX0seT1mdW5jdGlvbihlLHQpe3ZhciBuLHI9cChlKSxpPWwodCk7aWYoIkYiIT09aSlyZXR1cm4gci5pbmRleFtpXTtmb3Iobj1yLmZpcnN0O247bj1uLm5leHQpaWYobi5rZXk9PXQpcmV0dXJuIG59O3JldHVybiBvKGQucHJvdG90eXBlLHtjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgZT1wKHRoaXMpLHQ9ZS5pbmRleCxuPWUuZmlyc3Q7bjspbi5yZW1vdmVkPSEwLG4ucHJldmlvdXMmJihuLnByZXZpb3VzPW4ucHJldmlvdXMubmV4dD12b2lkIDApLGRlbGV0ZSB0W24uaW5kZXhdLG49bi5uZXh0O2UuZmlyc3Q9ZS5sYXN0PXZvaWQgMCxmP2Uuc2l6ZT0wOnRoaXMuc2l6ZT0wfSxkZWxldGU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPXAodCkscj15KHQsZSk7aWYocil7dmFyIGk9ci5uZXh0LG89ci5wcmV2aW91cztkZWxldGUgbi5pbmRleFtyLmluZGV4XSxyLnJlbW92ZWQ9ITAsbyYmKG8ubmV4dD1pKSxpJiYoaS5wcmV2aW91cz1vKSxuLmZpcnN0PT1yJiYobi5maXJzdD1pKSxuLmxhc3Q9PXImJihuLmxhc3Q9byksZj9uLnNpemUtLTp0LnNpemUtLX1yZXR1cm4hIXJ9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49cCh0aGlzKSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTt0PXQ/dC5uZXh0Om4uZmlyc3Q7KWZvcihyKHQudmFsdWUsdC5rZXksdGhpcyk7dCYmdC5yZW1vdmVkOyl0PXQucHJldmlvdXN9LGhhczpmdW5jdGlvbihlKXtyZXR1cm4hIXkodGhpcyxlKX19KSxvKGQucHJvdG90eXBlLG4/e2dldDpmdW5jdGlvbihlKXt2YXIgdD15KHRoaXMsZSk7cmV0dXJuIHQmJnQudmFsdWV9LHNldDpmdW5jdGlvbihlLHQpe3JldHVybiB2KHRoaXMsMD09PWU/MDplLHQpfX06e2FkZDpmdW5jdGlvbihlKXtyZXR1cm4gdih0aGlzLGU9MD09PWU/MDplLGUpfX0pLGYmJnIoZC5wcm90b3R5cGUsInNpemUiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzKS5zaXplfX0pLGR9LHNldFN0cm9uZzpmdW5jdGlvbihlLHQsbil7dmFyIHI9dCsiIEl0ZXJhdG9yIixpPWIodCksbz1iKHIpO3MoZSx0LChmdW5jdGlvbihlLHQpe2codGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9KSwoZnVuY3Rpb24oKXtmb3IodmFyIGU9byh0aGlzKSx0PWUua2luZCxuPWUubGFzdDtuJiZuLnJlbW92ZWQ7KW49bi5wcmV2aW91cztyZXR1cm4gZS50YXJnZXQmJihlLmxhc3Q9bj1uP24ubmV4dDplLnN0YXRlLmZpcnN0KT8ia2V5cyI9PXQ/e3ZhbHVlOm4ua2V5LGRvbmU6ITF9OiJ2YWx1ZXMiPT10P3t2YWx1ZTpuLnZhbHVlLGRvbmU6ITF9Ont2YWx1ZTpbbi5rZXksbi52YWx1ZV0sZG9uZTohMX06KGUudGFyZ2V0PXZvaWQgMCx7dmFsdWU6dm9pZCAwLGRvbmU6ITB9KX0pLG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxkKHQpfX19LDEyODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMyksaT1uKDM0KSxvPW4oMTYpLGE9bigxMjkpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIG4scj1hKHQpLGM9ci5sZW5ndGgsdT0wO2M+dTspaS5mKGUsbj1yW3UrK10sdFtuXSk7cmV0dXJuIGV9fSwxMjk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTMwKSxpPW4oOTQpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPXUsdC5jPWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnVybCl9LHQuYj1mdW5jdGlvbihlLHQpe2UucmVuZGVyKHQpfTt2YXIgcj1uKDM1KSxpPW4oMCksbz1uKDExKSxhPW4ubihvKSxjPSJvdXRzdHJlYW0iO2Z1bmN0aW9uIHUoZSl7dmFyIHQ9dGhpcyxuPWUudXJsLG89ZS5jb25maWcsYT1lLmlkLHU9ZS5jYWxsYmFjayxkPWUubG9hZGVkLGY9ZS5hZFVuaXRDb2RlO3RoaXMudXJsPW4sdGhpcy5jb25maWc9byx0aGlzLmhhbmRsZXJzPXt9LHRoaXMuaWQ9YSx0aGlzLmxvYWRlZD1kLHRoaXMuY21kPVtdLHRoaXMucHVzaD1mdW5jdGlvbihlKXsiZnVuY3Rpb24iPT10eXBlb2YgZT90LmxvYWRlZD9lLmNhbGwoKTp0LmNtZC5wdXNoKGUpOk9iamVjdChpLmxvZ0Vycm9yKSgiQ29tbWFuZHMgZ2l2ZW4gdG8gUmVuZGVyZXIucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSx0aGlzLmNhbGxiYWNrPXV8fGZ1bmN0aW9uKCl7dC5sb2FkZWQ9ITAsdC5wcm9jZXNzKCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWFyZ3VtZW50cyxvPWZ1bmN0aW9uKCl7ZS5fcmVuZGVyP2UuX3JlbmRlci5hcHBseShlLHQpOk9iamVjdChpLmxvZ1dhcm4pKCJObyByZW5kZXIgZnVuY3Rpb24gd2FzIHByb3ZpZGVkLCBwbGVhc2UgdXNlIC5zZXRSZW5kZXIgb24gdGhlIHJlbmRlcmVyIil9O3MoZik/KE9iamVjdChpLmxvZ1dhcm4pKCJFeHRlcm5hbCBKcyBub3QgbG9hZGVkIGJ5IFJlbmRlcmVyIHNpbmNlIHJlbmRlcmVyIHVybCBhbmQgY2FsbGJhY2sgaXMgYWxyZWFkeSBkZWZpbmVkIG9uIGFkVW5pdCAiLmNvbmNhdChmKSksbygpKToodGhpcy5jbWQudW5zaGlmdChvKSxPYmplY3Qoci5hKShuLGMsdGhpcy5jYWxsYmFjaykpfS5iaW5kKHRoaXMpfWZ1bmN0aW9uIHMoZSl7dmFyIHQ9dXBianMuYWRVbml0cyxuPWEoKSh0LChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlPT09ZX0pKTtpZighbilyZXR1cm4hMTt2YXIgcj1PYmplY3QoaS5kZWVwQWNjZXNzKShuLCJyZW5kZXJlciIpLG89ISEociYmci51cmwmJnIucmVuZGVyKSxjPU9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8ucmVuZGVyZXIiKSx1PSEhKGMmJmMudXJsJiZjLnJlbmRlcik7cmV0dXJuISEobyYmITAhPT1yLmJhY2t1cE9ubHl8fHUmJiEwIT09Yy5iYWNrdXBPbmx5KX11Lmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1KHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0sdS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSx1LnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LHUucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSx1LnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLE9iamVjdChpLmxvZ01lc3NhZ2UpKCJQcmViaWQgUmVuZGVyZXIgZXZlbnQgZm9yIGlkICIuY29uY2F0KHQsIiB0eXBlICIpLmNvbmNhdChuKSl9LHUucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXtmb3IoO3RoaXMuY21kLmxlbmd0aD4wOyl0cnl7dGhpcy5jbWQuc2hpZnQoKS5jYWxsKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJFcnJvciBwcm9jZXNzaW5nIFJlbmRlcmVyIGNvbW1hbmQ6ICIsZSl9fX0sMTMwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKSxpPW4oNTApLG89big4OSkuaW5kZXhPZixhPW4oNTcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGM9aShlKSx1PTAscz1bXTtmb3IobiBpbiBjKSFyKGEsbikmJnIoYyxuKSYmcy5wdXNoKG4pO2Zvcig7dC5sZW5ndGg+dTspcihjLG49dFt1KytdKSYmKH5vKHMsbil8fHMucHVzaChuKSk7cmV0dXJuIHN9fSwxMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yKCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIpfSwxMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpO2UuZXhwb3J0cz0hcigoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pKX0sMTMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oMTM0KTtlLmV4cG9ydHM9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKCl7dmFyIGUsdD0hMSxuPXt9O3RyeXsoZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCkuY2FsbChuLFtdKSx0PW4gaW5zdGFuY2VvZiBBcnJheX1jYXRjaChlKXt9cmV0dXJuIGZ1bmN0aW9uKG4sbyl7cmV0dXJuIHIobiksaShvKSx0P2UuY2FsbChuLG8pOm4uX19wcm90b19fPW8sbn19KCk6dm9pZCAwKX0sMTM0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMwKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkmJm51bGwhPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3Qgc2V0ICIrU3RyaW5nKGUpKyIgYXMgYSBwcm90b3R5cGUiKTtyZXR1cm4gZX19LDEzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjYpLGk9bigzNCksbz1uKDIxKSxhPW4oMzMpLGM9bygic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1yKGUpLG49aS5mO2EmJnQmJiF0W2NdJiZuKHQsYyx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0sMTM2OmZ1bmN0aW9uKGUsdCl7fSwxMzc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjUpLGk9big1Miksbz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXt2YXIgbyxhLGM9U3RyaW5nKGkodCkpLHU9cihuKSxzPWMubGVuZ3RoO3JldHVybiB1PDB8fHU+PXM/ZT8iIjp2b2lkIDA6KG89Yy5jaGFyQ29kZUF0KHUpKTw1NTI5Nnx8bz41NjMxOXx8dSsxPT09c3x8KGE9Yy5jaGFyQ29kZUF0KHUrMSkpPDU2MzIwfHxhPjU3MzQzP2U/Yy5jaGFyQXQodSk6bzplP2Muc2xpY2UodSx1KzIpOmEtNTYzMjArKG8tNTUyOTY8PDEwKSs2NTUzNn19O2UuZXhwb3J0cz17Y29kZUF0Om8oITEpLGNoYXJBdDpvKCEwKX19LDEzODpmdW5jdGlvbihlLHQsbil7bigxMDApO3ZhciByPW4oMTM5KSxpPW4oMjcpLG89big1OSksYT1uKDMyKSxjPW4oNDEpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7Zm9yKHZhciBzIGluIHIpe3ZhciBkPWlbc10sZj1kJiZkLnByb3RvdHlwZTtmJiZvKGYpIT09dSYmYShmLHUscyksY1tzXT1jLkFycmF5fX0sMTM5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfX0sMTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnVwYmpzfSx3aW5kb3cudXBianM9d2luZG93LnVwYmpzfHx7fSx3aW5kb3cudXBianMuY21kPXdpbmRvdy51cGJqcy5jbWR8fFtdLHdpbmRvdy51cGJqcy5xdWU9d2luZG93LnVwYmpzLnF1ZXx8W10sd2luZG93Ll9wYmpzR2xvYmFscz13aW5kb3cuX3BianNHbG9iYWxzfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzLnB1c2goInVwYmpzIil9LDE0MDpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7ZnJvbTpuKDE0MSl9KX0sMTQxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyNCksaT1uKDI1KSxvPW4oMjApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdCxuLGEsYyx1PWFyZ3VtZW50cy5sZW5ndGgscz11PjE/YXJndW1lbnRzWzFdOnZvaWQgMDtyZXR1cm4gcih0aGlzKSwodD12b2lkIDAhPT1zKSYmcihzKSxudWxsPT1lP25ldyB0aGlzOihuPVtdLHQ/KGE9MCxjPWkocyx1PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSxvKGUsKGZ1bmN0aW9uKGUpe24ucHVzaChjKGUsYSsrKSl9KSkpOm8oZSxuLnB1c2gse3RoYXQ6bn0pLG5ldyB0aGlzKG4pKX19LDE0MjpmdW5jdGlvbihlLHQsbil7bigxNSkoe3RhcmdldDoiU2V0IixzdGF0OiEwfSx7b2Y6bigxNDMpfSl9LDE0MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpO2UtLTspdFtlXT1hcmd1bWVudHNbZV07cmV0dXJuIG5ldyB0aGlzKHQpfX0sMTQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ1KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2FkZEFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ1OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGU9cih0aGlzKSx0PWkoZS5hZGQpLG49MCxvPWFyZ3VtZW50cy5sZW5ndGg7bjxvO24rKyl0LmNhbGwoZSxhcmd1bWVudHNbbl0pO3JldHVybiBlfX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTQ3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RlbGV0ZUFsbDpmdW5jdGlvbigpe3JldHVybiBvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0sMTQ3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNiksaT1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1yKHRoaXMpLG49aSh0LmRlbGV0ZSksbz0hMCxhPTAsYz1hcmd1bWVudHMubGVuZ3RoO2E8YzthKyspZT1uLmNhbGwodCxhcmd1bWVudHNbYV0pLG89byYmZTtyZXR1cm4hIW99fSwxNDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtldmVyeTpmdW5jdGlvbihlKXt2YXIgdD1vKHRoaXMpLG49Yyh0KSxyPWEoZSxhcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCwzKTtyZXR1cm4hdShuLChmdW5jdGlvbihlLG4pe2lmKCFyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDIpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtkaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKTtyZXR1cm4gcyhlLChmdW5jdGlvbihlKXtyLmNhbGwobixlKX0pKSxufX0pfSwxNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjcpLGk9bigxMDgpLmYsbz1uKDExMCksYT1uKDQ1KSxjPW4oMjUpLHU9bigzMikscz1uKDMxKSxkPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKHQsbixyKXtpZih0aGlzIGluc3RhbmNlb2YgZSl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZSh0KTtjYXNlIDI6cmV0dXJuIG5ldyBlKHQsbil9cmV0dXJuIG5ldyBlKHQsbixyKX1yZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixmLGwscCxnLGIsdix5LGg9ZS50YXJnZXQsbT1lLmdsb2JhbCxPPWUuc3RhdCxqPWUucHJvdG8sUz1tP3I6Tz9yW2hdOihyW2hdfHx7fSkucHJvdG90eXBlLEU9bT9hOmFbaF18fChhW2hdPXt9KSxBPUUucHJvdG90eXBlO2ZvcihsIGluIHQpbj0hbyhtP2w6aCsoTz8iLiI6IiMiKStsLGUuZm9yY2VkKSYmUyYmcyhTLGwpLGc9RVtsXSxuJiYoYj1lLm5vVGFyZ2V0R2V0Pyh5PWkoUyxsKSkmJnkudmFsdWU6U1tsXSkscD1uJiZiP2I6dFtsXSxuJiZ0eXBlb2YgZz09dHlwZW9mIHB8fCh2PWUuYmluZCYmbj9jKHAscik6ZS53cmFwJiZuP2QocCk6aiYmImZ1bmN0aW9uIj09dHlwZW9mIHA/YyhGdW5jdGlvbi5jYWxsLHApOnAsKGUuc2hhbXx8cCYmcC5zaGFtfHxnJiZnLnNoYW0pJiZ1KHYsInNoYW0iLCEwKSxFW2xdPXYsaiYmKHMoYSxmPWgrIlByb3RvdHlwZSIpfHx1KGEsZix7fSksYVtmXVtsXT1wLGUucmVhbCYmQSYmIUFbbF0mJnUoQSxsLHApKSl9fSwxNTA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9bigyNSkscz1uKDQyKSxkPW4oMzcpLGY9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaWx0ZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPWQodCkscj11KGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyksaT1uZXcocyh0LG8oIlNldCIpKSksbD1jKGkuYWRkKTtyZXR1cm4gZihuLChmdW5jdGlvbihlKXtyKGUsZSx0KSYmbC5jYWxsKGksZSl9KSx7SVNfSVRFUkFUT1I6ITB9KSxpfX0pfSwxNTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI1KSxjPW4oMzcpLHU9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaW5kOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpO3JldHVybiB1KG4sKGZ1bmN0aW9uKGUsbil7aWYocihlLGUsdCkpcmV0dXJuIG4oZSl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5yZXN1bHR9fSl9LDE1MjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDI2KSxhPW4oMTYpLGM9bigyNCksdT1uKDQyKSxzPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkscj1jKHQuaGFzKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbCh0LGUpJiZpLmNhbGwobixlKX0pKSxufX0pfSwxNTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNEaXNqb2ludEZyb206ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodC5oYXMpO3JldHVybiFjKGUsKGZ1bmN0aW9uKGUscil7aWYoITA9PT1uLmNhbGwodCxlKSlyZXR1cm4gcigpfSkse0lOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTU0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNzQpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1YnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PXUodGhpcyksbj1hKGUpLHI9bi5oYXM7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHImJihuPW5ldyhvKCJTZXQiKSkoZSkscj1jKG4uaGFzKSksIXModCwoZnVuY3Rpb24oZSx0KXtpZighMT09PXIuY2FsbChuLGUpKXJldHVybiB0KCl9KSx7SVNfSVRFUkFUT1I6ITAsSU5URVJSVVBURUQ6ITB9KS5zdG9wcGVkfX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigxNiksYT1uKDI0KSxjPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdXBlcnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLChmdW5jdGlvbihlLHIpe2lmKCExPT09bi5jYWxsKHQsZSkpcmV0dXJuIHIoKX0pLHtJTlRFUlJVUFRFRDohMH0pLnN0b3BwZWR9fSl9LDE1NjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMzcpLGM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtqb2luOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQpLHI9dm9pZCAwPT09ZT8iLCI6U3RyaW5nKGUpLGk9W107cmV0dXJuIGMobixpLnB1c2gse3RoYXQ6aSxJU19JVEVSQVRPUjohMH0pLGkuam9pbihyKX19KX0sMTU3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oMjUpLHM9big0MiksZD1uKDM3KSxmPW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7bWFwOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1kKHQpLHI9dShlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9bmV3KHModCxvKCJTZXQiKSkpLGw9YyhpLmFkZCk7cmV0dXJuIGYobiwoZnVuY3Rpb24oZSl7bC5jYWxsKGkscihlLGUsdCkpfSkse0lTX0lURVJBVE9SOiEwfSksaX19KX0sMTU4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMTYpLGE9bigyNCksYz1uKDM3KSx1PW4oMjApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7cmVkdWNlOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1jKHQpLHI9YXJndW1lbnRzLmxlbmd0aDwyLGk9cj92b2lkIDA6YXJndW1lbnRzWzFdO2lmKGEoZSksdShuLChmdW5jdGlvbihuKXtyPyhyPSExLGk9bik6aT1lKGksbixuLHQpfSkse0lTX0lURVJBVE9SOiEwfSkscil0aHJvdyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBzZXQgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7cmV0dXJuIGl9fSl9LDE1OTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9bigxOCksbz1uKDE2KSxhPW4oMjUpLGM9bigzNyksdT1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3NvbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWModCkscj1hKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsMyk7cmV0dXJuIHUobiwoZnVuY3Rpb24oZSxuKXtpZihyKGUsZSx0KSlyZXR1cm4gbigpfSkse0lTX0lURVJBVE9SOiEwLElOVEVSUlVQVEVEOiEwfSkuc3RvcHBlZH19KX0sMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGFuIG9iamVjdCIpO3JldHVybiBlfX0sMTYwOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDE4KSxvPW4oMjYpLGE9bigxNiksYz1uKDI0KSx1PW4oNDIpLHM9bigyMCk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtzeW1tZXRyaWNEaWZmZXJlbmNlOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCkscj1jKG4uZGVsZXRlKSxpPWMobi5hZGQpO3JldHVybiBzKGUsKGZ1bmN0aW9uKGUpe3IuY2FsbChuLGUpfHxpLmNhbGwobixlKX0pKSxufX0pfSwxNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE1KSxpPW4oMTgpLG89bigyNiksYT1uKDE2KSxjPW4oMjQpLHU9big0Mikscz1uKDIwKTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3VuaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCk7cmV0dXJuIHMoZSxjKG4uYWRkKSx7dGhhdDpufSksbn19KX0sMTYyOmZ1bmN0aW9uKGUsdCxuKXtuKDk5KSxuKDE2Myk7dmFyIHI9big0NSk7ZS5leHBvcnRzPXIuQXJyYXkuZnJvbX0sMTYzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KSxpPW4oMTY0KTtyKHt0YXJnZXQ6IkFycmF5IixzdGF0OiEwLGZvcmNlZDohbigxNjcpKChmdW5jdGlvbihlKXtBcnJheS5mcm9tKGUpfSkpfSx7ZnJvbTppfSl9LDE2NDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMjUpLGk9big1Myksbz1uKDE2NSksYT1uKDkyKSxjPW4oNTQpLHU9bigxNjYpLHM9big1OCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LG4sZCxmLGwscCxnPWkoZSksYj0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LHY9YXJndW1lbnRzLmxlbmd0aCx5PXY+MT9hcmd1bWVudHNbMV06dm9pZCAwLGg9dm9pZCAwIT09eSxtPXMoZyksTz0wO2lmKGgmJih5PXIoeSx2PjI/YXJndW1lbnRzWzJdOnZvaWQgMCwyKSksbnVsbD09bXx8Yj09QXJyYXkmJmEobSkpZm9yKG49bmV3IGIodD1jKGcubGVuZ3RoKSk7dD5PO08rKylwPWg/eShnW09dLE8pOmdbT10sdShuLE8scCk7ZWxzZSBmb3IobD0oZj1tLmNhbGwoZykpLm5leHQsbj1uZXcgYjshKGQ9bC5jYWxsKGYpKS5kb25lO08rKylwPWg/byhmLHksW2QudmFsdWUsT10sITApOmQudmFsdWUsdShuLE8scCk7cmV0dXJuIG4ubGVuZ3RoPU8sbn19LDE2NTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDkzKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4sbyl7dHJ5e3JldHVybiBvP3QocihuKVswXSxuWzFdKTp0KG4pfWNhdGNoKHQpe3Rocm93IGkoZSksdH19fSwxNjY6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDYzKSxpPW4oMzQpLG89big0NCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgYT1yKHQpO2EgaW4gZT9pLmYoZSxhLG8oMCxuKSk6ZVthXT1ufX0sMTY3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz0wLGE9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIW8rK319LHJldHVybjpmdW5jdGlvbigpe2k9ITB9fTthW3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LEFycmF5LmZyb20oYSwoZnVuY3Rpb24oKXt0aHJvdyAyfSkpfWNhdGNoKGUpe31lLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIWkpcmV0dXJuITE7dmFyIG49ITE7dHJ5e3ZhciBvPXt9O29bcl09ZnVuY3Rpb24oKXtyZXR1cm57bmV4dDpmdW5jdGlvbigpe3JldHVybntkb25lOm49ITB9fX19LGUobyl9Y2F0Y2goZSl7fXJldHVybiBufX0sMTY4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuW3JdPWkmJiJvYmplY3QiPT10eXBlb2YgaT9lKGkpOml9cmV0dXJuIG59fSwxNjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodD10LnNwbGl0P3Quc3BsaXQoIi4iKTp0LHI9MDtyPHQubGVuZ3RoO3IrKyllPWU/ZVt0W3JdXTppO3JldHVybiBlPT09aT9uOmV9fSwxNzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe3Quc3BsaXQmJih0PXQuc3BsaXQoIi4iKSk7Zm9yKHZhciByLGk9MCxvPXQubGVuZ3RoLGE9ZTtpPG87KytpKXI9YVt0W2ldXSxhPWFbdFtpXV09aT09PW8tMT9uOm51bGwhPXI/cjohfnRbaSsxXS5pbmRleE9mKCIuIikmJit0W2krMV0+LTE/W106e319fSwxNzE6ZnVuY3Rpb24oZSx0KXsKLyoKKiBAbGljZW5zZSBNSVQKKiBGdW4gSG9va3MgdjAuOS4xMAoqIChjKSBAc25hcHdpY2gKKi8KYy5TWU5DPTEsYy5BU1lOQz0yLGMuUVVFVUU9NDt2YXIgbj1PYmplY3QuZnJlZXplKHt1c2VQcm94eTohMCxyZWFkeTowfSkscj1uZXcgV2Vha01hcCxpPSIyLDEsMCI9PT1bMV0ucmVkdWNlKChmdW5jdGlvbihlLHQsbil7cmV0dXJuW2UsdCxuXX0pLDIpLnRvU3RyaW5nKCk/QXJyYXkucHJvdG90eXBlLnJlZHVjZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9T2JqZWN0KHRoaXMpLGk9ci5sZW5ndGg+Pj4wLG89MDtpZih0KW49dDtlbHNle2Zvcig7bzxpJiYhKG8gaW4gcik7KW8rKztuPXJbbysrXX1mb3IoO288aTspbyBpbiByJiYobj1lKG4scltvXSxvLHIpKSxvKys7cmV0dXJuIG59O2Z1bmN0aW9uIG8oZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0KX12YXIgYT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKG8oYXJndW1lbnRzLDEpLChmdW5jdGlvbihlLHQpe3JldHVybiB0JiZPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXRbbl19KSksZX0pLGUpfTtmdW5jdGlvbiBjKGUpe3ZhciB0LHU9e30scz1bXTtmdW5jdGlvbiBkKGUsdCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/Zy5jYWxsKG51bGwsInN5bmMiLGUsdCk6InN0cmluZyI9PXR5cGVvZiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgdD9nLmFwcGx5KG51bGwsYXJndW1lbnRzKToib2JqZWN0Ij09dHlwZW9mIGU/Zi5hcHBseShudWxsLGFyZ3VtZW50cyk6dm9pZCAwfWZ1bmN0aW9uIGYoZSx0LG4pe3ZhciByPSEwO3ZvaWQgMD09PXQmJih0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLHI9ITEpO3ZhciBpPXt9LG89WyJjb25zdHJ1Y3RvciJdO2Rveyh0PXQuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4hKCJmdW5jdGlvbiIhPXR5cGVvZiBlW3RdfHwtMSE9PW8uaW5kZXhPZih0KXx8dC5tYXRjaCgvXl8vKSl9KSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3ZhciByPXQuc3BsaXQoIjoiKSxvPXJbMF0sYT1yWzFdfHwic3luYyI7aWYoIWlbb10pe3ZhciBjPWVbb107aVtvXT1lW29dPWcoYSxjLG4/W24sb106dm9pZCAwKX19KSksZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZSl9d2hpbGUociYmZSk7cmV0dXJuIGl9ZnVuY3Rpb24gbChlKXt2YXIgbj1BcnJheS5pc0FycmF5KGUpP2U6ZS5zcGxpdCgiLiIpO3JldHVybiBpLmNhbGwobiwoZnVuY3Rpb24ocixpLG8pe3ZhciBhPXJbaV0sYz0hMTtyZXR1cm4gYXx8KG89PT1uLmxlbmd0aC0xPyh0fHxzLnB1c2goKGZ1bmN0aW9uKCl7Y3x8Y29uc29sZS53YXJuKCJmdW4taG9va3M6IHJlZmVyZW5jZWQgJyIrZSsiJyBidXQgaXQgd2FzIG5ldmVyIGNyZWF0ZWQiKX0pKSxyW2ldPXAoKGZ1bmN0aW9uKGUpe3JbaV09ZSxjPSEwfSkpKTpyW2ldPXt9KX0pLHUpfWZ1bmN0aW9uIHAoZSl7dmFyIHQ9W10sbj1bXSxpPWZ1bmN0aW9uKCl7fSxvPXtiZWZvcmU6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gdS5jYWxsKHRoaXMsdCwiYmVmb3JlIixlLG4pfSxhZnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiB1LmNhbGwodGhpcyxuLCJhZnRlciIsZSx0KX0sZ2V0SG9va3M6ZnVuY3Rpb24oZSl7dmFyIHI9dC5jb25jYXQobik7Im9iamVjdCI9PXR5cGVvZiBlJiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKGUpLmV2ZXJ5KChmdW5jdGlvbihuKXtyZXR1cm4gdFtuXT09PWVbbl19KSl9KSkpO3RyeXthKHIse3JlbW92ZTpmdW5jdGlvbigpe3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UucmVtb3ZlKCl9KSksdGhpc319KX1jYXRjaChlKXtjb25zb2xlLmVycm9yKCJlcnJvciBhZGRpbmcgYHJlbW92ZWAgdG8gYXJyYXksIGRpZCB5b3UgbW9kaWZ5IEFycmF5LnByb3RvdHlwZT8iKX1yZXR1cm4gcn0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SG9va3MoKS5yZW1vdmUoKX19LGM9e2luc3RhbGw6ZnVuY3Rpb24ocixvLGEpe3RoaXMudHlwZT1yLGk9YSxhKHQsbiksZSYmZShvKX19O3JldHVybiByLnNldChvLmFmdGVyLGMpLG87ZnVuY3Rpb24gdShlLHIsbyxhKXt2YXIgYz17aG9vazpvLHR5cGU6cixwcmlvcml0eTphfHwxMCxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgcj1lLmluZGV4T2YoYyk7LTEhPT1yJiYoZS5zcGxpY2UociwxKSxpKHQsbikpfX07cmV0dXJuIGUucHVzaChjKSxlLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pKSxpKHQsbiksdGhpc319ZnVuY3Rpb24gZyhuLGksdSl7dmFyIGQ9aS5hZnRlciYmci5nZXQoaS5hZnRlcik7aWYoZCl7aWYoZC50eXBlIT09bil0aHJvdyJmdW4taG9va3M6IHJlY3JlYXRlZCBob29rYWJsZSB3aXRoIGRpZmZlcmVudCB0eXBlIjtyZXR1cm4gaX12YXIgZixnLGI9dT9sKHUpOnAoKSx2PXtnZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYlt0XXx8UmVmbGVjdC5nZXQuYXBwbHkoUmVmbGVjdCxhcmd1bWVudHMpfX07cmV0dXJuIHR8fHMucHVzaCh5KSxlLnVzZVByb3h5JiYiZnVuY3Rpb24iPT10eXBlb2YgUHJveHkmJlByb3h5LnJldm9jYWJsZT9nPW5ldyBQcm94eShpLHYpOmEoZz1mdW5jdGlvbigpe3JldHVybiB2LmFwcGx5P3YuYXBwbHkoaSx0aGlzLG8oYXJndW1lbnRzKSk6aS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGIpLHIuZ2V0KGcuYWZ0ZXIpLmluc3RhbGwobixnLChmdW5jdGlvbihlLHQpe3ZhciByLGk9W107ZS5sZW5ndGh8fHQubGVuZ3RoPyhlLmZvckVhY2goYSkscj1pLnB1c2godm9pZCAwKS0xLHQuZm9yRWFjaChhKSxmPWZ1bmN0aW9uKGUsdCxhKXt2YXIgYyx1PTAscz0iYXN5bmMiPT09biYmImZ1bmN0aW9uIj09dHlwZW9mIGFbYS5sZW5ndGgtMV0mJmEucG9wKCk7ZnVuY3Rpb24gZChlKXsic3luYyI9PT1uP2M9ZTpzJiZzLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUpe2lmKGlbdV0pe3ZhciByPW8oYXJndW1lbnRzKTtyZXR1cm4gZi5iYWlsPWQsci51bnNoaWZ0KGYpLGlbdSsrXS5hcHBseSh0LHIpfSJzeW5jIj09PW4/Yz1lOnMmJnMuYXBwbHkobnVsbCxhcmd1bWVudHMpfXJldHVybiBpW3JdPWZ1bmN0aW9uKCl7dmFyIHI9byhhcmd1bWVudHMsMSk7ImFzeW5jIj09PW4mJnMmJihkZWxldGUgZi5iYWlsLHIucHVzaChmKSk7dmFyIGk9ZS5hcHBseSh0LHIpOyJzeW5jIj09PW4mJmYoaSl9LGYuYXBwbHkobnVsbCxhKSxjfSk6Zj12b2lkIDA7ZnVuY3Rpb24gYShlKXtpLnB1c2goZS5ob29rKX15KCl9KSksZztmdW5jdGlvbiB5KCl7IXQmJigic3luYyIhPT1ufHxlLnJlYWR5JmMuU1lOQykmJigiYXN5bmMiIT09bnx8ZS5yZWFkeSZjLkFTWU5DKT8ic3luYyIhPT1uJiZlLnJlYWR5JmMuUVVFVUU/di5hcHBseT1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cztzLnB1c2goKGZ1bmN0aW9uKCl7Zy5hcHBseShlWzFdLGVbMl0pfSkpfTp2LmFwcGx5PWZ1bmN0aW9uKCl7dGhyb3ciZnVuLWhvb2tzOiBob29rZWQgZnVuY3Rpb24gbm90IHJlYWR5In06di5hcHBseT1mfX1yZXR1cm4oZT1hKHt9LG4sZSkpLnJlYWR5P2QucmVhZHk9ZnVuY3Rpb24oKXt0PSEwLGZ1bmN0aW9uKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfShzKX06dD0hMCxkLmdldD1sLGR9ZS5leHBvcnRzPWN9LDE4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPSEwfSwxOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gb30pKTt2YXIgcj1uKDMpLGk9bigwKTt2YXIgbz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUpe3ZhciB0PXIuYi5nZXRDb25maWcoInBhZ2VVcmwiKTtpZih0KXJldHVybiB0O3RyeXt2YXIgbj1lLnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO2lmKG51bGwhPT1uKXJldHVybiBuLmhyZWZ9Y2F0Y2goZSl7fXJldHVybiBudWxsfXJldHVybiBmdW5jdGlvbigpe3ZhciBuLG8sYSxjPVtdLHU9ZnVuY3Rpb24oZSl7dHJ5e2lmKCFlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucylyZXR1cm47cmV0dXJuIGUubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zfWNhdGNoKGUpe319KGUpLHM9ci5iLmdldENvbmZpZygibWF4TmVzdGVkSWZyYW1lcyIpLGQ9ITEsZj0wLGw9ITEscD0hMTtkb3t2YXIgZz1uLGI9cCx2PXZvaWQgMCx5PSExLGg9bnVsbDtwPSExLG49bj9uLnBhcmVudDplO3RyeXt2PW4ubG9jYXRpb24uaHJlZnx8bnVsbH1jYXRjaChlKXt5PSEwfWlmKHkpaWYoYil7dmFyIG09Zy5jb250ZXh0O3RyeXtvPWg9bS5zb3VyY2VVcmwsbD0hMCxuPT09ZS50b3AmJihkPSEwKSxtLmNhbm9uaWNhbFVybCYmKGE9bS5jYW5vbmljYWxVcmwpfWNhdGNoKGUpe319ZWxzZXtPYmplY3QoaS5sb2dXYXJuKSgiVHJ5aW5nIHRvIGFjY2VzcyBjcm9zcyBkb21haW4gaWZyYW1lLiBDb250aW51aW5nIHdpdGhvdXQgcmVmZXJyZXIgYW5kIGxvY2F0aW9uIik7dHJ5e3ZhciBPPWcuZG9jdW1lbnQucmVmZXJyZXI7TyYmKGg9TyxuPT09ZS50b3AmJihkPSEwKSl9Y2F0Y2goZSl7fSFoJiZ1JiZ1W2YtMV0mJihoPXVbZi0xXSksaCYmIWwmJihvPWgpfWVsc2V7aWYodiYmKG89aD12LGw9ITEsbj09PWUudG9wKSl7ZD0hMDt2YXIgaj10KG4uZG9jdW1lbnQpO2omJihhPWopfW4uY29udGV4dCYmbi5jb250ZXh0LnNvdXJjZVVybCYmKHA9ITApfWMucHVzaChoKSxmKyt9d2hpbGUobiE9PWUudG9wJiZmPHMpO3JldHVybiBjLnJldmVyc2UoKSx7cmVmZXJlcjpvfHxudWxsLHJlYWNoZWRUb3A6ZCxpc0FtcDpsLG51bUlmcmFtZXM6Zi0xLHN0YWNrOmMsY2Fub25pY2FsVXJsOmF8fG51bGx9fX0od2luZG93KX0sMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gcn0pKSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSksbi5kKHQsImIiLChmdW5jdGlvbigpe3JldHVybiBvfSkpLG4uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gYX0pKTt2YXIgcj0ibmF0aXZlIixpPSJ2aWRlbyIsbz0iYmFubmVyIixhPSJhZHBvZCJ9LDIwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oOTIpLG89big1NCksYT1uKDI1KSxjPW4oNTgpLHU9big5Mykscz1mdW5jdGlvbihlLHQpe3RoaXMuc3RvcHBlZD1lLHRoaXMucmVzdWx0PXR9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIGQsZixsLHAsZyxiLHYseT1uJiZuLnRoYXQsaD0hKCFufHwhbi5BU19FTlRSSUVTKSxtPSEoIW58fCFuLklTX0lURVJBVE9SKSxPPSEoIW58fCFuLklOVEVSUlVQVEVEKSxqPWEodCx5LDEraCtPKSxTPWZ1bmN0aW9uKGUpe3JldHVybiBkJiZ1KGQpLG5ldyBzKCEwLGUpfSxFPWZ1bmN0aW9uKGUpe3JldHVybiBoPyhyKGUpLE8/aihlWzBdLGVbMV0sUyk6aihlWzBdLGVbMV0pKTpPP2ooZSxTKTpqKGUpfTtpZihtKWQ9ZTtlbHNle2lmKCJmdW5jdGlvbiIhPXR5cGVvZihmPWMoZSkpKXRocm93IFR5cGVFcnJvcigiVGFyZ2V0IGlzIG5vdCBpdGVyYWJsZSIpO2lmKGkoZikpe2ZvcihsPTAscD1vKGUubGVuZ3RoKTtwPmw7bCsrKWlmKChnPUUoZVtsXSkpJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZztyZXR1cm4gbmV3IHMoITEpfWQ9Zi5jYWxsKGUpfWZvcihiPWQubmV4dDshKHY9Yi5jYWxsKGQpKS5kb25lOyl7dHJ5e2c9RSh2LnZhbHVlKX1jYXRjaChlKXt0aHJvdyB1KGQpLGV9aWYoIm9iamVjdCI9PXR5cGVvZiBnJiZnJiZnIGluc3RhbmNlb2YgcylyZXR1cm4gZ31yZXR1cm4gbmV3IHMoITEpfX0sMjE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9big4Nyksbz1uKDMxKSxhPW4oNjcpLGM9big4OCksdT1uKDExNikscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKSYmKGN8fCJzdHJpbmciPT10eXBlb2Ygc1tlXSl8fChjJiZvKGQsZSk/c1tlXT1kW2VdOnNbZV09ZigiU3ltYm9sLiIrZSkpLHNbZV19fSwyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gY30pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5kPWZ1bmN0aW9uKGUsdCl7dmFyIG49T2JqZWN0KHIuZ2V0QmlkUmVxdWVzdCkoZS5yZXF1ZXN0SWQsdCksaT1uJiZPYmplY3Qoci5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIiksbz1pJiZPYmplY3Qoci5kZWVwQWNjZXNzKShpLCJjb250ZXh0Iik7cmV0dXJuIHMoZSxuLGksbyl9LG4uZCh0LCJjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTtuKDgpO3ZhciByPW4oMCksaT1uKDMpLG89bigxMiksYT0obi5uKG8pLG4oOSkpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSx0LG4sbyl7cmV0dXJuIXR8fG4mJm8hPT1jP2kuYi5nZXRDb25maWcoImNhY2hlLnVybCIpfHwhZS52YXN0WG1sfHxlLnZhc3RVcmw/ISghZS52YXN0VXJsJiYhZS52YXN0WG1sKTooT2JqZWN0KHIubG9nRXJyb3IpKCdcbiAgICAgICAgVGhpcyBiaWQgY29udGFpbnMgb25seSB2YXN0WG1sIGFuZCB3aWxsIG5vdCB3b3JrIHdoZW4gYSBwcmViaWQgY2FjaGUgdXJsIGlzIG5vdCBzcGVjaWZpZWQuXG4gICAgICAgIFRyeSBlbmFibGluZyBwcmViaWQgY2FjaGUgd2l0aCB1cGJqcy5zZXRDb25maWcoeyBjYWNoZToge3VybDogIi4uLiJ9IH0pO1xuICAgICAgJyksITEpOm8hPT1jfHwhIShlLnJlbmRlcmVyfHx0LnJlbmRlcmVyfHxuLnJlbmRlcmVyKX0pLCJjaGVja1ZpZGVvQmlkU2V0dXAiKX0sMjIxOmZ1bmN0aW9uKGUsdCxuKXtuKDIyMik7dmFyIHI9big1Nik7ZS5leHBvcnRzPXIoIkFycmF5IiwiZmluZEluZGV4Iil9LDIyMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big2NCkuZmluZEluZGV4LG89big1NSksYT0iZmluZEluZGV4IixjPSEwO2EgaW5bXSYmQXJyYXkoMSkuZmluZEluZGV4KChmdW5jdGlvbigpe2M9ITF9KSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOmN9LHtmaW5kSW5kZXg6ZnVuY3Rpb24oZSl7cmV0dXJuIGkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KSxvKGEpfSwyMjk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaCwhMSl9O3ZhciByPW4oMTApLGk9bi5uKHIpLG89bigzOCksYT1uKDUpLGM9bi5uKGEpLHU9bigwKSxzPW4oMjMpLGQ9bigxMSksZj1uLm4oZCksbD1uKDEzKSxwPW4oMTIpLGc9bi5uKHApLGI9bigzKSx2PWMuYS5FVkVOVFMuQklEX1dPTix5PWMuYS5FVkVOVFMuU1RBTEVfUkVOREVSO2Z1bmN0aW9uIGgoZSl7dmFyIHQ9ZS5tZXNzYWdlPyJtZXNzYWdlIjoiZGF0YSIsbj17fTt0cnl7bj1KU09OLnBhcnNlKGVbdF0pfWNhdGNoKGUpe3JldHVybn1pZihuJiZuLmFkSWQpe3ZhciByPWYoKShzLmEuZ2V0Qmlkc1JlY2VpdmVkKCksKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT1uLmFkSWR9KSk7aWYociYmIlByZWJpZCBSZXF1ZXN0Ij09PW4ubWVzc2FnZSl7aWYoci5zdGF0dXM9PT1jLmEuQklEX1NUQVRVUy5SRU5ERVJFRCYmKE9iamVjdCh1LmxvZ1dhcm4pKCJBZCBpZCAiLmNvbmNhdChyLmFkSWQsIiBoYXMgYmVlbiByZW5kZXJlZCBiZWZvcmUiKSksaS5hLmVtaXQoeSxyKSxPYmplY3QodS5kZWVwQWNjZXNzKShiLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikpKXJldHVybjshZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmFkSWQscj1lLmFkLGk9ZS5hZFVybCxvPWUud2lkdGgsYT1lLmhlaWdodCxjPWUucmVuZGVyZXIscz1lLmNwbTtPYmplY3QobC5jKShjKT9PYmplY3QobC5iKShjLGUpOm4mJihtKGUpLHQuc291cmNlLnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOiJSZW5kZXIgU2VjdXJlIENyZWF0aXZlIixhZDpPYmplY3QodS5yZXBsYWNlQXVjdGlvblByaWNlKShyLHMpLGFkVXJsOk9iamVjdCh1LnJlcGxhY2VBdWN0aW9uUHJpY2UpKGkscyksYWRJZDpuLHdpZHRoOm8saGVpZ2h0OmF9KSx0Lm9yaWdpbikpfShyLGUpLHMuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9aWYociYmIlByZWJpZCBOYXRpdmUiPT09bi5tZXNzYWdlKWlmKCJhc3NldFJlcXVlc3QiPT09bi5hY3Rpb24pe3ZhciBhPU9iamVjdChvLmQpKG4scik7ZS5zb3VyY2UucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoYSksZS5vcmlnaW4pfWVsc2UgaWYoImFsbEFzc2V0UmVxdWVzdCI9PT1uLmFjdGlvbil7dmFyIGQ9T2JqZWN0KG8uYykobixyKTtlLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkKSxlLm9yaWdpbil9ZWxzZSBpZigicmVzaXplTmF0aXZlSGVpZ2h0Ij09PW4uYWN0aW9uKXIuaGVpZ2h0PW4uaGVpZ2h0LHIud2lkdGg9bi53aWR0aCxtKHIpO2Vsc2V7aWYoImNsaWNrIj09PU9iamVjdChvLmIpKG4scikpcmV0dXJuO3MuYS5hZGRXaW5uaW5nQmlkKHIpLGkuYS5lbWl0KHYscil9fX1mdW5jdGlvbiBtKGUpe3ZhciB0PWUuYWRJZCxuPWUuYWRVbml0Q29kZSxyPWUud2lkdGgsaT1lLmhlaWdodDtbImRpdiIsImlmcmFtZSJdLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUsdCl7dmFyIG47T2JqZWN0KHUuaXNHcHRQdWJhZHNEZWZpbmVkKSgpJiYobj1mdW5jdGlvbihlKXt2YXIgdD1mKCkod2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLChmdW5jdGlvbih0KXtyZXR1cm4gZigpKHQuZ2V0VGFyZ2V0aW5nS2V5cygpLChmdW5jdGlvbihuKXtyZXR1cm4gZygpKHQuZ2V0VGFyZ2V0aW5nKG4pLGUpfSkpfSkpO3JldHVybiB0JiZ0LmdldFNsb3RFbGVtZW50SWQoKX0oZSkpOyFuJiZPYmplY3QodS5pc0FwbkdldFRhZ0RlZmluZWQpKCkmJihuPWZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO3JldHVybiB0JiZ0LnRhcmdldElkfSh0KSk7bnx8KG49dCk7cmV0dXJuIG59KHQsbiksaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTtyZXR1cm4gaSYmaS5xdWVyeVNlbGVjdG9yKGUpfShlKyc6bm90KFtzdHlsZSo9ImRpc3BsYXk6IG5vbmUiXSknKTtpZihvKXt2YXIgYT1vLnN0eWxlO2Eud2lkdGg9cisicHgiLGEuaGVpZ2h0PWkrInB4In1lbHNlIE9iamVjdCh1LmxvZ1dhcm4pKCJVbmFibGUgdG8gbG9jYXRlIG1hdGNoaW5nIHBhZ2UgZWxlbWVudCBmb3IgYWRVbml0Q29kZSAiLmNvbmNhdChuLCIuICBDYW4ndCByZXNpemUgaXQgdG8gYWQncyBkaW1lbnNpb25zLiAgUGxlYXNlIHJldmlldyBzZXR1cC4iKSl9KSl9fSwyMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgcj1uKDApLGk9bigyOCksbz1uKDExKSxhPW4ubihvKSxjPW4oNSk7dmFyIHU9ZnVuY3Rpb24oKXt2YXIgZT1bXSx0PXt9O3JldHVybiB0LmFkZFdpbm5pbmdCaWQ9ZnVuY3Rpb24odCl7dmFyIG49YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09dC5hdWN0aW9uSWR9KSk7bj8odC5zdGF0dXM9Yy5CSURfU1RBVFVTLlJFTkRFUkVELG4uYWRkV2lubmluZ0JpZCh0KSk6T2JqZWN0KHIubG9nV2FybikoIkF1Y3Rpb24gbm90IGZvdW5kIHdoZW4gYWRkaW5nIHdpbm5pbmcgYmlkIil9LHQuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldFdpbm5pbmdCaWRzKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LHQuZ2V0Qmlkc1JlcXVlc3RlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QmlkUmVxdWVzdHMoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKX0sdC5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldE5vQmlkcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEJpZHNSZWNlaXZlZD1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7aWYoZS5nZXRBdWN0aW9uU3RhdHVzKCk9PT1pLmEpcmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sdC5nZXRBbGxCaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbih0KXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEJpZHNSZWNlaXZlZCgpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYWRVbml0Q29kZT09PXR9KSl9LHQuZ2V0QWRVbml0cz1mdW5jdGlvbigpe3JldHVybiBlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0cygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pfSx0LmdldEFkVW5pdENvZGVzPWZ1bmN0aW9uKCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBZFVuaXRDb2RlcygpfSkpLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcihyLnVuaXF1ZXMpfSx0LmNyZWF0ZUF1Y3Rpb249ZnVuY3Rpb24odCl7dmFyIG49dC5hZFVuaXRzLHI9dC5hZFVuaXRDb2RlcyxvPXQuY2FsbGJhY2ssYT10LmNiVGltZW91dCxjPXQubGFiZWxzLHU9dC5hdWN0aW9uSWQscz1PYmplY3QoaS5rKSh7YWRVbml0czpuLGFkVW5pdENvZGVzOnIsY2FsbGJhY2s6byxjYlRpbWVvdXQ6YSxsYWJlbHM6YyxhdWN0aW9uSWQ6dX0pO3JldHVybiBmdW5jdGlvbih0KXtlLnB1c2godCl9KHMpLHN9LHQuZmluZEJpZEJ5QWRJZD1mdW5jdGlvbih0KXtyZXR1cm4gYSgpKGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXR9KSl9LHQuZ2V0U3RhbmRhcmRCaWRkZXJBZFNlcnZlclRhcmdldGluZz1mdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5qKSgpW2MuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR119LHQuc2V0U3RhdHVzRm9yQmlkcz1mdW5jdGlvbihuLHIpe3ZhciBpPXQuZmluZEJpZEJ5QWRJZChuKTtpZihpJiYoaS5zdGF0dXM9ciksaSYmcj09PWMuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVCl7dmFyIG89YSgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09aS5hdWN0aW9uSWR9KSk7byYmby5zZXRCaWRUYXJnZXRpbmcoaSl9fSx0LmdldExhc3RBdWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5sZW5ndGgmJmVbZS5sZW5ndGgtMV0uZ2V0QXVjdGlvbklkKCl9LHQuY2xlYXJBbGxBdWN0aW9ucz1mdW5jdGlvbigpe2UubGVuZ3RoPTB9LHR9KCl9LDIzMDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7ZT1lfHx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsdD1KU09OLnBhcnNlKGUuZ2V0SXRlbSh1KSl9Y2F0Y2goZSl7fXQmJnAodCwhMCl9O3ZhciByLGksbz1uKDMpLGE9bigwKSxjPW4oMjgpLHU9InVwYmpzOmRlYnVnZ2luZyI7ZnVuY3Rpb24gcyhlKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZChlKXtPYmplY3QoYS5sb2dXYXJuKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZihlKXtyPXkuYmluZChlKSxjLmMuYmVmb3JlKHIsNSksaT1oLmJpbmQoZSksYy5lLmJlZm9yZShpLDUpfWZ1bmN0aW9uIGwoKXtjLmMuZ2V0SG9va3Moe2hvb2s6cn0pLnJlbW92ZSgpLGMuZS5nZXRIb29rcyh7aG9vazppfSkucmVtb3ZlKCl9ZnVuY3Rpb24gcChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO28uYi5zZXRDb25maWcoe2RlYnVnOiEwfSksbCgpLGYoZSkscygiYmlkZGVyIG92ZXJyaWRlcyBlbmFibGVkIi5jb25jYXQodD8iIGZyb20gc2Vzc2lvbiI6IiIpKX1mdW5jdGlvbiBnKGUsdCxuKXtyZXR1cm4hKCFlLmJpZGRlcnx8ZS5iaWRkZXI9PT10KXx8ISghZS5hZFVuaXRDb2RlfHxlLmFkVW5pdENvZGU9PT1uKX1mdW5jdGlvbiBiKGUsdCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJi0xPT09ZS5pbmRleE9mKHQpfWZ1bmN0aW9uIHYoZSx0LG4pe3JldHVybiBPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09WyJhZFVuaXRDb2RlIiwiYmlkZGVyIl0uaW5kZXhPZihlKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuIHMoImJpZGRlciBvdmVycmlkZXMgY2hhbmdlZCAnIi5jb25jYXQodC5hZFVuaXRDb2RlLCIvIikuY29uY2F0KHQuYmlkZGVyQ29kZSwiJyAiKS5jb25jYXQobiwiLiIpLmNvbmNhdChyLCIgZnJvbSAnIikuY29uY2F0KHRbcl0sIi5qcycgdG8gJyIpLmNvbmNhdChlW3JdLCInIikpLHRbcl09ZVtyXSx0fSksdCl9ZnVuY3Rpb24geShlLHQsbil7dmFyIHI9dGhpcztiKHIuYmlkZGVycyxuLmJpZGRlckNvZGUpP2QoImJpZGRlciAnIi5jb25jYXQobi5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpOihBcnJheS5pc0FycmF5KHIuYmlkcykmJnIuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXtnKGUsbi5iaWRkZXJDb2RlLHQpfHx2KGUsbiwiYmlkZGVyIil9KSksZSh0LG4pKX1mdW5jdGlvbiBoKGUsdCl7dmFyIG49dGhpcyxyPXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hYihuLmJpZGRlcnMsZS5iaWRkZXJDb2RlKXx8KGQoImJpZFJlcXVlc3QgJyIuY29uY2F0KGUuYmlkZGVyQ29kZSwiJyBleGNsdWRlZCBmcm9tIGF1Y3Rpb24gYnkgYmlkZGVyIG92ZXJyaWRlcyIpKSwhMSl9KSk7QXJyYXkuaXNBcnJheShuLmJpZFJlcXVlc3RzKSYmci5mb3JFYWNoKChmdW5jdGlvbihlKXtuLmJpZFJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKHQpe2UuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihuKXtnKHQsZS5iaWRkZXJDb2RlLG4uYWRVbml0Q29kZSl8fHYodCxuLCJiaWRSZXF1ZXN0Iil9KSl9KSl9KSksZShyKX1mdW5jdGlvbiBtKGUpe2lmKGUuZW5hYmxlZCl7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHUsSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKGUpe31wKGUpfWVsc2V7bCgpLHMoImJpZGRlciBvdmVycmlkZXMgZGlzYWJsZWQiKTt0cnl7d2luZG93LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0odSl9Y2F0Y2goZSl7fX19by5iLmdldENvbmZpZygiZGVidWdnaW5nIiwoZnVuY3Rpb24oZSl7cmV0dXJuIG0oZS5kZWJ1Z2dpbmcpfSkpfSwyNDpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGEgZnVuY3Rpb24iKTtyZXR1cm4gZX19LDI1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKHIoZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gobil7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmNhbGwodCl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIGUuY2FsbCh0LG4pfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKG4scil7cmV0dXJuIGUuY2FsbCh0LG4scil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24obixyLGkpe3JldHVybiBlLmNhbGwodCxuLHIsaSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSwyNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0NSksaT1uKDI3KSxvPWZ1bmN0aW9uKGUpe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBlP2U6dm9pZCAwfTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP28ocltlXSl8fG8oaVtlXSk6cltlXSYmcltlXVt0XXx8aVtlXSYmaVtlXVt0XX19LDI3OmZ1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX07ZS5leHBvcnRzPW4oIm9iamVjdCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8bigib2JqZWN0Ij09dHlwZW9mIHdpbmRvdyYmd2luZG93KXx8bigib2JqZWN0Ij09dHlwZW9mIHNlbGYmJnNlbGYpfHxuKCJvYmplY3QiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fEZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCl9KS5jYWxsKHQsbig0MCkpfSwyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gRX0pKSxuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LG4sbyxhLHM9ZS5hZFVuaXRzLGQ9ZS5hZFVuaXRDb2RlcyxmPWUuY2FsbGJhY2sscD1lLmNiVGltZW91dCx2PWUubGFiZWxzLFU9ZS5hdWN0aW9uSWQsaz1zLE49dixQPWQscT1bXSxHPVtdLEw9W10sVz1VfHxPYmplY3Qoci5nZW5lcmF0ZVVVSUQpKCksRj1mLHo9cCxWPVtdLEg9bmV3IFNldDtmdW5jdGlvbiBLKCl7cmV0dXJue2F1Y3Rpb25JZDpXLHRpbWVzdGFtcDp0LGF1Y3Rpb25FbmQ6bixhdWN0aW9uU3RhdHVzOm8sYWRVbml0czprLGFkVW5pdENvZGVzOlAsbGFiZWxzOk4sYmlkZGVyUmVxdWVzdHM6cSxub0JpZHM6TCxiaWRzUmVjZWl2ZWQ6Ryx3aW5uaW5nQmlkczpWLHRpbWVvdXQ6en19ZnVuY3Rpb24gSihlLHQpe2lmKHQmJmNsZWFyVGltZW91dChhKSx2b2lkIDA9PT1uKXt2YXIgaT1bXTtlJiYoT2JqZWN0KHIubG9nTWVzc2FnZSkoIkF1Y3Rpb24gIi5jb25jYXQoVywiIHRpbWVkT3V0IikpLGM9SCwoaT1xLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWMuaGFzKGUuYmlkZGVyKX0pKX0pKS5yZWR1Y2Uoci5mbGF0dGVuLFtdKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybntiaWRJZDplLmJpZElkLGJpZGRlcjplLmJpZGRlcixhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxhdWN0aW9uSWQ6ZS5hdWN0aW9uSWR9fSkpKS5sZW5ndGgmJmouZW1pdChTLkVWRU5UUy5CSURfVElNRU9VVCxpKSksbz1BLG49RGF0ZS5ub3coKSxqLmVtaXQoUy5FVkVOVFMuQVVDVElPTl9FTkQsSygpKSxfKGssKGZ1bmN0aW9uKCl7dHJ5e2lmKG51bGwhPUYpe3ZhciB0PVAsbj1HLmZpbHRlcihyLmJpbmQuY2FsbChyLmFkVW5pdHNGaWx0ZXIsdGhpcyx0KSkucmVkdWNlKE0se30pO0YuYXBwbHkodXBianMsW24sZSxXXSksRj1udWxsfX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9ZmluYWxseXtpLmxlbmd0aCYmTy5jYWxsVGltZWRPdXRCaWRkZXJzKHMsaSx6KTt2YXIgbz11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpfHx7fTtvLmVuYWJsZU92ZXJyaWRlfHxtKG8uc3luY0RlbGF5KX19KSl9dmFyIGN9ZnVuY3Rpb24gWSgpe3UuYi5yZXNldEJpZGRlcigpLE9iamVjdChyLmxvZ0luZm8pKCJCaWRzIFJlY2VpdmVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLEcpLG89QSxKKCExLCEwKX1mdW5jdGlvbiBRKGUpe0guYWRkKGUpfWZ1bmN0aW9uICQoZSl7dmFyIHQ9dGhpcztlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0O3Q9ZSxxPXEuY29uY2F0KHQpfSkpO3ZhciBuPXt9LHM9e2JpZFJlcXVlc3RzOmUscnVuOmZ1bmN0aW9uKCl7dmFyIHMscDtzPUouYmluZChudWxsLCEwKSxwPXNldFRpbWVvdXQocyx6KSxhPXAsbz1FLGouZW1pdChTLkVWRU5UUy5BVUNUSU9OX0lOSVQsSygpKTt2YXIgdj1mdW5jdGlvbihlLHQpe3ZhciBuPTAsbz0hMSxhPW5ldyBTZXQscz17fTtmdW5jdGlvbiBkKCl7bi0tLG8mJjA9PT1uJiZlKCl9ZnVuY3Rpb24gZihlLG8pe3ZhciBhPXRoaXMsZj10LmdldEJpZFJlcXVlc3RzKCk7aWYoby5hZGRSZXF1ZXN0T25seSYmYS5pc0R5bmFtaWMmJiFmLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3RJZD09PWEuYmlkZGVyUmVxdWVzdElkfSkpKWYucHVzaChhKTtlbHNle3Nbby5yZXF1ZXN0SWRdPSEwLG4rKzt2YXIgcD10LmdldEF1Y3Rpb25JZCgpLGc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXRDb2RlLG49ZS5iaWQsbz1lLmJpZGRlclJlcXVlc3QsYT1lLmF1Y3Rpb25JZCxzPW8uc3RhcnQsZD1oKHt9LG4se2F1Y3Rpb25JZDphLHJlc3BvbnNlVGltZXN0YW1wOk9iamVjdChyLnRpbWVzdGFtcCkoKSxyZXF1ZXN0VGltZXN0YW1wOnMsY3BtOnBhcnNlRmxvYXQobi5jcG0pfHwwLGJpZGRlcjpuLmJpZGRlckNvZGUsYWRVbml0Q29kZTp0fSk7ZC50aW1lVG9SZXNwb25kPWQucmVzcG9uc2VUaW1lc3RhbXAtZC5yZXF1ZXN0VGltZXN0YW1wLGouZW1pdChTLkVWRU5UUy5CSURfQURKVVNUTUVOVCxkKTt2YXIgZj1vLmJpZHMmJmwoKShvLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PXQmJmUuYmlkSWQ9PWQucmVxdWVzdElkfSkpLHA9ZiYmZi5yZW5kZXJlcixnPWQubWVkaWFUeXBlLGI9ZiYmZi5tZWRpYVR5cGVzJiZmLm1lZGlhVHlwZXNbZ10sdj1iJiZiLnJlbmRlcmVyLG09bnVsbDt2JiZ2LnVybCYmdi5yZW5kZXImJighMCE9PXYuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpP209djpwJiZwLnVybCYmcC5yZW5kZXImJighMCE9PXAuYmFja3VwT25seXx8IW4ucmVuZGVyZXIpJiYobT1wKTttJiYoZC5yZW5kZXJlcj1jLmEuaW5zdGFsbCh7dXJsOm0udXJsfSksZC5yZW5kZXJlci5zZXRSZW5kZXIobS5yZW5kZXIpKTt2YXIgTz1EKG4ubWVkaWFUeXBlLGYsdS5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKSxFPU9iamVjdChpLmEpKGQuY3BtLCJvYmplY3QiPT09eShPKT9POnUuYi5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IiksdS5iLmdldENvbmZpZygiY3VycmVuY3kuZ3JhbnVsYXJpdHlNdWx0aXBsaWVyIikpO3JldHVybiBkLnBiTGc9RS5sb3csZC5wYk1nPUUubWVkLGQucGJIZz1FLmhpZ2gsZC5wYkFnPUUuYXV0byxkLnBiRGc9RS5kZW5zZSxkLnBiQ2c9RS5jdXN0b20sZH0oe2FkVW5pdENvZGU6ZSxiaWQ6byxiaWRkZXJSZXF1ZXN0OmEsYXVjdGlvbklkOnB9KTsidmlkZW8iPT09Zy5tZWRpYVR5cGU/ZnVuY3Rpb24oZSx0LG4saSl7dmFyIG89ITAsYT1PYmplY3Qoci5nZXRCaWRSZXF1ZXN0KSh0Lm9yaWdpbmFsUmVxdWVzdElkfHx0LnJlcXVlc3RJZCxbbl0pLGM9YSYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYSwibWVkaWFUeXBlcy52aWRlbyIpLHM9YyYmT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiY29udGV4dCIpO3UuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiZzIT09Yi5iJiYoIXQudmlkZW9DYWNoZUtleXx8dS5iLmdldENvbmZpZygiY2FjaGUuaWdub3JlQmlkZGVyQ2FjaGVLZXkiKT8obz0hMSx4KGUsdCxpLGEpKTp0LnZhc3RVcmx8fChPYmplY3Qoci5sb2dFcnJvcikoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksbz0hMSkpO28mJihCKGUsdCksaSgpKX0odCxnLGEsZCk6KEIodCxnKSxkKCkpfX1mdW5jdGlvbiBwKCl7dmFyIGk9dGhpcyxjPXQuZ2V0QmlkUmVxdWVzdHMoKTtpZigiczJzQmlkZGVyUGxhY2Vob2xkZXIiIT09aS5iaWRkZXJDb2RlKXt2YXIgZD11LmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpO2lmKGEuYWRkKGkpLGQmJiFPYmplY3Qoci5pc0VtcHR5KShkKSl7dmFyIGY9ZC5zZWNvbmRhcnlCaWRkZXJzO2YmJiFjLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gZygpKGYsZS5iaWRkZXJDb2RlKX0pKSYmKGM9Yy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFnKCkoZixlLmJpZGRlckNvZGUpfSkpKX1vPWMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmhhcyhlKX0pKSxpLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c1tlLmJpZElkXXx8KHQuYWRkTm9CaWQoZSksai5lbWl0KFMuRVZFTlRTLk5PX0JJRCxlKSl9KSksbyYmMD09PW4mJmUoKX1lbHNle3ZhciBsPWMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJSZXF1ZXN0SWR9KSkuaW5kZXhPZihpLmJpZGRlclJlcXVlc3RJZCk7bD4tMSYmYy5zcGxpY2UobCwxKX19cmV0dXJue2FkZEJpZFJlc3BvbnNlOmYsYWRhcHRlckRvbmU6cH19KFksdCk7Ty5jYWxsQmlkcyhrLGUsKGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksbj0wO248ZTtuKyspdFtuXT1hcmd1bWVudHNbbl07Qy5hcHBseSh7ZGlzcGF0Y2g6di5hZGRCaWRSZXNwb25zZSxiaWRkZXJSZXF1ZXN0OnRoaXN9LHQpfSksdi5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2YoVCx0KSxmKG4sZSksSVtlXXx8KElbZV09e1NSQTohMCxvcmlnaW46dH0pLG5bZV0+MSYmKElbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXtUW2VdLS0sd1swXSYmZCh3WzBdKSYmdy5zaGlmdCgpfX0seixRKX19O2Z1bmN0aW9uIGQoZSl7dmFyIHQ9ITAsbj11LmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHw0O3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciByPTEsaT12b2lkIDAhPT1lLnNyYyYmZS5zcmM9PT1TLlMyUy5TUkM/InMycyI6ZS5iaWRkZXJDb2RlO3JldHVybiBJW2ldJiYoITE9PT1JW2ldLlNSQSYmKHI9TWF0aC5taW4oZS5iaWRzLmxlbmd0aCxuKSksVFtJW2ldLm9yaWdpbl0rcj5uJiYodD0hMSkpLCF0fSkpLHQmJmUucnVuKCksdH1mdW5jdGlvbiBmKGUsdCl7dm9pZCAwPT09ZVt0XT9lW3RdPTE6ZVt0XSsrfWQocyl8fChPYmplY3Qoci5sb2dXYXJuKSgicXVldWVpbmcgYXVjdGlvbiBkdWUgdG8gbGltaXRlZCBlbmRwb2ludCBjYXBhY2l0eSIpLHcucHVzaChzKSl9cmV0dXJue2FkZEJpZFJlY2VpdmVkOmZ1bmN0aW9uKGUpe0c9Ry5jb25jYXQoZSl9LGFkZE5vQmlkOmZ1bmN0aW9uKGUpe0w9TC5jb25jYXQoZSl9LGV4ZWN1dGVDYWxsYmFjazpKLGNhbGxCaWRzOmZ1bmN0aW9uKCl7bz0ic3RhcnRlZCIsdD1EYXRlLm5vdygpO3ZhciBlPU8ubWFrZUJpZFJlcXVlc3RzKGssdCxXLHosTik7T2JqZWN0KHIubG9nSW5mbykoIkJpZHMgUmVxdWVzdGVkIGZvciBBdWN0aW9uIHdpdGggaWQ6ICIuY29uY2F0KFcpLGUpLGUubGVuZ3RoPDE/KE9iamVjdChyLmxvZ1dhcm4pKCJObyB2YWxpZCBiaWQgcmVxdWVzdHMgcmV0dXJuZWQgZm9yIGF1Y3Rpb24iKSxZKCkpOlIuY2FsbCh7ZGlzcGF0Y2g6JCxjb250ZXh0OnRoaXN9LGUpfSxhZGRXaW5uaW5nQmlkOmZ1bmN0aW9uKGUpe1Y9Vi5jb25jYXQoZSksTy5jYWxsQmlkV29uQmlkZGVyKGUuYmlkZGVyLGUscyl9LHNldEJpZFRhcmdldGluZzpmdW5jdGlvbihlKXtPLmNhbGxTZXRUYXJnZXRpbmdCaWRkZXIoZS5iaWRkZXIsZSl9LGdldFdpbm5pbmdCaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIFZ9LGdldFRpbWVvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gen0sZ2V0QXVjdGlvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIFd9LGdldEF1Y3Rpb25TdGF0dXM6ZnVuY3Rpb24oKXtyZXR1cm4gb30sZ2V0QWRVbml0czpmdW5jdGlvbigpe3JldHVybiBrfSxnZXRBZFVuaXRDb2RlczpmdW5jdGlvbigpe3JldHVybiBQfSxnZXRCaWRSZXF1ZXN0czpmdW5jdGlvbigpe3JldHVybiBxfSxnZXRCaWRzUmVjZWl2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gR30sZ2V0Tm9CaWRzOmZ1bmN0aW9uKCl7cmV0dXJuIEx9fX0sbi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiBDfSkpLG4uZCh0LCJlIiwoZnVuY3Rpb24oKXtyZXR1cm4gUn0pKSx0Lmc9VSx0LmQ9QixuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSksbi5kKHQsImkiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLG4uZCh0LCJoIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0Lmo9UDt2YXIgcj1uKDApLGk9big0OSksbz1uKDM4KSxhPW4oMTAyKSxjPW4oMTMpLHU9bigzKSxzPW4oNjEpLGQ9big5KSxmPW4oMTEpLGw9bi5uKGYpLHA9bigxMiksZz1uLm4ocCksYj1uKDIyKSx2PW4oMik7ZnVuY3Rpb24geShlKXtyZXR1cm4oeT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGgoKXtyZXR1cm4oaD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBtPXMuYS5zeW5jVXNlcnMsTz1uKDgpLmRlZmF1bHQsaj1uKDEwKSxTPW4oNSksRT0iaW5Qcm9ncmVzcyIsQT0iY29tcGxldGVkIjtqLm9uKFMuRVZFTlRTLkJJRF9BREpVU1RNRU5ULChmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUsaT1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbUy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7aT10KGUuY3BtLGgoe30sZSkpfWNhdGNoKGUpe09iamVjdChyLmxvZ0Vycm9yKSgiRXJyb3IgZHVyaW5nIGJpZCBhZGp1c3RtZW50IiwiYmlkbWFuYWdlci5qcyIsZSl9aT49MCYmKGUuY3BtPWkpfShlKX0pKTt2YXIgVD17fSxJPXt9LHc9W107dmFyIEM9T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5iaWRkZXJSZXF1ZXN0LGUsdCl9KSwiYWRkQmlkUmVzcG9uc2UiKSxSPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dGhpcy5kaXNwYXRjaC5jYWxsKHRoaXMuY29udGV4dCxlKX0pLCJhZGRCaWRkZXJSZXF1ZXN0cyIpLF89T2JqZWN0KGQuYikoImFzeW5jIiwoZnVuY3Rpb24oZSx0KXt0JiZ0KCl9KSwiYmlkc0JhY2tDYWxsYmFjayIpO2Z1bmN0aW9uIFUoZSx0KXt0LnRpbWVUb1Jlc3BvbmQ+ZS5nZXRUaW1lb3V0KCkrdS5iLmdldENvbmZpZygidGltZW91dEJ1ZmZlciIpJiZlLmV4ZWN1dGVDYWxsYmFjayghMCl9ZnVuY3Rpb24gQihlLHQpe3ZhciBuPWUuZ2V0QmlkUmVxdWVzdHMoKSxyPWwoKShuLChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dC5iaWRkZXJDb2RlfSkpOyFmdW5jdGlvbihlLHQpe3ZhciBuO2lmKGUuYmlkZGVyQ29kZSYmKGUuY3BtPjB8fGUuZGVhbElkKSl7dmFyIHI9bCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWUuYWRVbml0Q29kZX0pKTtuPWZ1bmN0aW9uKGUsdCxuKXtpZighdClyZXR1cm57fTt2YXIgcj17fSxpPXVwYmpzLmJpZGRlclNldHRpbmdzO2lmKGkpe3EocixQKHQubWVkaWFUeXBlLGUpLHQsbiksZSYmaVtlXSYmaVtlXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddJiYocShyLGlbZV0sdCxuKSx0LnNlbmRTdGFuZGFyZFRhcmdldGluZz1pW2VdLnNlbmRTdGFuZGFyZFRhcmdldGluZyl9dC5uYXRpdmUmJihyPWgoe30scixPYmplY3Qoby5lKSh0LG4pKSk7cmV0dXJuIHJ9KGUuYmlkZGVyQ29kZSxlLHIpfWUuYWRzZXJ2ZXJUYXJnZXRpbmc9aChlLmFkc2VydmVyVGFyZ2V0aW5nfHx7fSxuKX0odCxyKSxqLmVtaXQoUy5FVkVOVFMuQklEX1JFU1BPTlNFLHQpLGUuYWRkQmlkUmVjZWl2ZWQodCksVShlLHQpfXZhciB4PU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuLGkpe09iamVjdChhLmIpKFt0XSwoZnVuY3Rpb24oaSxvKXtpPyhPYmplY3Qoci5sb2dXYXJuKSgiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChpLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksVShlLHQpKToiIj09PW9bMF0udXVpZD8oT2JqZWN0KHIubG9nV2FybikoIlN1cHBsaWVkIHZpZGVvIGNhY2hlIGtleSB3YXMgYWxyZWFkeSBpbiB1c2UgYnkgUHJlYmlkIENhY2hlOyBjYWNoaW5nIGF0dGVtcHQgd2FzIHJlamVjdGVkLiBWaWRlbyBiaWQgbXVzdCBiZSBkaXNjYXJkZWQuIiksVShlLHQpKToodC52aWRlb0NhY2hlS2V5PW9bMF0udXVpZCx0LnZhc3RVcmx8fCh0LnZhc3RVcmw9T2JqZWN0KGEuYSkodC52aWRlb0NhY2hlS2V5KSksQihlLHQpLG4oKSl9KSxpKX0pLCJjYWxsUHJlYmlkQ2FjaGUiKTtmdW5jdGlvbiBEKGUsdCxuKXtpZihlJiZuKXtpZihlPT09di5kKXt2YXIgaT1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLiIuY29uY2F0KHYuZCwiLmNvbnRleHQiKSwiaW5zdHJlYW0iKTtpZihuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldKXJldHVybiBuWyIiLmNvbmNhdCh2LmQsIi0iKS5jb25jYXQoaSldfXJldHVybiBuW2VdfX12YXIgaz1mdW5jdGlvbihlLHQpe3ZhciBuPUQoZSx0LHUuYi5nZXRDb25maWcoIm1lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHkiKSk7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlJiZuPyJzdHJpbmciPT10eXBlb2Ygbj9uOiJjdXN0b20iOnUuYi5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKX0sTj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxuKXtyZXR1cm4oZT1lfHxrKHQubWVkaWFUeXBlLG4pKT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP3QucGJBZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP3QucGJEZzplPT09Uy5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz90LnBiTGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/dC5wYk1nOmU9PT1TLkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD90LnBiSGc6ZT09PVMuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/dC5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIFAoZSx0KXtmdW5jdGlvbiBuKGUsdCl7cmV0dXJue2tleTplLHZhbDoiZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihlLG4pe3JldHVybiB0KGUsbil9OmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5nZXRWYWx1ZSkoZSx0KX19fXZhciBpPVMuVEFSR0VUSU5HX0tFWVMsbz11cGJqcy5iaWRkZXJTZXR0aW5ncztpZihvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17fSksb1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfHwob1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPVtuKGkuQklEREVSLCJiaWRkZXJDb2RlIiksbihpLkFEX0lELCJhZElkIiksbihpLlBSSUNFX0JVQ0tFVCxOKCkpLG4oaS5TSVpFLCJzaXplIiksbihpLkRFQUwsImRlYWxJZCIpLG4oaS5TT1VSQ0UsInNvdXJjZSIpLG4oaS5GT1JNQVQsIm1lZGlhVHlwZSIpLG4oaS5BRE9NQUlOLChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZXRhJiZlLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnMmJmUubWV0YS5hZHZlcnRpc2VyRG9tYWlucy5sZW5ndGg+MD9lLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnNbMF06IiJ9KSldKSwidmlkZW8iPT09ZSl7dmFyIGE9b1tTLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO2lmKFtpLlVVSUQsaS5DQUNIRV9JRF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dm9pZCAwPT09bCgpKGEsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PWV9KSkmJmEucHVzaChuKGUsInZpZGVvQ2FjaGVLZXkiKSl9KSksdS5iLmdldENvbmZpZygiY2FjaGUudXJsIikmJighdHx8ITEhPT1PYmplY3Qoci5kZWVwQWNjZXNzKShvLCIiLmNvbmNhdCh0LCIuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nIikpKSl7dmFyIGM9T2JqZWN0KHIucGFyc2VVcmwpKHUuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKTt2b2lkIDA9PT1sKCkoYSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5PT09aS5DQUNIRV9IT1NUfSkpJiZhLnB1c2gobihpLkNBQ0hFX0hPU1QsKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJhZHNlcnZlclRhcmdldGluZy4iLmNvbmNhdChpLkNBQ0hFX0hPU1QpKT9lLmFkc2VydmVyVGFyZ2V0aW5nW2kuQ0FDSEVfSE9TVF06Yy5ob3N0bmFtZX0pKSl9fXJldHVybiBvW1MuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIHEoZSx0LG4saSl7dmFyIG89dFtTLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddO3JldHVybiBuLnNpemU9bi5nZXRTaXplKCksT2JqZWN0KHIuX2VhY2gpKG8sKGZ1bmN0aW9uKG8pe3ZhciBhPW8ua2V5LGM9by52YWw7aWYoZVthXSYmT2JqZWN0KHIubG9nV2FybikoIlRoZSBrZXk6ICIrYSsiIGlzIGdldHRpbmcgb3Zld3JpdHRlbiIpLE9iamVjdChyLmlzRm4pKGMpKXRyeXtjPWMobixpKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoImJpZG1hbmFnZXIiLCJFUlJPUiIsZSl9KHZvaWQgMD09PXQuc3VwcHJlc3NFbXB0eUtleXN8fCEwIT09dC5zdXBwcmVzc0VtcHR5S2V5cykmJmEhPT1TLlRBUkdFVElOR19LRVlTLkRFQUx8fCFPYmplY3Qoci5pc0VtcHR5U3RyKShjKSYmbnVsbCE9Yz9lW2FdPWM6T2JqZWN0KHIubG9nSW5mbykoInN1cHByZXNzaW5nIGVtcHR5IGtleSAnIithKyInIGZyb20gYWRzZXJ2ZXIgdGFyZ2V0aW5nIil9KSksZX1mdW5jdGlvbiBNKGUsdCl7cmV0dXJuIGVbdC5hZFVuaXRDb2RlXXx8KGVbdC5hZFVuaXRDb2RlXT17YmlkczpbXX0pLGVbdC5hZFVuaXRDb2RlXS5iaWRzLnB1c2godCksZX19LDI5OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBPfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gQX0pKTt2YXIgcj1uKDQ5KSxpPW4oMTEpLG89bi5uKGkpLGE9bigxMiksYz1uLm4oYSksdT1uKDkwKSxzPW4ubih1KSxkPW4oMCksZj1bImZwZCJdO2Z1bmN0aW9uIGwoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBuLHIsaT1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIG4scixpPXt9LG89T2JqZWN0LmtleXMoZSk7Zm9yKHI9MDtyPG8ubGVuZ3RoO3IrKyluPW9bcl0sdC5pbmRleE9mKG4pPj0wfHwoaVtuXT1lW25dKTtyZXR1cm4gaX0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspbj1vW3JdLHQuaW5kZXhPZihuKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsbikmJihpW25dPWVbbl0pfXJldHVybiBpfWZ1bmN0aW9uIHAoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGcoZSl7cmV0dXJuKGc9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdj1uKDc1KSx5PW4oNSksaD0iVFJVRSI9PT1PYmplY3QoZC5nZXRQYXJhbWV0ZXJCeU5hbWUpKHkuREVCVUdfTU9ERSkudG9VcHBlckNhc2UoKSxtPXdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sTz0icmFuZG9tIixqPXt9O2pbT109ITAsai5maXhlZD0hMDt2YXIgUz1PLEU9e0xPVzoibG93IixNRURJVU06Im1lZGl1bSIsSElHSDoiaGlnaCIsQVVUTzoiYXV0byIsREVOU0U6ImRlbnNlIixDVVNUT006ImN1c3RvbSJ9O3ZhciBBPWZ1bmN0aW9uKCl7dmFyIGUsdCxuLGk9W10sYT1udWxsO2Z1bmN0aW9uIHUoKXtlPXt9O3ZhciBpPXtfZGVidWc6aCxnZXQgZGVidWcoKXtyZXR1cm4gdGhpcy5fZGVidWd9LHNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lfSxfYmlkZGVyVGltZW91dDozZTMsZ2V0IGJpZGRlclRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fYmlkZGVyVGltZW91dH0sc2V0IGJpZGRlclRpbWVvdXQoZSl7dGhpcy5fYmlkZGVyVGltZW91dD1lfSxfcHVibGlzaGVyRG9tYWluOm0sZ2V0IHB1Ymxpc2hlckRvbWFpbigpe3JldHVybiB0aGlzLl9wdWJsaXNoZXJEb21haW59LHNldCBwdWJsaXNoZXJEb21haW4oZSl7dGhpcy5fcHVibGlzaGVyRG9tYWluPWV9LF9wcmljZUdyYW51bGFyaXR5OkUuTUVESVVNLHNldCBwcmljZUdyYW51bGFyaXR5KGUpe2MoZSkmJigic3RyaW5nIj09dHlwZW9mIGU/dGhpcy5fcHJpY2VHcmFudWxhcml0eT1hKGUpP2U6RS5NRURJVU06T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9RS5DVVNUT00sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSIpKSl9LGdldCBwcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX3ByaWNlR3JhbnVsYXJpdHl9LF9jdXN0b21QcmljZUJ1Y2tldDp7fSxnZXQgY3VzdG9tUHJpY2VCdWNrZXQoKXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJpY2VCdWNrZXR9LF9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5Ont9LGdldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KCl7cmV0dXJuIHRoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHl9LHNldCBtZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5KGUpe3ZhciB0PXRoaXM7dGhpcy5fbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eT1PYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7cmV0dXJuIGMoZVtyXSk/InN0cmluZyI9PXR5cGVvZiBlP25bcl09YShlW3JdKT9lW3JdOnQuX3ByaWNlR3JhbnVsYXJpdHk6T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZSkmJihuW3JdPWVbcl0sT2JqZWN0KGQubG9nTWVzc2FnZSkoIlVzaW5nIGN1c3RvbSBwcmljZSBncmFudWxhcml0eSBmb3IgIi5jb25jYXQocikpKTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQocikpLG59KSx7fSl9LF9zZW5kQWxsQmlkczp0cnVlLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTpmYWxzZSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfZGV2aWNlQWNjZXNzOnRydWUsZ2V0IGRldmljZUFjY2Vzcygpe3JldHVybiB0aGlzLl9kZXZpY2VBY2Nlc3N9LHNldCBkZXZpY2VBY2Nlc3MoZSl7dGhpcy5fZGV2aWNlQWNjZXNzPWV9LF9iaWRkZXJTZXF1ZW5jZTpTLGdldCBiaWRkZXJTZXF1ZW5jZSgpe3JldHVybiB0aGlzLl9iaWRkZXJTZXF1ZW5jZX0sc2V0IGJpZGRlclNlcXVlbmNlKGUpe2pbZV0/dGhpcy5fYmlkZGVyU2VxdWVuY2U9ZTpPYmplY3QoZC5sb2dXYXJuKSgiSW52YWxpZCBvcmRlcjogIi5jb25jYXQoZSwiLiBCaWRkZXIgU2VxdWVuY2Ugd2FzIG5vdCBzZXQuIikpfSxfdGltZW91dEJ1ZmZlcjo0MDAsZ2V0IHRpbWVvdXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdGltZW91dEJ1ZmZlcn0sc2V0IHRpbWVvdXRCdWZmZXIoZSl7dGhpcy5fdGltZW91dEJ1ZmZlcj1lfSxfZGlzYWJsZUFqYXhUaW1lb3V0OmZhbHNlLGdldCBkaXNhYmxlQWpheFRpbWVvdXQoKXtyZXR1cm4gdGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0fSxzZXQgZGlzYWJsZUFqYXhUaW1lb3V0KGUpe3RoaXMuX2Rpc2FibGVBamF4VGltZW91dD1lfSxfbWF4TmVzdGVkSWZyYW1lczoxMCxnZXQgbWF4TmVzdGVkSWZyYW1lcygpe3JldHVybiB0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzfSxzZXQgbWF4TmVzdGVkSWZyYW1lcyhlKXt0aGlzLl9tYXhOZXN0ZWRJZnJhbWVzPWV9LF9hdWN0aW9uT3B0aW9uczp7fSxnZXQgYXVjdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fYXVjdGlvbk9wdGlvbnN9LHNldCBhdWN0aW9uT3B0aW9ucyhlKXsoZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IiksITE7Zm9yKHZhciB0PTAsbj1PYmplY3Qua2V5cyhlKTt0PG4ubGVuZ3RoO3QrKyl7dmFyIHI9blt0XTtpZigic2Vjb25kYXJ5QmlkZGVycyIhPT1yJiYic3VwcHJlc3NTdGFsZVJlbmRlciIhPT1yKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zIGdpdmVuIGFuIGluY29ycmVjdCBwYXJhbTogIi5jb25jYXQocikpLCExO2lmKCJzZWNvbmRhcnlCaWRkZXJzIj09PXIpe2lmKCFPYmplY3QoZC5pc0FycmF5KShlW3JdKSlyZXR1cm4gT2JqZWN0KGQubG9nV2FybikoIkF1Y3Rpb24gT3B0aW9ucyAiLmNvbmNhdChyLCIgbXVzdCBiZSBvZiB0eXBlIEFycmF5IikpLCExO2lmKCFlW3JdLmV2ZXJ5KGQuaXNTdHIpKXJldHVybiBPYmplY3QoZC5sb2dXYXJuKSgiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9ubHkgc3RyaW5nIikpLCExfWVsc2UgaWYoInN1cHByZXNzU3RhbGVSZW5kZXIiPT09ciYmIU9iamVjdChkLmlzQm9vbGVhbikoZVtyXSkpcmV0dXJuIE9iamVjdChkLmxvZ1dhcm4pKCJBdWN0aW9uIE9wdGlvbnMgIi5jb25jYXQociwiIG11c3QgYmUgb2YgdHlwZSBib29sZWFuIikpLCExfXJldHVybiEwfSkoZSkmJih0aGlzLl9hdWN0aW9uT3B0aW9ucz1lKX19O2Z1bmN0aW9uIGEoZSl7cmV0dXJuIG8oKShPYmplY3Qua2V5cyhFKSwoZnVuY3Rpb24odCl7cmV0dXJuIGU9PT1FW3RdfSkpfWZ1bmN0aW9uIGMoZSl7aWYoIWUpcmV0dXJuIE9iamVjdChkLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBubyB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKSwhMTtpZigic3RyaW5nIj09dHlwZW9mIGUpYShlKXx8T2JqZWN0KGQubG9nV2FybikoIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZihPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlKSYmIU9iamVjdChyLmIpKGUpKXJldHVybiBPYmplY3QoZC5sb2dFcnJvcikoIkludmFsaWQgY3VzdG9tIHByaWNlIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpLCExO3JldHVybiEwfXQmJkkoT2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiB0W25dIT09aVtuXSYmKGVbbl09aVtuXXx8e30pLGV9KSx7fSkpLHQ9aSxuPXt9fWZ1bmN0aW9uIHkoKXtpZihhJiZuJiZPYmplY3QoZC5pc1BsYWluT2JqZWN0KShuW2FdKSl7dmFyIGU9blthXSxyPW5ldyBzLmEoT2JqZWN0LmtleXModCkuY29uY2F0KE9iamVjdC5rZXlzKGUpKSk7cmV0dXJuIHYocikucmVkdWNlKChmdW5jdGlvbihuLHIpe3JldHVybiB2b2lkIDA9PT1lW3JdP25bcl09dFtyXTp2b2lkIDA9PT10W3JdP25bcl09ZVtyXTpPYmplY3QoZC5pc1BsYWluT2JqZWN0KShlW3JdKT9uW3JdPU9iamVjdChkLm1lcmdlRGVlcCkoe30sdFtyXSxlW3JdKTpuW3JdPWVbcl0sbn0pLHt9KX1yZXR1cm4gYih7fSx0KX1mdW5jdGlvbiBPKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcj0iY29udGV4dCI9PT1uPyJzaXRlIjpuO3Rbcl09InNpdGUiPT09cnx8InVzZXIiPT09cj9PYmplY3Qua2V5cyhlW25dKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImRhdGEiPT09cj9PYmplY3QoZC5tZXJnZURlZXApKHQse2V4dDp7ZGF0YTplW25dW3JdfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCxwKHt9LHIsZVtuXVtyXSkpLHR9KSx7fSk6ZVtuXX0pKSx0fWZ1bmN0aW9uIEEoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImNvbnRleHQiPT09ZX0pKS5mb3JFYWNoKChmdW5jdGlvbihuKXtPYmplY3Qua2V5cyhlW25dKS5mb3JFYWNoKChmdW5jdGlvbihyKXsiZGF0YSI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOmVbbl1bcl19fSk6Im9iamVjdCIhPT1nKGVbbl1bcl0pfHxBcnJheS5pc0FycmF5KGVbbl1bcl0pP09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLGVbbl1bcl0pfX0pOk9iamVjdC5rZXlzKGVbbl1bcl0pLmZvckVhY2goKGZ1bmN0aW9uKGkpe09iamVjdChkLm1lcmdlRGVlcCkodCx7ZXh0OntkYXRhOnAoe30sci50b0xvd2VyQ2FzZSgpLHAoe30saS50b0xvd2VyQ2FzZSgpLGVbbl1bcl1baV0pKX19KX0pKX0pKX0pKSx0fWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj10O2lmKCJzdHJpbmciIT10eXBlb2YgZSYmKG49ZSxlPSIqIiksImZ1bmN0aW9uIj09dHlwZW9mIG4pe3ZhciByPXt0b3BpYzplLGNhbGxiYWNrOm59O3JldHVybiBpLnB1c2gociksZnVuY3Rpb24oKXtpLnNwbGljZShpLmluZGV4T2YociksMSl9fU9iamVjdChkLmxvZ0Vycm9yKSgibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3Qua2V5cyhlKTtpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGMoKSh0LGUudG9waWMpfSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuY2FsbGJhY2socCh7fSx0LnRvcGljLGVbdC50b3BpY10pKX0pKSxpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jYWxsYmFjayhlKX0pKX1mdW5jdGlvbiB3KGUsdCl7YT1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7QygpfX1mdW5jdGlvbiBDKCl7YT1udWxsfXJldHVybiB1KCkse2dldEN1cnJlbnRCaWRkZXI6ZnVuY3Rpb24oKXtyZXR1cm4gYX0scmVzZXRCaWRkZXI6QyxnZXRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHkoKSxlKTp5KCl9cmV0dXJuIFQuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LHJlYWRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdLHQ9T2JqZWN0KGQuZGVlcENsb25lKSh5KCkpO3JldHVybiBlP09iamVjdChkLmRlZXBBY2Nlc3MpKHQsZSk6dH1yZXR1cm4gVC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX0sc2V0Q29uZmlnOmZ1bmN0aW9uKG4pe2lmKE9iamVjdChkLmlzUGxhaW5PYmplY3QpKG4pKXt2YXIgcj1PYmplY3Qua2V5cyhuKSxpPXt9O3IuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG89ImZwZCI9PT1yPyJvcnRiMiI6cixhPSJmcGQiPT09cj9PKG5bcl0pOm5bcl07T2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZVtvXSkmJk9iamVjdChkLmlzUGxhaW5PYmplY3QpKGEpJiYoYT1iKHt9LGVbb10sYSkpLGlbb109dFtvXT1hfSkpLEkoaSl9ZWxzZSBPYmplY3QoZC5sb2dFcnJvcikoInNldENvbmZpZyBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iil9LHNldERlZmF1bHRzOmZ1bmN0aW9uKG4pe09iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpPyhiKGUsbiksYih0LG4pKTpPYmplY3QoZC5sb2dFcnJvcikoImRlZmF1bHRzIG11c3QgYmUgYW4gb2JqZWN0Iil9LHJlc2V0Q29uZmlnOnUscnVuV2l0aEJpZGRlcjp3LGNhbGxiYWNrV2l0aEJpZGRlcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4pLGk9MDtpPG47aSsrKXJbaV09YXJndW1lbnRzW2ldO3JldHVybiB3KGUsZC5iaW5kLmNhbGwuYXBwbHkoZC5iaW5kLFt0LHRoaXNdLmNvbmNhdChyKSkpfU9iamVjdChkLmxvZ1dhcm4pKCJjb25maWcuY2FsbGJhY2tXaXRoQmlkZGVyIGNhbGxiYWNrIGlzIG5vdCBhIGZ1bmN0aW9uIil9fX0sc2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKGUpe3RyeXshZnVuY3Rpb24oZSl7aWYoIU9iamVjdChkLmlzUGxhaW5PYmplY3QpKGUpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGJlIGFuIG9iamVjdCI7aWYoIUFycmF5LmlzQXJyYXkoZS5iaWRkZXJzKXx8IWUuYmlkZGVycy5sZW5ndGgpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgY29udGFpbiBhIGJpZGRlcnMgbGlzdCB3aXRoIGF0IGxlYXN0IDEgYmlkZGVyIjtpZighT2JqZWN0KGQuaXNQbGFpbk9iamVjdCkoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0oZSksZS5iaWRkZXJzLmZvckVhY2goKGZ1bmN0aW9uKHQpe25bdF18fChuW3RdPXt9KSxPYmplY3Qua2V5cyhlLmNvbmZpZykuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ImZwZCI9PT1yPyJvcnRiMiI6cixvPSJmcGQiPT09cj9PKGUuY29uZmlnW3JdKTplLmNvbmZpZ1tyXTtPYmplY3QoZC5pc1BsYWluT2JqZWN0KShvKT9uW3RdW2ldPWIoe30sblt0XVtpXXx8e30sbyk6blt0XVtpXT1vfSkpfSkpfWNhdGNoKGUpe09iamVjdChkLmxvZ0Vycm9yKShlKX19LGdldEJpZGRlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybiBufSxjb252ZXJ0QWRVbml0RnBkOmZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZnBkPyhlLm9ydGIySW1wP09iamVjdChkLm1lcmdlRGVlcCkoZS5vcnRiMkltcCxBKGUuZnBkKSk6ZS5vcnRiMkltcD1BKGUuZnBkKSx0LnB1c2goZnVuY3Rpb24oZSl7ZS5mcGQ7cmV0dXJuIGwoZSxmKX0oZSkpKTp0LnB1c2goZSl9KSksdH0sZ2V0TGVnYWN5RnBkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZyhlKSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciByPSJzaXRlIj09PW4/ImNvbnRleHQiOm47dFtyXT0iY29udGV4dCI9PT1yfHwidXNlciI9PT1yP09iamVjdC5rZXlzKGVbbl0pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImRhdGEiIT09ZX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKHQscil7cmV0dXJuImV4dCI9PT1yP09iamVjdChkLm1lcmdlRGVlcCkodCxlW25dW3JdKTpPYmplY3QoZC5tZXJnZURlZXApKHQscCh7fSxyLGVbbl1bcl0pKSx0fSkse30pOmVbbl19KSksdH19LGdldExlZ2FjeUltcEZwZDpmdW5jdGlvbihlKXtpZigib2JqZWN0Ij09PWcoZSkpe3ZhciB0PXt9O3JldHVybiBPYmplY3QoZC5kZWVwQWNjZXNzKShlLCJleHQuZGF0YSIpJiZPYmplY3Qua2V5cyhlLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbihuKXsicGJhZHNsb3QiPT09bj9PYmplY3QoZC5tZXJnZURlZXApKHQse2NvbnRleHQ6e3BiQWRTbG90OmUuZXh0LmRhdGFbbl19fSk6ImFkc2VydmVyIj09PW4/T2JqZWN0KGQubWVyZ2VEZWVwKSh0LHtjb250ZXh0OnthZFNlcnZlcjplLmV4dC5kYXRhW25dfX0pOk9iamVjdChkLm1lcmdlRGVlcCkodCx7Y29udGV4dDp7ZGF0YTpwKHt9LG4sZS5leHQuZGF0YVtuXSl9fSl9KSksdH19fX0oKX0sMzA6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0sMzE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTMpLGk9e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkuY2FsbChyKGUpLHQpfX0sMzI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigzNCksbz1uKDQ0KTtlLmV4cG9ydHM9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIGkuZihlLHQsbygxLG4pKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBlW3RdPW4sZX19LDMzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KTtlLmV4cG9ydHM9IXIoKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwxLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KVsxXX0pKX0sMzQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9big4NSksbz1uKDE2KSxhPW4oNjMpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yP2M6ZnVuY3Rpb24oZSx0LG4pe2lmKG8oZSksdD1hKHQsITApLG8obiksaSl0cnl7cmV0dXJuIGMoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwzNTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQsbil7aWYoIXR8fCFlKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoZT1hLmMoZSksIWkoKSh1LHQpKXJldHVybiB2b2lkIE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQodCwiIG5vdCB3aGl0ZWxpc3RlZCBmb3IgbG9hZGluZyBleHRlcm5hbCBKYXZhU2NyaXB0IikpO2lmKGNbZV0pcmV0dXJuIG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYoY1tlXS5sb2FkZWQ/bigpOmNbZV0uY2FsbGJhY2tzLnB1c2gobikpLGNbZV0udGFnO2NbZV09e2xvYWRlZDohMSx0YWc6bnVsbCxjYWxsYmFja3M6W119LG4mJiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZjW2VdLmNhbGxiYWNrcy5wdXNoKG4pO3JldHVybiBPYmplY3Qoby5sb2dXYXJuKSgibW9kdWxlICIuY29uY2F0KHQsIiBpcyBsb2FkaW5nIGV4dGVybmFsIEphdmFTY3JpcHQiKSksZnVuY3Rpb24odCxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtyLnR5cGU9InRleHQvamF2YXNjcmlwdCIsci5hc3luYz0hMCxjW2VdLnRhZz1yLHIucmVhZHlTdGF0ZT9yLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpeyJsb2FkZWQiIT09ci5yZWFkeVN0YXRlJiYiY29tcGxldGUiIT09ci5yZWFkeVN0YXRlfHwoci5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxuKCkpfTpyLm9ubG9hZD1mdW5jdGlvbigpe24oKX07cmV0dXJuIHIuc3JjPXQsT2JqZWN0KG8uaW5zZXJ0RWxlbWVudCkocikscn0oZSwoZnVuY3Rpb24oKXtjW2VdLmxvYWRlZD0hMDt0cnl7Zm9yKHZhciB0PTA7dDxjW2VdLmNhbGxiYWNrcy5sZW5ndGg7dCsrKWNbZV0uY2FsbGJhY2tzW3RdKCl9Y2F0Y2goZSl7T2JqZWN0KG8ubG9nRXJyb3IpKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pKX07dmFyIHI9bigxMiksaT1uLm4ociksbz1uKDApLGE9big0NyksYz17fSx1PVsiYWRsb294IiwiY3JpdGVvIiwib3V0c3RyZWFtIiwiYWRhZ2lvIiwiYnJvd3NpIl19LDM3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE4KSxpPW4oNzQpO2UuZXhwb3J0cz1yP2k6ZnVuY3Rpb24oZSl7cmV0dXJuIFNldC5wcm90b3R5cGUudmFsdWVzLmNhbGwoZSl9fSwzNzg6ZnVuY3Rpb24oZSx0LG4pe24oMzc5KTt2YXIgcj1uKDU2KTtlLmV4cG9ydHM9cigiU3RyaW5nIiwiaW5jbHVkZXMiKX0sMzc5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNSksaT1uKDM4MCksbz1uKDUyKTtyKHt0YXJnZXQ6IlN0cmluZyIscHJvdG86ITAsZm9yY2VkOiFuKDM4MikoImluY2x1ZGVzIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5TdHJpbmcobyh0aGlzKSkuaW5kZXhPZihpKGUpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KX0sMzg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiZiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBsfSkpLHQuaD1mdW5jdGlvbihlKXtpZihlJiZlLnR5cGUmJmZ1bmN0aW9uKGUpe2lmKCFlfHwhbygpKE9iamVjdC5rZXlzKHApLGUpKXJldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIiIuY29uY2F0KGUsIiBuYXRpdmVQYXJhbSBpcyBub3Qgc3VwcG9ydGVkIikpLCExO3JldHVybiEwfShlLnR5cGUpKXJldHVybiBwW2UudHlwZV07cmV0dXJuIGV9LHQuZz1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChyLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpO2lmKCFuKXJldHVybiExO2lmKCFPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmUuY2xpY2tVcmwiKSlyZXR1cm4hMTt2YXIgaT1uLm5hdGl2ZVBhcmFtcztpZighaSlyZXR1cm4hMDt2YXIgYT1PYmplY3Qua2V5cyhpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdLnJlcXVpcmVkfSkpLGM9T2JqZWN0LmtleXMoZS5uYXRpdmUpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIGUubmF0aXZlW3RdfSkpO3JldHVybiBhLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gbygpKGMsZSl9KSl9LHQuYj1mdW5jdGlvbihlLHQpe3ZhciBuOyJjbGljayI9PT1lLmFjdGlvbj9uPXQubmF0aXZlJiZ0Lm5hdGl2ZS5jbGlja1RyYWNrZXJzOihuPXQubmF0aXZlJiZ0Lm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMsdC5uYXRpdmUmJnQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycyYmT2JqZWN0KHIuaW5zZXJ0SHRtbEludG9JZnJhbWUpKHQubmF0aXZlLmphdmFzY3JpcHRUcmFja2VycykpO3JldHVybihufHxbXSkuZm9yRWFjaChyLnRyaWdnZXJQaXhlbCksZS5hY3Rpb259LHQuZT1mdW5jdGlvbihlLHQpe3ZhciBuPXt9O09iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5yZW5kZXJlclVybCIpP2UubmF0aXZlLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVQYXJhbXMucmVuZGVyZXJVcmwpOk9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy5hZFRlbXBsYXRlIikmJihlLm5hdGl2ZS5hZFRlbXBsYXRlPWcodC5uYXRpdmVQYXJhbXMuYWRUZW1wbGF0ZSkpO3ZhciBpPSExIT09T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLnNlbmRUYXJnZXRpbmdLZXlzIiksbz1mdW5jdGlvbihlKXt2YXIgdD17fTtPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJuYXRpdmVQYXJhbXMuZXh0IikmJk9iamVjdC5rZXlzKGUubmF0aXZlUGFyYW1zLmV4dCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dFtlXT0iaGJfbmF0aXZlXyIuY29uY2F0KGUpfSkpO3JldHVybiB1KHUoe30sZC5OQVRJVkVfS0VZUyksdCl9KHQpLGE9dSh1KHt9LGUubmF0aXZlKSxlLm5hdGl2ZS5leHQpO3JldHVybiBkZWxldGUgYS5leHQsT2JqZWN0LmtleXMoYSkuZm9yRWFjaCgoZnVuY3Rpb24oYSl7dmFyIGM9b1thXSx1PWcoZS5uYXRpdmVbYV0pfHxnKE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm5hdGl2ZS5leHQuIi5jb25jYXQoYSkpKTtpZigiYWRUZW1wbGF0ZSIhPT1hJiZjJiZ1KXt2YXIgcz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuIi5jb25jYXQoYSwiLnNlbmRJZCIpKTtpZigiYm9vbGVhbiIhPXR5cGVvZiBzJiYocz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJuYXRpdmVQYXJhbXMuZXh0LiIuY29uY2F0KGEsIi5zZW5kSWQiKSkpLHMpdT0iIi5jb25jYXQoYywiOiIpLmNvbmNhdChlLmFkSWQpO3ZhciBkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZVBhcmFtcy4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSk7ImJvb2xlYW4iIT10eXBlb2YgZCYmKGQ9T2JqZWN0KHIuZGVlcEFjY2VzcykodCwibmF0aXZlUGFyYW1zLmV4dC4iLmNvbmNhdChhLCIuc2VuZFRhcmdldGluZ0tleXMiKSkpLCgiYm9vbGVhbiI9PXR5cGVvZiBkP2Q6aSkmJihuW2NdPXUpfX0pKSxufSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj17bWVzc2FnZToiYXNzZXRSZXNwb25zZSIsYWRJZDplLmFkSWQsYXNzZXRzOltdfTt0Lm5hdGl2ZS5oYXNPd25Qcm9wZXJ0eSgiYWRUZW1wbGF0ZSIpJiYobi5hZFRlbXBsYXRlPWcodC5uYXRpdmUuYWRUZW1wbGF0ZSkpO3QubmF0aXZlLmhhc093blByb3BlcnR5KCJyZW5kZXJlclVybCIpJiYobi5yZW5kZXJlclVybD1nKHQubmF0aXZlLnJlbmRlcmVyVXJsKSk7cmV0dXJuIGUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPU9iamVjdChyLmdldEtleUJ5VmFsdWUpKGQuTkFUSVZFX0tFWVMsZSksbz1nKHQubmF0aXZlW2ldKTtuLmFzc2V0cy5wdXNoKHtrZXk6aSx2YWx1ZTpvfSl9KSksbn0sdC5jPWZ1bmN0aW9uKGUsdCl7dmFyIG49e21lc3NhZ2U6ImFzc2V0UmVzcG9uc2UiLGFkSWQ6ZS5hZElkLGFzc2V0czpbXX07cmV0dXJuIE9iamVjdC5rZXlzKHQubmF0aXZlKS5mb3JFYWNoKChmdW5jdGlvbihlLHIpe2lmKCJhZFRlbXBsYXRlIj09PWUmJnQubmF0aXZlW2VdKW4uYWRUZW1wbGF0ZT1nKHQubmF0aXZlW2VdKTtlbHNlIGlmKCJyZW5kZXJlclVybCI9PT1lJiZ0Lm5hdGl2ZVtlXSluLnJlbmRlcmVyVXJsPWcodC5uYXRpdmVbZV0pO2Vsc2UgaWYoImV4dCI9PT1lKU9iamVjdC5rZXlzKHQubmF0aXZlW2VdKS5mb3JFYWNoKChmdW5jdGlvbihyKXtpZih0Lm5hdGl2ZVtlXVtyXSl7dmFyIGk9Zyh0Lm5hdGl2ZVtlXVtyXSk7bi5hc3NldHMucHVzaCh7a2V5OnIsdmFsdWU6aX0pfX0pKTtlbHNlIGlmKHQubmF0aXZlW2VdJiZkLk5BVElWRV9LRVlTLmhhc093blByb3BlcnR5KGUpKXt2YXIgaT1nKHQubmF0aXZlW2VdKTtuLmFzc2V0cy5wdXNoKHtrZXk6ZSx2YWx1ZTppfSl9fSkpLG59O3ZhciByPW4oMCksaT1uKDEyKSxvPW4ubihpKTtmdW5jdGlvbiBhKGUpe3JldHVybihhPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKHI9ci5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksbi5wdXNoLmFwcGx5KG4scil9cmV0dXJuIG59ZnVuY3Rpb24gdShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChuKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7cyhlLHQsblt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhuKSk6YyhPYmplY3QobikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBzKGUsdCxuKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOm4sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPW4sZX12YXIgZD1uKDUpLGY9W10sbD1PYmplY3Qua2V5cyhkLk5BVElWRV9LRVlTKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBkLk5BVElWRV9LRVlTW2VdfSkpLHA9e2ltYWdlOntpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiJvYmplY3QiPT09YShlKSYmZS51cmw/ZS51cmw6ZX19LDM4MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzODEpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzODE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9big1MSksbz1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ7cmV0dXJuIHIoZSkmJih2b2lkIDAhPT0odD1lW29dKT8hIXQ6IlJlZ0V4cCI9PWkoZSkpfX0sMzgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDIxKSgibWF0Y2giKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9Ly4vO3RyeXsiLy4vIltlXSh0KX1jYXRjaChuKXt0cnl7cmV0dXJuIHRbcl09ITEsIi8uLyJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX19LDM5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBqfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKSx0LmM9RSxuLmQodCwiZCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEF9KSk7dmFyIHI9bigwKSxpPW4oMyksbz1uKDM4KSxhPW4oMjMpLGM9bigxMDEpLHU9bigyKSxzPW4oOSksZD1uKDEyKSxmPW4ubihkKSxsPW4oMTEpLHA9bi5uKGwpO2Z1bmN0aW9uIGcoKXtyZXR1cm4oZz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIHYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIHkoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfXZhciBoPW4oNSksbT1bXSxPPU9iamVjdC5rZXlzKGguVEFSR0VUSU5HX0tFWVMpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGguVEFSR0VUSU5HX0tFWVNbZV19KSksaj17aXNCaWROb3RFeHBpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnJlc3BvbnNlVGltZXN0YW1wKzFlMyplLnR0bC0xZTM+T2JqZWN0KHIudGltZXN0YW1wKSgpfSxpc1VudXNlZEJpZDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuc3RhdHVzJiYhZigpKFtoLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX19LFM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowLG89YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXTtpZighbyl7dmFyIGE9W10sYz1pLmIuZ2V0Q29uZmlnKCJzZW5kQmlkc0NvbnRyb2wuZGVhbFByaW9yaXRpemF0aW9uIiksdT1PYmplY3Qoci5ncm91cEJ5KShlLCJhZFVuaXRDb2RlIik7cmV0dXJuIE9iamVjdC5rZXlzKHUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPVtdLG89T2JqZWN0KHIuZ3JvdXBCeSkodVtlXSwiYmlkZGVyQ29kZSIpO09iamVjdC5rZXlzKG8pLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBpLnB1c2gob1tlXS5yZWR1Y2UodCkpfSkpLG4+MD8oaT1jP2kuc29ydChFKCEwKSk6aS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LmNwbS1lLmNwbX0pKSxhLnB1c2guYXBwbHkoYSx2KGkuc2xpY2UoMCxuKSkpKTphLnB1c2guYXBwbHkoYSx2KGkpKX0pKSxhfXJldHVybiBlfSkpO2Z1bmN0aW9uIEUoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMD09PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8tMTp2b2lkIDA9PT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWwmJnZvaWQgMCE9PW4uYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfZGVhbD8xOmU/bi5jcG0tdC5jcG06bi5hZHNlcnZlclRhcmdldGluZy5oYl9wYi10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX3BifX12YXIgQT1mdW5jdGlvbihlKXt2YXIgdD17fSxuPXt9O2Z1bmN0aW9uIGEoZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKE9iamVjdChyLmlzQXJyYXkpKHQpJiZmKCkodCxlLmFkVW5pdENvZGUpfHwic3RyaW5nIj09dHlwZW9mIHQmJmUuYWRVbml0Q29kZT09PXQpfWZ1bmN0aW9uIHMoZSx0KXtpZighMD09PWkuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmFsd2F5c0luY2x1ZGVEZWFscyIpKXt2YXIgbj1PLmNvbmNhdChvLmEpO3JldHVybiBTKHQsci5nZXRIaWdoZXN0Q3BtKS5tYXAoKGZ1bmN0aW9uKHQpe2lmKHQuZGVhbElkJiZhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfXJldHVybltdfWZ1bmN0aW9uIGQoZSx0KXt2YXIgbj1nKHt9LGguVEFSR0VUSU5HX0tFWVMsaC5OQVRJVkVfS0VZUyksaT1PYmplY3Qua2V5cyhuKSxvPXt9O09iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSBhbGxvd2VkIGtleXMgWyAiLmNvbmNhdCh0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV19KSkuam9pbigiLCAiKSwiIF0iKSksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9ZVtyXS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdLGE9MD09PWkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gMD09PXIuaW5kZXhPZihuW2VdKX0pKS5sZW5ndGh8fHAoKSh0LChmdW5jdGlvbihlKXt2YXIgdD1uW2VdO3JldHVybiAwPT09ci5pbmRleE9mKHQpfSkpO3JldHVybiBvW3JdPSFhLGF9KSk7ZVtyXT1hfSkpO3ZhciBhPU9iamVjdC5rZXlzKG8pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV19KSk7cmV0dXJuIE9iamVjdChyLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSByZW1vdmVkIGtleXMgWyAiLmNvbmNhdChhLmpvaW4oIiwgIiksIiBdIikpLGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVtPYmplY3Qua2V5cyhlKVswXV0ubGVuZ3RoPjB9KSl9ZnVuY3Rpb24gbChlLHQpe3ZhciBuPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIE9iamVjdC5rZXlzKG4pLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue2FkVW5pdENvZGU6ZSxhZHNlcnZlclRhcmdldGluZzpuW2VdfX0pKS5zb3J0KEUoKSkucmVkdWNlKChmdW5jdGlvbihlLGksbyxhKXt2YXIgYyx1PShjPWkuYWRzZXJ2ZXJUYXJnZXRpbmcsT2JqZWN0LmtleXMoYykucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlKyIiLmNvbmNhdCh0LCIlM2QiKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGNbdF0pLCIlMjYiKX0pLCIiKSk7bysxPT09YS5sZW5ndGgmJih1PXUuc2xpY2UoMCwtMykpO3ZhciBzPWkuYWRVbml0Q29kZSxkPXUubGVuZ3RoO3JldHVybiBkPD10Pyh0LT1kLE9iamVjdChyLmxvZ0luZm8pKCJBZFVuaXQgJyIuY29uY2F0KHMsIicgYXVjdGlvbiBrZXlzIGNvbXByaXNlZCBvZiAiKS5jb25jYXQoZCwiIGNoYXJhY3RlcnMuICBEZWR1Y3RlZCBmcm9tIHJ1bm5pbmcgdGhyZXNob2xkOyBuZXcgbGltaXQgaXMgIikuY29uY2F0KHQpLG5bc10pLGVbc109bltzXSk6T2JqZWN0KHIubG9nV2FybikoIlRoZSBmb2xsb3dpbmcga2V5cyBmb3IgYWRVbml0Q29kZSAnIi5jb25jYXQocywiJyBleGNlZWRlZCB0aGUgY3VycmVudCBsaW1pdCBvZiB0aGUgJ2F1Y3Rpb25LZXlNYXhDaGFycycgc2V0dGluZy5cblRoZSBrZXktc2V0IHNpemUgd2FzICIpLmNvbmNhdChkLCIsIHRoZSBjdXJyZW50IGFsbG90dGVkIGFtb3VudCB3YXMgIikuY29uY2F0KHQsIi5cbiIpLG5bc10pLG8rMT09PWEubGVuZ3RoJiYwPT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qoci5sb2dFcnJvcikoIk5vIGF1Y3Rpb24gdGFyZ2V0aW5nIGtleXMgd2VyZSBwZXJtaXR0ZWQgZHVlIHRvIHRoZSBzZXR0aW5nIGluIHNldENvbmZpZyh0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMpLiAgUGxlYXNlIHJldmlldyBzZXR1cCBhbmQgY29uc2lkZXIgYWRqdXN0aW5nLiIpLGV9KSx7fSl9ZnVuY3Rpb24geShlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sT2JqZWN0LmtleXMoZSlbMF0sZVtPYmplY3Qua2V5cyhlKVswXV0uam9pbigiLCIpKX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcodCxlKX0pLHt9KSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKHQpWzBdO3JldHVybiBlW25dPWcoe30sZVtuXSx0W25dKSxlfSkse30pfWZ1bmN0aW9uIEEodCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0P1t0XTpPYmplY3Qoci5pc0FycmF5KSh0KT90OmUuZ2V0QWRVbml0Q29kZXMoKXx8W119ZnVuY3Rpb24gVCgpe3ZhciB0PWUuZ2V0Qmlkc1JlY2VpdmVkKCk7cmV0dXJuIGkuYi5nZXRDb25maWcoInVzZUJpZENhY2hlIil8fCh0PXQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbltlLmFkVW5pdENvZGVdPT09ZS5hdWN0aW9uSWR9KSkpLHQ9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ2aWRlby5jb250ZXh0IikhPT11LmF9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWUubWVkaWFUeXBlfHxPYmplY3QoYy5jKShbZS53aWR0aCxlLmhlaWdodF0pfSkpLmZpbHRlcihqLmlzVW51c2VkQmlkKS5maWx0ZXIoai5pc0JpZE5vdEV4cGlyZWQpLFModCxyLmdldE9sZGVzdEhpZ2hlc3RDcG1CaWQpfWZ1bmN0aW9uIEkoZSxuKXt2YXIgcj10LmdldFdpbm5pbmdCaWRzKGUsbiksaT13KCk7cmV0dXJuIHI9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT1lLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8ZS5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09aS5pbmRleE9mKHQpfSkpLnJlZHVjZSgoZnVuY3Rpb24odCxuKXt2YXIgcj1bZS5hZHNlcnZlclRhcmdldGluZ1tuXV0saT1iKHt9LG4uc3Vic3RyaW5nKDAsMjApLHIpO2lmKG49PT1oLlRBUkdFVElOR19LRVlTLkRFQUwpe3ZhciBvPWIoe30sIiIuY29uY2F0KG4sIl8iKS5jb25jYXQoZS5iaWRkZXJDb2RlKS5zdWJzdHJpbmcoMCwyMCkscik7cmV0dXJuW10uY29uY2F0KHYodCksW2ksb10pfXJldHVybltdLmNvbmNhdCh2KHQpLFtpXSl9KSxbXSkpfSkpfWZ1bmN0aW9uIHcoKXtyZXR1cm4gZS5nZXRTdGFuZGFyZEJpZGRlckFkU2VydmVyVGFyZ2V0aW5nKCkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXl9KSkuY29uY2F0KE8pLmZpbHRlcihyLnVuaXF1ZXMpfWZ1bmN0aW9uIEMoZSx0LG4saSl7cmV0dXJuIE9iamVjdC5rZXlzKHQuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihSKCkpLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UubGVuZ3RoJiZlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZSYmbi5hZHNlcnZlclRhcmdldGluZ1tlXX19KG4pKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuKXtPYmplY3Qoci5pc0FycmF5KShuLmFkc2VydmVyVGFyZ2V0aW5nW2VdKXx8KG4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV09W24uYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKSxuLmFkc2VydmVyVGFyZ2V0aW5nW2VdPW4uYWRzZXJ2ZXJUYXJnZXRpbmdbZV0uY29uY2F0KHQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0pLmZpbHRlcihyLnVuaXF1ZXMpLGRlbGV0ZSB0LmFkc2VydmVyVGFyZ2V0aW5nW2VdfX0obikpfSkpLGUucHVzaCh0KSxlfWZ1bmN0aW9uIFIoKXt2YXIgZT13KCkuY29uY2F0KG8uYSk7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybi0xPT09ZS5pbmRleE9mKHQpfX1mdW5jdGlvbiBfKGUpe3JldHVybiBiKHt9LGUuYWRVbml0Q29kZSxPYmplY3Qua2V5cyhlLmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIoUigpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiBiKHt9LHQuc3Vic3RyaW5nKDAsMjApLFtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSl9KSkpfWZ1bmN0aW9uIFUoZSx0KXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBmKCkoZSx0LmFkVW5pdENvZGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGcoe30sZSl9KSkucmVkdWNlKEMsW10pLm1hcChfKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpfWZ1bmN0aW9uIEIoZSx0KXt2YXIgbj1PLmNvbmNhdChvLmEpLGM9aS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmJpZExpbWl0IiksdT1TKHQsci5nZXRIaWdoZXN0Q3BtLGMpLHM9aS5iLmdldENvbmZpZygidGFyZ2V0aW5nQ29udHJvbHMuYWxsb3dTZW5kQWxsQmlkc1RhcmdldGluZ0tleXMiKSxkPXM/cy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBoLlRBUkdFVElOR19LRVlTW2VdfSkpOm47cmV0dXJuIHUubWFwKChmdW5jdGlvbih0KXtpZihhKHQsZSkpcmV0dXJuIGIoe30sdC5hZFVuaXRDb2RlLHgodCxuLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV0mJi0xIT09ZC5pbmRleE9mKGUpfSkpKSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX1mdW5jdGlvbiB4KGUsdCl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gYih7fSwiIi5jb25jYXQodCwiXyIpLmNvbmNhdChlLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxbZS5hZHNlcnZlclRhcmdldGluZ1t0XV0pfSkpfWZ1bmN0aW9uIEQodCl7ZnVuY3Rpb24gbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSxoLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkcpfXJldHVybiBlLmdldEFkVW5pdHMoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkodCxlLmNvZGUpJiZuKGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGIoe30sZS5jb2RlLGZ1bmN0aW9uKGUpe3ZhciB0PW4oZSk7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKSh0W2VdKSYmKHRbZV09dFtlXS5zcGxpdCgiLCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpKSxPYmplY3Qoci5pc0FycmF5KSh0W2VdKXx8KHRbZV09W3RbZV1dKSxiKHt9LGUsdFtlXSl9KSl9KGUpKX0pKX1yZXR1cm4gdC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0PWZ1bmN0aW9uKGUsdCl7bltlXT10fSx0LnJlc2V0UHJlc2V0VGFyZ2V0aW5nPWZ1bmN0aW9uKHQsbil7aWYoT2JqZWN0KHIuaXNHcHRQdWJhZHNEZWZpbmVkKSgpKXt2YXIgaT1BKHQpLG89ZS5nZXRBZFVuaXRzKCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKGksZS5jb2RlKX0pKSxhPW0ucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlW3RdPW51bGwsZX0pLHt9KTt3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcygpLmdldFNsb3RzKCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuaXNGbikobikmJm4oZSk7by5mb3JFYWNoKChmdW5jdGlvbihuKXsobi5jb2RlPT09ZS5nZXRBZFVuaXRQYXRoKCl8fG4uY29kZT09PWUuZ2V0U2xvdEVsZW1lbnRJZCgpfHxPYmplY3Qoci5pc0ZuKSh0KSYmdChuLmNvZGUpKSYmZS51cGRhdGVUYXJnZXRpbmdGcm9tTWFwKGEpfSkpfSkpfX0sdC5yZXNldFByZXNldFRhcmdldGluZ0FTVD1mdW5jdGlvbihlKXtBKGUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciB0PXdpbmRvdy5hcG50YWcuZ2V0VGFnKGUpO2lmKHQmJnQua2V5d29yZHMpe3ZhciBuPU9iamVjdC5rZXlzKHQua2V5d29yZHMpLHI9e307bi5mb3JFYWNoKChmdW5jdGlvbihlKXtmKCkobSxlLnRvTG93ZXJDYXNlKCkpfHwocltlXT10LmtleXdvcmRzW2VdKX0pKSx3aW5kb3cuYXBudGFnLm1vZGlmeVRhZyhlLHtrZXl3b3JkczpyfSl9fSkpfSx0LmdldEFsbFRhcmdldGluZz1mdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06VCgpLG49QShlKSxvPUkobix0KS5jb25jYXQoVShuLHQpKS5jb25jYXQoaS5iLmdldENvbmZpZygiZW5hYmxlU2VuZEFsbEJpZHMiKT9CKG4sdCk6cyhuLHQpKS5jb25jYXQoRChuKSk7by5tYXAoKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUpLm1hcCgoZnVuY3Rpb24odCl7ZVt0XS5tYXAoKGZ1bmN0aW9uKGUpey0xPT09bS5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKG09T2JqZWN0LmtleXMoZSkuY29uY2F0KG0pKX0pKX0pKX0pKTt2YXIgYT1PYmplY3Qua2V5cyhnKHt9LGguREVGQVVMVF9UQVJHRVRJTkdfS0VZUyxoLk5BVElWRV9LRVlTKSksYz1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKXx8YTtBcnJheS5pc0FycmF5KGMpJiZjLmxlbmd0aD4wJiYobz1kKG8sYykpLG89eShvKTt2YXIgdT1pLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMiKTtyZXR1cm4gdSYmKE9iamVjdChyLmxvZ0luZm8pKCJEZXRlY3RlZCAndGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzJyB3YXMgYWN0aXZlIGZvciB0aGlzIGF1Y3Rpb247IHNldCB3aXRoIGEgbGltaXQgb2YgIi5jb25jYXQodSwiIGNoYXJhY3RlcnMuICBSdW5uaW5nIGNoZWNrcyBvbiBhdWN0aW9uIGtleXMuLi4iKSksbz1sKG8sdSkpLG4uZm9yRWFjaCgoZnVuY3Rpb24oZSl7b1tlXXx8KG9bZV09e30pfSkpLG99LHQuc2V0VGFyZ2V0aW5nRm9yR1BUPWZ1bmN0aW9uKGUsdCl7d2luZG93Lmdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdC5rZXlzKGUpLmZpbHRlcih0P3Qobik6T2JqZWN0KHIuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KShuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmtleXMoZVt0XSkuZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHI9ZVt0XVtuXTsic3RyaW5nIj09dHlwZW9mIHImJi0xIT09ci5pbmRleE9mKCIsIikmJihyPXIuc3BsaXQoIiwiKSksZVt0XVtuXT1yfSkpLE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmctbWFwIGZvciBzbG90OiAiLmNvbmNhdChuLmdldFNsb3RFbGVtZW50SWQoKSwiIHdpdGggdGFyZ2V0aW5nLW1hcDoiKSxlW3RdKSxuLnVwZGF0ZVRhcmdldGluZ0Zyb21NYXAoZVt0XSl9KSl9KSl9LHQuZ2V0V2lubmluZ0JpZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlQoKSxuPUEoZSk7cmV0dXJuIHQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG4sZS5hZFVuaXRDb2RlKX0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNwbT4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZX0pKS5maWx0ZXIoci51bmlxdWVzKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWU/dDpudWxsfSkpLnJlZHVjZShyLmdldEhpZ2hlc3RDcG0pfSkpfSx0LnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgbj10LmdldEFsbFRhcmdldGluZyhlKTt0cnl7dC5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXtPYmplY3Qoci5sb2dFcnJvcikoInVuYWJsZSB0byByZXNldCB0YXJnZXRpbmcgZm9yIEFTVCIrZSl9T2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKE9iamVjdChyLmxvZ01lc3NhZ2UpKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmcgZm9yIHRhcmdldElkOiAiLmNvbmNhdChlLCIga2V5OiAiKS5jb25jYXQodCwiIHZhbHVlOiAiKS5jb25jYXQobltlXVt0XSkpLE9iamVjdChyLmlzU3RyKShuW2VdW3RdKXx8T2JqZWN0KHIuaXNBcnJheSkobltlXVt0XSkpe3ZhciBpPXt9O3Quc2VhcmNoKC9wdFswLTldLyk8MD9pW3QudG9VcHBlckNhc2UoKV09bltlXVt0XTppW3RdPW5bZV1bdF0sd2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcyhlLGkse292ZXJyaWRlS2V5VmFsdWU6ITB9KX19KSl9KSl9LHQuaXNBcG50YWdEZWZpbmVkPWZ1bmN0aW9uKCl7aWYod2luZG93LmFwbnRhZyYmT2JqZWN0KHIuaXNGbikod2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcykpcmV0dXJuITB9LHR9KGEuYSl9LDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5iPXM7dmFyIHI9bigzKSxpPW4oMCksbz1uKDQ3KTtmdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBjKGUpe3JldHVybihjPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHU9cygpO2Z1bmN0aW9uIHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06M2UzLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG49dC5yZXF1ZXN0LHU9dC5kb25lO3JldHVybiBmdW5jdGlvbih0LHMsZCl7dmFyIGY9YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOnt9O3RyeXt2YXIgbCxwPWYubWV0aG9kfHwoZD8iUE9TVCI6IkdFVCIpLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3Q9by5jKHQpLGcuaHJlZj10O3ZhciBiPSJvYmplY3QiPT09YyhzKSYmbnVsbCE9PXM/czp7c3VjY2VzczpmdW5jdGlvbigpe09iamVjdChpLmxvZ01lc3NhZ2UpKCJ4aHIgc3VjY2VzcyIpfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3QoaS5sb2dFcnJvcikoInhociBlcnJvciIsbnVsbCxlKX19O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBzJiYoYi5zdWNjZXNzPXMpLChsPW5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKDQ9PT1sLnJlYWR5U3RhdGUpeyJmdW5jdGlvbiI9PXR5cGVvZiB1JiZ1KGcub3JpZ2luKTt2YXIgZT1sLnN0YXR1cztlPj0yMDAmJmU8MzAwfHwzMDQ9PT1lP2Iuc3VjY2VzcyhsLnJlc3BvbnNlVGV4dCxsKTpiLmVycm9yKGwuc3RhdHVzVGV4dCxsKX19LHIuYi5nZXRDb25maWcoImRpc2FibGVBamF4VGltZW91dCIpfHwobC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dFcnJvcikoIiAgeGhyIHRpbWVvdXQgYWZ0ZXIgIixsLnRpbWVvdXQsIm1zIil9KSwiR0VUIj09PXAmJmQpe3ZhciB2PU9iamVjdChpLnBhcnNlVXJsKSh0LGYpO2Eodi5zZWFyY2gsZCksdD1PYmplY3QoaS5idWlsZFVybCkodil9bC5vcGVuKHAsdCwhMCksci5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChsLnRpbWVvdXQ9ZSksZi53aXRoQ3JlZGVudGlhbHMmJihsLndpdGhDcmVkZW50aWFscz0hMCksT2JqZWN0KGkuX2VhY2gpKGYuY3VzdG9tSGVhZGVycywoZnVuY3Rpb24oZSx0KXtsLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxmLnByZWZsaWdodCYmbC5zZXRSZXF1ZXN0SGVhZGVyKCJYLVJlcXVlc3RlZC1XaXRoIiwiWE1MSHR0cFJlcXVlc3QiKSxsLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZi5jb250ZW50VHlwZXx8InRleHQvcGxhaW4iKSwiZnVuY3Rpb24iPT10eXBlb2YgbiYmbihnLm9yaWdpbiksIlBPU1QiPT09cCYmZD9sLnNlbmQoZCk6bC5zZW5kKCl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJ4aHIgY29uc3RydWN0aW9uIixlKSwib2JqZWN0Ij09PWMocykmJm51bGwhPT1zJiZzLmVycm9yKGUpfX19fSw0MDpmdW5jdGlvbihlLHQpe3ZhciBuO249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSw0MTpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTYpLGk9bigyNCksbz1uKDIxKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLGE9cihlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09YXx8bnVsbD09KG49cihhKVtvXSk/dDppKG4pfX0sNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3IGkoZSx0KX07dmFyIHI9bigwKTtmdW5jdGlvbiBpKGUsdCl7dmFyIG49dCYmdC5zcmN8fCJjbGllbnQiLGk9ZXx8MDt0aGlzLmJpZGRlckNvZGU9dCYmdC5iaWRkZXJ8fCIiLHRoaXMud2lkdGg9MCx0aGlzLmhlaWdodD0wLHRoaXMuc3RhdHVzTWVzc2FnZT1mdW5jdGlvbigpe3N3aXRjaChpKXtjYXNlIDA6cmV0dXJuIlBlbmRpbmciO2Nhc2UgMTpyZXR1cm4iQmlkIGF2YWlsYWJsZSI7Y2FzZSAyOnJldHVybiJCaWQgcmV0dXJuZWQgZW1wdHkgb3IgZXJyb3IgcmVzcG9uc2UiO2Nhc2UgMzpyZXR1cm4iQmlkIHRpbWVkIG91dCJ9fSgpLHRoaXMuYWRJZD1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLHRoaXMucmVxdWVzdElkPXQmJnQuYmlkSWQsdGhpcy5tZWRpYVR5cGU9ImJhbm5lciIsdGhpcy5zb3VyY2U9bix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gaX0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrIngiK3RoaXMuaGVpZ2h0fX19LDQ0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0sNDU6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDQ1MTpmdW5jdGlvbihlLHQsbil7big0NTIpO3ZhciByPW4oNDUpO2UuZXhwb3J0cz1yLlVSTFNlYXJjaFBhcmFtc30sNDUyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bigxMDApO3ZhciByPW4oMTUpLGk9bigyNiksbz1uKDQ1MyksYT1uKDcyKSxjPW4oOTUpLHU9big2MCkscz1uKDk2KSxkPW4oNDYpLGY9big2OSksbD1uKDMxKSxwPW4oMjUpLGc9big1OSksYj1uKDE2KSx2PW4oMzApLHk9big3MSksaD1uKDQ0KSxtPW4oNzQpLE89big1OCksaj1uKDIxKSxTPWkoImZldGNoIiksRT1pKCJIZWFkZXJzIiksQT1qKCJpdGVyYXRvciIpLFQ9IlVSTFNlYXJjaFBhcmFtcyIsST0iVVJMU2VhcmNoUGFyYW1zSXRlcmF0b3IiLHc9ZC5zZXQsQz1kLmdldHRlckZvcihUKSxSPWQuZ2V0dGVyRm9yKEkpLF89L1wrL2csVT1BcnJheSg0KSxCPWZ1bmN0aW9uKGUpe3JldHVybiBVW2UtMV18fChVW2UtMV09UmVnRXhwKCIoKD86JVtcXGRhLWZdezJ9KXsiK2UrIn0pIiwiZ2kiKSl9LHg9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZSl9Y2F0Y2godCl7cmV0dXJuIGV9fSxEPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVwbGFjZShfLCIgIiksbj00O3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQpfWNhdGNoKGUpe2Zvcig7bjspdD10LnJlcGxhY2UoQihuLS0pLHgpO3JldHVybiB0fX0saz0vWyEnKCl+XXwlMjAvZyxOPXsiISI6IiUyMSIsIiciOiIlMjciLCIoIjoiJTI4IiwiKSI6IiUyOSIsIn4iOiIlN0UiLCIlMjAiOiIrIn0sUD1mdW5jdGlvbihlKXtyZXR1cm4gTltlXX0scT1mdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpLnJlcGxhY2UoayxQKX0sTT1mdW5jdGlvbihlLHQpe2lmKHQpZm9yKHZhciBuLHIsaT10LnNwbGl0KCImIiksbz0wO288aS5sZW5ndGg7KShuPWlbbysrXSkubGVuZ3RoJiYocj1uLnNwbGl0KCI9IiksZS5wdXNoKHtrZXk6RChyLnNoaWZ0KCkpLHZhbHVlOkQoci5qb2luKCI9IikpfSkpfSxHPWZ1bmN0aW9uKGUpe3RoaXMuZW50cmllcy5sZW5ndGg9MCxNKHRoaXMuZW50cmllcyxlKX0sTD1mdW5jdGlvbihlLHQpe2lmKGU8dCl0aHJvdyBUeXBlRXJyb3IoIk5vdCBlbm91Z2ggYXJndW1lbnRzIil9LFc9cygoZnVuY3Rpb24oZSx0KXt3KHRoaXMse3R5cGU6SSxpdGVyYXRvcjptKEMoZSkuZW50cmllcyksa2luZDp0fSl9KSwiSXRlcmF0b3IiLChmdW5jdGlvbigpe3ZhciBlPVIodGhpcyksdD1lLmtpbmQsbj1lLml0ZXJhdG9yLm5leHQoKSxyPW4udmFsdWU7cmV0dXJuIG4uZG9uZXx8KG4udmFsdWU9ImtleXMiPT09dD9yLmtleToidmFsdWVzIj09PXQ/ci52YWx1ZTpbci5rZXksci52YWx1ZV0pLG59KSksRj1mdW5jdGlvbigpe2YodGhpcyxGLFQpO3ZhciBlLHQsbixyLGksbyxhLGMsdSxzPWFyZ3VtZW50cy5sZW5ndGg+MD9hcmd1bWVudHNbMF06dm9pZCAwLGQ9dGhpcyxwPVtdO2lmKHcoZCx7dHlwZTpULGVudHJpZXM6cCx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt9LHVwZGF0ZVNlYXJjaFBhcmFtczpHfSksdm9pZCAwIT09cylpZih2KHMpKWlmKCJmdW5jdGlvbiI9PXR5cGVvZihlPU8ocykpKWZvcihuPSh0PWUuY2FsbChzKSkubmV4dDshKHI9bi5jYWxsKHQpKS5kb25lOyl7aWYoKGE9KG89KGk9bShiKHIudmFsdWUpKSkubmV4dCkuY2FsbChpKSkuZG9uZXx8KGM9by5jYWxsKGkpKS5kb25lfHwhby5jYWxsKGkpLmRvbmUpdGhyb3cgVHlwZUVycm9yKCJFeHBlY3RlZCBzZXF1ZW5jZSB3aXRoIGxlbmd0aCAyIik7cC5wdXNoKHtrZXk6YS52YWx1ZSsiIix2YWx1ZTpjLnZhbHVlKyIifSl9ZWxzZSBmb3IodSBpbiBzKWwocyx1KSYmcC5wdXNoKHtrZXk6dSx2YWx1ZTpzW3VdKyIifSk7ZWxzZSBNKHAsInN0cmluZyI9PXR5cGVvZiBzPyI/Ij09PXMuY2hhckF0KDApP3Muc2xpY2UoMSk6czpzKyIiKX0sej1GLnByb3RvdHlwZTtjKHose2FwcGVuZDpmdW5jdGlvbihlLHQpe0woYXJndW1lbnRzLmxlbmd0aCwyKTt2YXIgbj1DKHRoaXMpO24uZW50cmllcy5wdXNoKHtrZXk6ZSsiIix2YWx1ZTp0KyIifSksbi51cGRhdGVVUkwoKX0sZGVsZXRlOmZ1bmN0aW9uKGUpe0woYXJndW1lbnRzLmxlbmd0aCwxKTtmb3IodmFyIHQ9Qyh0aGlzKSxuPXQuZW50cmllcyxyPWUrIiIsaT0wO2k8bi5sZW5ndGg7KW5baV0ua2V5PT09cj9uLnNwbGljZShpLDEpOmkrKzt0LnVwZGF0ZVVSTCgpfSxnZXQ6ZnVuY3Rpb24oZSl7TChhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgdD1DKHRoaXMpLmVudHJpZXMsbj1lKyIiLHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdLmtleT09PW4pcmV0dXJuIHRbcl0udmFsdWU7cmV0dXJuIG51bGx9LGdldEFsbDpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj1bXSxpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXS5rZXk9PT1uJiZyLnB1c2godFtpXS52YWx1ZSk7cmV0dXJuIHJ9LGhhczpmdW5jdGlvbihlKXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciB0PUModGhpcykuZW50cmllcyxuPWUrIiIscj0wO3I8dC5sZW5ndGg7KWlmKHRbcisrXS5rZXk9PT1uKXJldHVybiEwO3JldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSx0KXtMKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPSExLGE9ZSsiIixjPXQrIiIsdT0wO3U8aS5sZW5ndGg7dSsrKShuPWlbdV0pLmtleT09PWEmJihvP2kuc3BsaWNlKHUtLSwxKToobz0hMCxuLnZhbHVlPWMpKTtvfHxpLnB1c2goe2tleTphLHZhbHVlOmN9KSxyLnVwZGF0ZVVSTCgpfSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHI9Qyh0aGlzKSxpPXIuZW50cmllcyxvPWkuc2xpY2UoKTtmb3IoaS5sZW5ndGg9MCxuPTA7bjxvLmxlbmd0aDtuKyspe2ZvcihlPW9bbl0sdD0wO3Q8bjt0KyspaWYoaVt0XS5rZXk+ZS5rZXkpe2kuc3BsaWNlKHQsMCxlKTticmVha310PT09biYmaS5wdXNoKGUpfXIudXBkYXRlVVJMKCl9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49Qyh0aGlzKS5lbnRyaWVzLHI9cChlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwLDMpLGk9MDtpPG4ubGVuZ3RoOylyKCh0PW5baSsrXSkudmFsdWUsdC5rZXksdGhpcyl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywia2V5cyIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywidmFsdWVzIil9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFcodGhpcywiZW50cmllcyIpfX0se2VudW1lcmFibGU6ITB9KSxhKHosQSx6LmVudHJpZXMpLGEoeiwidG9TdHJpbmciLChmdW5jdGlvbigpe2Zvcih2YXIgZSx0PUModGhpcykuZW50cmllcyxuPVtdLHI9MDtyPHQubGVuZ3RoOyllPXRbcisrXSxuLnB1c2gocShlLmtleSkrIj0iK3EoZS52YWx1ZSkpO3JldHVybiBuLmpvaW4oIiYiKX0pLHtlbnVtZXJhYmxlOiEwfSksdShGLFQpLHIoe2dsb2JhbDohMCxmb3JjZWQ6IW99LHtVUkxTZWFyY2hQYXJhbXM6Rn0pLG98fCJmdW5jdGlvbiIhPXR5cGVvZiBTfHwiZnVuY3Rpb24iIT10eXBlb2YgRXx8cih7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24oZSl7dmFyIHQsbixyLGk9W2VdO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjEmJih2KHQ9YXJndW1lbnRzWzFdKSYmKG49dC5ib2R5LGcobik9PT1UJiYoKHI9dC5oZWFkZXJzP25ldyBFKHQuaGVhZGVycyk6bmV3IEUpLmhhcygiY29udGVudC10eXBlIil8fHIuc2V0KCJjb250ZW50LXR5cGUiLCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD1VVEYtOCIpLHQ9eSh0LHtib2R5OmgoMCxTdHJpbmcobikpLGhlYWRlcnM6aCgwLHIpfSkpKSxpLnB1c2godCkpLFMuYXBwbHkodGhpcyxpKX19KSxlLmV4cG9ydHM9e1VSTFNlYXJjaFBhcmFtczpGLGdldFN0YXRlOkN9fSw0NTM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjkpLGk9bigyMSksbz1uKDE4KSxhPWkoIml0ZXJhdG9yIik7ZS5leHBvcnRzPSFyKChmdW5jdGlvbigpe3ZhciBlPW5ldyBVUkwoImI/YT0xJmI9MiZjPTMiLCJodHRwOi8vYSIpLHQ9ZS5zZWFyY2hQYXJhbXMsbj0iIjtyZXR1cm4gZS5wYXRobmFtZT0iYyUyMGQiLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt0LmRlbGV0ZSgiYiIpLG4rPXIrZX0pKSxvJiYhZS50b0pTT058fCF0LnNvcnR8fCJodHRwOi8vYS9jJTIwZD9hPTEmYz0zIiE9PWUuaHJlZnx8IjMiIT09dC5nZXQoImMiKXx8ImE9MSIhPT1TdHJpbmcobmV3IFVSTFNlYXJjaFBhcmFtcygiP2E9MSIpKXx8IXRbYV18fCJhIiE9PW5ldyBVUkwoImh0dHBzOi8vYUBiIikudXNlcm5hbWV8fCJiIiE9PW5ldyBVUkxTZWFyY2hQYXJhbXMobmV3IFVSTFNlYXJjaFBhcmFtcygiYT1iIikpLmdldCgiYSIpfHwieG4tLWUxYXliYyIhPT1uZXcgVVJMKCJodHRwOi8v0YLQtdGB0YIiKS5ob3N0fHwiIyVEMCVCMSIhPT1uZXcgVVJMKCJodHRwOi8vYSPQsSIpLmhhc2h8fCJhMWMzIiE9PW58fCJ4IiE9PW5ldyBVUkwoImh0dHA6Ly94Iix2b2lkIDApLmhvc3R9KSl9LDQ2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYT1uKDEyNSksYz1uKDI3KSx1PW4oMzApLHM9bigzMiksZD1uKDMxKSxmPW4oNjYpLGw9big3MCkscD1uKDU3KSxnPSJPYmplY3QgYWxyZWFkeSBpbml0aWFsaXplZCIsYj1jLldlYWtNYXA7aWYoYXx8Zi5zdGF0ZSl7dmFyIHY9Zi5zdGF0ZXx8KGYuc3RhdGU9bmV3IGIpLHk9di5nZXQsaD12LmhhcyxtPXYuc2V0O3I9ZnVuY3Rpb24oZSx0KXtpZihoLmNhbGwodixlKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLG0uY2FsbCh2LGUsdCksdH0saT1mdW5jdGlvbihlKXtyZXR1cm4geS5jYWxsKHYsZSl8fHt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBoLmNhbGwodixlKX19ZWxzZXt2YXIgTz1sKCJzdGF0ZSIpO3BbT109ITAscj1mdW5jdGlvbihlLHQpe2lmKGQoZSxPKSl0aHJvdyBuZXcgVHlwZUVycm9yKGcpO3JldHVybiB0LmZhY2FkZT1lLHMoZSxPLHQpLHR9LGk9ZnVuY3Rpb24oZSl7cmV0dXJuIGQoZSxPKT9lW09dOnt9fSxvPWZ1bmN0aW9uKGUpe3JldHVybiBkKGUsTyl9fWUuZXhwb3J0cz17c2V0OnIsZ2V0OmksaGFzOm8sZW5mb3JjZTpmdW5jdGlvbihlKXtyZXR1cm4gbyhlKT9pKGUpOnIoZSx7fSl9LGdldHRlckZvcjpmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG47aWYoIXUodCl8fChuPWkodCkpLnR5cGUhPT1lKXRocm93IFR5cGVFcnJvcigiSW5jb21wYXRpYmxlIHJlY2VpdmVyLCAiK2UrIiByZXF1aXJlZCIpO3JldHVybiBufX19fSw0NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXtpLnB1c2goZSl9LHQuYz1mdW5jdGlvbihlKXt0cnl7dmFyIHQ9ZTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXt0PWUodCl9KSksdH1jYXRjaCh0KXtyZXR1cm4gZX19LHQuYT1mdW5jdGlvbigpe3JldHVybiBvfSx0LmY9ZnVuY3Rpb24oZSl7cihlKX0sdC5kPWZ1bmN0aW9uKGUpe2EucHVzaChlKX0sdC5lPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOltdLHI9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDA7YS5mb3JFYWNoKChmdW5jdGlvbihpKXtpKGUsdCxuLHIpfSkpfTt2YXIgcixpPVtdO3ZhciBvPW5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyPWV9KSk7dmFyIGE9W119LDQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBmfSkpLG4uZCh0LCJiIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDExKSxpPW4ubihyKSxvPW4oMCksYT17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouNX1dfSxjPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMX1dfSx1PXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XX0scz17YnVja2V0czpbe21heDozLGluY3JlbWVudDouMDF9LHttYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWF4OjIwLGluY3JlbWVudDouNX1dfSxkPXtidWNrZXRzOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21heDoxMCxpbmNyZW1lbnQ6LjF9LHttYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGYoZSx0KXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6bChlLGEsbiksbWVkOiIiPT09cj8iIjpsKGUsYyxuKSxoaWdoOiIiPT09cj8iIjpsKGUsdSxuKSxhdXRvOiIiPT09cj8iIjpsKGUsZCxuKSxkZW5zZToiIj09PXI/IiI6bChlLHMsbiksY3VzdG9tOiIiPT09cj8iIjpsKGUsdCxuKX19ZnVuY3Rpb24gbChlLHQsbil7dmFyIHI9IiI7aWYoIXAodCkpcmV0dXJuIHI7dmFyIG89dC5idWNrZXRzLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5tYXg+dC5tYXg/ZTp0fSkse21heDowfSksYT0wLGM9aSgpKHQuYnVja2V0cywoZnVuY3Rpb24odCl7aWYoZT5vLm1heCpuKXt2YXIgaT10LnByZWNpc2lvbjt2b2lkIDA9PT1pJiYoaT0yKSxyPSh0Lm1heCpuKS50b0ZpeGVkKGkpfWVsc2V7aWYoZTw9dC5tYXgqbiYmZT49YSpuKXJldHVybiB0Lm1pbj1hLHQ7YT10Lm1heH19KSk7cmV0dXJuIGMmJihyPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj12b2lkIDAhPT10LnByZWNpc2lvbj90LnByZWNpc2lvbjoyLGk9dC5pbmNyZW1lbnQqbixvPXQubWluKm4sYT1NYXRoLnBvdygxMCxyKzIpLGM9KGUqYS1vKmEpLyhpKmEpLHU9TWF0aC5mbG9vcihjKSppK287cmV0dXJuKHU9TnVtYmVyKHUudG9GaXhlZCgxMCkpKS50b0ZpeGVkKHIpfShlLGMsbikpLHJ9ZnVuY3Rpb24gcChlKXtpZihPYmplY3Qoby5pc0VtcHR5KShlKXx8IWUuYnVja2V0c3x8IUFycmF5LmlzQXJyYXkoZS5idWNrZXRzKSlyZXR1cm4hMTt2YXIgdD0hMDtyZXR1cm4gZS5idWNrZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UubWF4JiZlLmluY3JlbWVudHx8KHQ9ITEpfSkpLHR9fSw1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6ImNvZGUiLFBMX1NJWkU6InNpemVzIixQTF9CSURTOiJiaWRzIixCRF9CSURERVI6ImJpZGRlciIsQkRfSUQ6InBhcmFtc2QiLEJEX1BMX0lEOiJwbGFjZW1lbnRJZCIsQURTRVJWRVJfVEFSR0VUSU5HOiJhZHNlcnZlclRhcmdldGluZyIsQkRfU0VUVElOR19TVEFOREFSRDoic3RhbmRhcmQifSxERUJVR19NT0RFOiJwYmpzX2RlYnVnIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6ImFsbFJlcXVlc3RlZEJpZHNCYWNrIixBRF9VTklUX0JJRFNfQkFDSzoiYWRVbml0Qmlkc0JhY2siLEJJRF9XT046ImJpZFdvbiIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyJ9fSxFVkVOVFM6e0FVQ1RJT05fSU5JVDoiYXVjdGlvbkluaXQiLEFVQ1RJT05fRU5EOiJhdWN0aW9uRW5kIixCSURfQURKVVNUTUVOVDoiYmlkQWRqdXN0bWVudCIsQklEX1RJTUVPVVQ6ImJpZFRpbWVvdXQiLEJJRF9SRVFVRVNURUQ6ImJpZFJlcXVlc3RlZCIsQklEX1JFU1BPTlNFOiJiaWRSZXNwb25zZSIsTk9fQklEOiJub0JpZCIsQklEX1dPTjoiYmlkV29uIixCSURERVJfRE9ORToiYmlkZGVyRG9uZSIsQklEREVSX0VSUk9SOiJiaWRkZXJFcnJvciIsU0VUX1RBUkdFVElORzoic2V0VGFyZ2V0aW5nIixCRUZPUkVfUkVRVUVTVF9CSURTOiJiZWZvcmVSZXF1ZXN0QmlkcyIsQkVGT1JFX0JJRERFUl9IVFRQOiJiZWZvcmVCaWRkZXJIdHRwIixSRVFVRVNUX0JJRFM6InJlcXVlc3RCaWRzIixBRERfQURfVU5JVFM6ImFkZEFkVW5pdHMiLEFEX1JFTkRFUl9GQUlMRUQ6ImFkUmVuZGVyRmFpbGVkIixBRF9SRU5ERVJfU1VDQ0VFREVEOiJhZFJlbmRlclN1Y2NlZWRlZCIsVENGMl9FTkZPUkNFTUVOVDoidGNmMkVuZm9yY2VtZW50IixBVUNUSU9OX0RFQlVHOiJhdWN0aW9uRGVidWciLEJJRF9WSUVXQUJMRToiYmlkVmlld2FibGUiLFNUQUxFX1JFTkRFUjoic3RhbGVSZW5kZXIifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdW1lbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCIsQURPTUFJTjoiaGJfYWRvbWFpbiJ9LERFRkFVTFRfVEFSR0VUSU5HX0tFWVM6e0JJRERFUjoiaGJfYmlkZGVyIixBRF9JRDoiaGJfYWRpZCIsUFJJQ0VfQlVDS0VUOiJoYl9wYiIsU0laRToiaGJfc2l6ZSIsREVBTDoiaGJfZGVhbCIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0hPU1Q6ImhiX2NhY2hlX2hvc3QifSxOQVRJVkVfS0VZUzp7dGl0bGU6ImhiX25hdGl2ZV90aXRsZSIsYm9keToiaGJfbmF0aXZlX2JvZHkiLGJvZHkyOiJoYl9uYXRpdmVfYm9keTIiLHByaXZhY3lMaW5rOiJoYl9uYXRpdmVfcHJpdmFjeSIscHJpdmFjeUljb246ImhiX25hdGl2ZV9wcml2aWNvbiIsc3BvbnNvcmVkQnk6ImhiX25hdGl2ZV9icmFuZCIsaW1hZ2U6ImhiX25hdGl2ZV9pbWFnZSIsaWNvbjoiaGJfbmF0aXZlX2ljb24iLGNsaWNrVXJsOiJoYl9uYXRpdmVfbGlua3VybCIsZGlzcGxheVVybDoiaGJfbmF0aXZlX2Rpc3BsYXl1cmwiLGN0YToiaGJfbmF0aXZlX2N0YSIscmF0aW5nOiJoYl9uYXRpdmVfcmF0aW5nIixhZGRyZXNzOiJoYl9uYXRpdmVfYWRkcmVzcyIsZG93bmxvYWRzOiJoYl9uYXRpdmVfZG93bmxvYWRzIixsaWtlczoiaGJfbmF0aXZlX2xpa2VzIixwaG9uZToiaGJfbmF0aXZlX3Bob25lIixwcmljZToiaGJfbmF0aXZlX3ByaWNlIixzYWxlUHJpY2U6ImhiX25hdGl2ZV9zYWxlcHJpY2UiLHJlbmRlcmVyVXJsOiJoYl9yZW5kZXJlcl91cmwiLGFkVGVtcGxhdGU6ImhiX2FkVGVtcGxhdGUifSxTMlM6e1NSQzoiczJzIixERUZBVUxUX0VORFBPSU5UOiJodHRwczovL3ByZWJpZC5hZG54cy5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24iLFNZTkNFRF9CSURERVJTX0tFWToicGJqc1N5bmNzIn0sQklEX1NUQVRVUzp7QklEX1RBUkdFVElOR19TRVQ6InRhcmdldGluZ1NldCIsUkVOREVSRUQ6InJlbmRlcmVkIixCSURfUkVKRUNURUQ6ImJpZFJlamVjdGVkIn19fSw1MDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big4NCksaT1uKDUyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHIoaShlKSl9fSw1MTpmdW5jdGlvbihlLHQpe3ZhciBuPXt9LnRvU3RyaW5nO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0sNTI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbD09ZSl0aHJvdyBUeXBlRXJyb3IoIkNhbid0IGNhbGwgbWV0aG9kIG9uICIrZSk7cmV0dXJuIGV9fSw1MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1Mik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QocihlKSl9fSw1NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NSksaT1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9pKHIoZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LDU1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7fX0sNTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1yfSw1NzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTkpLGk9big0MSksbz1uKDIxKSgiaXRlcmF0b3IiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYobnVsbCE9ZSlyZXR1cm4gZVtvXXx8ZVsiQEBpdGVyYXRvciJdfHxpW3IoZSldfX0sNTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNjgpLGk9big1MSksbz1uKDIxKSgidG9TdHJpbmdUYWciKSxhPSJBcmd1bWVudHMiPT1pKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSk7ZS5leHBvcnRzPXI/aTpmdW5jdGlvbihlKXt2YXIgdCxuLHI7cmV0dXJuIHZvaWQgMD09PWU/IlVuZGVmaW5lZCI6bnVsbD09PWU/Ik51bGwiOiJzdHJpbmciPT10eXBlb2Yobj1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PU9iamVjdChlKSxvKSk/bjphP2kodCk6Ik9iamVjdCI9PShyPWkodCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6cn19LDYwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDY4KSxpPW4oMzQpLmYsbz1uKDMyKSxhPW4oMzEpLGM9bigxMjQpLHU9bigyMSkoInRvU3RyaW5nVGFnIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHMpe2lmKGUpe3ZhciBkPW4/ZTplLnByb3RvdHlwZTthKGQsdSl8fGkoZCx1LHtjb25maWd1cmFibGU6ITAsdmFsdWU6dH0pLHMmJiFyJiZvKGQsInRvU3RyaW5nIixjKX19fSw2MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKTt2YXIgcj1uKDApLGk9bigzKSxvPW4oMTIpLGE9bi5uKG8pLGM9big3KTtmdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciBuPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09bilyZXR1cm47dmFyIHIsaSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKG49bi5jYWxsKGUpOyEoYT0ocj1uLm5leHQoKSkuZG9uZSkmJihvLnB1c2goci52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBzKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBzKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBzKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9aS5iLnNldERlZmF1bHRzKHt1c2VyU3luYzpPYmplY3Qoci5kZWVwQ2xvbmUpKHtzeW5jRW5hYmxlZDohMCxmaWx0ZXJTZXR0aW5nczp7aW1hZ2U6e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9fSxzeW5jc1BlckJpZGRlcjo1LHN5bmNEZWxheTozZTMsYXVjdGlvbkRlbGF5OjB9KX0pO3ZhciBmPU9iamVjdChjLmEpKCJ1c2Vyc3luYyIpO3ZhciBsPSFPYmplY3Qoci5pc1NhZmFyaUJyb3dzZXIpKCkmJmYuY29va2llc0FyZUVuYWJsZWQoKSxwPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LG49e2ltYWdlOltdLGlmcmFtZTpbXX0sbz1uZXcgU2V0LGM9e30scz17aW1hZ2U6ITAsaWZyYW1lOiExfSxmPWUuY29uZmlnO2Z1bmN0aW9uIGwoKXtpZihmLnN5bmNFbmFibGVkJiZlLmJyb3dzZXJTdXBwb3J0c0Nvb2tpZXMpe3RyeXshZnVuY3Rpb24oKXtpZighcy5pZnJhbWUpcmV0dXJuO3Aobi5pZnJhbWUsKGZ1bmN0aW9uKGUpe3ZhciB0PXUoZSwyKSxpPXRbMF0sbz10WzFdO09iamVjdChyLmxvZ01lc3NhZ2UpKCJJbnZva2luZyBpZnJhbWUgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KGkpKSxPYmplY3Qoci5pbnNlcnRVc2VyU3luY0lmcmFtZSkobyksZnVuY3Rpb24oZSx0KXtlLmltYWdlPWUuaW1hZ2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXSE9PXR9KSl9KG4saSl9KSl9KCksZnVuY3Rpb24oKXtpZighcy5pbWFnZSlyZXR1cm47cChuLmltYWdlLChmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLGk9dFsxXTtPYmplY3Qoci5sb2dNZXNzYWdlKSgiSW52b2tpbmcgaW1hZ2UgcGl4ZWwgdXNlciBzeW5jIGZvciBiaWRkZXI6ICIuY29uY2F0KG4pKSxPYmplY3Qoci50cmlnZ2VyUGl4ZWwpKGkpfSkpfSgpfWNhdGNoKGUpe3JldHVybiBPYmplY3Qoci5sb2dFcnJvcikoIkVycm9yIGZpcmluZyB1c2VyIHN5bmNzIixlKX1uPXtpbWFnZTpbXSxpZnJhbWU6W119fX1mdW5jdGlvbiBwKGUsdCl7T2JqZWN0KHIuc2h1ZmZsZSkoZSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dChlKSxvLmFkZChlWzBdKX0pKX1mdW5jdGlvbiBnKGUsdCl7dmFyIG49Zi5maWx0ZXJTZXR0aW5ncztpZihmdW5jdGlvbihlLHQpe2lmKGUuYWxsJiZlW3RdKXJldHVybiBPYmplY3Qoci5sb2dXYXJuKSgnRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxpPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIG89bi5maWx0ZXIsYT1uLmJpZGRlcnM7aWYobyYmImluY2x1ZGUiIT09byYmImV4Y2x1ZGUiIT09bylyZXR1cm4gT2JqZWN0KHIubG9nV2FybikoJ1VzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuZmlsdGVyXCIgc2V0dGluZyAnIikuY29uY2F0KG8sIicgaXMgbm90IGEgdmFsaWQgb3B0aW9uOyB1c2UgZWl0aGVyICdpbmNsdWRlJyBvciAnZXhjbHVkZScuIikpLCExO2lmKCIqIiE9PWEmJiEoQXJyYXkuaXNBcnJheShhKSYmYS5sZW5ndGg+MCYmYS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmlzU3RyKShlKSYmIioiIT09ZX0pKSkpcmV0dXJuIE9iamVjdChyLmxvZ1dhcm4pKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChpLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMTtyZXR1cm4hMH0obixlKSl7c1tlXT0hMDt2YXIgaT1uLmFsbD9uLmFsbDpuW2VdLG89IioiPT09aS5iaWRkZXJzP1t0XTppLmJpZGRlcnM7cmV0dXJue2luY2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hYSgpKGUsdCl9LGV4Y2x1ZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYSgpKGUsdCl9fVtpLmZpbHRlcnx8ImluY2x1ZGUiXShvLHQpfXJldHVybiFzW2VdfXJldHVybiBpLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIsKGZ1bmN0aW9uKGUpe2lmKGUudXNlclN5bmMpe3ZhciB0PWUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3M7T2JqZWN0KHIuaXNQbGFpbk9iamVjdCkodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSl9Zj1kKGYsZS51c2VyU3luYyl9KSksdC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSxpLGEpe3JldHVybiBvLmhhcyhpKT9PYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxyZWFkeSBmaXJlZCBzeW5jcyBmb3IgIicuY29uY2F0KGksJyIsIGlnbm9yaW5nIHJlZ2lzdGVyU3luYyBjYWxsJykpOmYuc3luY0VuYWJsZWQmJk9iamVjdChyLmlzQXJyYXkpKG5bZV0pP2k/MCE9PWYuc3luY3NQZXJCaWRkZXImJk51bWJlcihjW2ldKT49Zi5zeW5jc1BlckJpZGRlcj9PYmplY3Qoci5sb2dXYXJuKSgnTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdChpLCciJykpOnQuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsaSk/KG5bZV0ucHVzaChbaSxhXSksdm9pZChjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdF0/ZVt0XSs9MTplW3RdPTEsZX0oYyxpKSkpOk9iamVjdChyLmxvZ1dhcm4pKCdCaWRkZXIgIicuY29uY2F0KGksJyIgbm90IHBlcm1pdHRlZCB0byByZWdpc3RlciB0aGVpciAiJykuY29uY2F0KGUsJyIgdXNlclN5bmMgcGl4ZWxzLicpKTpPYmplY3Qoci5sb2dXYXJuKSgiQmlkZGVyIGlzIHJlcXVpcmVkIGZvciByZWdpc3RlcmluZyBzeW5jIik6T2JqZWN0KHIubG9nV2FybikoJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSl9LHQuc3luY1VzZXJzPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjA7aWYoZSlyZXR1cm4gc2V0VGltZW91dChsLE51bWJlcihlKSk7bCgpfSx0LnRyaWdnZXJVc2VyU3luY3M9ZnVuY3Rpb24oKXtmLmVuYWJsZU92ZXJyaWRlJiZ0LnN5bmNVc2VycygpfSx0LmNhbkJpZGRlclJlZ2lzdGVyU3luYz1mdW5jdGlvbihlLHQpe3JldHVybiFmLmZpbHRlclNldHRpbmdzfHwhZyhlLHQpfSx0fSh7Y29uZmlnOmkuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczpsfSl9LDYyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUsdCl7by5hZFNlcnZlcnM9by5hZFNlcnZlcnN8fHt9LG8uYWRTZXJ2ZXJzW2VdPW8uYWRTZXJ2ZXJzW2VdfHx7fSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihuKXtvLmFkU2VydmVyc1tlXVtuXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KG4sIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KGUsIi4iKSk6by5hZFNlcnZlcnNbZV1bbl09dFtuXX0pKX07dmFyIHI9bigxNCksaT1uKDApLG89T2JqZWN0KHIuYSkoKX0sNjM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFyKGUpKXJldHVybiBlO3ZhciBuLGk7aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKG49ZS50b1N0cmluZykmJiFyKGk9bi5jYWxsKGUpKSlyZXR1cm4gaTtpZigiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnZhbHVlT2YpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhcihpPW4uY2FsbChlKSkpcmV0dXJuIGk7dGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWUiKX19LDY0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI1KSxpPW4oODQpLG89big1MyksYT1uKDU0KSxjPW4oMTExKSx1PVtdLnB1c2gscz1mdW5jdGlvbihlKXt2YXIgdD0xPT1lLG49Mj09ZSxzPTM9PWUsZD00PT1lLGY9Nj09ZSxsPTc9PWUscD01PT1lfHxmO3JldHVybiBmdW5jdGlvbihnLGIsdix5KXtmb3IodmFyIGgsbSxPPW8oZyksaj1pKE8pLFM9cihiLHYsMyksRT1hKGoubGVuZ3RoKSxBPTAsVD15fHxjLEk9dD9UKGcsRSk6bnx8bD9UKGcsMCk6dm9pZCAwO0U+QTtBKyspaWYoKHB8fEEgaW4gaikmJihtPVMoaD1qW0FdLEEsTyksZSkpaWYodClJW0FdPW07ZWxzZSBpZihtKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gQTtjYXNlIDI6dS5jYWxsKEksaCl9ZWxzZSBzd2l0Y2goZSl7Y2FzZSA0OnJldHVybiExO2Nhc2UgNzp1LmNhbGwoSSxoKX1yZXR1cm4gZj8tMTpzfHxkP2Q6SX19O2UuZXhwb3J0cz17Zm9yRWFjaDpzKDApLG1hcDpzKDEpLGZpbHRlcjpzKDIpLHNvbWU6cygzKSxldmVyeTpzKDQpLGZpbmQ6cyg1KSxmaW5kSW5kZXg6cyg2KSxmaWx0ZXJPdXQ6cyg3KX19LDY1OmZ1bmN0aW9uKGUsdCl7dmFyIG49TWF0aC5jZWlsLHI9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9yOm4pKGUpfX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjcpLGk9bigxMTMpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsYT1yW29dfHxpKG8se30pO2UuZXhwb3J0cz1hfSw2NzpmdW5jdGlvbihlLHQpe3ZhciBuPTAscj1NYXRoLnJhbmRvbSgpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIrU3RyaW5nKHZvaWQgMD09PWU/IiI6ZSkrIilfIisoKytuK3IpLnRvU3RyaW5nKDM2KX19LDY4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj17fTtyW24oMjEpKCJ0b1N0cmluZ1RhZyIpXT0ieiIsZS5leHBvcnRzPSJbb2JqZWN0IHpdIj09PVN0cmluZyhyKX0sNjk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IFR5cGVFcnJvcigiSW5jb3JyZWN0ICIrKG4/bisiICI6IiIpKyJpbnZvY2F0aW9uIik7cmV0dXJuIGV9fSw3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpLG4uZCh0LCJkIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIHMoe21vZHVsZU5hbWU6ZSxtb2R1bGVUeXBlOiJjb3JlIn0pfSx0LmI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcyh7Z3ZsaWQ6ZSxtb2R1bGVOYW1lOnR9KX07dmFyIHI9big5KSxpPW4oMCksbz1uKDEyKSxhPW4ubihvKSxjPVsiY29yZSIsInByZWJpZC1tb2R1bGUiXSx1PVtdO2Z1bmN0aW9uIHMoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1lLmd2bGlkLG49ZS5tb2R1bGVOYW1lLHI9ZS5tb2R1bGVUeXBlO2Z1bmN0aW9uIG8oZSl7aWYoYSgpKGMscikpe3JldHVybiBlKHt2YWxpZDohMH0pfXZhciBvO3JldHVybiBkKHQsbix7aGFzRW5mb3JjZW1lbnRIb29rOiExfSwoZnVuY3Rpb24odCl7aWYodCYmdC5oYXNFbmZvcmNlbWVudEhvb2spbz1lKHQpO2Vsc2V7dmFyIG49e2hhc0VuZm9yY2VtZW50SG9vazohMSx2YWxpZDpPYmplY3QoaS5oYXNEZXZpY2VBY2Nlc3MpKCl9O289ZShuKX19KSksb312YXIgcz1mdW5jdGlvbihlLHQsbixyLGksYSl7dmFyIGM9ZnVuY3Rpb24obyl7aWYobyYmby52YWxpZCl7dmFyIGE9aSYmIiIhPT1pPyIgO2RvbWFpbj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaSkpOiIiLGM9biYmIiIhPT1uPyIgO2V4cGlyZXM9Ii5jb25jYXQobik6IiIsdT1udWxsIT1yJiYibm9uZSI9PXIudG9Mb3dlckNhc2UoKT8iOyBTZWN1cmUiOiIiO2RvY3VtZW50LmNvb2tpZT0iIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpLmNvbmNhdChjLCI7IHBhdGg9LyIpLmNvbmNhdChhKS5jb25jYXQocj8iOyBTYW1lU2l0ZT0iLmNvbmNhdChyKToiIikuY29uY2F0KHUpfX07aWYoIWF8fCJmdW5jdGlvbiIhPXR5cGVvZiBhKXJldHVybiBvKGMpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKGMpO2EoZSl9KSl9LGY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj13aW5kb3cuZG9jdW1lbnQuY29va2llLm1hdGNoKCIoXnw7KVxccyoiK2UrIlxccyo9XFxzKihbXjtdKilcXHMqKDt8JCkiKTtyZXR1cm4gbj9kZWNvZGVVUklDb21wb25lbnQoblsyXSk6bnVsbH1yZXR1cm4gbnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LGw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIsIjEiKSwiMSI9PT1sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgicHJlYmlkLmNvb2tpZVRlc3QiKX1jYXRjaChlKXt9ZmluYWxseXt0cnl7bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInByZWJpZC5jb29raWVUZXN0Iil9Y2F0Y2goZSl7fX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LHA9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUudmFsaWQpJiYoISFPYmplY3QoaS5jaGVja0Nvb2tpZVN1cHBvcnQpKCl8fCh3aW5kb3cuZG9jdW1lbnQuY29va2llPSJwcmViaWQuY29va2llVGVzdCIsLTEhPT13aW5kb3cuZG9jdW1lbnQuY29va2llLmluZGV4T2YoInByZWJpZC5jb29raWVUZXN0IikpKX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGc9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPWZ1bmN0aW9uKG4pe24mJm4udmFsaWQmJnkoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGUsdCl9O2lmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gbyhyKTt1LnB1c2goKGZ1bmN0aW9uKCl7dmFyIGU9byhyKTtuKGUpfSkpfSxiPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudmFsaWQmJnkoKT93aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk6bnVsbH07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHY9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXt0JiZ0LnZhbGlkJiZ5KCkmJndpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKX07aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBvKG4pO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgZT1vKG4pO3QoZSl9KSl9LHk9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZSYmZS52YWxpZCl0cnl7cmV0dXJuISF3aW5kb3cubG9jYWxTdG9yYWdlfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiTG9jYWwgc3RvcmFnZSBhcGkgZGlzYWJsZWQiKX1yZXR1cm4hMX07aWYoIWV8fCJmdW5jdGlvbiIhPXR5cGVvZiBlKXJldHVybiBvKHQpO3UucHVzaCgoZnVuY3Rpb24oKXt2YXIgbj1vKHQpO2Uobil9KSl9LGg9ZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbih0KXtpZih0JiZ0LnZhbGlkKXt2YXIgbj1bXTtpZihPYmplY3QoaS5oYXNEZXZpY2VBY2Nlc3MpKCkpZm9yKHZhciByPWRvY3VtZW50LmNvb2tpZS5zcGxpdCgiOyIpO3IubGVuZ3RoOyl7dmFyIG89ci5wb3AoKSxhPW8uaW5kZXhPZigiPSIpO2E9YTwwP28ubGVuZ3RoOmEsZGVjb2RlVVJJQ29tcG9uZW50KG8uc2xpY2UoMCxhKS5yZXBsYWNlKC9eXHMrLywiIikpLmluZGV4T2YoZSk+PTAmJm4ucHVzaChkZWNvZGVVUklDb21wb25lbnQoby5zbGljZShhKzEpKSl9cmV0dXJuIG59fTtpZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIG8obik7dS5wdXNoKChmdW5jdGlvbigpe3ZhciBlPW8obik7dChlKX0pKX07cmV0dXJue3NldENvb2tpZTpzLGdldENvb2tpZTpmLGxvY2FsU3RvcmFnZUlzRW5hYmxlZDpsLGNvb2tpZXNBcmVFbmFibGVkOnAsc2V0RGF0YUluTG9jYWxTdG9yYWdlOmcsZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2U6YixyZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZTp2LGhhc0xvY2FsU3RvcmFnZTp5LGZpbmRTaW1pbGFyQ29va2llczpofX12YXIgZD1PYmplY3Qoci5iKSgiYXN5bmMiLChmdW5jdGlvbihlLHQsbixyKXtyKG4pfSksInZhbGlkYXRlU3RvcmFnZUVuZm9yY2VtZW50Iil9LDcwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDg3KSxpPW4oNjcpLG89cigia2V5cyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09aShlKSl9fSw3MTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaT1uKDE2KSxvPW4oMTI4KSxhPW4oOTQpLGM9big1NyksdT1uKDEzMSkscz1uKDg2KSxkPW4oNzApLGY9ZCgiSUVfUFJPVE8iKSxsPWZ1bmN0aW9uKCl7fSxwPWZ1bmN0aW9uKGUpe3JldHVybiI8c2NyaXB0PiIrZSsiPC8iKyJzY3JpcHQ+In0sZz1mdW5jdGlvbigpe3RyeXtyPWRvY3VtZW50LmRvbWFpbiYmbmV3IEFjdGl2ZVhPYmplY3QoImh0bWxmaWxlIil9Y2F0Y2goZSl7fXZhciBlLHQ7Zz1yP2Z1bmN0aW9uKGUpe2Uud3JpdGUocCgiIikpLGUuY2xvc2UoKTt2YXIgdD1lLnBhcmVudFdpbmRvdy5PYmplY3Q7cmV0dXJuIGU9bnVsbCx0fShyKTooKHQ9cygiaWZyYW1lIikpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLHUuYXBwZW5kQ2hpbGQodCksdC5zcmM9U3RyaW5nKCJqYXZhc2NyaXB0OiIpLChlPXQuY29udGVudFdpbmRvdy5kb2N1bWVudCkub3BlbigpLGUud3JpdGUocCgiZG9jdW1lbnQuRj1PYmplY3QiKSksZS5jbG9zZSgpLGUuRik7Zm9yKHZhciBuPWEubGVuZ3RoO24tLTspZGVsZXRlIGcucHJvdG90eXBlW2Fbbl1dO3JldHVybiBnKCl9O2NbZl09ITAsZS5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG51bGwhPT1lPyhsLnByb3RvdHlwZT1pKGUpLG49bmV3IGwsbC5wcm90b3R5cGU9bnVsbCxuW2ZdPWUpOm49ZygpLHZvaWQgMD09PXQ/bjpvKG4sdCl9fSw3MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLGkpe2kmJmkuZW51bWVyYWJsZT9lW3RdPW46cihlLHQsbil9fSw3MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTUpLGk9big5Niksbz1uKDk4KSxhPW4oMTMzKSxjPW4oNjApLHU9bigzMikscz1uKDcyKSxkPW4oMjEpLGY9bigxOCksbD1uKDQxKSxwPW4oOTcpLGc9cC5JdGVyYXRvclByb3RvdHlwZSxiPXAuQlVHR1lfU0FGQVJJX0lURVJBVE9SUyx2PWQoIml0ZXJhdG9yIikseT0ia2V5cyIsaD0idmFsdWVzIixtPSJlbnRyaWVzIixPPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixkLHAsaixTKXtpKG4sdCxkKTt2YXIgRSxBLFQsST1mdW5jdGlvbihlKXtpZihlPT09cCYmVSlyZXR1cm4gVTtpZighYiYmZSBpbiBSKXJldHVybiBSW2VdO3N3aXRjaChlKXtjYXNlIHk6Y2FzZSBoOmNhc2UgbTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyxlKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBuKHRoaXMpfX0sdz10KyIgSXRlcmF0b3IiLEM9ITEsUj1lLnByb3RvdHlwZSxfPVJbdl18fFJbIkBAaXRlcmF0b3IiXXx8cCYmUltwXSxVPSFiJiZffHxJKHApLEI9IkFycmF5Ij09dCYmUi5lbnRyaWVzfHxfO2lmKEImJihFPW8oQi5jYWxsKG5ldyBlKSksZyE9PU9iamVjdC5wcm90b3R5cGUmJkUubmV4dCYmKGZ8fG8oRSk9PT1nfHwoYT9hKEUsZyk6ImZ1bmN0aW9uIiE9dHlwZW9mIEVbdl0mJnUoRSx2LE8pKSxjKEUsdywhMCwhMCksZiYmKGxbd109TykpKSxwPT1oJiZfJiZfLm5hbWUhPT1oJiYoQz0hMCxVPWZ1bmN0aW9uKCl7cmV0dXJuIF8uY2FsbCh0aGlzKX0pLGYmJiFTfHxSW3ZdPT09VXx8dShSLHYsVSksbFt0XT1VLHApaWYoQT17dmFsdWVzOkkoaCksa2V5czpqP1U6SSh5KSxlbnRyaWVzOkkobSl9LFMpZm9yKFQgaW4gQSkoYnx8Q3x8IShUIGluIFIpKSYmcyhSLFQsQVtUXSk7ZWxzZSByKHt0YXJnZXQ6dCxwcm90bzohMCxmb3JjZWQ6Ynx8Q30sQSk7cmV0dXJuIEF9fSw3NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDU4KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9aShlKTtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCl0aHJvdyBUeXBlRXJyb3IoU3RyaW5nKGUpKyIgaXMgbm90IGl0ZXJhYmxlIik7cmV0dXJuIHIodC5jYWxsKGUpKX19LDc1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2Mik7ZS5leHBvcnRzPXJ9LDc2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBhfSkpO3ZhciByPW4oMCksaT17fTtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcj1mdW5jdGlvbihlLHQpe3ZhciBuPWlbZV09aVtlXXx8e2JpZGRlcnM6e319O3JldHVybiB0P24uYmlkZGVyc1t0XT1uLmJpZGRlcnNbdF18fHt9Om59KGUsbik7cmV0dXJuIHJbdF09KHJbdF18fDApKzEsclt0XX12YXIgYT17aW5jcmVtZW50UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBvKGUsInJlcXVlc3RzQ291bnRlciIpfSxpbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyhlLCJyZXF1ZXN0c0NvdW50ZXIiLHQpfSxpbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsIndpbnNDb3VudGVyIix0KX0sZ2V0UmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShpLCIiLmNvbmNhdChlLCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJSZXF1ZXN0c0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoaSwiIi5jb25jYXQoZSwiLmJpZGRlcnMuIikuY29uY2F0KHQsIi5yZXF1ZXN0c0NvdW50ZXIiKSl8fDB9LGdldEJpZGRlcldpbnNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGksIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIud2luc0NvdW50ZXIiKSl8fDB9fX0sODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiZ2RwckRhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gX30pKSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLChmdW5jdGlvbigpe3JldHVybiBVfSkpLG4uZCh0LCJjb3BwYURhdGFIYW5kbGVyIiwoZnVuY3Rpb24oKXtyZXR1cm4gQn0pKSxuLmQodCwiY2xpZW50VGVzdEFkYXB0ZXJzIiwoZnVuY3Rpb24oKXtyZXR1cm4geH0pKSxuLmQodCwiYWxsUzJTQmlkZGVycyIsKGZ1bmN0aW9uKCl7cmV0dXJuIER9KSksdC5nZXRBbGxTMlNCaWRkZXJzPWssdC5zZXRTMlNUZXN0aW5nTW9kdWxlPWZ1bmN0aW9uKGUpe2o9ZX07dmFyIHI9bigwKSxpPW4oMTAxKSxvPW4oMzgpLGE9bigxKSxjPW4oNCksdT1uKDMpLHM9big5KSxkPW4oMTIpLGY9bi5uKGQpLGw9bigxMSkscD1uLm4obCksZz1uKDc2KSxiPW4oMTkpO2Z1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxoKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBtKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8aChlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBoKGUsdCl7aWYoZSl7aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpO3JldHVybiJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKSwiTWFwIj09PW58fCJTZXQiPT09bj9BcnJheS5mcm9tKGUpOiJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3Qobik/bShlLHQpOnZvaWQgMH19ZnVuY3Rpb24gbShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIE8oKXtyZXR1cm4oTz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBqLFM9big1KSxFPW4oMTApLEE9e30sVD1BLmJpZGRlclJlZ2lzdHJ5PXt9LEk9QS5hbGlhc1JlZ2lzdHJ5PXt9LHc9W107dS5iLmdldENvbmZpZygiczJzQ29uZmlnIiwoZnVuY3Rpb24oZSl7ZSYmZS5zMnNDb25maWcmJih3PU9iamVjdChyLmlzQXJyYXkpKGUuczJzQ29uZmlnKT9lLnMyc0NvbmZpZzpbZS5zMnNDb25maWddKX0pKTt2YXIgQz17fTt2YXIgUj1PYmplY3Qocy5iKSgic3luYyIsKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkZGVyQ29kZSxuPWUuYXVjdGlvbklkLGE9ZS5iaWRkZXJSZXF1ZXN0SWQsYz1lLmFkVW5pdHMsdT1lLmxhYmVscyxzPWUuc3JjO3JldHVybiBjLnJlZHVjZSgoZnVuY3Rpb24oZSxjKXt2YXIgZD1PYmplY3QoaS5iKShPYmplY3QoaS5hKShjLHUpLGMubWVkaWFUeXBlcyxjLnNpemVzKSxmPWQuYWN0aXZlLGw9ZC5tZWRpYVR5cGVzLHA9ZC5maWx0ZXJSZXN1bHRzO3JldHVybiBmP3AmJk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJykscC5iZWZvcmUsInRvICIscC5hZnRlcik6T2JqZWN0KHIubG9nSW5mbykoJ1NpemUgbWFwcGluZyBkaXNhYmxlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIicpKSxmJiZlLnB1c2goYy5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09dH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIGQ9Yy5uYXRpdmVQYXJhbXN8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGMsIm1lZGlhVHlwZXMubmF0aXZlIik7ZCYmKHQ9Tyh7fSx0LHtuYXRpdmVQYXJhbXM6T2JqZWN0KG8uaCkoZCl9KSksdD1PKHt9LHQsT2JqZWN0KHIuZ2V0RGVmaW5lZFBhcmFtcykoYyxbIm9ydGIySW1wIiwibWVkaWFUeXBlIiwicmVuZGVyZXIiLCJzdG9yZWRBdWN0aW9uUmVzcG9uc2UiXSkpO3ZhciBmPU9iamVjdChpLmIpKE9iamVjdChpLmEpKHQsdSksbCkscD1mLmFjdGl2ZSxiPWYubWVkaWFUeXBlcyx2PWYuZmlsdGVyUmVzdWx0cztyZXR1cm4gcD92JiZPYmplY3Qoci5sb2dJbmZvKSgnU2l6ZSBtYXBwaW5nIGZpbHRlcmVkIGFkVW5pdCAiJy5jb25jYXQoYy5jb2RlLCciIGJpZGRlciAiJykuY29uY2F0KHQuYmlkZGVyLCciIGJhbm5lciBzaXplcyBmcm9tICcpLHYuYmVmb3JlLCJ0byAiLHYuYWZ0ZXIpOk9iamVjdChyLmxvZ0luZm8pKCdTaXplIG1hcHBpbmcgZGVhY3RpdmF0ZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmlkZGVyICInKS5jb25jYXQodC5iaWRkZXIsJyInKSksT2JqZWN0KHIuaXNWYWxpZE1lZGlhVHlwZXMpKGIpP3Q9Tyh7fSx0LHttZWRpYVR5cGVzOmJ9KTpPYmplY3Qoci5sb2dFcnJvcikoIm1lZGlhVHlwZXMgaXMgbm90IGNvcnJlY3RseSBjb25maWd1cmVkIGZvciBhZHVuaXQgIi5jb25jYXQoYy5jb2RlKSkscCYmZS5wdXNoKE8oe30sdCx7YWRVbml0Q29kZTpjLmNvZGUsdHJhbnNhY3Rpb25JZDpjLnRyYW5zYWN0aW9uSWQsc2l6ZXM6T2JqZWN0KHIuZGVlcEFjY2VzcykoYiwiYmFubmVyLnNpemVzIil8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGIsInZpZGVvLnBsYXllclNpemUiKXx8W10sYmlkSWQ6dC5iaWRfaWR8fE9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksYmlkZGVyUmVxdWVzdElkOmEsYXVjdGlvbklkOm4sc3JjOnMsYmlkUmVxdWVzdHNDb3VudDpnLmEuZ2V0UmVxdWVzdHNDb3VudGVyKGMuY29kZSksYmlkZGVyUmVxdWVzdHNDb3VudDpnLmEuZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyKGMuY29kZSx0LmJpZGRlciksYmlkZGVyV2luc0NvdW50OmcuYS5nZXRCaWRkZXJXaW5zQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpfSkpLGV9KSxbXSkpLGV9KSxbXSkucmVkdWNlKHIuZmxhdHRlbixbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iIiE9PWV9KSl9KSwiZ2V0QmlkcyIpO3ZhciBfPXtjb25zZW50RGF0YTpudWxsLHNldENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe18uY29uc2VudERhdGE9ZX0sZ2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gXy5jb25zZW50RGF0YX19LFU9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7VS5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBVLmNvbnNlbnREYXRhfX0sQj17Z2V0Q29wcGE6ZnVuY3Rpb24oKXtyZXR1cm4hIXUuYi5nZXRDb25maWcoImNvcHBhIil9fSx4PVtdLEQ9W107ZnVuY3Rpb24gaygpe0EuczJTVGVzdGluZ0VuYWJsZWQ9ITEsdy5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiZlLmVuYWJsZWQmJmUuYmlkZGVycyYmZS5iaWRkZXJzLmxlbmd0aCYmRC5wdXNoLmFwcGx5KEQseShlLmJpZGRlcnMpKX0pKX1mdW5jdGlvbiBOKGUpe3JldHVybiBlJiZlLmVuYWJsZWQmJmUudGVzdGluZyYman1mdW5jdGlvbiBQKGUsdCxuKXt0cnl7dmFyIGk9VFtlXS5nZXRTcGVjKCk7aSYmaVt0XSYmImZ1bmN0aW9uIj09dHlwZW9mIGlbdF0mJihPYmplY3Qoci5sb2dJbmZvKSgiSW52b2tpbmcgIi5jb25jYXQoZSwiLiIpLmNvbmNhdCh0KSksdS5iLnJ1bldpdGhCaWRkZXIoZSxyLmJpbmQuY2FsbChpW3RdLGksbikpKX1jYXRjaChuKXtPYmplY3Qoci5sb2dXYXJuKSgiRXJyb3IgY2FsbGluZyAiLmNvbmNhdCh0LCIgb2YgIikuY29uY2F0KGUpKX19QS5tYWtlQmlkUmVxdWVzdHM9T2JqZWN0KHMuYikoInN5bmMiLChmdW5jdGlvbihlLHQsbixpLG8pe0UuZW1pdChTLkVWRU5UUy5CRUZPUkVfUkVRVUVTVF9CSURTLGUpO3ZhciBhPU9iamVjdChyLmdldEJpZGRlckNvZGVzKShlKTt1LmIuZ2V0Q29uZmlnKCJiaWRkZXJTZXF1ZW5jZSIpPT09dS5hJiYoYT1PYmplY3Qoci5zaHVmZmxlKShhKSk7dmFyIGM9T2JqZWN0KGIuYSkoKSxzPWEsZD1bXTswPT09RC5sZW5ndGgmJmsoKSx3LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJnQuZW5hYmxlZCYmKE4odCkmJihqLmNhbGN1bGF0ZUJpZFNvdXJjZXModCksai5nZXRTb3VyY2VCaWRkZXJNYXAoZSxEKVtqLkNMSUVOVF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZigpKHgsZSl8fHgucHVzaChlKX0pKSkpfSkpLHM9YS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFmKCkoRCxlKXx8ZigpKHgsZSl9KSk7dmFyIGw9RDt3LmZvckVhY2goKGZ1bmN0aW9uKGkpe2lmKGkmJmkuZW5hYmxlZCl7KGZ1bmN0aW9uKGUpe3JldHVybiBCb29sZWFuKE4oZSkmJmUudGVzdFNlcnZlck9ubHkpfSkoaSkmJmZ1bmN0aW9uKGUsdCl7cmV0dXJuIEJvb2xlYW4ocCgpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBwKCkoZS5iaWRzLChmdW5jdGlvbihlKXtyZXR1cm4oZS5iaWRTb3VyY2V8fHQuYmlkZGVyQ29udHJvbCYmdC5iaWRkZXJDb250cm9sW2UuYmlkZGVyXSkmJmUuZmluYWxTb3VyY2U9PT1qLlNFUlZFUn0pKX0pKSl9KGUsaSkmJihPYmplY3Qoci5sb2dXYXJuKSgidGVzdFNlcnZlck9ubHk6IFRydWUuICBBbGwgY2xpZW50IHJlcXVlc3RzIHdpbGwgYmUgc3VwcHJlc3NlZC4iKSxzLmxlbmd0aD0wKTt2YXIgYT1mdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkZGVycyxpPU9iamVjdChyLmRlZXBDbG9uZSkoZSk7cmV0dXJuIGkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBmKCkobixlLmJpZGRlcikmJighTih0KXx8ZS5maW5hbFNvdXJjZSE9PWouQ0xJRU5UKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1PYmplY3Qoci5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKSgpLGV9KSl9KSksaS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSxpKSx1PU9iamVjdChyLmdlbmVyYXRlVVVJRCkoKTtsLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBzPU9iamVjdChyLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksZj17YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpzLHRpZDp1LGJpZHM6Uih7YmlkZGVyQ29kZTplLGF1Y3Rpb25JZDpuLGJpZGRlclJlcXVlc3RJZDpzLGFkVW5pdHM6T2JqZWN0KHIuZGVlcENsb25lKShhKSxsYWJlbHM6byxzcmM6Uy5TMlMuU1JDfSksYXVjdGlvblN0YXJ0OnQsdGltZW91dDppLnRpbWVvdXQsc3JjOlMuUzJTLlNSQyxyZWZlcmVySW5mbzpjfTswIT09Zi5iaWRzLmxlbmd0aCYmZC5wdXNoKGYpfSkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShkLChmdW5jdGlvbih0KXtyZXR1cm4gcCgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLmJpZF9pZH0pKX0pKX0pKTtlLmJpZHM9dH0pKSxkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZvaWQgMD09PWUuYWRVbml0c1MyU0NvcHkmJihlLmFkVW5pdHNTMlNDb3B5PWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRzLmxlbmd0aD4wfSkpKX0pKX19KSk7dmFyIGc9ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuZGVlcENsb25lKShlKTtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHM9ZS5iaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXgubGVuZ3RofHxlLmZpbmFsU291cmNlIT09ai5TRVJWRVJ9KSl9KSksdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKX0oZSk7cmV0dXJuIHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9T2JqZWN0KHIuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSx1PXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOmEsYmlkczpSKHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm4sYmlkZGVyUmVxdWVzdElkOmEsYWRVbml0czpPYmplY3Qoci5kZWVwQ2xvbmUpKGcpLGxhYmVsczpvLHNyYzoiY2xpZW50In0pLGF1Y3Rpb25TdGFydDp0LHRpbWVvdXQ6aSxyZWZlcmVySW5mbzpjfSxzPVRbZV07c3x8T2JqZWN0KHIubG9nRXJyb3IpKCJUcnlpbmcgdG8gbWFrZSBhIHJlcXVlc3QgZm9yIGJpZGRlciB0aGF0IGRvZXMgbm90IGV4aXN0OiAiLmNvbmNhdChlKSkscyYmdS5iaWRzJiYwIT09dS5iaWRzLmxlbmd0aCYmZC5wdXNoKHUpfSkpLF8uZ2V0Q29uc2VudERhdGEoKSYmZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmdkcHJDb25zZW50PV8uZ2V0Q29uc2VudERhdGEoKX0pKSxVLmdldENvbnNlbnREYXRhKCkmJmQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PVUuZ2V0Q29uc2VudERhdGEoKX0pKSxkfSksIm1ha2VCaWRSZXF1ZXN0cyIpLEEuY2FsbEJpZHM9ZnVuY3Rpb24oZSx0LG4saSxvLGEscyl7aWYodC5sZW5ndGgpe3ZhciBkPXYodC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbTnVtYmVyKHZvaWQgMCE9PXQuc3JjJiZ0LnNyYz09PVMuUzJTLlNSQyldLnB1c2godCksZX0pLFtbXSxbXV0pLDIpLGw9ZFswXSxwPWRbMV0sZz1bXTtwLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0tMSxuPTA7bjxnLmxlbmd0aDsrK24paWYoZS50aWQ9PT1nW25dLnRpZCl7dD1uO2JyZWFrfXQ8PS0xJiZnLnB1c2goZSl9KSk7dmFyIGI9MDt3LmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUmJmdbYl0mJmYoKShlLmJpZGRlcnMsZ1tiXS5iaWRkZXJDb2RlKSl7dmFyIHQ9T2JqZWN0KGMuYikoYSxvP3tyZXF1ZXN0Om8ucmVxdWVzdC5iaW5kKG51bGwsInMycyIpLGRvbmU6by5kb25lfTp2b2lkIDApLHU9ZS5iaWRkZXJzLHM9VFtlLmFkYXB0ZXJdLGQ9Z1tiXS50aWQsbD1nW2JdLmFkVW5pdHNTMlNDb3B5LHY9cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRpZD09PWR9KSk7aWYocyl7dmFyIHk9e3RpZDpkLGFkX3VuaXRzOmwsczJzQ29uZmlnOmV9O2lmKHkuYWRfdW5pdHMubGVuZ3RoKXt2YXIgaD12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhcnQ9T2JqZWN0KHIudGltZXN0YW1wKSgpLGkuYmluZChlKX0pKSxtPXkuYWRfdW5pdHMucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCh0LmJpZGRlcil9KSxbXSkpfSksW10pO09iamVjdChyLmxvZ01lc3NhZ2UpKCJDQUxMSU5HIFMyUyBIRUFERVIgQklEREVSUyA9PT09ICIuY29uY2F0KHUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZigpKG0sZSl9KSkuam9pbigiLCIpKSksdi5mb3JFYWNoKChmdW5jdGlvbihlKXtFLmVtaXQoUy5FVkVOVFMuQklEX1JFUVVFU1RFRCxlKX0pKSxzLmNhbGxCaWRzKHkscCwoZnVuY3Rpb24oZSx0KXt2YXIgaT1PYmplY3Qoci5nZXRCaWRkZXJSZXF1ZXN0KShwLHQuYmlkZGVyQ29kZSxlKTtpJiZuLmNhbGwoaSxlLHQpfSksKGZ1bmN0aW9uKCl7cC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlzRHluYW1pY30pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtoLnB1c2goaS5iaW5kKGUpKX0pKSxoLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlKCl9KSl9KSx0KX19ZWxzZSBPYmplY3Qoci5sb2dFcnJvcikoIm1pc3NpbmcgIitlLmFkYXB0ZXIpO2IrK319KSksbC5mb3JFYWNoKChmdW5jdGlvbihlKXtlLnN0YXJ0PU9iamVjdChyLnRpbWVzdGFtcCkoKTt2YXIgdD1UW2UuYmlkZGVyQ29kZV07dS5iLnJ1bldpdGhCaWRkZXIoZS5iaWRkZXJDb2RlLChmdW5jdGlvbigpe09iamVjdChyLmxvZ01lc3NhZ2UpKCJDQUxMSU5HIEJJRERFUiIpLEUuZW1pdChTLkVWRU5UUy5CSURfUkVRVUVTVEVELGUpfSkpO3ZhciBkPU9iamVjdChjLmIpKGEsbz97cmVxdWVzdDpvLnJlcXVlc3QuYmluZChudWxsLGUuYmlkZGVyQ29kZSksZG9uZTpvLmRvbmV9OnZvaWQgMCksZj1pLmJpbmQoZSk7dHJ5e3UuYi5ydW5XaXRoQmlkZGVyKGUuYmlkZGVyQ29kZSxyLmJpbmQuY2FsbCh0LmNhbGxCaWRzLHQsZSxuLmJpbmQoZSksZixkLHMsdS5iLmNhbGxiYWNrV2l0aEJpZGRlcihlLmJpZGRlckNvZGUpKSl9Y2F0Y2godCl7T2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdChlLmJpZGRlckNvZGUsIiBCaWQgQWRhcHRlciBlbWl0dGVkIGFuIHVuY2F1Z2h0IGVycm9yIHdoZW4gcGFyc2luZyB0aGVpciBiaWRSZXF1ZXN0Iikse2U6dCxiaWRSZXF1ZXN0OmV9KSxmKCl9fSkpfWVsc2UgT2JqZWN0KHIubG9nV2FybikoImNhbGxCaWRzIGV4ZWN1dGVkIHdpdGggbm8gYmlkUmVxdWVzdHMuICBXZXJlIHRoZXkgZmlsdGVyZWQgYnkgbGFiZWxzIG9yIHNpemluZz8iKX0sQS52aWRlb0FkYXB0ZXJzPVtdLEEucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LGk9bi5zdXBwb3J0ZWRNZWRpYVR5cGVzLGE9dm9pZCAwPT09aT9bXTppO2UmJnQ/ImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbEJpZHM/KFRbdF09ZSxmKCkoYSwidmlkZW8iKSYmQS52aWRlb0FkYXB0ZXJzLnB1c2godCksZigpKGEsIm5hdGl2ZSIpJiZvLmYucHVzaCh0KSk6T2JqZWN0KHIubG9nRXJyb3IpKCJCaWRkZXIgYWRhcHRvciBlcnJvciBmb3IgYmlkZGVyIGNvZGU6ICIrdCsiYmlkZGVyIG11c3QgaW1wbGVtZW50IGEgY2FsbEJpZHMoKSBmdW5jdGlvbiIpOk9iamVjdChyLmxvZ0Vycm9yKSgiYmlkQWRhcHRlciBvciBiaWRkZXJDb2RlIG5vdCBzcGVjaWZpZWQiKX0sQS5hbGlhc0JpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0LG4pe2lmKHZvaWQgMD09PVRbdF0pe3ZhciBpPVRbZV07aWYodm9pZCAwPT09aSl7dmFyIGM9W107dy5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihuLmJpZGRlcnMmJm4uYmlkZGVycy5sZW5ndGgpe3ZhciByPW4mJm4uYmlkZGVycztuJiZmKCkocix0KT9JW3RdPWU6Yy5wdXNoKGUpfX0pKSxjLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChyLmxvZ0Vycm9yKSgnYmlkZGVyQ29kZSAiJytlKyciIGlzIG5vdCBhbiBleGlzdGluZyBiaWRkZXIuJywiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9KSl9ZWxzZSB0cnl7dmFyIHUscz1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZigpKEEudmlkZW9BZGFwdGVycyxlKSYmdC5wdXNoKCJ2aWRlbyIpLGYoKShvLmYsZSkmJnQucHVzaCgibmF0aXZlIiksdH0oZSk7aWYoaS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPU9iamVjdC5wcm90b3R5cGUpKHU9bmV3IGkuY29uc3RydWN0b3IpLnNldEJpZGRlckNvZGUodCk7ZWxzZXt2YXIgZD1pLmdldFNwZWMoKSxsPW4mJm4uZ3ZsaWQscD1uJiZuLnNraXBQYnNBbGlhc2luZzt1PU9iamVjdChhLm5ld0JpZGRlcikoTyh7fSxkLHtjb2RlOnQsZ3ZsaWQ6bCxza2lwUGJzQWxpYXNpbmc6cH0pKSxJW3RdPWV9QS5yZWdpc3RlckJpZEFkYXB0ZXIodSx0LHtzdXBwb3J0ZWRNZWRpYVR5cGVzOnN9KX1jYXRjaCh0KXtPYmplY3Qoci5sb2dFcnJvcikoZSsiIGJpZGRlciBkb2VzIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBhbGlhc2luZy4iLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX19ZWxzZSBPYmplY3Qoci5sb2dNZXNzYWdlKSgnYWxpYXMgbmFtZSAiJyt0KyciIGhhcyBiZWVuIGFscmVhZHkgc3BlY2lmaWVkLicpfSxBLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXt2YXIgdD1lLmFkYXB0ZXIsbj1lLmNvZGUsaT1lLmd2bGlkO3QmJm4/ImZ1bmN0aW9uIj09dHlwZW9mIHQuZW5hYmxlQW5hbHl0aWNzPyh0LmNvZGU9bixDW25dPXthZGFwdGVyOnQsZ3ZsaWQ6aX0pOk9iamVjdChyLmxvZ0Vycm9yKSgnUHJlYmlkIEVycm9yOiBBbmFseXRpY3MgYWRhcHRvciBlcnJvciBmb3IgYW5hbHl0aWNzICInLmNvbmNhdChuLCciXG4gICAgICAgIGFuYWx5dGljcyBhZGFwdGVyIG11c3QgaW1wbGVtZW50IGFuIGVuYWJsZUFuYWx5dGljcygpIGZ1bmN0aW9uJykpOk9iamVjdChyLmxvZ0Vycm9yKSgiUHJlYmlkIEVycm9yOiBhbmFseXRpY3NBZGFwdGVyIG9yIGFuYWx5dGljc0NvZGUgbm90IHNwZWNpZmllZCIpfSxBLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbihlKXtPYmplY3Qoci5pc0FycmF5KShlKXx8KGU9W2VdKSxPYmplY3Qoci5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9Q1tlLnByb3ZpZGVyXS5hZGFwdGVyO3Q/dC5lbmFibGVBbmFseXRpY3MoZSk6T2JqZWN0KHIubG9nRXJyb3IpKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSkpfSxBLmdldEJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIFRbZV19LEEuZ2V0QW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gQ1tlXX0sQS5jYWxsVGltZWRPdXRCaWRkZXJzPWZ1bmN0aW9uKGUsdCxuKXt0PXQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbXM9T2JqZWN0KHIuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMpKGUsdC5hZFVuaXRDb2RlLHQuYmlkZGVyKSx0LnRpbWVvdXQ9bix0fSkpLHQ9T2JqZWN0KHIuZ3JvdXBCeSkodCwiYmlkZGVyIiksT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7UChlLCJvblRpbWVvdXQiLHRbZV0pfSkpfSxBLmNhbGxCaWRXb25CaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe3QucGFyYW1zPU9iamVjdChyLmdldFVzZXJDb25maWd1cmVkUGFyYW1zKShuLHQuYWRVbml0Q29kZSx0LmJpZGRlciksZy5hLmluY3JlbWVudEJpZGRlcldpbnNDb3VudGVyKHQuYWRVbml0Q29kZSx0LmJpZGRlciksUChlLCJvbkJpZFdvbiIsdCl9LEEuY2FsbFNldFRhcmdldGluZ0JpZGRlcj1mdW5jdGlvbihlLHQpe1AoZSwib25TZXRUYXJnZXRpbmciLHQpfSxBLmNhbGxCaWRWaWV3YWJsZUJpZGRlcj1mdW5jdGlvbihlLHQpe1AoZSwib25CaWRWaWV3YWJsZSIsdCl9LEEuY2FsbEJpZGRlckVycm9yPWZ1bmN0aW9uKGUsdCxuKXtQKGUsIm9uQmlkZGVyRXJyb3IiLHtlcnJvcjp0LGJpZGRlclJlcXVlc3Q6bn0pfSx0LmRlZmF1bHQ9QX0sODA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjIxKTtlLmV4cG9ydHM9cn0sODE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImFkVW5pdFNldHVwQ2hlY2tzIiwoZnVuY3Rpb24oKXtyZXR1cm4gSn0pKSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFl9KSksdC5leGVjdXRlQ2FsbGJhY2tzPVo7dmFyIHI9bigxNCksaT1uKDApLG89bigyMjkpLGE9big2MSksYz1uKDMpLHU9bigyMykscz1uKDM5KSxkPW4oOSksZj1uKDIzMCksbD1uKDEyKSxwPW4ubihsKSxnPW4oNzYpLGI9bigxMyksdj1uKDQzKSx5PW4oNyksaD1uKDQ3KTtmdW5jdGlvbiBtKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBPKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBPKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBPKGUsdCl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIE8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn1mdW5jdGlvbiBqKCl7cmV0dXJuKGo9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgUz1PYmplY3Qoci5hKSgpLEU9big1KSxBPW4oOCkuZGVmYXVsdCxUPW4oMTApLEk9YS5hLnRyaWdnZXJVc2VyU3luY3Msdz1FLkVWRU5UUyxDPXcuQUREX0FEX1VOSVRTLFI9dy5CSURfV09OLF89dy5SRVFVRVNUX0JJRFMsVT13LlNFVF9UQVJHRVRJTkcsQj13LkFEX1JFTkRFUl9GQUlMRUQseD13LkFEX1JFTkRFUl9TVUNDRUVERUQsRD13LlNUQUxFX1JFTkRFUixrPUUuQURfUkVOREVSX0ZBSUxFRF9SRUFTT04sTj1rLlBSRVZFTlRfV1JJVElOR19PTl9NQUlOX0RPQ1VNRU5ULFA9ay5OT19BRCxxPWsuRVhDRVBUSU9OLE09ay5DQU5OT1RfRklORF9BRCxHPWsuTUlTU0lOR19ET0NfT1JfQURJRCxMPXtiaWRXb246ZnVuY3Rpb24oZSl7dmFyIHQ9dS5hLmdldEJpZHNSZXF1ZXN0ZWQoKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkpfSkpLnJlZHVjZShpLmZsYXR0ZW4pLmZpbHRlcihpLnVuaXF1ZXMpO2lmKCFPYmplY3QoaS5jb250YWlucykodCxlKSlyZXR1cm4gdm9pZCBPYmplY3QoaS5sb2dFcnJvcikoJ1RoZSAiJytlKyciIHBsYWNlbWVudCBpcyBub3QgZGVmaW5lZC4nKTtyZXR1cm4hMH19O2Z1bmN0aW9uIFcoZSx0LG4pe2UuZGVmYXVsdFZpZXcmJmUuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50JiYoZS5kZWZhdWx0Vmlldy5mcmFtZUVsZW1lbnQud2lkdGg9dCxlLmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudC5oZWlnaHQ9bil9ZnVuY3Rpb24gRihlLHQpe3ZhciBuPVtdO3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlKSYmKHQ/ZS5sZW5ndGg9PT10OmUubGVuZ3RoPjApJiYoZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMil9KSk/bj1lOk9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMikmJm4ucHVzaChlKSksbn1mdW5jdGlvbiB6KGUpe3ZhciB0PU9iamVjdChpLmRlZXBDbG9uZSkoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9RihuLnNpemVzKTtyZXR1cm4gci5sZW5ndGg+MD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYSBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3Qgd2l0aG91dCBhIHByb3BlciBzaXplcyBmaWVsZC4gIFBsZWFzZSBlbnN1cmUgdGhlIHNpemVzIGFyZSBsaXN0ZWQgbGlrZTogW1szMDAsIDI1MF0sIC4uLl0uICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMuYmFubmVyIG9iamVjdCBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5iYW5uZXIpLHR9ZnVuY3Rpb24gVihlKXt2YXIgdD1PYmplY3QoaS5kZWVwQ2xvbmUpKGUpLG49dC5tZWRpYVR5cGVzLnZpZGVvO2lmKG4ucGxheWVyU2l6ZSl7dmFyIHI9Im51bWJlciI9PXR5cGVvZiBuLnBsYXllclNpemVbMF0/MjoxLG89RihuLnBsYXllclNpemUscik7by5sZW5ndGg+MD8oMj09PXImJk9iamVjdChpLmxvZ0luZm8pKCJUcmFuc2Zvcm1pbmcgdmlkZW8ucGxheWVyU2l6ZSBmcm9tIFs2NDAsNDgwXSB0byBbWzY0MCw0ODBdXSBzbyBpdCdzIGluIHRoZSBwcm9wZXIgZm9ybWF0LiIpLG4ucGxheWVyU2l6ZT1vLHQuc2l6ZXM9byk6KE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgaW5jb3JyZWN0IGNvbmZpZ3VyYXRpb24gb2YgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplLiAgUGxlYXNlIHNwZWNpZnkgb25seSBvbmUgc2V0IG9mIGRpbWVuc2lvbnMgaW4gYSBmb3JtYXQgbGlrZTogW1s2NDAsIDQ4MF1dLiBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplKX1yZXR1cm4gdH1mdW5jdGlvbiBIKGUpe3ZhciB0PU9iamVjdChpLmRlZXBDbG9uZSkoZSksbj10Lm1lZGlhVHlwZXMubmF0aXZlO3JldHVybiBuLmltYWdlJiZuLmltYWdlLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmltYWdlLnNpemVzKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLnNpemVzIGZpZWxkLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMpLG4uaW1hZ2UmJm4uaW1hZ2UuYXNwZWN0X3JhdGlvcyYmIUFycmF5LmlzQXJyYXkobi5pbWFnZS5hc3BlY3RfcmF0aW9zKSYmKE9iamVjdChpLmxvZ0Vycm9yKSgiUGxlYXNlIHVzZSBhbiBhcnJheSBvZiBzaXplcyBmb3IgbmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MgZmllbGQuICBSZW1vdmluZyBpbnZhbGlkIG1lZGlhVHlwZXMubmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLmFzcGVjdF9yYXRpb3MpLG4uaWNvbiYmbi5pY29uLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmljb24uc2l6ZXMpJiYoT2JqZWN0KGkubG9nRXJyb3IpKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaWNvbi5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyksdH1mdW5jdGlvbiBLKGUsdCl7dmFyIG49T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdCh0LCIucG9zIikpO2lmKCFufHwhT2JqZWN0KGkuaXNOdW1iZXIpKG4pfHwhaXNGaW5pdGUobikpe3ZhciByPSJWYWx1ZSBvZiBwcm9wZXJ0eSAncG9zJyBvbiBhZCB1bml0ICIuY29uY2F0KGUuY29kZSwiIHNob3VsZCBiZSBvZiB0eXBlOiBOdW1iZXIiKTtPYmplY3QoaS5sb2dXYXJuKShyKSxULmVtaXQoRS5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiV0FSTklORyIsYXJndW1lbnRzOnJ9KSxkZWxldGUgZS5tZWRpYVR5cGVzW3RdLnBvc31yZXR1cm4gZX1PYmplY3QoZi5hKSgpLFMuYmlkZGVyU2V0dGluZ3M9Uy5iaWRkZXJTZXR0aW5nc3x8e30sUy5saWJMb2FkZWQ9ITAsUy52ZXJzaW9uPSJ2NS4yMC4yIixPYmplY3QoaS5sb2dJbmZvKSgiUHJlYmlkLmpzIHY1LjIwLjIgbG9hZGVkIiksUy5pbnN0YWxsZWRNb2R1bGVzPVsiY29uc2VudE1hbmFnZW1lbnQiLCJjb25zZW50TWFuYWdlbWVudFVzcCIsIjMzYWNyb3NzQmlkQWRhcHRlciIsImFtYXpvbkJpZEFkYXB0ZXIiLCJhZGZCaWRBZGFwdGVyIiwiYW9sQmlkQWRhcHRlciIsImFkeW91bGlrZUJpZEFkYXB0ZXIiLCJhcHBuZXh1c0JpZEFkYXB0ZXIiLCJjb252ZXJzYW50QmlkQWRhcHRlciIsImNyaXRlb0JpZEFkYXB0ZXIiLCJndW1ndW1CaWRBZGFwdGVyIiwiZW14X2RpZ2l0YWxCaWRBZGFwdGVyIiwiaW1wcm92ZWRpZ2l0YWxCaWRBZGFwdGVyIiwiaXhCaWRBZGFwdGVyIiwic21hcnRhZHNlcnZlckJpZEFkYXB0ZXIiLCJvcGVueEJpZEFkYXB0ZXIiLCJtZWRpYW5ldEJpZEFkYXB0ZXIiLCJjb25zdW1hYmxlQmlkQWRhcHRlciIsInRyaXBsZWxpZnRCaWRBZGFwdGVyIiwidW5kZXJkb2dtZWRpYUJpZEFkYXB0ZXIiLCJwdWJtYXRpY0JpZEFkYXB0ZXIiLCJwdWxzZXBvaW50QmlkQWRhcHRlciIsInJ1Ymljb25CaWRBZGFwdGVyIiwic29ub2JpQmlkQWRhcHRlciIsInNvdnJuQmlkQWRhcHRlciIsInNoYXJldGhyb3VnaEJpZEFkYXB0ZXIiLCJkaXN0cmljdG1ETVhCaWRBZGFwdGVyIiwicmh5dGhtb25lQmlkQWRhcHRlciIsImN1cnJlbmN5Iiwic2NoYWluIiwidXNlcklkIiwicHViUHJvdmlkZWRJZFN5c3RlbSIsInlpZWxkbGFiQmlkQWRhcHRlciIsInB1YnN0YWNrQW5hbHl0aWNzQWRhcHRlciIsIm5vYmlkQmlkQWRhcHRlciIsInNvcnRhYmxlQmlkQWRhcHRlciIsInByZWJpZFNlcnZlckJpZEFkYXB0ZXIiLCJicmlnaHRjb21CaWRBZGFwdGVyIiwidHJ1c3R4QmlkQWRhcHRlciIsImlkNUlkU3lzdGVtIiwib25ldGFnQmlkQWRhcHRlciIsInlhaG9vc3NwQmlkQWRhcHRlciIsInJlbGF5QmlkQWRhcHRlciIsImFkYWdpb0JpZEFkYXB0ZXIiLCJncmlkQmlkQWRhcHRlciIsImthcmdvQmlkQWRhcHRlciIsImVwbGFubmluZ0JpZEFkYXB0ZXIiLCJhbXhCaWRBZGFwdGVyIiwicHJpY2VGbG9vcnMiLCJ1bmlmaWVkSWRTeXN0ZW0iXSxTLmFkVW5pdHM9Uy5hZFVuaXRzfHxbXSxTLnNldENvb2tpZUZyYW1lPWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5zZXRDb29raWVGcmFtZSIsYXJndW1lbnRzKSxoLmYoZSl9LFMub25CZWZvcmVSZXF1ZXN0PWZ1bmN0aW9uKGUpe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vbkJlZm9yZVJlcXVlc3QiLGFyZ3VtZW50cyksaC5iKGUpfSxTLm9uU2VuZExvZz1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMub25TZW5kTG9nIixhcmd1bWVudHMpLGguZChlKX0sUy50cmlnZ2VyVXNlclN5bmNzPUk7dmFyIEo9e3ZhbGlkYXRlQmFubmVyTWVkaWFUeXBlOnosdmFsaWRhdGVWaWRlb01lZGlhVHlwZTpWLHZhbGlkYXRlTmF0aXZlTWVkaWFUeXBlOkgsdmFsaWRhdGVTaXplczpGfSxZPU9iamVjdChkLmIpKCJzeW5jIiwoZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG4scixvLGE9ZS5tZWRpYVR5cGVzLGM9ZS5iaWRzO2lmKGMmJk9iamVjdChpLmlzQXJyYXkpKGMpKWlmKGEmJjAhPT1PYmplY3Qua2V5cyhhKS5sZW5ndGgpe2EuYmFubmVyJiYobj16KGUpLGEuYmFubmVyLmhhc093blByb3BlcnR5KCJwb3MiKSYmKG49SyhuLCJiYW5uZXIiKSkpLGEudmlkZW8mJihyPVYobnx8ZSksYS52aWRlby5oYXNPd25Qcm9wZXJ0eSgicG9zIikmJihyPUsociwidmlkZW8iKSkpLGEubmF0aXZlJiYobz1IKHJ8fChufHxlKSkpO3ZhciB1PWooe30sbixyLG8pO3QucHVzaCh1KX1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgYSAnbWVkaWFUeXBlcycgb2JqZWN0IGRlZmluZWQuICBUaGlzIGlzIGEgcmVxdWlyZWQgZmllbGQgZm9yIHRoZSBhdWN0aW9uLCBzbyB0aGlzIGFkVW5pdCBoYXMgYmVlbiByZW1vdmVkLiIpKTtlbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgJ2FkVW5pdC5iaWRzJyBkZWZpbmVkIG9yICdhZFVuaXQuYmlkcycgaXMgbm90IGFuIGFycmF5LiBSZW1vdmluZyBhZFVuaXQgZnJvbSBhdWN0aW9uLiIpKX0pKSx0fSksImNoZWNrQWRVbml0U2V0dXAiKTtmdW5jdGlvbiBRKGUpe3ZhciB0PXUuYVtlXSgpLmZpbHRlcihpLmJpbmQuY2FsbChpLmFkVW5pdHNGaWx0ZXIsdGhpcyx1LmEuZ2V0QWRVbml0Q29kZXMoKSkpLG49dS5hLmdldExhc3RBdWN0aW9uSWQoKTtyZXR1cm4gdC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KSkuZmlsdGVyKGkudW5pcXVlcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gdC5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmF1Y3Rpb25JZD09PW4mJnQuYWRVbml0Q29kZT09PWV9KSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXSYmZVswXS5hZFVuaXRDb2RlfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQ9e30sbj1lWzBdLmFkVW5pdENvZGUscj17YmlkczplfSxuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0O3ZhciB0LG4scn0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGooZSx0KX0pLHt9KX1mdW5jdGlvbiAkKGUpe3ZhciB0PWUucmVhc29uLG49ZS5tZXNzYWdlLHI9ZS5iaWQsbz1lLmlkLGE9e3JlYXNvbjp0LG1lc3NhZ2U6bn07ciYmKGEuYmlkPXIpLG8mJihhLmFkSWQ9byksT2JqZWN0KGkubG9nRXJyb3IpKG4pLFQuZW1pdChCLGEpfWZ1bmN0aW9uIFgoZSl7dmFyIHQ9ZS5kb2Msbj1lLmJpZCxyPWUuaWQsaT17ZG9jOnR9O24mJihpLmJpZD1uKSxyJiYoaS5hZElkPXIpLFQuZW1pdCh4LGkpfWZ1bmN0aW9uIFooZSx0KXtmdW5jdGlvbiBuKGUpe2Zvcih2YXIgdDt0PWUuc2hpZnQoKTspdCgpfW4oeS5jKSxuKGVlKSxlLmNhbGwodGhpcyx0KX1TLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZVN0cj1mdW5jdGlvbihlKXtpZihPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIixhcmd1bWVudHMpLGUpe3ZhciB0PVMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlKGUpO3JldHVybiBPYmplY3QoaS50cmFuc2Zvcm1BZFNlcnZlclRhcmdldGluZ09iaikodCl9T2JqZWN0KGkubG9nTWVzc2FnZSkoIk5lZWQgdG8gY2FsbCBnZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIgd2l0aCBhZHVuaXRDb2RlIil9LFMuZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtpZihlKXt2YXIgdD11LmEuZ2V0QWxsQmlkc0ZvckFkVW5pdENvZGUoZSkuZmlsdGVyKHMuYS5pc1VudXNlZEJpZCkuZmlsdGVyKHMuYS5pc0JpZE5vdEV4cGlyZWQpO3JldHVybiB0Lmxlbmd0aD90LnJlZHVjZShpLmdldEhpZ2hlc3RDcG0pOnt9fU9iamVjdChpLmxvZ01lc3NhZ2UpKCJOZWVkIHRvIGNhbGwgZ2V0SGlnaGVzdFVudXNlZEJpZFJlc3BvbnNlRm9yQWRVbml0Q29kZSB3aXRoIGFkdW5pdENvZGUiKX0sUy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmcoZSlbZV19LFMuZ2V0QWRzZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nIixhcmd1bWVudHMpLHMuZC5nZXRBbGxUYXJnZXRpbmcoZSx0KX0sUy5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldE5vQmlkcyIsYXJndW1lbnRzKSxRKCJnZXROb0JpZHMiKX0sUy5nZXROb0JpZHNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXROb0JpZHMoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sUy5nZXRCaWRSZXNwb25zZXM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEJpZFJlc3BvbnNlcyIsYXJndW1lbnRzKSxRKCJnZXRCaWRzUmVjZWl2ZWQiKX0sUy5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKGUpe3JldHVybntiaWRzOnUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lfSkpfX0sUy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYz1mdW5jdGlvbihlLHQpe2lmKE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5zZXRUYXJnZXRpbmdGb3JHUFRBc3luYyIsYXJndW1lbnRzKSxPYmplY3QoaS5pc0dwdFB1YmFkc0RlZmluZWQpKCkpe3ZhciBuPXMuZC5nZXRBbGxUYXJnZXRpbmcoZSk7cy5kLnJlc2V0UHJlc2V0VGFyZ2V0aW5nKGUsdCkscy5kLnNldFRhcmdldGluZ0ZvckdQVChuLHQpLE9iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKG5bZV0pLmZvckVhY2goKGZ1bmN0aW9uKHQpeyJoYl9hZGlkIj09PXQmJnUuYS5zZXRTdGF0dXNGb3JCaWRzKG5bZV1bdF0sRS5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUKX0pKX0pKSxULmVtaXQoVSxuKX1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgid2luZG93Lmdvb2dsZXRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxTLnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yQW4iLGFyZ3VtZW50cykscy5kLmlzQXBudGFnRGVmaW5lZCgpPyhzLmQuc2V0VGFyZ2V0aW5nRm9yQXN0KGUpLFQuZW1pdChVLHMuZC5nZXRBbGxUYXJnZXRpbmcoKSkpOk9iamVjdChpLmxvZ0Vycm9yKSgid2luZG93LmFwbnRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxTLnJlbmRlckFkPU9iamVjdChkLmIpKCJhc3luYyIsKGZ1bmN0aW9uKGUsdCxuKXtpZihPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVuZGVyQWQiLGFyZ3VtZW50cyksT2JqZWN0KGkubG9nTWVzc2FnZSkoIkNhbGxpbmcgcmVuZGVyQWQgd2l0aCBhZElkIDoiK3QpLGUmJnQpdHJ5e3ZhciByPXUuYS5maW5kQmlkQnlBZElkKHQpO2lmKHIpe3ZhciBvPSEwO2lmKHImJnIuc3RhdHVzPT09RS5CSURfU1RBVFVTLlJFTkRFUkVEJiYoT2JqZWN0KGkubG9nV2FybikoIkFkIGlkICIuY29uY2F0KHIuYWRJZCwiIGhhcyBiZWVuIHJlbmRlcmVkIGJlZm9yZSIpKSxULmVtaXQoRCxyKSxPYmplY3QoaS5kZWVwQWNjZXNzKShjLmIuZ2V0Q29uZmlnKCJhdWN0aW9uT3B0aW9ucyIpLCJzdXBwcmVzc1N0YWxlUmVuZGVyIikmJihvPSExKSksbyl7aWYoci5hZD1PYmplY3QoaS5yZXBsYWNlQXVjdGlvblByaWNlKShyLmFkLHIuY3BtKSxyLmFkVXJsPU9iamVjdChpLnJlcGxhY2VBdWN0aW9uUHJpY2UpKHIuYWRVcmwsci5jcG0pLG4mJm4uY2xpY2tUaHJvdWdoKXt2YXIgYT1uLmNsaWNrVGhyb3VnaDtyLmFkPU9iamVjdChpLnJlcGxhY2VDbGlja1Rocm91Z2gpKHIuYWQsYSksci5hZFVybD1PYmplY3QoaS5yZXBsYWNlQ2xpY2tUaHJvdWdoKShyLmFkVXJsLGEpfXUuYS5hZGRXaW5uaW5nQmlkKHIpLFQuZW1pdChSLHIpO3ZhciBzPXIuaGVpZ2h0LGQ9ci53aWR0aCxmPXIuYWQsbD1yLm1lZGlhVHlwZSxwPXIuYWRVcmwsZz1yLnJlbmRlcmVyLHY9ZG9jdW1lbnQuY3JlYXRlQ29tbWVudCgiQ3JlYXRpdmUgIi5jb25jYXQoci5jcmVhdGl2ZUlkLCIgc2VydmVkIGJ5ICIpLmNvbmNhdChyLmJpZGRlciwiIFByZWJpZC5qcyBIZWFkZXIgQmlkZGluZyIpKTtpZihPYmplY3QoYi5jKShnKSlPYmplY3QoYi5iKShnLHIpLE9iamVjdChpLmluc2VydEVsZW1lbnQpKHYsZSwiaHRtbCIpLFgoe2RvYzplLGJpZDpyLGlkOnR9KTtlbHNlIGlmKGU9PT1kb2N1bWVudCYmIU9iamVjdChpLmluSWZyYW1lKSgpfHwidmlkZW8iPT09bCl7dmFyIHk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQWQgcmVuZGVyIGNhbGwgYWQgaWQgIi5jb25jYXQodCwiIHdhcyBwcmV2ZW50ZWQgZnJvbSB3cml0aW5nIHRvIHRoZSBtYWluIGRvY3VtZW50LiIpOyQoe3JlYXNvbjpOLG1lc3NhZ2U6eSxiaWQ6cixpZDp0fSl9ZWxzZSBpZihmKXtpZihuYXZpZ2F0b3IudXNlckFnZW50JiZuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZigiZmlyZWZveC8iKT4tMSl7dmFyIGg9L2ZpcmVmb3hcLyhbXGRcLl0rKS8sbT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goaClbMV07bSYmcGFyc2VJbnQobSwxMCk8NjcmJmUub3BlbigidGV4dC9odG1sIiwicmVwbGFjZSIpfWUud3JpdGUoZiksZS5jbG9zZSgpLFcoZSxkLHMpLE9iamVjdChpLmluc2VydEVsZW1lbnQpKHYsZSwiaHRtbCIpLE9iamVjdChpLmNhbGxCdXJsKShyKSxYKHtkb2M6ZSxiaWQ6cixpZDp0fSl9ZWxzZSBpZihwKXt2YXIgTz1PYmplY3QoaS5jcmVhdGVJbnZpc2libGVJZnJhbWUpKCk7Ty5oZWlnaHQ9cyxPLndpZHRoPWQsTy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLE8uc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsTy5zcmM9cCxPYmplY3QoaS5pbnNlcnRFbGVtZW50KShPLGUsImJvZHkiKSxXKGUsZCxzKSxPYmplY3QoaS5pbnNlcnRFbGVtZW50KSh2LGUsImh0bWwiKSxPYmplY3QoaS5jYWxsQnVybCkociksWCh7ZG9jOmUsYmlkOnIsaWQ6dH0pfWVsc2V7dmFyIGo9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gTm8gYWQgZm9yIGJpZCByZXNwb25zZSBpZDogIi5jb25jYXQodCk7JCh7cmVhc29uOlAsbWVzc2FnZTpqLGJpZDpyLGlkOnR9KX19fWVsc2V7dmFyIFM9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQ2Fubm90IGZpbmQgYWQgYnkgZ2l2ZW4gaWQgOiAiLmNvbmNhdCh0KTskKHtyZWFzb246TSxtZXNzYWdlOlMsaWQ6dH0pfX1jYXRjaChlKXt2YXIgQT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2U6IikuY29uY2F0KGUubWVzc2FnZSk7JCh7cmVhc29uOnEsbWVzc2FnZTpBLGlkOnR9KX1lbHNle3ZhciBJPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQgSWQgOiIuY29uY2F0KHQsIiB0byB0aGUgcGFnZS4gTWlzc2luZyBkb2N1bWVudCBvciBhZElkIik7JCh7cmVhc29uOkcsbWVzc2FnZTpJLGlkOnR9KX19KSksUy5yZW1vdmVBZFVuaXQ9ZnVuY3Rpb24oZSl7KE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZW1vdmVBZFVuaXQiLGFyZ3VtZW50cyksZSk/KE9iamVjdChpLmlzQXJyYXkpKGUpP2U6W2VdKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmb3IodmFyIHQ9Uy5hZFVuaXRzLmxlbmd0aC0xO3Q+PTA7dC0tKVMuYWRVbml0c1t0XS5jb2RlPT09ZSYmUy5hZFVuaXRzLnNwbGljZSh0LDEpfSkpOlMuYWRVbml0cz1bXX0sUy5yZXF1ZXN0Qmlkcz1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUuYmlkc0JhY2tIYW5kbGVyLG49ZS50aW1lb3V0LHI9ZS5hZFVuaXRzLG89ZS5hZFVuaXRDb2RlcyxhPWUubGFiZWxzLGQ9ZS5hdWN0aW9uSWQ7VC5lbWl0KF8pO3ZhciBmPW58fGMuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKTtyPXImJmMuYi5jb252ZXJ0QWRVbml0RnBkKE9iamVjdChpLmlzQXJyYXkpKHIpP3I6W3JdKXx8Uy5hZFVuaXRzLE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5yZXF1ZXN0QmlkcyIsYXJndW1lbnRzKTt2YXIgbD1yLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQucHJlYmlkLnN0b3JlZHJlcXVlc3QiKX0pKSxiPVtdLHY9Yy5iLmdldENvbmZpZygiczJzQ29uZmlnIik7diYmKGI9QXJyYXkuaXNBcnJheSh2KT92Olt2XSk7dmFyIHk9W107aWYoYi5mb3JFYWNoKChmdW5jdGlvbihlKXtsJiZlLmJpZGRlcnMucHVzaCgiczJzQmlkZGVyUGxhY2Vob2xkZXIiKSx5LnB1c2guYXBwbHkoeSxtKGUuYmlkZGVycykpfSkpLHI9WShyKSxvJiZvLmxlbmd0aD9yPXIuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gcCgpKG8sZS5jb2RlKX0pKTpvPXImJnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlfSkpLHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXMoZS5tZWRpYVR5cGVzfHx7YmFubmVyOiJiYW5uZXIifSk7IWUuYmlkcy5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJ9KSkmJnkuaW5jbHVkZXMoInMyc0JpZGRlclBsYWNlaG9sZGVyIikmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5wcmViaWQuc3RvcmVkcmVxdWVzdCIpJiZlLmJpZHMucHVzaCh7YmlkZGVyOiJzMnNCaWRkZXJQbGFjZWhvbGRlciJ9KTt2YXIgbj1lLmJpZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJ9KSkscj1BLmJpZGRlclJlZ2lzdHJ5LG89eT9uLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIXAoKSh5LGUpfSkpOm47ZS50cmFuc2FjdGlvbklkPU9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxvLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBvPXJbbl0sYT1vJiZvLmdldFNwZWMmJm8uZ2V0U3BlYygpLGM9YSYmYS5zdXBwb3J0ZWRNZWRpYVR5cGVzfHxbImJhbm5lciJdO3Quc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIHAoKShjLGUpfSkpP2cuYS5pbmNyZW1lbnRCaWRkZXJSZXF1ZXN0c0NvdW50ZXIoZS5jb2RlLG4pOihPYmplY3QoaS5sb2dXYXJuKShPYmplY3QoaS51bnN1cHBvcnRlZEJpZGRlck1lc3NhZ2UpKGUsbikpLGUuYmlkcz1lLmJpZHMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXIhPT1ufSkpKX0pKSxnLmEuaW5jcmVtZW50UmVxdWVzdHNDb3VudGVyKGUuY29kZSl9KSksciYmMCE9PXIubGVuZ3RoKXt2YXIgaD11LmEuY3JlYXRlQXVjdGlvbih7YWRVbml0czpyLGFkVW5pdENvZGVzOm8sY2FsbGJhY2s6dCxjYlRpbWVvdXQ6ZixsYWJlbHM6YSxhdWN0aW9uSWQ6ZH0pLE89ci5sZW5ndGg7Tz4xNSYmT2JqZWN0KGkubG9nSW5mbykoIkN1cnJlbnQgYXVjdGlvbiAiLmNvbmNhdChoLmdldEF1Y3Rpb25JZCgpLCIgY29udGFpbnMgIikuY29uY2F0KE8sIiBhZFVuaXRzLiIpLHIpLG8uZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIHMuZC5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0KGUsaC5nZXRBdWN0aW9uSWQoKSl9KSksaC5jYWxsQmlkcygpfWVsc2UgaWYoT2JqZWN0KGkubG9nTWVzc2FnZSkoIk5vIGFkVW5pdHMgY29uZmlndXJlZC4gTm8gYmlkcyByZXF1ZXN0ZWQuIiksImZ1bmN0aW9uIj09dHlwZW9mIHQpdHJ5e3QoKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIGV4ZWN1dGluZyBiaWRzQmFja0hhbmRsZXIiLG51bGwsZSl9fSkpLFMucmVxdWVzdEJpZHMuYmVmb3JlKFosNDkpLFMuYWRkQWRVbml0cz1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuYWRkQWRVbml0cyIsYXJndW1lbnRzKSxTLmFkVW5pdHMucHVzaC5hcHBseShTLmFkVW5pdHMsYy5iLmNvbnZlcnRBZFVuaXRGcGQoT2JqZWN0KGkuaXNBcnJheSkoZSk/ZTpbZV0pKSxULmVtaXQoQyl9LFMub25FdmVudD1mdW5jdGlvbihlLHQsbil7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLm9uRXZlbnQiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNGbikodCk/IW58fExbZV0uY2FsbChudWxsLG4pP1Qub24oZSx0LG4pOk9iamVjdChpLmxvZ0Vycm9yKSgnVGhlIGlkIHByb3ZpZGVkIGlzIG5vdCB2YWxpZCBmb3IgZXZlbnQgIicrZSsnIiBhbmQgbm8gaGFuZGxlciB3YXMgc2V0LicpOk9iamVjdChpLmxvZ0Vycm9yKSgnVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50ICInK2UrJyIuJyl9LFMub2ZmRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe09iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5vZmZFdmVudCIsYXJndW1lbnRzKSxuJiYhTFtlXS5jYWxsKG51bGwsbil8fFQub2ZmKGUsdCxuKX0sUy5nZXRFdmVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLmdldEV2ZW50cyIpLFQuZ2V0RXZlbnRzKCl9LFMucmVnaXN0ZXJCaWRBZGFwdGVyPWZ1bmN0aW9uKGUsdCl7T2JqZWN0KGkubG9nSW5mbykoIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQmlkQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7QS5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiRXJyb3IgcmVnaXN0ZXJpbmcgYmlkZGVyIGFkYXB0ZXIgOiAiK2UubWVzc2FnZSl9fSxTLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcj1mdW5jdGlvbihlKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyIixhcmd1bWVudHMpO3RyeXtBLnJlZ2lzdGVyQW5hbHl0aWNzQWRhcHRlcihlKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0sUy5jcmVhdGVCaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5jcmVhdGVCaWQiLGFyZ3VtZW50cyksT2JqZWN0KHYuYSkoZSl9O3ZhciBlZT1bXSx0ZT1PYmplY3QoZC5iKSgiYXN5bmMiLChmdW5jdGlvbihlKXtlJiYhT2JqZWN0KGkuaXNFbXB0eSkoZSk/KE9iamVjdChpLmxvZ0luZm8pKCJJbnZva2luZyB1cGJqcy5lbmFibGVBbmFseXRpY3MgZm9yOiAiLGUpLEEuZW5hYmxlQW5hbHl0aWNzKGUpKTpPYmplY3QoaS5sb2dFcnJvcikoInVwYmpzLmVuYWJsZUFuYWx5dGljcyBzaG91bGQgYmUgY2FsbGVkIHdpdGggb3B0aW9uIHt9Iil9KSwiZW5hYmxlQW5hbHl0aWNzQ2IiKTtmdW5jdGlvbiBuZShlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKHZvaWQgMD09PWUuY2FsbGVkKXRyeXtlLmNhbGwoKSxlLmNhbGxlZD0hMH1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IiwicHJlYmlkLmpzIixlKX19KSl9Uy5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7ZWUucHVzaCh0ZS5iaW5kKHRoaXMsZSkpfSxTLmFsaWFzQmlkZGVyPWZ1bmN0aW9uKGUsdCxuKXtPYmplY3QoaS5sb2dJbmZvKSgiSW52b2tpbmcgdXBianMuYWxpYXNCaWRkZXIiLGFyZ3VtZW50cyksZSYmdD9BLmFsaWFzQmlkQWRhcHRlcihlLHQsbik6T2JqZWN0KGkubG9nRXJyb3IpKCJiaWRkZXJDb2RlIGFuZCBhbGlhcyBtdXN0IGJlIHBhc3NlZCBhcyBhcmd1bWVudHMiLCJ1cGJqcy5hbGlhc0JpZGRlciIpfSxTLmdldEFsbFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYS5nZXRBbGxXaW5uaW5nQmlkcygpfSxTLmdldEFsbFByZWJpZFdpbm5pbmdCaWRzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz09PUUuQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVH0pKX0sUy5nZXRIaWdoZXN0Q3BtQmlkcz1mdW5jdGlvbihlKXtyZXR1cm4gcy5kLmdldFdpbm5pbmdCaWRzKGUpfSxTLm1hcmtXaW5uaW5nQmlkQXNVc2VkPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2UuYWRVbml0Q29kZSYmZS5hZElkP3Q9dS5hLmdldEJpZHNSZWNlaXZlZCgpLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRJZD09PWUuYWRJZCYmdC5hZFVuaXRDb2RlPT09ZS5hZFVuaXRDb2RlfSkpOmUuYWRVbml0Q29kZT90PXMuZC5nZXRXaW5uaW5nQmlkcyhlLmFkVW5pdENvZGUpOmUuYWRJZD90PXUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkSWQ9PT1lLmFkSWR9KSk6T2JqZWN0KGkubG9nV2FybikoIkltcHJvcGVyIHVzZSBvZiBtYXJrV2lubmluZ0JpZEFzVXNlZC4gSXQgbmVlZHMgYW4gYWRVbml0Q29kZSBvciBhbiBhZElkIHRvIGZ1bmN0aW9uLiIpLHQubGVuZ3RoPjAmJih0WzBdLnN0YXR1cz1FLkJJRF9TVEFUVVMuUkVOREVSRUQpfSxTLmdldENvbmZpZz1jLmIuZ2V0Q29uZmlnLFMucmVhZENvbmZpZz1jLmIucmVhZENvbmZpZyxTLnNldENvbmZpZz1jLmIuc2V0Q29uZmlnLFMuc2V0QmlkZGVyQ29uZmlnPWMuYi5zZXRCaWRkZXJDb25maWcsUy5xdWUucHVzaCgoZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KG8uYSkoKX0pKSxTLmNtZC5wdXNoPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXRyeXtlLmNhbGwoKX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IixlLm1lc3NhZ2UsZS5zdGFjayl9ZWxzZSBPYmplY3QoaS5sb2dFcnJvcikoIkNvbW1hbmRzIHdyaXR0ZW4gaW50byB1cGJqcy5jbWQucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSxTLnF1ZS5wdXNoPVMuY21kLnB1c2gsUy5wcm9jZXNzUXVldWU9ZnVuY3Rpb24oKXtkLmIucmVhZHkoKSxuZShTLnF1ZSksbmUoUy5jbWQpfSx0LmRlZmF1bHQ9U30sODI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzc4KTtlLmV4cG9ydHM9cn0sODM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZTtyZXR1cm57Y2FsbEJpZHM6ZnVuY3Rpb24oKXt9LHNldEJpZGRlckNvZGU6ZnVuY3Rpb24oZSl7dD1lfSxnZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHR9fX19LDg0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI5KSxpPW4oNTEpLG89IiIuc3BsaXQ7ZS5leHBvcnRzPXIoKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSkpP2Z1bmN0aW9uKGUpe3JldHVybiJTdHJpbmciPT1pKGUpP28uY2FsbChlLCIiKTpPYmplY3QoZSl9Ok9iamVjdH0sODU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzMpLGk9bigyOSksbz1uKDg2KTtlLmV4cG9ydHM9IXImJiFpKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkobygiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpfSw4NjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDMwKSxvPXIuZG9jdW1lbnQsYT1pKG8pJiZpKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBhP28uY3JlYXRlRWxlbWVudChlKTp7fX19LDg3OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE4KSxpPW4oNjYpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuMTUuMSIsbW9kZTpyPyJwdXJlIjoiZ2xvYmFsIixjb3B5cmlnaHQ6IsKpIDIwMjEgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSkifSl9LDg4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDExNCksaT1uKDI5KTtlLmV4cG9ydHM9ISFPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYhaSgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hU3RyaW5nKGUpfHwhKE9iamVjdChlKWluc3RhbmNlb2YgU3ltYm9sKXx8IVN5bWJvbC5zaGFtJiZyJiZyPDQxfSkpfSw4OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MCksaT1uKDU0KSxvPW4oMTE5KSxhPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4sYSl7dmFyIGMsdT1yKHQpLHM9aSh1Lmxlbmd0aCksZD1vKGEscyk7aWYoZSYmbiE9bil7Zm9yKDtzPmQ7KWlmKChjPXVbZCsrXSkhPWMpcmV0dXJuITB9ZWxzZSBmb3IoO3M+ZDtkKyspaWYoKGV8fGQgaW4gdSkmJnVbZF09PT1uKXJldHVybiBlfHxkfHwwO3JldHVybiFlJiYtMX19O2UuZXhwb3J0cz17aW5jbHVkZXM6YSghMCksaW5kZXhPZjphKCExKX19LDk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsKGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSksbi5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBjfSkpLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxNSxyPWUuZ2V0SG9va3Moe2hvb2s6dH0pOzA9PT1yLmxlbmd0aCYmZS5iZWZvcmUodCxuKX0sdC5jPWZ1bmN0aW9uKGUsdCl7YSgiYXN5bmMiLChmdW5jdGlvbihlKXtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiB0LmFwcGx5KHZvaWQgMCxmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBvKGUpfShuPWUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KG4pfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fShuKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKSk7dmFyIG59KSl9KSxlKShbXSl9LHQuZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0PjE/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07YyhlKS5iZWZvcmUoKGZ1bmN0aW9uKGUsdCl7dC5wdXNoKG4pLGUodCl9KSl9O3ZhciByPW4oMTcxKSxpPW4ubihyKTtmdW5jdGlvbiBvKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGE9aSgpKHtyZWFkeTppLmEuU1lOQ3xpLmEuQVNZTkN8aS5hLlFVRVVFfSksYz1hLmdldH0sOTA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTIwKTtuKDE0MCksbigxNDIpLG4oMTQ0KSxuKDE0NiksbigxNDgpLG4oMTQ5KSxuKDE1MCksbigxNTEpLG4oMTUyKSxuKDE1MyksbigxNTQpLG4oMTU1KSxuKDE1NiksbigxNTcpLG4oMTU4KSxuKDE1OSksbigxNjApLG4oMTYxKSxlLmV4cG9ydHM9cn0sOTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTcpLGk9bigzMCksbz1uKDMxKSxhPW4oMzQpLmYsYz1uKDY3KSx1PW4oMTIzKSxzPWMoIm1ldGEiKSxkPTAsZj1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSxsPWZ1bmN0aW9uKGUpe2EoZSxzLHt2YWx1ZTp7b2JqZWN0SUQ6Ik8iKyArK2Qsd2Vha0RhdGE6e319fSl9LHA9ZS5leHBvcnRzPXtSRVFVSVJFRDohMSxmYXN0S2V5OmZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFvKGUscykpe2lmKCFmKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtzXS5vYmplY3RJRH0sZ2V0V2Vha0RhdGE6ZnVuY3Rpb24oZSx0KXtpZighbyhlLHMpKXtpZighZihlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW3NdLndlYWtEYXRhfSxvbkZyZWV6ZTpmdW5jdGlvbihlKXtyZXR1cm4gdSYmcC5SRVFVSVJFRCYmZihlKSYmIW8oZSxzKSYmbChlKSxlfX07cltzXT0hMH0sOTI6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjEpLGk9big0MSksbz1yKCJpdGVyYXRvciIpLGE9QXJyYXkucHJvdG90eXBlO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKGkuQXJyYXk9PT1lfHxhW29dPT09ZSl9fSw5MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmV0dXJuO2lmKHZvaWQgMCE9PXQpcmV0dXJuIHIodC5jYWxsKGUpKS52YWx1ZX19LDk0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVsiY29uc3RydWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJ2YWx1ZU9mIl19LDk1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDcyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgaSBpbiB0KW4mJm4udW5zYWZlJiZlW2ldP2VbaV09dFtpXTpyKGUsaSx0W2ldLG4pO3JldHVybiBlfX0sOTUxOmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4MSl9LDk2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big5NykuSXRlcmF0b3JQcm90b3R5cGUsaT1uKDcxKSxvPW4oNDQpLGE9big2MCksYz1uKDQxKSx1PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIHM9dCsiIEl0ZXJhdG9yIjtyZXR1cm4gZS5wcm90b3R5cGU9aShyLHtuZXh0Om8oMSxuKX0pLGEoZSxzLCExLCEwKSxjW3NdPXUsZX19LDk3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHIsaSxvLGE9bigyOSksYz1uKDk4KSx1PW4oMzIpLHM9bigzMSksZD1uKDIxKSxmPW4oMTgpLGw9ZCgiaXRlcmF0b3IiKSxwPSExO1tdLmtleXMmJigibmV4dCJpbihvPVtdLmtleXMoKSk/KGk9YyhjKG8pKSkhPT1PYmplY3QucHJvdG90eXBlJiYocj1pKTpwPSEwKTt2YXIgZz1udWxsPT1yfHxhKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiByW2xdLmNhbGwoZSkhPT1lfSkpO2cmJihyPXt9KSxmJiYhZ3x8cyhyLGwpfHx1KHIsbCwoZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pKSxlLmV4cG9ydHM9e0l0ZXJhdG9yUHJvdG90eXBlOnIsQlVHR1lfU0FGQVJJX0lURVJBVE9SUzpwfX0sOTg6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzEpLGk9big1Myksbz1uKDcwKSxhPW4oMTMyKSxjPW8oIklFX1BST1RPIiksdT1PYmplY3QucHJvdG90eXBlO2UuZXhwb3J0cz1hP09iamVjdC5nZXRQcm90b3R5cGVPZjpmdW5jdGlvbihlKXtyZXR1cm4gZT1pKGUpLHIoZSxjKT9lW2NdOiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbnN0cnVjdG9yJiZlIGluc3RhbmNlb2YgZS5jb25zdHJ1Y3Rvcj9lLmNvbnN0cnVjdG9yLnByb3RvdHlwZTplIGluc3RhbmNlb2YgT2JqZWN0P3U6bnVsbH19LDk5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMzcpLmNoYXJBdCxpPW4oNDYpLG89big3MyksYT0iU3RyaW5nIEl0ZXJhdG9yIixjPWkuc2V0LHU9aS5nZXR0ZXJGb3IoYSk7byhTdHJpbmcsIlN0cmluZyIsKGZ1bmN0aW9uKGUpe2ModGhpcyx7dHlwZTphLHN0cmluZzpTdHJpbmcoZSksaW5kZXg6MH0pfSksKGZ1bmN0aW9uKCl7dmFyIGUsdD11KHRoaXMpLG49dC5zdHJpbmcsaT10LmluZGV4O3JldHVybiBpPj1uLmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPXIobixpKSx0LmluZGV4Kz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KSl9fSk7CnVwYmpzQ2h1bmsoWzM3OV0sezEwNDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTA1KX0sMTA1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gVH0pKTt2YXIgbj1yKDEpLGk9cigzKSxvPXIoMCksYT1yKDIpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGQoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/YyhPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3UoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmMoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gdShlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIHA9IjMzYWNyb3NzIixsPSJodHRwczovL3NzYy4zM2Fjcm9zcy5jb20vYXBpL3YxL2hiIixiPSJodHRwczovL3NzYy1jbXMuMzNhY3Jvc3MuY29tL3BzLz9tPXhjaCZydD1odG1sJnJ1PWRlYiIsZj0vXlthLXpBLVowLTlfLV17MjJ9JC8sbT0ic2lhYiIsZz0iaW52aWV3IixoPSJpbnN0cmVhbSIsdj1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInBsYWNlbWVudCIsInByb3RvY29scyIsInN0YXJ0ZGVsYXkiLCJza2lwIiwic2tpcGFmdGVyIiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiLCJkZWxpdmVyeSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwibGluZWFyaXR5Il0seT17dW5pcXVlU2l0ZUlkczpbXX0sTz0ibm0iO2Z1bmN0aW9uIGooKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzWzFdOnZvaWQgMCxyPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwO3JldHVybiBzKHt9LGUse2V4dDpzKHt9LGUuZXh0LHUoe30sdCxyKSl9KX1mdW5jdGlvbiBBKGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5wYXJhbXMscj1lLm1lZGlhVHlwZXMsbj1yLmJhbm5lcixpPXIudmlkZW87cmV0dXJuIGkmJiFuJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0P2g6dC5wcm9kdWN0SWQ9PT1nP3QucHJvZHVjdElkOm19ZnVuY3Rpb24geChlLHQscil7dmFyIG49ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTpbdC53LHQuaF19KTtpZighaXNOYU4obi5mbG9vcikmJiJVU0QiPT09bi5jdXJyZW5jeSlyZXR1cm4gbi5mbG9vcn1mdW5jdGlvbiBJKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQudyxuPXQuaCxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1pLndpZHRoLGE9aS5oZWlnaHQscz1pLmxlZnQsYz1pLnRvcCxkPWkucmlnaHQsdT1pLmJvdHRvbTtyZXR1cm4oMD09PW98fDA9PT1hKSYmciYmbiYmKG89cixhPW4sZD1zK3IsdT1jK24pLHt3aWR0aDpvLGhlaWdodDphLGxlZnQ6cyx0b3A6YyxyaWdodDpkLGJvdHRvbTp1fX1mdW5jdGlvbiBTKGUpe2Zvcih2YXIgdD17bGVmdDplWzBdLmxlZnQscmlnaHQ6ZVswXS5yaWdodCx0b3A6ZVswXS50b3AsYm90dG9tOmVbMF0uYm90dG9tfSxyPTE7cjxlLmxlbmd0aDsrK3Ipe2lmKHQubGVmdD1NYXRoLm1heCh0LmxlZnQsZVtyXS5sZWZ0KSx0LnJpZ2h0PU1hdGgubWluKHQucmlnaHQsZVtyXS5yaWdodCksdC5sZWZ0Pj10LnJpZ2h0KXJldHVybiBudWxsO2lmKHQudG9wPU1hdGgubWF4KHQudG9wLGVbcl0udG9wKSx0LmJvdHRvbT1NYXRoLm1pbih0LmJvdHRvbSxlW3JdLmJvdHRvbSksdC50b3A+PXQuYm90dG9tKXJldHVybiBudWxsfXJldHVybiB0LndpZHRoPXQucmlnaHQtdC5sZWZ0LHQuaGVpZ2h0PXQuYm90dG9tLXQudG9wLHR9ZnVuY3Rpb24gQyhlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPXIudyxpPXIuaCxvPUkoZSx7dzpuLGg6aX0pLGE9Uyhbe2xlZnQ6MCx0b3A6MCxyaWdodDp0LmlubmVyV2lkdGgsYm90dG9tOnQuaW5uZXJIZWlnaHR9LG9dKTtyZXR1cm4gbnVsbCE9PWE/YS53aWR0aCphLmhlaWdodC8oby53aWR0aCpvLmhlaWdodCkqMTAwOjB9dmFyIFQ9e05PTl9NRUFTVVJBQkxFOk8sY29kZTpwLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihlLmJpZGRlciE9PXB8fHZvaWQgMD09PWUucGFyYW1zKXJldHVybiExO2lmKCFmdW5jdGlvbihlKXtpZihudWxsPT09KE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXRlSWQiLCIiKXx8IiIpLnRyaW0oKS5tYXRjaChmKSlyZXR1cm4hMTtyZXR1cm4hMH0oZSkpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5zaXplcykpcmV0dXJuITE7cmV0dXJuITB9KGUpJiZmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikscj1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iLHt9KTtpZih2b2lkIDA9PT10KXJldHVybiEwO2lmKCFBcnJheS5pc0FycmF5KHQucGxheWVyU2l6ZSkpcmV0dXJuITE7aWYoIXQuY29udGV4dClyZXR1cm4hMTt2YXIgbj1kKGQoe30sdCkscik7aWYoIUFycmF5LmlzQXJyYXkobi5taW1lcyl8fDA9PT1uLm1pbWVzLmxlbmd0aClyZXR1cm4hMTtpZighQXJyYXkuaXNBcnJheShuLnByb3RvY29scyl8fDA9PT1uLnByb3RvY29scy5sZW5ndGgpcmV0dXJuITE7aWYodm9pZCAwIT09bi5wbGFjZW1lbnQmJiJudW1iZXIiIT10eXBlb2Ygbi5wbGFjZW1lbnQpcmV0dXJuITE7aWYoImluc3RyZWFtIj09PXQuY29udGV4dCYmdm9pZCAwIT09bi5zdGFydGRlbGF5JiYibnVtYmVyIiE9dHlwZW9mIG4uc3RhcnRkZWxheSlyZXR1cm4hMTtyZXR1cm4hMH0oZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1zKHtjb25zZW50U3RyaW5nOnZvaWQgMCxnZHByQXBwbGllczohMX0sdCYmdC5nZHByQ29uc2VudCksbj10JiZ0LnVzcENvbnNlbnQsYz10JiZ0LnJlZmVyZXJJbmZvP3QucmVmZXJlckluZm8ucmVmZXJlcjp2b2lkIDA7cmV0dXJuIHkudW5pcXVlU2l0ZUlkcz1lLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnNpdGVJZH0pKS5maWx0ZXIoby51bmlxdWVzKSxlLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkUmVxdWVzdCxyPWUuZ2RwckNvbnNlbnQsbj12b2lkIDA9PT1yP3t9OnIsYz1lLnVzcENvbnNlbnQsdT1lLnBhZ2VVcmwscD17fSxiPXQucGFyYW1zO3AuaW1wPVt7fV0sT2JqZWN0KG8uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy5iYW5uZXIiKSYmKHAuaW1wWzBdLmJhbm5lcj1kKHt9LGZ1bmN0aW9uKGUpe3ZhciB0LHI9T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiLHt9KSxuPShjPWUuYWRVbml0Q29kZSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjKXx8ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZnVuY3Rpb24oZSl7aWYoT2JqZWN0KG8uaXNHcHRQdWJhZHNEZWZpbmVkKSgpKWZvcih2YXIgdD1nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxyPU9iamVjdChvLmlzU2xvdE1hdGNoaW5nQWRVbml0Q29kZSkoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHIodFtuXSkpe3ZhciBpPXRbbl0uZ2V0U2xvdEVsZW1lbnRJZCgpO3JldHVybiBPYmplY3Qoby5sb2dJbmZvKSgiWzMzQWNyb3NzIEFkYXB0ZXJdIE1hcCBhZCB1bml0IHBhdGggdG8gSFRNTCBlbGVtZW50IGlkOiAnIi5jb25jYXQoZSwiJyAtPiAiKS5jb25jYXQoaSkpLGl9cmV0dXJuIE9iamVjdChvLmxvZ1dhcm4pKCJbMzNBY3Jvc3MgQWRhcHRlcl0gVW5hYmxlIHRvIGxvY2F0ZSBlbGVtZW50IGZvciBhZCB1bml0IGNvZGU6ICciLmNvbmNhdChlLCInIikpLG51bGx9KGMpKSksaT1mdW5jdGlvbihlKXtpZihPYmplY3Qoby5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RoJiYhT2JqZWN0KG8uaXNBcnJheSkoZVswXSkpcmV0dXJuW0EoZSldO3JldHVybiBlLm1hcChBKX0oci5zaXplcyk7dmFyIGM7dD0iZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9pLm1hcCgoZnVuY3Rpb24odCl7dmFyIHIsbj14KGUsdCxhLmIpO3JldHVybiBuJiYocj17ZXh0Ont0dHg6e2JpZGZsb29yczpbbl19fX0pLHMoe30sdCxyKX0pKTppO3ZhciBkPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5oKnQudzxlLmgqZS53P3Q6ZX0pKX0oaSksdT1mdW5jdGlvbihlKXtyZXR1cm57dHR4Ont2aWV3YWJpbGl0eTp7YW1vdW50OmlzTmFOKGUpP2U6TWF0aC5yb3VuZChlKX19fX0oZnVuY3Rpb24oZSl7cmV0dXJuIWZ1bmN0aW9uKCl7dHJ5e3JldHVybiBPYmplY3Qoby5nZXRXaW5kb3dTZWxmKSgpIT09T2JqZWN0KG8uZ2V0V2luZG93VG9wKSgpfWNhdGNoKGUpe3JldHVybiEwfX0oKSYmbnVsbCE9PWV9KG4pP2Z1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oO3JldHVybiJ2aXNpYmxlIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP0MoZSx0LHt3Om4saDppfSk6MH0obixPYmplY3Qoby5nZXRXaW5kb3dUb3ApKCksZCk6Tyk7cmV0dXJue2Zvcm1hdDp0LGV4dDp1fX0odCkpKTtPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvIikmJihwLmltcFswXS52aWRlbz1mdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIix7fSkscj1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8iLHt9KSxuPWQoZCh7fSx0KSxyKSxpPXt9LGM9QShuLnBsYXllclNpemVbMF0pLHU9Yy53LHA9Yy5oO2kudz11LGkuaD1wLHYuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5oYXNPd25Qcm9wZXJ0eShlKSYmKGlbZV09bltlXSl9KSk7dmFyIGw9dyhlKTtpLnBsYWNlbWVudD1pLnBsYWNlbWVudHx8MixsPT09aCYmKGkuc3RhcnRkZWxheT1pLnN0YXJ0ZGVsYXl8fDAsaS5wbGFjZW1lbnQ9MSk7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciBiPXgoZSx7dzppLncsaDppLmh9LGEuZCk7YiYmcyhpLHtleHQ6e3R0eDp7YmlkZmxvb3JzOltiXX19fSl9cmV0dXJuIGl9KHQpKTtwLmltcFswXS5leHQ9e3R0eDp7cHJvZDp3KHQpfX0scC5zaXRlPXtpZDpiLnNpdGVJZH0sdSYmKHAuc2l0ZS5wYWdlPXUpO3AuaWQ9dC5iaWRJZCxuLmNvbnNlbnRTdHJpbmcmJihwLnVzZXI9aihwLnVzZXIsImNvbnNlbnQiLG4uY29uc2VudFN0cmluZykpO0FycmF5LmlzQXJyYXkodC51c2VySWRBc0VpZHMpJiZ0LnVzZXJJZEFzRWlkcy5sZW5ndGg+MCYmKHAudXNlcj1qKHAudXNlciwiZWlkcyIsdC51c2VySWRBc0VpZHMpKTtwLnJlZ3M9aihwLnJlZ3MsImdkcHIiLE51bWJlcihuLmdkcHJBcHBsaWVzKSksYyYmKHAucmVncz1qKHAucmVncywidXNfcHJpdmFjeSIsYykpO3AuZXh0PXt0dHg6e3ByZWJpZFN0YXJ0ZWRBdDpEYXRlLm5vdygpLGNhbGxlcjpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI1LjIwLjIifV19fSx0LnNjaGFpbiYmKHAuc291cmNlPWoocC5zb3VyY2UsInNjaGFpbiIsdC5zY2hhaW4pKTsxPT09Yi50ZXN0JiYocC50ZXN0PTEpO3ZhciBmPXtjb250ZW50VHlwZToidGV4dC9wbGFpbiIsd2l0aENyZWRlbnRpYWxzOiEwfSxtPWkuYi5nZXRDb25maWcoInR0eFNldHRpbmdzIik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm0mJm0udXJsfHwiIi5jb25jYXQobCwiP2d1aWQ9IikuY29uY2F0KGIuc2l0ZUlkKSxkYXRhOkpTT04uc3RyaW5naWZ5KHApLG9wdGlvbnM6Zn19KHtiaWRSZXF1ZXN0OmUsZ2RwckNvbnNlbnQ6cix1c3BDb25zZW50Om4scGFnZVVybDpjfSl9KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuYm9keS5zZWF0YmlkLmxlbmd0aD4wJiZlLmJvZHkuc2VhdGJpZFswXS5iaWQubGVuZ3RoPjAmJnIucHVzaChmdW5jdGlvbihlKXt2YXIgdD1lLnNlYXRiaWRbMF0uYmlkWzBdLmFkb21haW4mJmUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbi5sZW5ndGgscj17cmVxdWVzdElkOmUuaWQsYmlkZGVyQ29kZTpwLGNwbTplLnNlYXRiaWRbMF0uYmlkWzBdLnByaWNlLHdpZHRoOmUuc2VhdGJpZFswXS5iaWRbMF0udyxoZWlnaHQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5oLGFkOmUuc2VhdGJpZFswXS5iaWRbMF0uYWRtLHR0bDplLnNlYXRiaWRbMF0uYmlkWzBdLnR0bHx8NjAsY3JlYXRpdmVJZDplLnNlYXRiaWRbMF0uYmlkWzBdLmNyaWQsbWVkaWFUeXBlOk9iamVjdChvLmRlZXBBY2Nlc3MpKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgubWVkaWFUeXBlIixhLmIpLGN1cnJlbmN5OmUuY3VyLG5ldFJldmVudWU6ITB9O3QmJihyLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuc2VhdGJpZFswXS5iaWRbMF0uYWRvbWFpbn0pO2lmKHIubWVkaWFUeXBlPT09YS5kKXsieG1sIj09PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUuc2VhdGJpZFswXS5iaWRbMF0sImV4dC50dHgudmFzdFR5cGUiLCJ4bWwiKT9yLnZhc3RYbWw9ci5hZDpyLnZhc3RVcmw9ci5hZH1yZXR1cm4gcn0oZS5ib2R5KSkscn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWUuaWZyYW1lRW5hYmxlZD95LnVuaXF1ZVNpdGVJZHMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zaXRlSWQscj12b2lkIDA9PT10PyJ6enowMDAwMDAwMDAwMDN6enoiOnQsbj1lLmdkcHJDb25zZW50LG89dm9pZCAwPT09bj97fTpuLGE9ZS51c3BDb25zZW50LHM9aS5iLmdldENvbmZpZygidHR4U2V0dGluZ3MiKSxjPXMmJnMuc3luY1VybHx8YixkPW8uY29uc2VudFN0cmluZyx1PW8uZ2RwckFwcGxpZXMscD17dHlwZToiaWZyYW1lIix1cmw6IiIuY29uY2F0KGMsIiZpZD0iKS5jb25jYXQociwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGQpLCImdXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGEpKX07ImJvb2xlYW4iPT10eXBlb2YgdSYmKHAudXJsKz0iJmdkcHI9Ii5jb25jYXQoTnVtYmVyKHUpKSk7cmV0dXJuIHB9KHtnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixzaXRlSWQ6ZX0pfSkpOltdO3JldHVybiB5LnVuaXF1ZVNpdGVJZHM9W10sb319O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShUKX19LFsxMDRdKTsKdXBianNDaHVuayhbMV0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1hKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShpLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6aVtyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxpPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBhKGUsdCl7dmFyIHI9aVt0XTtpZihyJiZlKXt2YXIgYT17fTthLnNvdXJjZT1yLnNvdXJjZTt2YXIgbz1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKG8pKXt2YXIgcz17aWQ6byxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciBjPXIuZ2V0VWlkRXh0KGUpO2MmJihzLmV4dD1jKX1pZihhLnVpZHM9W3NdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIHU9ci5nZXRFaWRFeHQoZSk7dSYmKGEuZXh0PXUpfXJldHVybiBhfX1yZXR1cm4gbnVsbH19LDE4MjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTgzKX0sMTgzOmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJFTkRQT0lOVCIsKGZ1bmN0aW9uKCl7cmV0dXJuIFR9KSksci5kKHQsInN0b3JhZ2UiLChmdW5jdGlvbigpe3JldHVybiB4fSkpLHIuZCh0LCJSRU5ERVJFUl9VUkwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLHIuZCh0LCJPUlRCX1ZJREVPX1BBUkFNUyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksci5kKHQsIkdsb2JhbEV4Y2hhbmdlIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0LmFkYWdpb1NjcmlwdEZyb21Mb2NhbFN0b3JhZ2VDYj1VLHQuZ2V0QWRhZ2lvU2NyaXB0PUMsci5kKHQsImludGVybmFsIiwoZnVuY3Rpb24oKXtyZXR1cm4gTn0pKSx0LnNldEV4dHJhUGFyYW09RyxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEp9KSk7dmFyIG49cigxMSksaT1yLm4obiksYT1yKDApLG89cigzKSxzPXIoMSksYz1yKDM1KSx1PXIoNzcpLGQ9KHIubih1KSxyKDcpKSxwPXIoMTkpLGY9cigxNyksbT1yKDIpLGw9cigxMyksaD1yKDIyKTtmdW5jdGlvbiBnKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2coT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtiKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpnKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGIoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciB2LE8sQSxJPSJhZGFnaW8iLGo9IkFkYWdpbzoiLFQ9Imh0dHBzOi8vbXAuNGRleC5pby9wcmViaWQiLEQ9W20uYixtLmMsbS5kXSx3PSJhZGFnaW9TY3JpcHQiLHg9T2JqZWN0KGQuYikoNjE3LCJhZGFnaW8iKSxTPSJodHRwczovL3NjcmlwdC40ZGV4LmlvL291dHN0cmVhbS1wbGF5ZXIuanMiLEU9e21pbWVzOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGV9KSl9LG1pbmR1cmF0aW9uOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxtYXhkdXJhdGlvbjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0scHJvdG9jb2xzOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDUsNiw3LDgsOSwxMF0uaW5kZXhPZihlKX0pKX0sdzpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0saDpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0sc3RhcnRkZWxheTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNJbnRlZ2VyKShlKX0scGxhY2VtZW50OmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDVdLmluZGV4T2YoZSl9KSl9LGxpbmVhcml0eTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDJdLmluZGV4T2YoZSl9LHNraXA6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMCwxXS5pbmRleE9mKGUpfSxza2lwbWluOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxza2lwYWZ0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LHNlcXVlbmNlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc0ludGVnZXIpKGUpfSxiYXR0cjpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1BcnJheS5mcm9tKHtsZW5ndGg6MTd9LChmdW5jdGlvbihlLHQpe3JldHVybiB0KzF9KSkuaW5kZXhPZihlKX0pKX0sbWF4ZXh0ZW5kZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LG1pbmJpdHJhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LG1heGJpdHJhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChhLmlzSW50ZWdlcikoZSl9LGJveGluZ2FsbG93ZWQ6ZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMCwxXS5pbmRleE9mKGUpfSxwbGF5YmFja21ldGhvZDpmdW5jdGlvbihlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1bMSwyLDMsNCw1LDZdLmluZGV4T2YoZSl9KSl9LHBsYXliYWNrZW5kOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzEsMiwzXS5pbmRleE9mKGUpfSxkZWxpdmVyeTpmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsM10uaW5kZXhPZihlKX0scG9zOmZ1bmN0aW9uKGUpe3JldHVybi0xIT09WzAsMSwyLDMsNCw1LDYsN10uaW5kZXhPZihlKX0sYXBpOmZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4tMSE9PVsxLDIsMyw0LDUsNl0uaW5kZXhPZihlKX0pKX19LGs9KEE9e30se2NsZWFyRmVhdHVyZXM6ZnVuY3Rpb24oKXtPPXZvaWQgMH0sY2xlYXJFeGNoYW5nZURhdGE6ZnVuY3Rpb24oKXtBPXt9fSxnZXRPclNldEdsb2JhbEZlYXR1cmVzOmZ1bmN0aW9uKCl7cmV0dXJuIE98fChPPXtwYWdlX2RpbWVuc2lvbnM6VigpLnRvU3RyaW5nKCksdmlld3BvcnRfZGltZW5zaW9uczp6KCkudG9TdHJpbmcoKSx1c2VyX3RpbWVzdGFtcDooTWF0aC5mbG9vcigobmV3IERhdGUpLmdldFRpbWUoKS8xZTMpLTYwKihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSkudG9TdHJpbmcoKSxkb21fbG9hZGluZzpMKCkudG9TdHJpbmcoKX0pLE99LHByZXBhcmVFeGNoYW5nZURhdGE6ZnVuY3Rpb24oZSl7dmFyIHQ9SlNPTi5wYXJzZShlLChmdW5jdGlvbihlLHQpe2lmKCJfIiE9PWUuY2hhckF0KDApfHwiIj09PWUpcmV0dXJuIHR9KSkscj1PYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJzZXNzaW9uLnJuZCIpLG49ITE7Ti5pc05ld1Nlc3Npb24odCkmJihuPSEwLHI9TWF0aC5yYW5kb20oKSk7dmFyIGk9e3Nlc3Npb246e25ldzpuLHJuZDpyfX07T2JqZWN0KGEubWVyZ2VEZWVwKShBLHQsaSksTi5lbnF1ZXVlKHthY3Rpb246InNlc3Npb24iLHRzOkRhdGUubm93KCksZGF0YTpBfSl9LGdldEV4Y2hhbmdlRGF0YTpmdW5jdGlvbigpe3JldHVybiBBfX0pO2Z1bmN0aW9uIFUoZSl7dHJ5e2lmKCFlKXJldHVybiB2b2lkIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgc2NyaXB0IG5vdCBmb3VuZC4iKSk7dmFyIHQ9L14oXC9cLyBoYXNoOiAoLispXG4pKC4rXG4pJC87aWYodC50ZXN0KGUpKXt2YXIgcj1lLm1hdGNoKHQpLG49clsyXSxpPXJbM107T2JqZWN0KHUudmVyaWZ5KShpLG4sIkFMMTZYVDQ0U2ZwKzhTSFZGMVVkQzdoeWRQU01WTE1oc1lrbktEZHdxcSswVG9EU0pyUDArUWgwa2k5SkpJMnVZbS82VkVZbzhUSkVEOVdmTWtpSjR2ZjAyQ1czUnZTV3djMzViaWYyU0sxTDhObi9HZkZZci8yL0dHL1JtMHZVc3YrdkJIa3k2bnV1WWxzMjBPZzBIRGhNZ2FPbFhvUS9jeE11aXk1UVNrdHAiLDY1NTM3KT8oT2JqZWN0KGEubG9nSW5mbykoIiIuY29uY2F0KGosIiBzdGFydCBzY3JpcHQuIikpLEZ1bmN0aW9uKGUpKCkpOihPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIGludmFsaWQgc2NyaXB0IGZvdW5kLiIpKSx4LnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKHcpKX1lbHNlIE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgbm8gaGFzaCBmb3VuZC4iKSkseC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZSh3KX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoaixlKX19ZnVuY3Rpb24gQygpe3guZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UodywoZnVuY3Rpb24oZSl7Ti5hZGFnaW9TY3JpcHRGcm9tTG9jYWxTdG9yYWdlQ2IoZSl9KSkseC5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKGZ1bmN0aW9uKGUpe2lmKGUpT2JqZWN0KGMuYSkoImh0dHBzOi8vc2NyaXB0LjRkZXguaW8vbG9jYWxzdG9yZS5qcyIsSSk7ZWxzZSB0cnl7d2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHcpLHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWRhZ2lvIil9Y2F0Y2goZSl7T2JqZWN0KGEubG9nSW5mbykoIiIuY29uY2F0KGosIiB1bmFibGUgdG8gY2xlYXIgQWRhZ2lvIHNjcmlwdHMgZnJvbSBsb2NhbHN0b3JhZ2UuIikpfX0pKX1mdW5jdGlvbiBSKCl7dHJ5e2lmKE9iamVjdChhLmdldFdpbmRvd1RvcCkoKS5sb2NhdGlvbi5ocmVmKXJldHVybiEwfWNhdGNoKGUpe3JldHVybiExfX1mdW5jdGlvbiBQKCl7cmV0dXJuIHZ8fE9iamVjdChhLmdldFdpbmRvd1NlbGYpKCl9ZnVuY3Rpb24gVygpe3ZhciBlPU9iamVjdChhLmdldFdpbmRvd1NlbGYpKCk7cmV0dXJuISghZS4kc2Z8fCFlLiRzZi5leHQpfWZ1bmN0aW9uIE0oZSl7dmFyIHQ9Ti5pc1JlbmRlcmVyUHJlZmVycmVkRnJvbVB1Ymxpc2hlcihlKT8ib3RoZXIiOiJhZGFnaW8iO3JldHVybiJvdGhlciI9PT10JiZPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIHJlbmRlcmVyLmJhY2t1cE9ubHkgaGFzIG5vdCBiZWVuIHNldC4gQWRhZ2lvIHJlY29tbWVuZHMgdG8gdXNlIGl0cyBvd24gcGxheWVyIHRvIGdldCBleHBlY3RlZCBiZWhhdmlvci4iKSksdH12YXIgTj17ZW5xdWV1ZTpmdW5jdGlvbihlKXt2YXIgdD1OLmdldEN1cnJlbnRXaW5kb3coKTt0LkFEQUdJTz10LkFEQUdJT3x8e30sdC5BREFHSU8ucXVldWU9dC5BREFHSU8ucXVldWV8fFtdLHQuQURBR0lPLnF1ZXVlLnB1c2goZSl9LGdldFBhZ2V2aWV3SWQ6ZnVuY3Rpb24oKXt2YXIgZT1OLmdldEN1cnJlbnRXaW5kb3coKTtyZXR1cm4gZS5BREFHSU89ZS5BREFHSU98fHt9LGUuQURBR0lPLnBhZ2V2aWV3SWQ9ZS5BREFHSU8ucGFnZXZpZXdJZHx8T2JqZWN0KGEuZ2VuZXJhdGVVVUlEKSgpLGUuQURBR0lPLnBhZ2V2aWV3SWR9LGdldERldmljZTpmdW5jdGlvbigpe3ZhciBlPW5hdmlnYXRvci5sYW5ndWFnZT8ibGFuZ3VhZ2UiOiJ1c2VyTGFuZ3VhZ2UiO3JldHVybnt1c2VyQWdlbnQ6bmF2aWdhdG9yLnVzZXJBZ2VudCxsYW5ndWFnZTpuYXZpZ2F0b3JbZV0sZG50Ok9iamVjdChhLmdldEROVCkoKT8xOjAsZ2VvOnt9LGpzOjF9fSxnZXRTaXRlOmZ1bmN0aW9uKGUpe3ZhciB0PSIiLHI9IiIsbj0iIixpPWUucmVmZXJlckluZm87aWYoUigpKXt2YXIgbz1PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk7dD1vLmxvY2F0aW9uLmhvc3RuYW1lLHI9by5sb2NhdGlvbi5ocmVmLG49by5kb2N1bWVudC5yZWZlcnJlcnx8IiJ9ZWxzZSBpZihpLnJlYWNoZWRUb3Ape3Q9T2JqZWN0KGEucGFyc2VVcmwpKGkucmVmZXJlcikuaG9zdG5hbWUscj1pLnJlZmVyZXJ9ZWxzZSBpZihpLnN0YWNrJiZpLnN0YWNrLmxlbmd0aCYmaS5zdGFja1swXSl7dD1PYmplY3QoYS5wYXJzZVVybCkoaS5zdGFja1swXSkuaG9zdG5hbWV9cmV0dXJue2RvbWFpbjp0LHBhZ2U6cixyZWZlcnJlcjpufX0sZ2V0RWxlbWVudEZyb21Ub3BXaW5kb3c6ZnVuY3Rpb24gZSh0LHIpe3RyeXtpZihPYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk9PT1yKXJldHVybiB0LmdldEF0dHJpYnV0ZSgiaWQiKXx8dC5zZXRBdHRyaWJ1dGUoImlkIiwiYWRnLSIuY29uY2F0KE9iamVjdChhLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCkpKSx0O3ZhciBuPXIuZnJhbWVFbGVtZW50LGk9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxvPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cmV0dXJuIGkud2lkdGg9PT1vLndpZHRoJiZpLmhlaWdodD09PW8uaGVpZ2h0JiZlKG4sci5wYXJlbnQpfWNhdGNoKGUpe3JldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiksZSksITF9fSxnZXRSZWZlcmVySW5mbzpwLmEsYWRhZ2lvU2NyaXB0RnJvbUxvY2FsU3RvcmFnZUNiOlUsZ2V0Q3VycmVudFdpbmRvdzpQLGNhbkFjY2Vzc1RvcFdpbmRvdzpSLGlzUmVuZGVyZXJQcmVmZXJyZWRGcm9tUHVibGlzaGVyOmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInJlbmRlcmVyIikscj0hISh0JiZ0LnVybCYmdC5yZW5kZXIpLG49T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpLGk9ISEobiYmbi51cmwmJm4ucmVuZGVyKTtyZXR1cm4hIShyJiYhMCE9PXQuYmFja3VwT25seXx8aSYmITAhPT1uLmJhY2t1cE9ubHkpfSxpc05ld1Nlc3Npb246ZnVuY3Rpb24oZSl7dmFyIHQ9RGF0ZS5ub3coKSxyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInNlc3Npb24iLHt9KSxuPXIubGFzdEFjdGl2aXR5VGltZSxpPXIudndTbXBsZztyZXR1cm4hT2JqZWN0KGEuaXNOdW1iZXIpKG4pfHwhT2JqZWN0KGEuaXNOdW1iZXIpKGkpfHx0LW4+MThlNX19O2Z1bmN0aW9uIHEoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpeyJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuQURBR0lPLm91dHN0cmVhbVBsYXllcj93aW5kb3cuQURBR0lPLm91dHN0cmVhbVBsYXllcihlKTpPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KGosIiBBZGFnaW8gb3V0c3RyZWFtIHBsYXllciBpcyBub3QgZGVmaW5lZCIpKX0pKX1mdW5jdGlvbiBCKGUpe2lmKGUuYWRtTmF0aXZlJiZBcnJheS5pc0FycmF5KGUuYWRtTmF0aXZlLmFzc2V0cykpe3ZhciB0PXt9O2UuYWRtTmF0aXZlLmFzc2V0cy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXQudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXI9ZS5kYXRhLChuPXsxOiJzcG9uc29yZWRCeSIsMjoiYm9keSIsMzoicmF0aW5nIiw0OiJsaWtlcyIsNToiZG93bmxvYWRzIiw2OiJwcmljZSIsNzoic2FsZVByaWNlIiw4OiJwaG9uZSIsOToiYWRkcmVzcyIsMTA6ImJvZHkyIiwxMToiZGlzcGxheVVybCIsMTI6ImN0YSJ9KS5oYXNPd25Qcm9wZXJ0eShyLnR5cGUpJiYic3RyaW5nIj09dHlwZW9mIHIudmFsdWUmJih0W25bci50eXBlXV09ci52YWx1ZSk7ZWxzZSBpZihlLmltZylzd2l0Y2goZS5pbWcudHlwZSl7Y2FzZSAxOnQuaWNvbj17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofTticmVhaztkZWZhdWx0OnQuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19dmFyIHIsbn0pKSxlLmFkbU5hdGl2ZS5saW5rJiYoZS5hZG1OYXRpdmUubGluay51cmwmJih0LmNsaWNrVXJsPWUuYWRtTmF0aXZlLmxpbmsudXJsKSxBcnJheS5pc0FycmF5KGUuYWRtTmF0aXZlLmxpbmsuY2xpY2t0cmFja2VycykmJih0LmNsaWNrVHJhY2tlcnM9ZS5hZG1OYXRpdmUubGluay5jbGlja3RyYWNrZXJzKSksQXJyYXkuaXNBcnJheShlLmFkbU5hdGl2ZS5ldmVudHRyYWNrZXJzKT8odC5pbXByZXNzaW9uVHJhY2tlcnM9W10sZS5hZG1OYXRpdmUuZXZlbnR0cmFja2Vycy5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigxPT09ZS5ldmVudClzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgMTp0LmltcHJlc3Npb25UcmFja2Vycy5wdXNoKGUudXJsKTticmVhaztjYXNlIDI6dC5qYXZhc2NyaXB0VHJhY2tlcnM9JzxzY3JpcHQgc3JjPSInLmNvbmNhdChlLnVybCwnIj48XC9zY3JpcHQ+Jyl9fSkpKToodC5pbXByZXNzaW9uVHJhY2tlcnM9QXJyYXkuaXNBcnJheShlLmFkbU5hdGl2ZS5pbXB0cmFja2Vycyk/ZS5hZG1OYXRpdmUuaW1wdHJhY2tlcnM6W10sZS5hZG1OYXRpdmUuanN0cmFja2VyJiYodC5qYXZhc2NyaXB0VHJhY2tlcnM9ZS5hZG1OYXRpdmUuanN0cmFja2VyKSksZS5hZG1OYXRpdmUucHJpdmFjeSYmKHQucHJpdmFjeUxpbms9ZS5hZG1OYXRpdmUucHJpdmFjeSksZS5hZG1OYXRpdmUuZXh0JiYodC5leHQ9e30sZS5hZG1OYXRpdmUuZXh0LmJ2dyYmKHQuZXh0LmFkYWdpb19idnc9ZS5hZG1OYXRpdmUuZXh0LmJ2dykpLGUubmF0aXZlPXR9ZWxzZSBPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KGosIiBJbnZhbGlkIG5hdGl2ZSByZXNwb25zZSIpKX1mdW5jdGlvbiBHKGUsdCl7aWYoZS5wYXJhbXM9ZS5wYXJhbXN8fHt9LCFlLnBhcmFtc1t0XSl7dmFyIHI9by5iLmdldENvbmZpZygiYWRhZ2lvIil8fHt9LG49by5iLmdldENvbmZpZygib3J0YjIiKSxpPXJbdF18fE9iamVjdChhLmRlZXBBY2Nlc3MpKG4sInNpdGUuZXh0LmRhdGEuIi5jb25jYXQodCksbnVsbCk7aSYmKGUucGFyYW1zW3RdPWkpfX1mdW5jdGlvbiBGKGUpe3ZhciB0PW8uYi5nZXRDb25maWcoImFkYWdpbyIpfHx7fTtlLnBhcmFtcz1lLnBhcmFtc3x8e30sdC5zaXRlSWQmJihlLnBhcmFtcy5vcmdhbml6YXRpb25JZD10LnNpdGVJZC5zcGxpdCgiOiIpWzBdLGUucGFyYW1zLnNpdGU9dC5zaXRlSWQuc3BsaXQoIjoiKVsxXSksITAhPT10LnVzZUFkVW5pdENvZGVBc1BsYWNlbWVudCYmITAhPT1lLnBhcmFtcy51c2VBZFVuaXRDb2RlQXNQbGFjZW1lbnR8fChlLnBhcmFtcy5wbGFjZW1lbnQ9ZS5hZFVuaXRDb2RlKSxlLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQ9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEuZWxlbWVudElkIixudWxsKXx8ZS5wYXJhbXMuYWRVbml0RWxlbWVudElkLGUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZHx8KCEwPT09dC51c2VBZFVuaXRDb2RlQXNBZFVuaXRFbGVtZW50SWR8fCEwPT09ZS5wYXJhbXMudXNlQWRVbml0Q29kZUFzQWRVbml0RWxlbWVudElkP2UucGFyYW1zLmFkVW5pdEVsZW1lbnRJZD1lLmFkVW5pdENvZGU6ZS5wYXJhbXMuYWRVbml0RWxlbWVudElkPWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZSk7aWYodCYmdC5kaXZJZClyZXR1cm4gdC5kaXZJZH0oZS5hZFVuaXRDb2RlKSksRyhlLCJlbnZpcm9ubWVudCIpLEcoZSwicGFnZXR5cGUiKSxHKGUsImNhdGVnb3J5IiksRyhlLCJzdWJjYXRlZ29yeSIpfWZ1bmN0aW9uIFYoKXtpZihXKCl8fCFSKCkpcmV0dXJuIiI7dmFyIGU9T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpLHQ9ZS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJib2R5Iik7aWYoIXQpcmV0dXJuIiI7dmFyIHI9ZS5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbj1NYXRoLm1heCh0LnNjcm9sbFdpZHRoLHQub2Zmc2V0V2lkdGgsci5jbGllbnRXaWR0aCxyLnNjcm9sbFdpZHRoLHIub2Zmc2V0V2lkdGgpLGk9TWF0aC5tYXgodC5zY3JvbGxIZWlnaHQsdC5vZmZzZXRIZWlnaHQsci5jbGllbnRIZWlnaHQsci5zY3JvbGxIZWlnaHQsci5vZmZzZXRIZWlnaHQpO3JldHVybiIiLmNvbmNhdChuLCJ4IikuY29uY2F0KGkpfWZ1bmN0aW9uIHooKXtpZighVygpJiYhUigpKXJldHVybiIiO3ZhciBlPXt3OjAsaDowfTtpZihXKCkpe3ZhciB0PU9iamVjdChhLmdldFdpbmRvd1NlbGYpKCk7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIHQuJHNmLmV4dC5nZW9tKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKShqLCJVbmFibGUgdG8gY29tcHV0ZSBmcm9tIHNhZmVmcmFtZSBhcGkuIiksIiI7dmFyIHI9dC4kc2YuZXh0Lmdlb20oKTtpZighcnx8IXIud2luKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKShqLCJVbmFibGUgdG8gY29tcHV0ZSBmcm9tIHNhZmVmcmFtZSBhcGkuIE1pc3NpbmcgYGdlb20oKS53aW5gIHByb3BlcnR5IiksIiI7ZS53PU1hdGgucm91bmQoci53KSxlLmg9TWF0aC5yb3VuZChyLmgpfWVsc2V7dmFyIG49T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpO2Uudz1uLmlubmVyV2lkdGgsZS5oPW4uaW5uZXJIZWlnaHR9cmV0dXJuIiIuY29uY2F0KGUudywieCIpLmNvbmNhdChlLmgpfWZ1bmN0aW9uIF8oZSl7aWYoIWUpcmV0dXJuIiI7aWYoIVcoKSYmIVIoKSlyZXR1cm4iIjt2YXIgdD17eDowLHk6MH07aWYoVygpKXt2YXIgcj1PYmplY3QoYS5nZXRXaW5kb3dTZWxmKSgpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiByLiRzZi5leHQuZ2VvbSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoaiwiVW5hYmxlIHRvIGNvbXB1dGUgZnJvbSBzYWZlZnJhbWUgYXBpLiIpLCIiO3ZhciBuPXIuJHNmLmV4dC5nZW9tKCk7aWYoIW58fCFuLnNlbGYpcmV0dXJuIE9iamVjdChhLmxvZ1dhcm4pKGosIlVuYWJsZSB0byBjb21wdXRlIGZyb20gc2FmZWZyYW1lIGFwaS4gTWlzc2luZyBgZ2VvbSgpLnNlbGZgIHByb3BlcnR5IiksIiI7dC54PU1hdGgucm91bmQobi50KSx0Lnk9TWF0aC5yb3VuZChuLmwpfWVsc2V7aWYoIVIoKSlyZXR1cm4iIjt2YXIgaSxvPU9iamVjdChhLmdldFdpbmRvd1RvcCkoKSxzPW8uZG9jdW1lbnQ7aWYoITA9PT1PYmplY3QoYS5pbklmcmFtZSkoKSl7dmFyIGM9T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKSx1PWMuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aT1OLmdldEVsZW1lbnRGcm9tVG9wV2luZG93KHUsYyl9ZWxzZSBpPW8uZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7aWYoIWkpcmV0dXJuIiI7dmFyIGQ9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxwPXMuZG9jdW1lbnRFbGVtZW50LGY9cy5ib2R5LG09cy5jbGllbnRUb3B8fGYuY2xpZW50VG9wfHwwLGw9cy5jbGllbnRMZWZ0fHxmLmNsaWVudExlZnR8fDAsaD1vLnBhZ2VZT2Zmc2V0fHxwLnNjcm9sbFRvcHx8Zi5zY3JvbGxUb3AsZz1vLnBhZ2VYT2Zmc2V0fHxwLnNjcm9sbExlZnR8fGYuc2Nyb2xsTGVmdCx5PW8uZ2V0Q29tcHV0ZWRTdHlsZShpLG51bGwpLmRpc3BsYXl8fCJibG9jayI7Im5vbmUiPT09eSYmKGkuc3R5bGU9aS5zdHlsZXx8e30saS5zdHlsZS5kaXNwbGF5PSJibG9jayIsZD1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGkuc3R5bGUuZGlzcGxheT15KSx0Lng9TWF0aC5yb3VuZChkLmxlZnQrZy1sKSx0Lnk9TWF0aC5yb3VuZChkLnRvcCtoLW0pfXJldHVybiIiLmNvbmNhdCh0LngsIngiKS5jb25jYXQodC55KX1mdW5jdGlvbiBIKGUsdCl7cmV0dXJuIHQuYmlkcyYmdC5iaWRzLmxlbmd0aCYmaSgpKHQuYmlkcywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWRVbml0Q29kZT09PWV9KSkuYmlkUmVxdWVzdHNDb3VudHx8MX1mdW5jdGlvbiBMKCl7dmFyIGUsdD0tMTtpZigoZT1SKCk/T2JqZWN0KGEuZ2V0V2luZG93VG9wKSgpLnBlcmZvcm1hbmNlOk9iamVjdChhLmdldFdpbmRvd1NlbGYpKCkucGVyZm9ybWFuY2UpJiZlLnRpbWluZyYmZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0PjApe3ZhciByPWUudGltaW5nLmRvbUxvYWRpbmctZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0O3I+MCYmKHQ9cil9cmV0dXJuIHR9ZnVuY3Rpb24gWihlKXt2YXIgdCxyPVAoKTtyLkFEQUdJTz1yLkFEQUdJT3x8e30sci5BREFHSU8ucGJqc0FkVW5pdHM9ci5BREFHSU8ucGJqc0FkVW5pdHMuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC5jb2RlIT09ZS5hZFVuaXRDb2RlfSkpLGUuZmVhdHVyZXMmJmUuZmVhdHVyZXMucHJpbnRfbnVtYmVyP3Q9ZS5mZWF0dXJlcy5wcmludF9udW1iZXI6ZS5wYXJhbXMuZmVhdHVyZXMmJmUucGFyYW1zLmZlYXR1cmVzLnByaW50X251bWJlciYmKHQ9ZS5wYXJhbXMuZmVhdHVyZXMucHJpbnRfbnVtYmVyKSxyLkFEQUdJTy5wYmpzQWRVbml0cy5wdXNoKHtjb2RlOmUuYWRVbml0Q29kZSxtZWRpYVR5cGVzOmUubWVkaWFUeXBlc3x8e30sc2l6ZXM6ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZBcnJheS5pc0FycmF5KGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyxiaWRzOlt7YmlkZGVyOmUuYmlkZGVyLHBhcmFtczplLnBhcmFtc31dLGF1Y3Rpb25JZDplLmF1Y3Rpb25JZCxwYWdldmlld0lkOk4uZ2V0UGFnZXZpZXdJZCgpLHByaW50TnVtYmVyOnR9KSxyLkFEQUdJTy5hZFVuaXRzW2UuYWRVbml0Q29kZV09e2F1Y3Rpb25JZDplLmF1Y3Rpb25JZCxwYWdldmlld0lkOk4uZ2V0UGFnZXZpZXdJZCgpLHByaW50TnVtYmVyOnR9fXZhciBKPXtjb2RlOkksZ3ZsaWQ6NjE3LHN1cHBvcnRlZE1lZGlhVHlwZXM6RCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXM9ZS5wYXJhbXN8fHt9LEYoZSksTi5nZXRSZWZlcmVySW5mbygpLnJlYWNoZWRUb3A/ISEoZS5wYXJhbXMub3JnYW5pemF0aW9uSWQmJmUucGFyYW1zLnNpdGUmJmUucGFyYW1zLnBsYWNlbWVudCl8fChPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQoaiwiIGF0IGxlYXN0IG9uZSByZXF1aXJlZCBwYXJhbSBpcyBtaXNzaW5nLiIpKSwhMSk6KE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgdGhlIG1haW4gcGFnZSB1cmwgaXMgdW5yZWFjaGFibGVkLiIpKSwhMSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixuPSJodHRwczoiPT09bG9jYXRpb24ucHJvdG9jb2w/MTowLGk9Ti5nZXREZXZpY2UoKSxzPU4uZ2V0U2l0ZSh0KSxjPU4uZ2V0UGFnZXZpZXdJZCgpLHU9ZnVuY3Rpb24oZSl7aWYoIU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsImdkcHJDb25zZW50IikpcmV0dXJuITE7dmFyIHQ9ZS5nZHByQ29uc2VudCxyPXQuYXBpVmVyc2lvbixuPXQuZ2RwckFwcGxpZXMsaT10LmNvbnNlbnRTdHJpbmcsbz10LmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50O3JldHVybiBPYmplY3QoYS5jbGVhbk9iaikoe2FwaVZlcnNpb246cixjb25zZW50U3RyaW5nOmksY29uc2VudFJlcXVpcmVkOm4/MTowLGFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50Om8/MTowfSl9KHQpfHx7fSxkPWZ1bmN0aW9uKGUpe3JldHVybiEhT2JqZWN0KGEuZGVlcEFjY2VzcykoZSwidXNwQ29uc2VudCIpJiZ7dXNwQ29uc2VudDplLnVzcENvbnNlbnR9fSh0KXx8e30scD17cmVxdWlyZWQ6ITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpPzE6MH0sbD0ocj1lWzBdLE9iamVjdChhLmRlZXBBY2Nlc3MpKHIsInNjaGFpbiIpKSxnPWZ1bmN0aW9uKGUpe2lmKE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInVzZXJJZCIpKXJldHVybiBPYmplY3QoZi5iKShlLnVzZXJJZCl9KGVbMF0pfHxbXSxiPU9iamVjdChhLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3ZhciByPXkoeSh7fSxrLmdldE9yU2V0R2xvYmFsRmVhdHVyZXMoKSkse30se3ByaW50X251bWJlcjpIKGUuYWRVbml0Q29kZSx0KS50b1N0cmluZygpLGFkdW5pdF9wb3NpdGlvbjpfKGUucGFyYW1zLmFkVW5pdEVsZW1lbnRJZCl9KTtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IiI9PT1yW2VdJiZkZWxldGUgcltlXX0pKSxlLmZlYXR1cmVzPXIsTi5lbnF1ZXVlKHthY3Rpb246ImZlYXR1cmVzIix0czpEYXRlLm5vdygpLGRhdGE6e2ZlYXR1cmVzOmUuZmVhdHVyZXMscGFyYW1zOmUucGFyYW1zLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfX0pLGUuZmxvb3JzPWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoYS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4hMTt2YXIgdD1bXSxyPWZ1bmN0aW9uKHIsbil7dmFyIGk9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnIsc2l6ZTpbXX0pO3QucHVzaChPYmplY3QoYS5jbGVhbk9iaikoe210OnIsczpPYmplY3QoYS5pc0FycmF5KShuKT8iIi5jb25jYXQoblswXSwieCIpLmNvbmNhdChuWzFdKTp2b2lkIDAsZjppc05hTihpLmZsb29yKXx8IlVTRCIhPT1pLmN1cnJlbmN5Py4xOmkuZmxvb3J9KSl9O3JldHVybiBPYmplY3Qua2V5cyhlLm1lZGlhVHlwZXMpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKC0xIT09RC5pbmRleE9mKHQpKXt2YXIgbj10PT09bS5kPyJwbGF5ZXJTaXplIjoic2l6ZXMiO2UubWVkaWFUeXBlc1t0XVtuXSYmZS5tZWRpYVR5cGVzW3RdW25dLmxlbmd0aD9PYmplY3QoYS5pc0FycmF5KShlLm1lZGlhVHlwZXNbdF1bbl1bMF0pP2UubWVkaWFUeXBlc1t0XVtuXS5mb3JFYWNoKChmdW5jdGlvbihlKXtyKHQsW2VbMF0sZVsxXV0pfSkpOnIodCxbZS5tZWRpYVR5cGVzW3RdW25dWzBdLGUubWVkaWFUeXBlc1t0XVtuXVsxXV0pOnIodCwiKiIpfX0pKSx0fShlKSxPYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikmJmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iLHt9KSxyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIse30pLG49e307aWYoQXJyYXkuaXNBcnJheSh0LnBsYXllclNpemUpKXt2YXIgaT1BcnJheS5pc0FycmF5KHQucGxheWVyU2l6ZVswXSk/dC5wbGF5ZXJTaXplWzBdOnQucGxheWVyU2l6ZTtuLnc9aVswXSxuLmg9aVsxXX12YXIgbz15KHkoeSh7fSxuKSx0KSxyKTtvLmNvbnRleHQmJm8uY29udGV4dD09PWguYiYmKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJOYW1lPU0oZSkpLE9iamVjdC5rZXlzKEUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe28uaGFzT3duUHJvcGVydHkodCkmJihFW3RdKG9bdF0pP2UubWVkaWFUeXBlcy52aWRlb1t0XT1vW3RdOihkZWxldGUgZS5tZWRpYVR5cGVzLnZpZGVvW3RdLE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChqLCIgVGhlIE9wZW5SVEIgdmlkZW8gcGFyYW0gIikuY29uY2F0KHQsIiBoYXMgYmVlbiBza2lwcGVkIGR1ZSB0byBtaXNmb3JtYXRpbmcuIFBsZWFzZSByZWZlciB0byBPcGVuUlRCIDIuNSBzcGVjLiIpKSkpfSkpfShlKSxaKGUpLGV9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPU9iamVjdChhLmRlZXBDbG9uZSkodCk7cmV0dXJuIHIucGFyYW1zLm9yZ2FuaXphdGlvbklkPXIucGFyYW1zLm9yZ2FuaXphdGlvbklkLnRvU3RyaW5nKCksZGVsZXRlIHIuZmxvb3JEYXRhLGRlbGV0ZSByLnBhcmFtcy5zaXRlSWQsZVtyLnBhcmFtcy5vcmdhbml6YXRpb25JZF09ZVtyLnBhcmFtcy5vcmdhbml6YXRpb25JZF18fFtdLGVbci5wYXJhbXMub3JnYW5pemF0aW9uSWRdLnB1c2gociksZX0pLHt9KTtyZXR1cm4gT2JqZWN0KGEuX21hcCkoT2JqZWN0LmtleXMoYiksKGZ1bmN0aW9uKGUpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDpULGRhdGE6e2lkOk9iamVjdChhLmdlbmVyYXRlVVVJRCkoKSxvcmdhbml6YXRpb25JZDplLHNlY3VyZTpuLGRldmljZTppLHNpdGU6cyxwYWdldmlld0lkOmMsYWRVbml0czpiW2VdLGRhdGE6ay5nZXRFeGNoYW5nZURhdGEoKSxyZWdzOntnZHByOnUsY29wcGE6cCxjY3BhOmR9LHNjaGFpbjpsLHVzZXI6e2VpZHM6Z30scHJlYmlkVmVyc2lvbjoiNS4yMC4yIixmZWF0dXJlc1ZlcnNpb246IjEifSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXTt0cnl7dmFyIG49ZS5ib2R5O24mJihuLmRhdGEmJk4uZW5xdWV1ZSh7YWN0aW9uOiJzc3AtZGF0YSIsdHM6RGF0ZS5ub3coKSxkYXRhOm4uZGF0YX0pLG4uYmlkcyYmbi5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWkoKSh0LmRhdGEuYWRVbml0cywoZnVuY3Rpb24odCl7cmV0dXJuIHQuYmlkSWQ9PT1lLnJlcXVlc3RJZH0pKTtpZihuKXtpZihlLm1ldGE9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWV0YSIse30pLGUubWV0YS5tZWRpYVR5cGU9ZS5tZWRpYVR5cGUsZS5tZXRhLmFkdmVydGlzZXJEb21haW5zPUFycmF5LmlzQXJyYXkoZS5hRG9tYWluKSYmZS5hRG9tYWluLmxlbmd0aD9lLmFEb21haW46W10sZS5tZWRpYVR5cGU9PT1tLmQpe3ZhciBvPU9iamVjdChhLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpOyFlLnZhc3RVcmwmJmUudmFzdFhtbCYmKGUudmFzdFVybD0iZGF0YTp0ZXh0L3htbDtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwiK2J0b2EoZS52YXN0WG1sLnJlcGxhY2UoL1xcIi9nLCciJykpKSxvPT09aC5iJiYoZS5yZW5kZXJlcj1sLmEuaW5zdGFsbCh7aWQ6ZS5yZXF1ZXN0SWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGUsdXJsOmUudXJsUmVuZGVyZXJ8fFMsY29uZmlnOnkoeSh7fSxPYmplY3QoYS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIikpLE9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm91dHN0cmVhbSIse30pKX0pLGUucmVuZGVyZXIuc2V0UmVuZGVyKHEpKX1lLm1lZGlhVHlwZT09PW0uYyYmQihlKSxlLnNpdGU9bi5wYXJhbXMuc2l0ZSxlLnBsYWNlbWVudD1uLnBhcmFtcy5wbGFjZW1lbnQsZS5wYWdldHlwZT1uLnBhcmFtcy5wYWdldHlwZSxlLmNhdGVnb3J5PW4ucGFyYW1zLmNhdGVnb3J5LGUuc3ViY2F0ZWdvcnk9bi5wYXJhbXMuc3ViY2F0ZWdvcnksZS5lbnZpcm9ubWVudD1uLnBhcmFtcy5lbnZpcm9ubWVudH1yLnB1c2goZSl9KSkpfWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKShlKX1yZXR1cm4gcn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7cmV0dXJuISghdC5sZW5ndGh8fCIiPT09dFswXS5ib2R5fHwhdFswXS5ib2R5LnVzZXJTeW5jcykmJnRbMF0uYm9keS51c2VyU3luY3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToicCI9PT1lLnQ/ImltYWdlIjoiaWZyYW1lIix1cmw6ZS51fX0pKX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBvPWkoKShuLChmdW5jdGlvbihlKXtyZXR1cm4iYWRhZ2lvIj09PWUuYmlkZGVyQ29kZX0pKSxzPWkoKShvLmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT1yLmNvZGV9KSk7aWYodCl7RihzKSxzLnBhcmFtcy5hdWN0aW9uSWQ9T2JqZWN0KGEuZGVlcEFjY2VzcykobywiYXVjdGlvbklkIik7dmFyIGM9ay5nZXRPclNldEdsb2JhbEZlYXR1cmVzKCk7cy5wYXJhbXMuZmVhdHVyZXM9eSh5KHt9LGMpLHt9LHtwcmludF9udW1iZXI6SChzLmFkVW5pdENvZGUsbykudG9TdHJpbmcoKSxhZHVuaXRfcG9zaXRpb246XyhzLnBhcmFtcy5hZFVuaXRFbGVtZW50SWQpfSkscy5wYXJhbXMucGFnZXZpZXdJZD1OLmdldFBhZ2V2aWV3SWQoKSxzLnBhcmFtcy5wcmViaWRWZXJzaW9uPSI1LjIwLjIiLHMucGFyYW1zLmRhdGE9ay5nZXRFeGNoYW5nZURhdGEoKSxPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKT09PWguYiYmKHMucGFyYW1zLnBsYXllck5hbWU9TShzKSksWihzKX1yZXR1cm4gcy5wYXJhbXN9fTshZnVuY3Rpb24oKXtSKCkmJih2PVIoKT9PYmplY3QoYS5nZXRXaW5kb3dUb3ApKCk6T2JqZWN0KGEuZ2V0V2luZG93U2VsZikoKSk7dmFyIGU9Ti5nZXRDdXJyZW50V2luZG93KCk7ZS5BREFHSU89ZS5BREFHSU98fHt9LGUuQURBR0lPLmFkVW5pdHM9ZS5BREFHSU8uYWRVbml0c3x8e30sZS5BREFHSU8ucGJqc0FkVW5pdHM9ZS5BREFHSU8ucGJqc0FkVW5pdHN8fFtdLGUuQURBR0lPLnF1ZXVlPWUuQURBR0lPLnF1ZXVlfHxbXSxlLkFEQUdJTy52ZXJzaW9ucz1lLkFEQUdJTy52ZXJzaW9uc3x8e30sZS5BREFHSU8udmVyc2lvbnMucGJqcz0iNS4yMC4yIixlLkFEQUdJTy5pc1NhZmVGcmFtZVdpbmRvdz1XKCkseC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiYWRhZ2lvIiwoZnVuY3Rpb24oZSl7dHJ5e2sucHJlcGFyZUV4Y2hhbmdlRGF0YShlKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoaixlKX19KSksQygpfSgpLE9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKShKKX0sNzc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIG49cig3OCksaT1yKDc5KTt0LnZlcmlmeT1mdW5jdGlvbihlLHQscixhKXt2YXIgbz1uZXcgbi5CaWdJbnRlZ2VyKG4uYjY0dG9IZXgodCkpLHM9bmV3IG4uQmlnSW50ZWdlcihuLmI2NHRvSGV4KHIpKSxjPW8ubW9kUG93SW50KGEscyk7cmV0dXJuIG4ucmVtb3ZlRXh0cmFTeW1ib2xzKGMudG9IZXhTdHJpbmcoKSk9PT1pLlNoYTI1Ni5oYXNoKGUpfX0sNzg6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe251bGwhPT1lJiZ0aGlzLmZyb21IZXhTdHJpbmcoZSl9cmV0dXJuIGUucHJvdG90eXBlLnRvSGV4U3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5zPDApcmV0dXJuIi0iK3RoaXMubmVnYXRlKCkudG9IZXhTdHJpbmcoKTt2YXIgZSx0PSExLHI9IiIsbj10aGlzLnQsaT10aGlzLkRCLW4qdGhpcy5EQiU0O2lmKG4tLSA+MClmb3IoaTx0aGlzLkRCJiYoZT10aGlzW25dPj5pKT4wJiYodD0hMCxyPXAoZSkpO24+PTA7KWk8ND8oZT0odGhpc1tuXSYoMTw8aSktMSk8PDQtaSxlfD10aGlzWy0tbl0+PihpKz10aGlzLkRCLTQpKTooZT10aGlzW25dPj4oaS09NCkmMTUsaTw9MCYmKGkrPXRoaXMuREIsLS1uKSksZT4wJiYodD0hMCksdCYmKHIrPXAoZSkpO3JldHVybiB0P3I6IjAifSxlLnByb3RvdHlwZS5mcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKHQpe2lmKG51bGwhPT10KXt0aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIHI9dC5sZW5ndGgsbj0hMSxpPTA7LS1yPj0wOyl7dmFyIGE9ZCh0LHIpO2E8MD8iLSI9PXQuY2hhckF0KHIpJiYobj0hMCk6KG49ITEsMD09aT90aGlzW3RoaXMudCsrXT1hOmkrND50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGEmKDE8PHRoaXMuREItaSktMSk8PGksdGhpc1t0aGlzLnQrK109YT4+dGhpcy5EQi1pKTp0aGlzW3RoaXMudC0xXXw9YTw8aSwoaSs9NCk+PXRoaXMuREImJihpLT10aGlzLkRCKSl9MCx0aGlzLmNsYW1wKCksbiYmZS5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9fSxlLnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXt2YXIgdD1hKCk7cmV0dXJuIGUuWkVSTy5zdWJUbyh0aGlzLHQpLHR9LGUucHJvdG90eXBlLmFicz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9LGUucHJvdG90eXBlLm1vZD1mdW5jdGlvbih0KXt2YXIgcj1hKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8odCxudWxsLHIpLHRoaXMuczwwJiZyLmNvbXBhcmVUbyhlLlpFUk8pPjAmJnQuc3ViVG8ocixyKSxyfSxlLnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXRoaXMudC0xO3Q+PTA7LS10KWVbdF09dGhpc1t0XTtlLnQ9dGhpcy50LGUucz10aGlzLnN9LGUucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWUldGhpcy5EQixuPXRoaXMuREItcixpPSgxPDxuKS0xLGE9TWF0aC5mbG9vcihlL3RoaXMuREIpLG89dGhpcy5zPDxyJnRoaXMuRE0scz10aGlzLnQtMTtzPj0wOy0tcyl0W3MrYSsxXT10aGlzW3NdPj5ufG8sbz0odGhpc1tzXSZpKTw8cjtmb3Iocz1hLTE7cz49MDstLXMpdFtzXT0wO3RbYV09byx0LnQ9dGhpcy50K2ErMSx0LnM9dGhpcy5zLHQuY2xhbXAoKX0sZS5wcm90b3R5cGUuaW52RGlnaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgZT10aGlzWzBdO2lmKDA9PSgxJmUpKXJldHVybiAwO3ZhciB0PTMmZTtyZXR1cm4odD0odD0odD0odD10KigyLSgxNSZlKSp0KSYxNSkqKDItKDI1NSZlKSp0KSYyNTUpKigyLSgoNjU1MzUmZSkqdCY2NTUzNSkpJjY1NTM1KSooMi1lKnQldGhpcy5EVikldGhpcy5EVik+MD90aGlzLkRWLXQ6LXR9LGUucHJvdG90eXBlLmRsU2hpZnRUbz1mdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKXRbcitlXT10aGlzW3JdO2ZvcihyPWUtMTtyPj0wOy0tcil0W3JdPTA7dC50PXRoaXMudCtlLHQucz10aGlzLnN9LGUucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmFicygpLHI9ZS50PTIqdC50Oy0tcj49MDspZVtyXT0wO2ZvcihyPTA7cjx0LnQtMTsrK3Ipe3ZhciBuPXQuYW0ocix0W3JdLGUsMipyLDAsMSk7KGVbcit0LnRdKz10LmFtKHIrMSwyKnRbcl0sZSwyKnIrMSxuLHQudC1yLTEpKT49dC5EViYmKGVbcit0LnRdLT10LkRWLGVbcit0LnQrMV09MSl9ZS50PjAmJihlW2UudC0xXSs9dC5hbShyLHRbcl0sZSwyKnIsMCwxKSksZS5zPTAsZS5jbGFtcCgpfSxlLnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKHQscil7dmFyIG49dGhpcy5hYnMoKSxpPXQuYWJzKCksYT1uLnQ7Zm9yKHIudD1hK2kudDstLWE+PTA7KXJbYV09MDtmb3IoYT0wO2E8aS50OysrYSlyW2Erbi50XT1uLmFtKDAsaVthXSxyLGEsMCxuLnQpO3Iucz0wLHIuY2xhbXAoKSx0aGlzLnMhPXQucyYmZS5aRVJPLnN1YlRvKHIscil9LGUucHJvdG90eXBlLmRpdlJlbVRvPWZ1bmN0aW9uKHQscixuKXt2YXIgaT10LmFicygpO2lmKCEoaS50PD0wKSl7dmFyIHM9dGhpcy5hYnMoKTtpZihzLnQ8aS50KXJldHVybiBudWxsIT1yJiZyLmZyb21IZXhTdHJpbmcoIjAiKSx2b2lkKG51bGwhPW4mJnRoaXMuY29weVRvKG4pKTtudWxsPT1uJiYobj1hKCkpO3ZhciBjPWEoKSx1PXRoaXMucyxkPXQucyxwPXRoaXMuREItbyhpW2kudC0xXSk7cD4wPyhpLmxTaGlmdFRvKHAsYykscy5sU2hpZnRUbyhwLG4pKTooaS5jb3B5VG8oYykscy5jb3B5VG8obikpO3ZhciBmPWMudCxtPWNbZi0xXTtpZigwIT1tKXt2YXIgbD1tKigxPDx0aGlzLkYxKSsoZj4xP2NbZi0yXT4+dGhpcy5GMjowKSxoPXRoaXMuRlYvbCxnPSgxPDx0aGlzLkYxKS9sLHk9MTw8dGhpcy5GMixiPW4udCx2PWItZixPPW51bGw9PXI/YSgpOnI7Zm9yKGMuZGxTaGlmdFRvKHYsTyksbi5jb21wYXJlVG8oTyk+PTAmJihuW24udCsrXT0xLG4uc3ViVG8oTyxuKSksZS5PTkUuZGxTaGlmdFRvKGYsTyksTy5zdWJUbyhjLGMpO2MudDxmOyljW2MudCsrXT0wO2Zvcig7LS12Pj0wOyl7dmFyIEE9blstLWJdPT1tP3RoaXMuRE06TWF0aC5mbG9vcihuW2JdKmgrKG5bYi0xXSt5KSpnKTtpZigobltiXSs9Yy5hbSgwLEEsbix2LDAsZikpPEEpZm9yKGMuZGxTaGlmdFRvKHYsTyksbi5zdWJUbyhPLG4pO25bYl08LS1BOyluLnN1YlRvKE8sbil9bnVsbCE9ciYmKG4uZHJTaGlmdFRvKGYsciksdSE9ZCYmZS5aRVJPLnN1YlRvKHIscikpLG4udD1mLG4uY2xhbXAoKSxwPjAmJm4uclNoaWZ0VG8ocCxuKSx1PDAmJmUuWkVSTy5zdWJUbyhuLG4pfX19LGUucHJvdG90eXBlLnJTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7dC5zPXRoaXMuczt2YXIgcj1NYXRoLmZsb29yKGUvdGhpcy5EQik7aWYocj49dGhpcy50KXQudD0wO2Vsc2V7dmFyIG49ZSV0aGlzLkRCLGk9dGhpcy5EQi1uLGE9KDE8PG4pLTE7dFswXT10aGlzW3JdPj5uO2Zvcih2YXIgbz1yKzE7bzx0aGlzLnQ7KytvKXRbby1yLTFdfD0odGhpc1tvXSZhKTw8aSx0W28tcl09dGhpc1tvXT4+bjtuPjAmJih0W3RoaXMudC1yLTFdfD0odGhpcy5zJmEpPDxpKSx0LnQ9dGhpcy50LXIsdC5jbGFtcCgpfX0sZS5wcm90b3R5cGUuZHJTaGlmdFRvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByPWU7cjx0aGlzLnQ7KytyKXRbci1lXT10aGlzW3JdO3QudD1NYXRoLm1heCh0aGlzLnQtZSwwKSx0LnM9dGhpcy5zfSxlLnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wLG49MCxpPU1hdGgubWluKGUudCx0aGlzLnQpO3I8aTspbis9dGhpc1tyXS1lW3JdLHRbcisrXT1uJnRoaXMuRE0sbj4+PXRoaXMuREI7aWYoZS50PHRoaXMudCl7Zm9yKG4tPWUucztyPHRoaXMudDspbis9dGhpc1tyXSx0W3IrK109biZ0aGlzLkRNLG4+Pj10aGlzLkRCO24rPXRoaXMuc31lbHNle2ZvcihuKz10aGlzLnM7cjxlLnQ7KW4tPWVbcl0sdFtyKytdPW4mdGhpcy5ETSxuPj49dGhpcy5EQjtuLT1lLnN9dC5zPW48MD8tMTowLG48LTE/dFtyKytdPXRoaXMuRFYrbjpuPjAmJih0W3IrK109biksdC50PXIsdC5jbGFtcCgpfSxlLnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLnMmdGhpcy5ETTt0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PWU7KS0tdGhpcy50fSxlLnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gcj1lPDI1Nnx8dC5pc0V2ZW4oKT9uZXcgZih0KTpuZXcgbSh0KSx0aGlzLmV4cChlLHIpfSxlLnByb3RvdHlwZS5leHA9ZnVuY3Rpb24odCxyKXtpZih0PjQyOTQ5NjcyOTV8fHQ8MSlyZXR1cm4gZS5PTkU7dmFyIG49YSgpLGk9YSgpLHM9ci5jb252ZXJ0KHRoaXMpLGM9byh0KS0xO2ZvcihzLmNvcHlUbyhuKTstLWM+PTA7KWlmKHIuc3FyVG8obixpKSwodCYxPDxjKT4wKXIubXVsVG8oaSxzLG4pO2Vsc2V7dmFyIHU9bjtuPWksaT11fXJldHVybiByLnJldmVydChuKX0sZS5wcm90b3R5cGUuaXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5zKX0sZS5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucy1lLnM7aWYoMCE9dClyZXR1cm4gdDt2YXIgcj10aGlzLnQ7aWYoMCE9KHQ9ci1lLnQpKXJldHVybiB0aGlzLnM8MD8tdDp0O2Zvcig7LS1yPj0wOylpZigwIT0odD10aGlzW3JdLWVbcl0pKXJldHVybiB0O3JldHVybiAwfSxlLnByb3RvdHlwZS5hbTE9ZnVuY3Rpb24oZSx0LHIsbixpLGEpe2Zvcig7LS1hPj0wOyl7dmFyIG89dCp0aGlzW2UrK10rcltuXStpO2k9TWF0aC5mbG9vcihvLzY3MTA4ODY0KSxyW24rK109NjcxMDg4NjMmb31yZXR1cm4gaX0sZS5wcm90b3R5cGUuYW0yPWZ1bmN0aW9uKGUsdCxyLG4saSxhKXtmb3IodmFyIG89MzI3NjcmdCxzPXQ+PjE1Oy0tYT49MDspe3ZhciBjPTMyNzY3JnRoaXNbZV0sdT10aGlzW2UrK10+PjE1LGQ9cypjK3UqbztpPSgoYz1vKmMrKCgzMjc2NyZkKTw8MTUpK3Jbbl0rKDEwNzM3NDE4MjMmaSkpPj4+MzApKyhkPj4+MTUpK3MqdSsoaT4+PjMwKSxyW24rK109MTA3Mzc0MTgyMyZjfXJldHVybiBpfSxlLnByb3RvdHlwZS5hbTM9ZnVuY3Rpb24oZSx0LHIsbixpLGEpe2Zvcih2YXIgbz0xNjM4MyZ0LHM9dD4+MTQ7LS1hPj0wOyl7dmFyIGM9MTYzODMmdGhpc1tlXSx1PXRoaXNbZSsrXT4+MTQsZD1zKmMrdSpvO2k9KChjPW8qYysoKDE2MzgzJmQpPDwxNCkrcltuXStpKT4+MjgpKyhkPj4xNCkrcyp1LHJbbisrXT0yNjg0MzU0NTUmY31yZXR1cm4gaX0sZX0oKTtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBpKG51bGwpfWZ1bmN0aW9uIG8oZSl7dmFyIHQscj0xO3JldHVybiAwIT0odD1lPj4+MTYpJiYoZT10LHIrPTE2KSwwIT0odD1lPj44KSYmKGU9dCxyKz04KSwwIT0odD1lPj40KSYmKGU9dCxyKz00KSwwIT0odD1lPj4yKSYmKGU9dCxyKz0yKSwwIT0odD1lPj4xKSYmKGU9dCxyKz0xKSxyfXQuQmlnSW50ZWdlcj1pLHQubmJpPWEsdC5uYml0cz1vO3ZhciBzLGMsdT1bXTtmb3Iocz0iMCIuY2hhckNvZGVBdCgwKSxjPTA7Yzw9OTsrK2MpdVtzKytdPWM7Zm9yKHM9ImEiLmNoYXJDb2RlQXQoMCksYz0xMDtjPDM2OysrYyl1W3MrK109Yztmb3Iocz0iQSIuY2hhckNvZGVBdCgwKSxjPTEwO2M8MzY7KytjKXVbcysrXT1jO2Z1bmN0aW9uIGQoZSx0KXt2YXIgcj11W2UuY2hhckNvZGVBdCh0KV07cmV0dXJuIG51bGw9PXI/LTE6cn10LmludEF0PWQ7ZnVuY3Rpb24gcChlKXtyZXR1cm4iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Ii5jaGFyQXQoZSl9dC5pbnQyY2hhcj1wO3QuYjY0dG9IZXg9ZnVuY3Rpb24oZSl7dmFyIHQscj0iIixuPTAsaT0wO2Zvcih0PTA7dDxlLmxlbmd0aCYmIj0iIT1lLmNoYXJBdCh0KTsrK3Qpe3ZhciBhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5pbmRleE9mKGUuY2hhckF0KHQpKTthPDB8fCgwPT1uPyhyKz1wKGE+PjIpLGk9MyZhLG49MSk6MT09bj8ocis9cChpPDwyfGE+PjQpLGk9MTUmYSxuPTIpOjI9PW4/KHIrPXAoaSkscis9cChhPj4yKSxpPTMmYSxuPTMpOihyKz1wKGk8PDJ8YT4+NCkscis9cCgxNSZhKSxuPTApKX1yZXR1cm4gMT09biYmKHIrPXAoaTw8MikpLHJ9LHQucmVtb3ZlRXh0cmFTeW1ib2xzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL14xZiswMC8sIiIpLnJlcGxhY2UoIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwIiwiIil9O3ZhciBmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm09ZX1yZXR1cm4gZS5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbihlKXtyZXR1cm4gZS5zPDB8fGUuY29tcGFyZVRvKHRoaXMubSk+PTA/ZS5tb2QodGhpcy5tKTplfSxlLnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LGUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlKXtlLmRpdlJlbVRvKHRoaXMubSxudWxsLGUpfSxlLnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbihlLHQscil7ZS5tdWx0aXBseVRvKHQsciksdGhpcy5yZWR1Y2Uocil9LGUucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKGUsdCl7ZS5zcXVhcmVUbyh0KSx0aGlzLnJlZHVjZSh0KX0sZX0oKSxtPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlKXt0aGlzLm09ZSx0aGlzLm1wPWUuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PGUuREItMTUpLTEsdGhpcy5tdDI9MiplLnR9cmV0dXJuIGUucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24oZSl7dmFyIHQ9YSgpO3JldHVybiBlLmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCx0KSx0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpLGUuczwwJiZ0LmNvbXBhcmVUbyhpLlpFUk8pPjAmJnRoaXMubS5zdWJUbyh0LHQpLHR9LGUucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbihlKXt2YXIgdD1hKCk7cmV0dXJuIGUuY29weVRvKHQpLHRoaXMucmVkdWNlKHQpLHR9LGUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbihlKXtmb3IoO2UudDw9dGhpcy5tdDI7KWVbZS50KytdPTA7Zm9yKHZhciB0PTA7dDx0aGlzLm0udDsrK3Qpe3ZhciByPTMyNzY3JmVbdF0sbj1yKnRoaXMubXBsKygocip0aGlzLm1waCsoZVt0XT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmZS5ETTtmb3IoZVtyPXQrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCxuLGUsdCwwLHRoaXMubS50KTtlW3JdPj1lLkRWOyllW3JdLT1lLkRWLGVbKytyXSsrfWUuY2xhbXAoKSxlLmRyU2hpZnRUbyh0aGlzLm0udCxlKSxlLmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZlLnN1YlRvKHRoaXMubSxlKX0sZS5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24oZSx0LHIpe2UubXVsdGlwbHlUbyh0LHIpLHRoaXMucmVkdWNlKHIpfSxlLnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbihlLHQpe2Uuc3F1YXJlVG8odCksdGhpcy5yZWR1Y2UodCl9LGV9KCk7ZnVuY3Rpb24gbChlKXt2YXIgdD1hKCk7cmV0dXJuIHQuZnJvbUhleFN0cmluZyhlLnRvU3RyaW5nKCkpLHR9dC5uYnY9bCxpLlpFUk89bCgwKSxpLk9ORT1sKDEpLCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8oaS5wcm90b3R5cGUuYW09aS5wcm90b3R5cGUuYW0yLG49MzApOiJOZXRzY2FwZSIhPW5hdmlnYXRvci5hcHBOYW1lPyhpLnByb3RvdHlwZS5hbT1pLnByb3RvdHlwZS5hbTEsbj0yNik6KGkucHJvdG90eXBlLmFtPWkucHJvdG90eXBlLmFtMyxuPTI4KSxpLnByb3RvdHlwZS5EQj1uLGkucHJvdG90eXBlLkRNPSgxPDxuKS0xLGkucHJvdG90eXBlLkRWPTE8PG47aS5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1MiksaS5wcm90b3R5cGUuRjE9NTItbixpLnByb3RvdHlwZS5GMj0yKm4tNTJ9LDc5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5oYXNoPWZ1bmN0aW9uKHQpe3Q9ZS51dGY4RW5jb2RlKHR8fCIiKTtmb3IodmFyIHI9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0sbj1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLGk9KHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI4KSkubGVuZ3RoLzQrMixhPU1hdGguY2VpbChpLzE2KSxvPW5ldyBBcnJheShhKSxzPTA7czxhO3MrKyl7b1tzXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgYz0wO2M8MTY7YysrKW9bc11bY109dC5jaGFyQ29kZUF0KDY0KnMrNCpjKTw8MjR8dC5jaGFyQ29kZUF0KDY0KnMrNCpjKzEpPDwxNnx0LmNoYXJDb2RlQXQoNjQqcys0KmMrMik8PDh8dC5jaGFyQ29kZUF0KDY0KnMrNCpjKzMpPDwwfXZhciB1PTgqKHQubGVuZ3RoLTEpL01hdGgucG93KDIsMzIpLGQ9OCoodC5sZW5ndGgtMSk+Pj4wO29bYS0xXVsxNF09TWF0aC5mbG9vcih1KSxvW2EtMV1bMTVdPWQ7Zm9yKHM9MDtzPGE7cysrKXtmb3IodmFyIHA9bmV3IEFycmF5KDY0KSxmPTA7ZjwxNjtmKyspcFtmXT1vW3NdW2ZdO2ZvcihmPTE2O2Y8NjQ7ZisrKXBbZl09ZS5xMShwW2YtMl0pK3BbZi03XStlLnEwKHBbZi0xNV0pK3BbZi0xNl0+Pj4wO3ZhciBtPW5bMF0sbD1uWzFdLGg9blsyXSxnPW5bM10seT1uWzRdLGI9bls1XSx2PW5bNl0sTz1uWzddO2ZvcihmPTA7Zjw2NDtmKyspe3ZhciBBPU8rZS56MSh5KStlLkNoKHksYix2KStyW2ZdK3BbZl0sST1lLnowKG0pK2UuTWFqKG0sbCxoKTtPPXYsdj1iLGI9eSx5PWcrQT4+PjAsZz1oLGg9bCxsPW0sbT1BK0k+Pj4wfW5bMF09blswXSttPj4+MCxuWzFdPW5bMV0rbD4+PjAsblsyXT1uWzJdK2g+Pj4wLG5bM109blszXStnPj4+MCxuWzRdPW5bNF0reT4+PjAsbls1XT1uWzVdK2I+Pj4wLG5bNl09bls2XSt2Pj4+MCxuWzddPW5bN10rTz4+PjB9dmFyIGo9bmV3IEFycmF5KG4ubGVuZ3RoKTtmb3IoTz0wO088bi5sZW5ndGg7TysrKWpbT109KCIwMDAwMDAwMCIrbltPXS50b1N0cmluZygxNikpLnNsaWNlKC04KTtyZXR1cm4gai5qb2luKCIiKX0sZS51dGY4RW5jb2RlPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBlK1N0cmluZy5mcm9tQ2hhckNvZGUodCl9KSwiIil9Y2F0Y2godCl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9fSxlLlJPVFI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD4+PmV8dDw8MzItZX0sZS56MD1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDIsdCleZS5ST1RSKDEzLHQpXmUuUk9UUigyMix0KX0sZS56MT1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDYsdCleZS5ST1RSKDExLHQpXmUuUk9UUigyNSx0KX0sZS5xMD1mdW5jdGlvbih0KXtyZXR1cm4gZS5ST1RSKDcsdCleZS5ST1RSKDE4LHQpXnQ+Pj4zfSxlLnExPWZ1bmN0aW9uKHQpe3JldHVybiBlLlJPVFIoMTcsdCleZS5ST1RSKDE5LHQpXnQ+Pj4xMH0sZS5DaD1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUmdF5+ZSZyfSxlLk1haj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGUmdF5lJnJedCZyfSxlfSgpO3QuU2hhMjU2PW59fSxbMTgyXSk7CnVwYmpzQ2h1bmsoWzM3M10sezE4ODpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTg5KX0sMTg5OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdn0pKTt2YXIgbj1yKDEpLGk9cigyKSxhPXIoMCksbz1yKDMpLGQ9cigxMyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHUoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLGksYT1bXSxvPSEwLGQ9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKG89KG49ci5uZXh0KCkpLmRvbmUpJiYoYS5wdXNoKG4udmFsdWUpLCF0fHxhLmxlbmd0aCE9PXQpO289ITApO31jYXRjaChlKXtkPSEwLGk9ZX1maW5hbGx5e3RyeXtvfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGQpdGhyb3cgaX19cmV0dXJuIGF9KGUsdCl8fHUoZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHAoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09cnx8IlNldCI9PT1yP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKT9wKGUsdCk6dm9pZCAwfX1mdW5jdGlvbiBwKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gbChlKXtyZXR1cm4obD0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBtPW8uYi5nZXRDb25maWcsZj17MDoidGl0bGUiLDI6Imljb24iLDM6ImltYWdlIiw1OiJzcG9uc29yZWRCeSIsNDoiYm9keSIsMToiY3RhIn0seT17dGl0bGU6e2lkOjAsbmFtZToidGl0bGUifSxpY29uOntpZDoyLHR5cGU6MSxuYW1lOiJpbWcifSxpbWFnZTp7aWQ6Myx0eXBlOjMsbmFtZToiaW1nIn0sc3BvbnNvcmVkQnk6e2lkOjUsbmFtZToiZGF0YSIsdHlwZToxfSxib2R5OntpZDo0LG5hbWU6ImRhdGEiLHR5cGU6Mn0sY3RhOntpZDoxLHR5cGU6MTIsbmFtZToiZGF0YSJ9fSx2PXtjb2RlOiJhZGYiLGFsaWFzZXM6W3tjb2RlOiJhZGZvcm1PcGVuUlRCIixndmxpZDo1MH0se2NvZGU6ImFkZm9ybSIsZ3ZsaWQ6NTB9XSxndmxpZDo1MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmMsaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXN8fHt9LHI9dC5taWQsbj10LmludixpPXQubW5hbWU7cmV0dXJuISEocnx8biYmaSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9bSgib3J0YjIiKXx8e30sbz1pLnVzZXI7Im9iamVjdCI9PT1sKG0oImFwcCIpKT8ocj1tKCJhcHAiKXx8e30saS5hcHAmJk9iamVjdChhLm1lcmdlRGVlcCkocixpLmFwcCkpOihuPW0oInNpdGUiKXx8e30saS5zaXRlJiZPYmplY3QoYS5tZXJnZURlZXApKG4saS5zaXRlKSxuLnBhZ2V8fChuLnBhZ2U9dC5yZWZlcmVySW5mby5yZWZlcmVyKSk7dmFyIGQ9bSgiZGV2aWNlIil8fHt9O2Qudz1kLnd8fHdpbmRvdy5pbm5lcldpZHRoLGQuaD1kLmh8fHdpbmRvdy5pbm5lckhlaWdodCxkLnVhPWQudWF8fG5hdmlnYXRvci51c2VyQWdlbnQ7dmFyIHM9YihlLCJwYXJhbXMuYWR4RG9tYWluIil8fCJhZHguYWRmb3JtLm5ldCIsdT1iKGUsInBhcmFtcy5wdCIpfHxiKGUsInBhcmFtcy5wcmljZVR5cGUiKXx8Im5ldCIscD1lWzBdLnRyYW5zYWN0aW9uSWQsZj1iKGUsInBhcmFtcy50ZXN0Iiksdj1tKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksaD12JiZbdl0saj1iKGUsInVzZXJJZEFzRWlkcyIpLFM9YihlLCJzY2hhaW4iKSx3PWUubWFwKChmdW5jdGlvbihlLHQpe2UubmV0UmV2ZW51ZT11O3ZhciByPWUuZ2V0Rmxvb3I/ZS5nZXRGbG9vcih7Y3VycmVuY3k6dnx8IlVTRCJ9KTp7fSxuPXIuZmxvb3IsaT1yLmN1cnJlbmN5LG89ZS5wYXJhbXMsZD17aWQ6dCsxLHRhZ2lkOm8ubWlkLGJpZGZsb29yOm4sYmlkZmxvb3JjdXI6aSxleHQ6e2JpZGRlcjp7aW52Om8uaW52LG1uYW1lOm8ubW5hbWV9fX0scz1PYmplY3QoYS5fbWFwKShlLm5hdGl2ZVBhcmFtcywoZnVuY3Rpb24oZSx0KXt2YXIgcj15W3RdLG49e3JlcXVpcmVkOjEmZS5yZXF1aXJlZH07aWYocil7dmFyIGksYSxvLGQ7bi5pZD1yLmlkO3ZhciBzPWUuYXNwZWN0X3JhdGlvcztpZihzJiZzWzBdJiYoaT0ocz1zWzBdKS5taW5fd2lkdGh8fDAsYT1zLnJhdGlvX2hlaWdodCppL3MucmF0aW9fd2lkdGh8MCksZS5zaXplcyl7dmFyIGM9ZyhlLnNpemVzKTtvPWNbMF0sZD1jWzFdfXJldHVybiBuW3IubmFtZV09e2xlbjplLmxlbix0eXBlOnIudHlwZSx3bWluOmksaG1pbjphLHc6byxoOmR9LG59fSkpLmZpbHRlcihCb29sZWFuKTtzLmxlbmd0aCYmKGQubmF0aXZlPXtyZXF1ZXN0Onthc3NldHM6c319KTt2YXIgcD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpO2lmKHAmJnAuc2l6ZXMpe3ZhciBsPU9iamVjdChhLnBhcnNlU2l6ZXNJbnB1dCkocC5zaXplcykubWFwKChmdW5jdGlvbihlKXt2YXIgdD1jKGUuc3BsaXQoIngiKSwyKSxyPXRbMF0sbj10WzFdO3JldHVybnt3OnBhcnNlSW50KHIsMTApLGg6cGFyc2VJbnQobiwxMCl9fSkpO2QuYmFubmVyPXtmb3JtYXQ6bH19dmFyIG09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpO3JldHVybiBtJiYoZC52aWRlbz1tKSxkfSkpLE89e2lkOnQuYXVjdGlvbklkLHNpdGU6bixhcHA6cix1c2VyOm8sZGV2aWNlOmQsc291cmNlOnt0aWQ6cCxmZDoxfSxleHQ6e3B0OnV9LGN1cjpoLGltcDp3fTtyZXR1cm4gZiYmKE8uaXNfZGVidWc9ISFmLE8udGVzdD0xKSx2b2lkIDAhPT1PYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudC5nZHByQXBwbGllcyIpJiYoT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoTywicmVncy5leHQuZ2RwciIsMSZ0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSksdC51c3BDb25zZW50JiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKE8sInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksaiYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShPLCJ1c2VyLmV4dC5laWRzIixqKSxTJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKE8sInNvdXJjZS5leHQuc2NoYWluIixTKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIitzKyIvYWR4L29wZW5ydGIiLGRhdGE6SlNPTi5zdHJpbmdpZnkoTyksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24ifSxiaWRzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPXQuYmlkcztpZihlLmJvZHkpe3ZhciBuPWUuYm9keSxvPW4uc2VhdGJpZCxzPW4uY3VyLGM9ZyhvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkfSkpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5pbXBpZC0xXT10LGV9KSxbXSk7cmV0dXJuIHIubWFwKChmdW5jdGlvbihlLHQpe3ZhciByPWNbdF07aWYocil7dmFyIG49T2JqZWN0KGEuZGVlcEFjY2VzcykociwiZXh0LnByZWJpZC50eXBlIiksbz17cmVxdWVzdElkOmUuYmlkSWQsY3BtOnIucHJpY2UsY3JlYXRpdmVJZDpyLmNyaWQsdHRsOjM2MCxuZXRSZXZlbnVlOiJuZXQiPT09ZS5uZXRSZXZlbnVlLGN1cnJlbmN5OnMsbWVkaWFUeXBlOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsZGVhbElkOnIuZGVhbGlkLG1ldGE6e21lZGlhVHlwZTpuLGFkdmVydGlzZXJEb21haW5zOnIuYWRvbWFpbn19O3JldHVybiByLm5hdGl2ZT9vLm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1lLm5hdGl2ZSxyPXQuYXNzZXRzLG49dC5saW5rLGk9dC5pbXB0cmFja2VycyxhPXQuanN0cmFja2VyLG89e2NsaWNrVXJsOm4udXJsLGNsaWNrVHJhY2tlcnM6bi5jbGlja3RyYWNrZXJzfHx2b2lkIDAsaW1wcmVzc2lvblRyYWNrZXJzOml8fHZvaWQgMCxqYXZhc2NyaXB0VHJhY2tlcnM6YT9bYV06dm9pZCAwfTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgdD1mW2UuaWRdLHI9dCYmZVt5W3RdLm5hbWVdO3ImJihvW3RdPXIudGV4dHx8ci52YWx1ZXx8e3VybDpyLnVybCx3aWR0aDpyLncsaGVpZ2h0OnIuaH0pfSkpLG99KHIpOm9bbj09PWkuZD8idmFzdFhtbCI6ImFkIl09ci5hZG0sZS5yZW5kZXJlcnx8biE9PWkuZHx8Im91dHN0cmVhbSIhPT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG8ucmVuZGVyZXI9ZC5hLmluc3RhbGwoe2lkOmUuYmlkSWQsdXJsOiJodHRwczovL3MyLmFkZm9ybS5uZXQvYmFubmVycy9zY3JpcHRzL3ZpZGVvL291dHN0cmVhbS9yZW5kZXIuanMiLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSksby5yZW5kZXJlci5zZXRSZW5kZXIoaCkpLG99fSkpLmZpbHRlcihCb29sZWFuKX19fTtmdW5jdGlvbiBiKGUsdCl7Zm9yKHZhciByLG49MDtuPGUubGVuZ3RoO24rKylpZihyPU9iamVjdChhLmRlZXBBY2Nlc3MpKGVbbl0sdCkpcmV0dXJuIHJ9ZnVuY3Rpb24gZyhlKXt2YXIgdDtyZXR1cm4odD1bXSkuY29uY2F0LmFwcGx5KHQscyhlKSl9ZnVuY3Rpb24gaChlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFkZm9ybS5yZW5kZXJPdXRzdHJlYW0oZSl9KSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzE4OF0pOwp1cGJqc0NodW5rKFszNDZdLHsyNTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDI2MCl9LDI2MDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGx9KSk7dmFyIG49dCgwKSxpPXQoMSksYT10KDMpLG89dCgxMSkscz10Lm4obyksYz10KDIpO2Z1bmN0aW9uIGQoZSl7cmV0dXJuKGQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgdT0iVVNEIixmPXtpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX0sY3RhOntyZXF1aXJlZDohMX19LGw9e2NvZGU6ImFkeW91bGlrZSIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuYyxjLmRdLGFsaWFzZXM6WyJheWwiXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcj1iKHkoZSkpLHQ9ci53aWR0aD4wJiZyLmhlaWdodD4wO3JldHVybiBlLnBhcmFtcyYmZS5wYXJhbXMucGxhY2VtZW50JiYodHx8ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMubmF0aXZlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PXtWZXJzaW9uOiIxLjAiLEJpZHM6ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiBjLmQ7aWYoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSlyZXR1cm4gYy5iO2lmKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMubmF0aXZlIikpcmV0dXJuIGMuY30ociksaT15KHIpLGE9YihpKTtpZihlW3IuYmlkSWRdPXt9LGVbci5iaWRJZF0uUGxhY2VtZW50SUQ9ci5wYXJhbXMucGxhY2VtZW50LGVbci5iaWRJZF0uVHJhbnNhY3Rpb25JRD1yLnRyYW5zYWN0aW9uSWQsZVtyLmJpZElkXS5XaWR0aD1hLndpZHRoLGVbci5iaWRJZF0uSGVpZ2h0PWEuaGVpZ2h0LGVbci5iaWRJZF0uQXZhaWxhYmxlU2l6ZXM9aS5qb2luKCIsIiksImZ1bmN0aW9uIj09dHlwZW9mIHIuZ2V0Rmxvb3ImJihlW3IuYmlkSWRdLlByaWNpbmc9ZnVuY3Rpb24oZSxyLHQpe3ZhciBuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnUsbWVkaWFUeXBlOnQsc2l6ZTpbci53aWR0aCxyLmhlaWdodF19KTtpZighaXNOYU4obi5mbG9vcikmJm4uY3VycmVuY3k9PT11KXJldHVybiBuLmZsb29yfShyLGEsdCkpLHQ9PT1jLmMpe3ZhciBvPXIubWVkaWFUeXBlcy5uYXRpdmU7ImltYWdlIj09PW8udHlwZSYmKG89cCh7fSxmLG8pKSxvLmNsaWNrVXJsPXtyZXF1aXJlZDohMH0sZVtyLmJpZElkXS5OYXRpdmU9b31pZih0PT09Yy5kKXtlW3IuYmlkSWRdLlZpZGVvPXIubWVkaWFUeXBlcy52aWRlbzt2YXIgcz1yLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZTtBcnJheS5pc0FycmF5KHMpJiYhQXJyYXkuaXNBcnJheShzWzBdKSYmKGVbci5iaWRJZF0uVmlkZW8ucGxheWVyU2l6ZT1bc10pfXJldHVybiBlfSkse30pLFBhZ2VSZWZyZXNoZWQ6bSgpfTtyJiZyLmdkcHJDb25zZW50JiYodC5nZHByQ29uc2VudD17Y29uc2VudFN0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudFJlcXVpcmVkOiJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/ci5nZHByQ29uc2VudC5nZHByQXBwbGllczpudWxsfSksciYmci51c3BDb25zZW50JiYodC51c3BDb25zZW50PXIudXNwQ29uc2VudCk7dmFyIGk9SlNPTi5zdHJpbmdpZnkodCk7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOnYoZSxyKSxkYXRhOmksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10saT17fTt0cnl7aT1KU09OLnBhcnNlKHIuZGF0YSkuQmlkc31jYXRjaChlKXt9cmV0dXJuIGUuYm9keS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHIpe2lmKCFlfHwhZS5BZCYmIWUuTmF0aXZlJiYhZS5WYXN0KXJldHVybjt2YXIgdD1yJiZyW2UuQmlkSURdO3QmJihlLldpZHRoJiYiMCIhPT1lLldpZHRofHwoZS5XaWR0aD10LldpZHRoKSxlLkhlaWdodCYmIjAiIT09ZS5IZWlnaHR8fChlLkhlaWdodD10LkhlaWdodCkpO3ZhciBpPXtyZXF1ZXN0SWQ6ZS5CaWRJRCx0dGw6MzYwMCxjcmVhdGl2ZUlkOmUuQ3JlYXRpdmVJRCxjcG06ZS5QcmljZSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OnUsbWV0YTplLk1ldGF8fHthZHZlcnRpc2VyRG9tYWluczpbXX19O2lmKHQmJnQuTmF0aXZlKWkubmF0aXZlPWZ1bmN0aW9uKGUscil7aWYoIm9iamVjdCI9PT1kKGUuTmF0aXZlKSlyZXR1cm4gZS5OYXRpdmU7dmFyIHQ9e30saT17fSxhPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZCl7aT1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLGE9aS5Db250ZW50LlByZXZpZXcuVGV4dDt2YXIgbz1pLlRyYWNraW5nUHJlZml4KyIvcGl4ZWw/ZXZlbnRfa2luZD1JTVBSRVNTSU9OJmF0dGVtcHQ9IitpLkF0dGVtcHQscz1pLlRyYWNraW5nUHJlZml4KyIvcGl4ZWw/ZXZlbnRfa2luZD1JTlNFUlRJT04mYXR0ZW1wdD0iK2kuQXR0ZW1wdDtpLkNhbXBhaWduJiYobys9IiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24scys9IiZjYW1wYWlnbj0iK2kuQ2FtcGFpZ24pLHQuY2xpY2tVcmw9aS5UcmFja2luZ1ByZWZpeCsiL2FyP2V2ZW50X2tpbmQ9Q0xJQ0smYXR0ZW1wdD0iK2kuQXR0ZW1wdCsiJmNhbXBhaWduPSIraS5DYW1wYWlnbisiJnVybD0iK2VuY29kZVVSSUNvbXBvbmVudChpLkNvbnRlbnQuTGFuZGluZy5VcmwpLGkuT25FdmVudHM/KHQuY2xpY2tUcmFja2Vycz1DKGkuT25FdmVudHMuQ0xJQ0spLHQuaW1wcmVzc2lvblRyYWNrZXJzPUMoaS5PbkV2ZW50cy5JTVBSRVNTSU9OKSx0LmphdmFzY3JpcHRUcmFja2Vycz1DKGkuT25FdmVudHMuSU1QUkVTU0lPTiwhMCkpOnQuaW1wcmVzc2lvblRyYWNrZXJzPVtdLHQuaW1wcmVzc2lvblRyYWNrZXJzLnB1c2gobyxzKX1yZXR1cm4gT2JqZWN0LmtleXMocikubWFwKChmdW5jdGlvbihvLHMpe3N3aXRjaChvKXtjYXNlInRpdGxlIjp0W29dPWEuVElUTEU7YnJlYWs7Y2FzZSJib2R5Ijp0W29dPWEuREVTQ1JJUFRJT047YnJlYWs7Y2FzZSJjdGEiOnRbb109YS5DQUxMVE9BQ1RJT047YnJlYWs7Y2FzZSJzcG9uc29yZWRCeSI6dFtvXT1pLkNvbnRlbnQuUHJldmlldy5TcG9uc29yLk5hbWU7YnJlYWs7Y2FzZSJpbWFnZSI6dmFyIGM9ci5pbWFnZS5zaXplc3x8W107Yy5sZW5ndGh8fChjWzBdPWUuV2lkdGh8fDMwMCxjWzFdPWUuSGVpZ2h0fHwyNTApO3ZhciBkPUkoaSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJDb250ZW50LlByZXZpZXcuVGh1bWJuYWlsLkltYWdlIiksY1swXSxjWzFdKTtkJiYodFtvXT17dXJsOmQsd2lkdGg6Y1swXSxoZWlnaHQ6Y1sxXX0pO2JyZWFrO2Nhc2UiaWNvbiI6dmFyIHA9ci5pY29uLnNpemVzfHxbXTtwLmxlbmd0aHx8KHBbMF09NTAscFsxXT01MCk7dmFyIHU9SShpLE9iamVjdChuLmRlZXBBY2Nlc3MpKGksIkNvbnRlbnQuUHJldmlldy5TcG9uc29yLkxvZ28uUmVzb3VyY2UiKSxwWzBdLHBbMV0pO2QmJih0W29dPXt1cmw6dSx3aWR0aDpwWzBdLGhlaWdodDpwWzFdfSk7YnJlYWs7Y2FzZSJwcml2YWN5SWNvbiI6dFtvXT1JKGksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5Mb2dvLlJlc291cmNlIiksMjUsMjUpO2JyZWFrO2Nhc2UicHJpdmFjeUxpbmsiOnRbb109T2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiQ29udGVudC5QcmV2aWV3LkNyZWRpdC5VcmwiKX19KSksdH0oZSx0Lk5hdGl2ZSksaS5tZWRpYVR5cGU9Im5hdGl2ZSI7ZWxzZSBpZih0JiZ0LlZpZGVvKXt2YXIgYT1lLlZhc3R8fGZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCJzdHJpbmciPT10eXBlb2YgZS5BZClyZXR1cm4gcj1KU09OLnBhcnNlKGUuQWQubWF0Y2goL1wvXCpQUkVCSURcKlwvKC4qKVwvXCpQUkVCSURcKlwvLylbMV0pLE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIkNvbnRlbnQuTWFpblZpZGVvLlZhc3QiKX0oZSk7aS52YXN0WG1sPWE/d2luZG93LmF0b2IoYSk6IiIsaS5tZWRpYVR5cGU9InZpZGVvIn1lbHNlIGkud2lkdGg9ZS5XaWR0aCxpLmhlaWdodD1lLkhlaWdodCxpLmFkPWUuQWQ7cmV0dXJuIGl9KGUsaSk7ciYmdC5wdXNoKHIpfSkpLHR9fTtmdW5jdGlvbiBtKCl7dHJ5e2lmKHBlcmZvcm1hbmNlJiZwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uKXJldHVybiBwZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLnR5cGU9PT1wZXJmb3JtYW5jZS5uYXZpZ2F0aW9uLlRZUEVfUkVMT0FEfWNhdGNoKGUpe31yZXR1cm4hMX1mdW5jdGlvbiB2KGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7dmFyIHI9cygpKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5EQ30pKTtyZXR1cm4gcj8iLSIrci5wYXJhbXMuREM6IiJ9KGUpO3JldHVybiBPYmplY3Qobi5idWlsZFVybCkoe3Byb3RvY29sOiJodHRwcyIsaG9zdDoiIi5jb25jYXQoImhiLWFwaSIpLmNvbmNhdCh0LCIub21uaXRhZ2pzLmNvbSIpLHBhdGhuYW1lOiIvaGItYXBpL3ByZWJpZC92MSIsc2VhcmNoOmgocil9KX1mdW5jdGlvbiBoKGUpe3ZhciByPXt9O2lmKGUpe3ZhciB0PWUucmVmZXJlckluZm87dCYmKHIuUmVmZXJlclVybD1lbmNvZGVVUklDb21wb25lbnQodC5yZWZlcmVyKSx0Lm51bUlmcmFtZXM+MCYmKHIuU2FmZUZyYW1lPSEwKSl9dmFyIG49ZnVuY3Rpb24oKXt2YXIgZTtpZih3aW5kb3cuc2VsZiE9PXdpbmRvdy50b3ApdHJ5e2U9d2luZG93LnRvcC5kb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXVtocmVmXScpfWNhdGNoKGUpe31lbHNlIGU9ZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKTtyZXR1cm4gZT9lLmhyZWY6IiJ9KCk7biYmKHIuQ2Fub25pY2FsVXJsPWVuY29kZVVSSUNvbXBvbmVudChuKSk7dmFyIGk9YS5iLmdldENvbmZpZygicHVibGlzaGVyRG9tYWluIik7cmV0dXJuIGkmJihyLlB1Ymxpc2hlckRvbWFpbj1lbmNvZGVVUklDb21wb25lbnQoaSkpLHJ9ZnVuY3Rpb24geShlKXt2YXIgcj1lLnNpemVzfHxbXTtyZXR1cm4gZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxbXSksZS5wYXJhbXMmJkFycmF5LmlzQXJyYXkoZS5wYXJhbXMuc2l6ZSkmJihyPWUucGFyYW1zLnNpemUsQXJyYXkuaXNBcnJheShyWzBdKXx8KHI9W3JdKSksT2JqZWN0KG4ucGFyc2VTaXplc0lucHV0KShyKX1mdW5jdGlvbiBiKGUpe3ZhciByPXt9LHQ9ZVswXTtpZigic3RyaW5nIiE9dHlwZW9mIHQpcmV0dXJuIHI7dmFyIG49dC50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksaT1wYXJzZUludChuWzBdLDEwKTtpJiYoci53aWR0aD1pKTt2YXIgYT1wYXJzZUludChuWzFdLDEwKTtyZXR1cm4gYSYmKHIuaGVpZ2h0PWEpLHJ9ZnVuY3Rpb24gZyhlKXtyZXR1cm4gZT8iaHR0cHM6Ly9ibG9icy5vbW5pdGFnanMuY29tL2Jsb2JzLyIrZS5zdWJzdHIoMTYsMikrIi8iK2Uuc3Vic3RyKDE2KSsiLyIrZToiIn1mdW5jdGlvbiBJKGUscix0LG4pe3ZhciBpPSIiO2lmKHImJnIuS2luZClzd2l0Y2goci5LaW5kKXtjYXNlIklOVEVSTkFMIjppPWcoci5EYXRhLkludGVybmFsLkJsb2JSZWZlcmVuY2UuVWlkKTticmVhaztjYXNlIkVYVEVSTkFMIjp2YXIgYT1lLkR5bmFtaWNQcmVmaXgsbz1yLkRhdGEuRXh0ZXJuYWwuVXJsO2lmKChvPShvPW8ucmVwbGFjZSgvXFtoZWlnaHRcXS9pLCIiK24pKS5yZXBsYWNlKC9cW3dpZHRoXF0vaSwiIit0KSkuaW5kZXhPZihhKT49MCl7dmFyIHM9Ly4qdXJsPShbXiZdKikvZ20uZXhlYyhvKTsoaT1zP3NbMV06IiIpfHwoaT1nKC8uKmtleT0oW14mXSopL2dtLmV4ZWMobylbMV0pKX1lbHNlIGk9b31yZXR1cm4gaX1mdW5jdGlvbiBDKGUscil7dmFyIHQ9W107cmV0dXJuIGU/KGUubWFwKChmdW5jdGlvbihlLG4peyhyJiYiSkFWQVNDUklQVF9VUkwiPT09ZS5LaW5kfHwhciYmIlBJWEVMX1VSTCI9PT1lLktpbmQpJiZ0LnB1c2goZS5VcmwpfSkpLHQpOnR9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGwpfX0sWzI1OV0pOwp1cGJqc0NodW5rKFszNDBdLHsyNzE6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDI3Mil9LDI3MjpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwiQklEREVSX0NPREUiLChmdW5jdGlvbigpe3JldHVybiBzfSkpLGUuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLChmdW5jdGlvbigpe3JldHVybiBkfSkpLGUuZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSx0LnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXttPSExfTtlKDApO3ZhciBhPWUoNDcpLHI9ZSgxKSxpPWUoMik7ZnVuY3Rpb24gbyhuLHQsZSl7cmV0dXJuIHQgaW4gbj9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTplLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6blt0XT1lLG59dmFyIHM9ImFtYXpvbiIsZD0iaHR0cHM6Ly9jLmFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYmlkIixjPVtdLG09ITEscD1bImh0dHBzOi8vYWF4LWV1LmFtYXpvbi1hZHN5c3RlbS5jb20vcy9pdTM/Y20zcHBkPTEmZD1kdGItcHViJmNzaWY9dCJdO3ZhciB1PXtjb2RlOnMsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihuKXtyZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihuLHQpe2lmKCF3aW5kb3cuYXBzdGFnKXJldHVybltdO2Zvcih2YXIgZT0wO2U8bi5sZW5ndGg7ZSsrKXt2YXIgYT1uW2VdO2MucHVzaChhKX12YXIgcixpPVtdO3JldHVybiByPWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlLGE9W10scj10JiZ0LmdkcHJDb25zZW50LGk9MDtpPG4ubGVuZ3RoO2krKyl7Zm9yKHZhciBzPXt9LGQ9bltpXS5zaXplcyxjPVtdLG09MDttPGQubGVuZ3RoO20rKyljLnB1c2goZFttXVswXSsieCIrZFttXVsxXSk7cy5zZD1sLnRvU3RyaW5nKCkscy5zPWMscy5zbj1uW2ldLnBhcmFtcy5hZFVuaXRHUFRQYXRoLGEucHVzaChzKSxsKyt9dmFyIHA9blswXS5wYXJhbXMucHViSUQuaW5kZXhPZigiLSIpPi0xLHU9KG8oZT17fSwic3JjIixwPyI2MDAiOm5bMF0ucGFyYW1zLnB1YklEKSxvKGUsInB1YmlkIixuWzBdLnBhcmFtcy5wdWJJRCksbyhlLCJ1Iix3aW5kb3cubG9jYXRpb24uaHJlZiksbyhlLCJwaWQiLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkiLGU9bmV3IEFycmF5KG4pLGE9MDthPG47YSsrKWVbYV09dFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdC5sZW5ndGgpXTtyZXR1cm4gZS5qb2luKCIiKX0oMTMpKSxvKGUsInByIixkb2N1bWVudC5yZWZlcnJlciksbyhlLCJjYiIsMCksbyhlLCJ3cyIsKHdpbmRvdy5pbm5lcldpZHRofHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGh8fGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpKyJ4Iisod2luZG93LmlubmVySGVpZ2h0fHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0fHxkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkpLG8oZSwidiIsIjcuNDcuMDAiKSxvKGUsInNsb3RzIixKU09OLnN0cmluZ2lmeShhKSksbyhlLCJ0IiwzZTMpLGUpO3ImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYiIiE9PXIuY29uc2VudFN0cmluZz8iYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzPyh1LmdkcHJlPSIxIix1LmdkcHJjPSIiLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpLHUuZ2Rwcmw9SlNPTi5zdHJpbmdpZnkoe2xzU3RhdHVzOiJwcmVzZW50IixzdGF0dXM6ImNtcC1zdWNjZXNzIixydGltZXM6WzFdLGNjOiIwIn0pKTp1LmdkcHJsPUpTT04uc3RyaW5naWZ5KG8oe3N0YXR1czoicHJlc2VudCJ9LCJzdGF0dXMiLCJjbXAtc3VjY2VzcyIpKTp1LmdkcHJsPUpTT04uc3RyaW5naWZ5KHtzdGF0dXM6ImNtcC1lcnJvciJ9KTtyZXR1cm4gdX0obix0KSxpLnB1c2goe21ldGhvZDoiR0VUIix1cmw6ZCxkYXRhOnJ9KSxpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihuLHQpe3ZhciBlPVtdLHI9bmV3IFJlZ0V4cCgiYXBzdGFnXFwuXFx3K1xcKCguKj8pXFwpIiwiZ20iKSxpPW4uYm9keSxvPXIuZXhlYyhpKTtpZihvJiZvLmxlbmd0aD4wKXRyeXt2YXIgcyxkPUpTT04ucGFyc2Uob1sxXSk7aWYoZC5jbXAsIWQuc2xvdHMpcmV0dXJuIGU7cz1kLmhvc3Q7Zm9yKHZhciBtPWQuc2xvdHMscD0wO3A8bS5sZW5ndGg7cCsrKXtmb3IodmFyIHU9dm9pZCAwLGw9bVtwXSxnPTA7ZzxjLmxlbmd0aDtnKyspaWYoZy50b1N0cmluZygpPT09bC5zbG90SUQpe3U9Y1tnXTticmVha31pZih2b2lkIDAhPT11KXt2YXIgZj0wLHo9IlVTRCIsdz0iIitNYXRoLnJvdW5kKDFlMTIqTWF0aC5yYW5kb20oKSkrRGF0ZS5ub3coKSxoPXMrIi9lL2R0Yi9hZG1pP2I9IitsLmFtem5paWQrIiZybmQ9Iit3KyImcHA9IitsLmFtem5iaWQrIiZwPSIrbC5hbXpucCsiJmNyaWQ9IitsLmNyaWQ7d2luZG93LnVwb19hbXpuJiYod2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0JiZ3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbbC5hbXpuYmlkXSYmKGY9d2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W2wuYW16bmJpZF0pLHdpbmRvdy51cG9fYW16bi5hbWF6b25DUE1DdXJyZW5jeSYmKHo9d2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUN1cnJlbmN5KSk7dmFyIGI9bC5jcmlkO2lmKCFsLmNyaWQpaWYoInhjZXU0ZyI9PT1sLmFtem5iaWQpYj0idGVzdENyaWQiO2Vsc2V7dmFyIHY9e2V2ZW50OiJhbWF6b24tbm8tY3JpZCIsc2VuZFBlcmNlbnRhZ2U6MTAwLG1ldGE6e2RvbWFpbjp3aW5kb3cubG9jYXRpb24uaG9zdG5hbWV9fTthLmUobnVsbCwiYW1hem9uLW5vLWNyaWQiLFtdLHYpfWUucHVzaCh7cmVxdWVzdElkOnUuYmlkSWQsY3BtOmYsd2lkdGg6bC5hbXpuc3ouc3BsaXQoIngiKVswXSxoZWlnaHQ6bC5hbXpuc3ouc3BsaXQoIngiKVsxXSxhZFRhcmdldGluZzoneyJhbXpuaWlkIjoiJytsLmFtem5paWQrJyIsImFtem5wIjoiJytsLmFtem5wKyciLCJhbXpuYmlkIjoiJytsLmFtem5iaWQrJyIsImFtem5zeiI6IicrbC5hbXpuc3orJyJ9JyxhZDoiIixhZEh0bWw6Jzxib2R5IGxlZnRtYXJnaW49IjAiIHRvcG1hcmdpbj0iMCIgbWFyZ2lud2lkdGg9IjAiIG1hcmdpbmhlaWdodD0iMCI+PGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgbWFyZ2luaGVpZ2h0PSIwIiBtYXJnaW53aWR0aD0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IicrbC5hbXpuc3ouc3BsaXQoIngiKVswXSsncHgiIGhlaWdodD0iJytsLmFtem5zei5zcGxpdCgieCIpWzFdKydweCIgaWQ9ImFtem5hZDcwMzUyIiBzYW5kYm94PSJhbGxvdy1mb3JtcyBhbGxvdy1wb2ludGVyLWxvY2sgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXRvcC1uYXZpZ2F0aW9uLWJ5LXVzZXItYWN0aXZhdGlvbiIgc3JjPSInK2grJyI+PC9pZnJhbWU+PHNjcmlwdD52YXIgYW16ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7YW16LnNyYyA9ICIvL2MuYW1hem9uLWFkc3lzdGVtLmNvbS9iYW8tY3NtL2RpcmVjdC9jc20uanMiO2Ftei5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe3ZhciBjc21GdW5jID0gbnVsbDsgaWYod2luZG93LmFtem5jc20gJiYgd2luZG93LmFtem5jc20ucm1EKXtjc21GdW5jID0gd2luZG93LmFtem5jc20ucm1EO30gZWxzZSBpZiAod2luZG93LmFtem5jc20pIHtjc21GdW5jID0gd2luZG93LmFtem5jc21bT2JqZWN0LmtleXMod2luZG93LmFtem5jc20pWzBdXX07IHZhciBhZElmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCdpZnJhbWVbc3JjKj0iYW1hem9uLWFkc3lzdGVtLmNvbS9lL2R0Yi9hZG1pXCcpO2NzbUZ1bmMoYWRJZnJhbWUsICInK2wuYW16bmlpZCsnIiwgd2luZG93LCBkb2N1bWVudCwgIicrdS5wYXJhbXMucHViSUQrJyIpO30pOyhkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGFteik7PFwvc2NyaXB0PjwvYm9keT4nLGFkVXJsOmgsdHRsOjkwMCxjcmVhdGl2ZUlkOmJ8fCIiLG5ldFJldmVudWU6ITAsY3VycmVuY3k6en0pfX19Y2F0Y2gobil7fXJldHVybiBlfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24obix0LGUpe2lmKCFtKXtlJiYic3RyaW5nIj09dHlwZW9mIGUuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIGUuZ2RwckFwcGxpZXM/Ij9nZHByPSIuY29uY2F0KE51bWJlcihlLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoZS5jb25zZW50U3RyaW5nKToiP2dkcHJfY29uc2VudD0iLmNvbmNhdChlLmNvbnNlbnRTdHJpbmcpKSxtPSEwO2Zvcih2YXIgYT1bXSxyPTA7cjxwLmxlbmd0aDtyKyspYS5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDpwW3JdfSk7cmV0dXJuIGF9fX07dmFyIGw9MDtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikodSl9fSxbMjcxXSk7CnVwYmpzQ2h1bmsoWzMzOV0sezI3MzpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oMjc0KX0sMjc0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gU30pKTt2YXIgcj1uKDEpLGM9bigyKSxpPW4oMCksbz1uKDMpLGE9big3KTtmdW5jdGlvbiB1KGUsdCl7dmFyIG49T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocj1yLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxuLnB1c2guYXBwbHkobixyKX1yZXR1cm4gbn1mdW5jdGlvbiBzKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3UoT2JqZWN0KG4pLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtkKGUsdCxuW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKG4pKTp1KE9iamVjdChuKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGQoZSx0LG4pe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6bixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09bixlfWZ1bmN0aW9uIGwoZSl7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgcD1PYmplY3QoYS5iKSg3MzcsImFteCIpLGI9L1wuY29tP1wuXHd7Miw0fSQvLGY9L15ccyo8XD8/KD86dmFzdHx4bWwpL2ksbT0iX19hbXVpZHBiIjtmdW5jdGlvbiBnKGUsdCl7cmV0dXJuIG51bGw9PWU/W106ZS5tYXAodCkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBudWxsIT10JiZlLmNvbmNhdCh0KX0pLFtdKX1mdW5jdGlvbiBoKGUpe3JldHVybiBudWxsIT0odD1lLmFkbSkmJmYudGVzdCh0KT9jLmQ6Yy5iO3ZhciB0fXZhciBPPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PWV8fGwoZSk9PT10fTtmdW5jdGlvbiB5KGUpe3ZhciB0PWUuaG9zdG5hbWUuc3BsaXQoIi4iKSxuPXQuc2xpY2UodC5sZW5ndGgtKGIudGVzdChlLmhvc3RuYW1lKT8zOjIpKS5qb2luKCIuIik7cmV0dXJuIGJ0b2EobikucmVwbGFjZSgvPSskLywiIil9dmFyIGo9ZW5jb2RlVVJJQ29tcG9uZW50O2Z1bmN0aW9uIHYoKXt0cnl7cmV0dXJuIHAuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UobSl9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIHcoZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdChpLl9lYWNoKShlLChmdW5jdGlvbihlKXt0W2UuYmlkSWRdPWZ1bmN0aW9uKGUpe3ZhciB0PShsPWUuc2l6ZXMscD1lLm1lZGlhVHlwZXMsbC5jb25jYXQoT2JqZWN0KGkuZGVlcEFjY2VzcykocCwiIi5jb25jYXQoYy5iLCIuc2l6ZXMiKSxbXSl8fFtdKS5jb25jYXQoT2JqZWN0KGkuZGVlcEFjY2VzcykocCwiIi5jb25jYXQoYy5kLCIuc2l6ZXMiKSxbXSl8fFtdKS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0WzBdKnRbMV0tZVswXSplWzFdfSkpWzBdfHxbMCwwXSksbj1lLm1lZGlhVHlwZT09PWMuZHx8Yy5kIGluIGUubWVkaWFUeXBlcyxyPW58fHRbMV0+MTAwLG89T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnRhZ0lkIiksYT1udWxsIT1lLnBhcmFtcyYmInN0cmluZyI9PXR5cGVvZiBlLnBhcmFtcy5hZFVuaXRJZD9lLnBhcmFtcy5hZFVuaXRJZDplLmFkVW5pdENvZGUsdT1bZS5zaXplcyxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuYiwiLnNpemVzIiksW10pfHxbXSxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuZCwiLnNpemVzIiksW10pfHxbXV0scz1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuZCkse30pfHx7fSxkPXthdTphLGF2OnIsdmQ6cyx2cjpuLG1zOnUsYXc6dFswXSxhaDp0WzFdLHRmOjAsc2M6ZS5zY2hhaW58fHt9LGY6SShDKGUpKX07dmFyIGwscDsic3RyaW5nIj09dHlwZW9mIG8mJm8ubGVuZ3RoPjAmJihkLmk9byk7cmV0dXJuIGR9KGUpfSkpLHR9dmFyIEE9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KGkudHJpZ2dlclBpeGVsKSgiIi5jb25jYXQoImh0dHBzOi8vMXgxLmEtbW8ubmV0L2hieC8iLCJnXyIpLmNvbmNhdChlLCI/IikuY29uY2F0KE9iamVjdChpLmZvcm1hdFFTKShzKHMoe30sdCkse30se3RzOkRhdGUubm93KCksZWlkOk9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCl9KSkpKX07ZnVuY3Rpb24gSShlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUmJmlzRmluaXRlKGUpJiZlPjA/ZTowfWZ1bmN0aW9uIEMoZSl7aWYoIU9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXJldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuZmxvb3IiLDApO3RyeXtyZXR1cm4gZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIixiaWRSZXF1ZXN0OmV9KS5mbG9vcn1jYXRjaChlKXtyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJjYWxsIHRvIGdldEZsb29yIGZhaWxlZDogIixlKSwwfX12YXIgUz17Y29kZToiYW14IixzdXBwb3J0ZWRNZWRpYVR5cGVzOltjLmIsYy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gTyhPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuZW5kcG9pbnQiLG51bGwpLCJzdHJpbmciKSYmTyhPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudGFnSWQiLG51bGwpLCJzdHJpbmciKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuLHIsYz1mdW5jdGlvbihlKXt2YXIgdD1lLnJlZmVyZXJJbmZvO2lmKG51bGw9PXQpcmV0dXJuIE9iamVjdChpLnBhcnNlVXJsKShsb2NhdGlvbi5ocmVmKTtpZih0LmlzQW1wJiZudWxsIT10LnJlZmVyZXIpcmV0dXJuIE9iamVjdChpLnBhcnNlVXJsKSh0LnJlZmVyZXIpO3ZhciBuPXQubnVtSWZyYW1lcz4wJiZudWxsIT10LnN0YWNrWzBdP3Quc3RhY2tbMF06bG9jYXRpb24uaHJlZjtyZXR1cm4gT2JqZWN0KGkucGFyc2VVcmwpKG4pfSh0KSxhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy50YWdJZCIsbnVsbCksdT1PYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMudGVzdE1vZGUiLDApLHM9bnVsbCE9ZVswXT9lWzBdOntiaWRkZXJSZXF1ZXN0c0NvdW50OjAsYmlkZGVyV2luc0NvdW50OjAsYmlkUmVxdWVzdHNDb3VudDowfTtyZXR1cm57ZGF0YTp7YTp0LmF1Y3Rpb25JZCxCOjAsYjpjLmhvc3QsYnJjOnMuYmlkZGVyUmVxdWVzdHNDb3VudHx8MCxid2M6cy5iaWRkZXJXaW5zQ291bnR8fDAsdHJjOnMuYmlkUmVxdWVzdHNDb3VudHx8MCx0bToocj11LCEwPT09cnx8MT09PXJ8fCJ0cnVlIj09PXIpLFY6IjUuMjAuMiIsdmc6InVwYmpzIixpOnUmJm51bGwhPWE/YTp5KGMpLGw6e30sZjouMDEsY3Y6InBiYTEuMy4xIixzdDoicHJlYmlkIixoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZ3M6T2JqZWN0KGkuZGVlcEFjY2VzcykodCwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiLCIiKSxnYzpPYmplY3QoaS5kZWVwQWNjZXNzKSh0LCJnZHByQ29uc2VudC5jb25zZW50U3RyaW5nIiwiIiksdTpPYmplY3QoaS5kZWVwQWNjZXNzKSh0LCJyZWZlcmVySW5mby5jYW5vbmljYWxVcmwiLGMuaHJlZiksZG86Yy5ob3N0bmFtZSxyZTpPYmplY3QoaS5kZWVwQWNjZXNzKSh0LCJyZWZlcmVySW5mby5yZWZlcmVyIiksYW06digpLHVzcDp0LnVzcENvbnNlbnR8fCIxLS0tIixzbXQ6MSxkOiIiLG06dyhlKSxjcHA6by5iLmdldENvbmZpZygiY29wcGEiKT8xOjAsZnBkMjpvLmIuZ2V0Q29uZmlnKCJvcnRiMiIpLHRtYXg6by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGVpZHM6KG49ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGw9PXR8fG51bGw9PXQudXNlcklkQXNFaWRzfHxPYmplY3QoaS5fZWFjaCkodC51c2VySWRBc0VpZHMsKGZ1bmN0aW9uKHQpe251bGwhPXQmJihlW3Quc291cmNlXT10KX0pKSxlfSkse30pLG51bGwhPU9iamVjdC52YWx1ZXM/T2JqZWN0LnZhbHVlcyhuKTpPYmplY3Qua2V5cyhuKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSkpKX0sbWV0aG9kOiJQT1NUIix1cmw6T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmVuZHBvaW50IiwiaHR0cHM6Ly9wcmViaWQuYS1tby5uZXQvYS9jIiksd2l0aENyZWRlbnRpYWxzOiEwfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7aWYobnVsbD09dHx8MD09PXQubGVuZ3RoKXJldHVybltdO3ZhciBuPVtdO3JldHVybiBPYmplY3QoaS5fZWFjaCkodCwoZnVuY3Rpb24odCl7dmFyIHI9dC5ib2R5O251bGwhPXImJm51bGwhPXIucCYmci5wLmhyZXEmJk9iamVjdChpLl9lYWNoKShyLnAuaHJlcSwoZnVuY3Rpb24odCl7dmFyIHI9LTEhPT10LmluZGV4T2YoIl9fc3Q9aWZyYW1lIik/ImlmcmFtZSI6ImltYWdlIjsoZS5pZnJhbWVFbmFibGVkfHwiaW1hZ2UiPT09cikmJm4ucHVzaCh7dXJsOnQsdHlwZTpyfSl9KSl9KSksbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgbj1lLmJvZHk7cmV0dXJuIG51bGw9PW58fCJzdHJpbmciPT10eXBlb2Ygbj9bXToobi5hbSYmInN0cmluZyI9PXR5cGVvZiBuLmFtJiZmdW5jdGlvbihlKXt0cnl7cC5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UobSxlKX1jYXRjaChlKXt9fShuLmFtKSxnKE9iamVjdC5rZXlzKG4uciksKGZ1bmN0aW9uKGUpe3JldHVybiBnKG4ucltlXSwoZnVuY3Rpb24obil7cmV0dXJuIG4uYi5tYXAoKGZ1bmN0aW9uKG4pe3ZhciByLG89aChuKSxhPW89PT1jLmI/ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmhpbXAiLFtdKS5jb25jYXQobnVsbCE9ZS5udXJsP1tlLm51cmxdOltdKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlLmxlbmd0aD4wfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuJzxpbWcgc3JjPSInLmNvbmNhdChlLCciIHdpZHRoPSIwIiBoZWlnaHQ9IjAiLz4nKX0pKS5qb2luKCIiKTtyZXR1cm4gZS5hZG0rdH0obik6bi5hZG07aWYobnVsbD09YSlyZXR1cm4gbnVsbDt2YXIgdT1mdW5jdGlvbihlLHQsbil7aWYobnVsbCE9ZS53JiZlLnc+MSYmbnVsbCE9ZS5oJiZlLmg+MSlyZXR1cm5bZS53LGUuaF07dmFyIHI9dC5tW25dO3JldHVybiBudWxsPT1yP1swLDBdOltyLmF3LHIuYWhdfShuLHQuZGF0YSxlKSxzPW89PT1jLmI/MjQwOjMwMDtyZXR1cm4gZChyPXtyZXF1ZXN0SWQ6ZSxjcG06bi5wcmljZSx3aWR0aDp1WzBdLGhlaWdodDp1WzFdLGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITB9LG89PT1jLmQ/InZhc3RYbWwiOiJhZCIsYSksZChyLCJtZXRhIix7YWR2ZXJ0aXNlckRvbWFpbnM6bi5hZG9tYWluLG1lZGlhVHlwZTpvfSksZChyLCJtZWRpYVR5cGUiLG8pLGQociwidHRsIiwibnVtYmVyIj09dHlwZW9mIG4uZXhwP24uZXhwOnMpLHJ9KSl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZX0pKX0pKSl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe3ZhciB0LG47bnVsbCE9ZSYmQSgicGJzdCIse0E6ZS5iaWRkZXIsdzplLndpZHRoLGg6ZS5oZWlnaHQsYmlkOmUuYWRJZCxjMTplLm1lZGlhVHlwZSxucDplLmNwbSxhdWQ6ZS5yZXF1ZXN0SWQsYTplLmFkVW5pdENvZGUsYzI6KHQ9ZS5hZHNlcnZlclRhcmdldGluZyxuPVtdLE9iamVjdC5rZXlzKHR8fHt9KS5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2goaihlKSsiPSIraihTdHJpbmcodFtlXSkpKX0pKSxqKG4uam9pbigiJiIpKSl9KX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe251bGwhPWUmJkEoInBidG8iLHtBOmUuYmlkZGVyLGJpZDplLmJpZElkLGE6ZS5hZFVuaXRDb2RlLGNuOmUudGltZW91dCxhdWQ6ZS5hdWN0aW9uSWR9KX0sb25CaWRXb246ZnVuY3Rpb24oZSl7bnVsbCE9ZSYmQSgicGJ3aW4iLHtBOmUuYmlkZGVyLHc6ZS53aWR0aCxoOmUuaGVpZ2h0LGJpZDplLmFkSWQsQzplLm1lZGlhVHlwZT09PWMuYj8wOjEsbnA6ZS5jcG0sYTplLmFkVW5pdENvZGV9KX19O09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShTKX19LFsyNzNdKTsKdXBianNDaHVuayhbMzM2XSx7Mjc5OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigyODApfSwyODA6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBxfSkpO3ZhciBuLGksYSxvPXIoMCkscz1yKDEpLGM9cigyKTtmdW5jdGlvbiB1KCl7cmV0dXJuKHU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gcChlLHQpe3JldHVybiB0fHwodD1lLnNsaWNlKDApKSxPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9dmFyIGw9ImFvbCIsbT0idmVyaXpvbiIsZj0ib25lbW9iaWxlIixiPSJvbmVkaXNwbGF5IixoPXtHRVQ6ImRpc3BsYXktZ2V0In0sdj17R0VUOiJtb2JpbGUtZ2V0IixQT1NUOiJtb2JpbGUtcG9zdCJ9LGc9e1RBRzoiaWZyYW1lIixUWVBFOiJpZnJhbWUifSx5PXtUQUc6ImltZyIsVFlQRToiaW1hZ2UifSxPPVsiYWRzZXJ2ZXIub3JnIiwiY3JpdGVvLmNvbSIsImlkNS1zeW5jLmNvbSIsImludGVudGlxLmNvbSIsImxpdmVpbnRlbnQuY29tIiwicXVhbnRjYXN0LmNvbSIsInZlcml6b25tZWRpYS5jb20iLCJsaXZlcmFtcC5jb20iLCJ5YWhvby5jb20iXSxQPUMobnx8KG49cChbIiIsIi9wdWJhcGkvMy4wLyIsIi8iLCIvIiwiLyIsIi9BRFRFQ0g7dj0yO2NtZD1iaWQ7Y29ycz15ZXM7YWxpYXM9IiwiO21pc2M9IiwiOyIsIiJdKSksImhvc3QiLCJuZXR3b3JrIiwicGxhY2VtZW50IiwicGFnZWlkIiwic2l6ZWlkIiwiYWxpYXMiLCJtaXNjIiwiZHluYW1pY1BhcmFtcyIpLGo9QyhpfHwoaT1wKFsiIiwiL2JpZFJlcXVlc3Q/Il0pKSwiaG9zdCIpLEU9QyhhfHwoYT1wKFsiZGNuPSIsIiZwb3M9IiwiJmNtZD1iaWQiLCIiXSkpLCJkY24iLCJwb3MiLCJkeW5hbWljUGFyYW1zIiksUz17dXM6ImFkc2VydmVyLXVzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGV1OiJhZHNlcnZlci1ldS5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixhczoiYWRzZXJ2ZXItYXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSJ9LFQ9Imh0dHBzIix4PTE7ZnVuY3Rpb24gQyhlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSh0PjE/dC0xOjApLG49MTtuPHQ7bisrKXJbbi0xXT1hcmd1bWVudHNbbl07cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCksaT0wO2k8dDtpKyspbltpXT1hcmd1bWVudHNbaV07dmFyIGE9bltuLmxlbmd0aC0xXXx8e30scz1bZVswXV07cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24odCxyKXt2YXIgaT1PYmplY3Qoby5pc0ludGVnZXIpKHQpP25bdF06YVt0XTtzLnB1c2goaSxlW3IrMV0pfSkpLHMuam9pbigiIil9fWZ1bmN0aW9uIEkoZSl7cmV0dXJuIGU9PT1sfHxlPT09bXx8ZT09PWZ9ZnVuY3Rpb24gUihlKXtpZihJKGUuYmlkZGVyKSYmZS5wYXJhbXMuaWQmJmUucGFyYW1zLmltcCYmZS5wYXJhbXMuaW1wWzBdKXt2YXIgdD1lLnBhcmFtcy5pbXBbMF07cmV0dXJuIHQuaWQmJnQudGFnaWQmJnQuYmFubmVyJiZ0LmJhbm5lci53JiZ0LmJhbm5lci5ofX1mdW5jdGlvbiB3KGUpe3JldHVybiBJKGUuYmlkZGVyKSYmZS5wYXJhbXMuZGNuJiZlLnBhcmFtcy5wb3N9ZnVuY3Rpb24gVShlKXtyZXR1cm4oKHQ9ZS5iaWRkZXIpPT09bHx8dD09PW18fHQ9PT1iKSYmZS5wYXJhbXMucGxhY2VtZW50JiZlLnBhcmFtcy5uZXR3b3JrO3ZhciB0fWZ1bmN0aW9uIGsoZSl7cmV0dXJuIGUudXNlcklkQXNFaWRzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1PLmluZGV4T2YoZS5zb3VyY2UpfSkpfXZhciBxPXtjb2RlOmwsZ3ZsaWQ6MjUsYWxpYXNlczpbZixiLG1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFUoZSl8fGZ1bmN0aW9uKGUpe3JldHVybiB3KGUpfHxSKGUpfShlKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17fTtyZXR1cm4gdCYmKG4uZ2Rwcj10LmdkcHJDb25zZW50LG4udXNwQ29uc2VudD10LnVzcENvbnNlbnQpLGUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtyZXR1cm4gdyhlKT92LkdFVDpSKGUpP3YuUE9TVDpVKGUpP2guR0VUOnZvaWQgMH0oZSk7aWYodClyZXR1cm4gci5mb3JtYXRCaWRSZXF1ZXN0KHQsZSxuKX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7aWYocil7dmFyIG49dGhpcy5fcGFyc2VCaWRSZXNwb25zZShyLHQpO2lmKG4pcmV0dXJuIG59ZWxzZSBPYmplY3Qoby5sb2dFcnJvcikoIkVtcHR5IGJpZCByZXNwb25zZSIsdC5iaWRkZXJDb2RlLHIpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0KXt2YXIgcj0hT2JqZWN0KG8uaXNFbXB0eSkodCkmJnRbMF0uYm9keTtyZXR1cm4gciYmci5leHQmJnIuZXh0LnBpeGVscz90aGlzLnBhcnNlUGl4ZWxJdGVtcyhyLmV4dC5waXhlbHMpOltdfSxmb3JtYXRCaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtzd2l0Y2goZSl7Y2FzZSBoLkdFVDpuPXt1cmw6dGhpcy5idWlsZE1hcmtldHBsYWNlVXJsKHQsciksbWV0aG9kOiJHRVQiLHR0bDo2MH07YnJlYWs7Y2FzZSB2LkdFVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUdldFVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6MzYwMH07YnJlYWs7Y2FzZSB2LlBPU1Q6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKHQpLG1ldGhvZDoiUE9TVCIsdHRsOjM2MDAsZGF0YTp0aGlzLmJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhKHQsciksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLGN1c3RvbUhlYWRlcnM6eyJ4LW9wZW5ydGItdmVyc2lvbiI6IjIuMiJ9fX19cmV0dXJuIG4uYmlkZGVyQ29kZT10LmJpZGRlcixuLmJpZElkPXQuYmlkSWQsbi51c2VyU3luY09uPXQucGFyYW1zLnVzZXJTeW5jT24sbn0sYnVpbGRNYXJrZXRwbGFjZVVybDpmdW5jdGlvbihlLHQpe3ZhciByLG49ZS5wYXJhbXMsaT1uLnNlcnZlcixhPW4ucmVnaW9ufHwidXMiO3JldHVybiBTLmhhc093blByb3BlcnR5KGEpfHwoT2JqZWN0KG8ubG9nV2FybikoIlVua25vd24gcmVnaW9uICciLmNvbmNhdChhLCInIGZvciBBT0wgYmlkZGVyLiIpKSxhPSJ1cyIpLHI9aXx8U1thXSxuLnJlZ2lvbj1hLHRoaXMuYXBwbHlQcm90b2NvbChQKHtob3N0OnIsbmV0d29yazpuLm5ldHdvcmsscGxhY2VtZW50OnBhcnNlSW50KG4ucGxhY2VtZW50KSxwYWdlaWQ6bi5wYWdlSWR8fDAsc2l6ZWlkOm4uc2l6ZUlkfHwwLGFsaWFzOm4uYWxpYXN8fE9iamVjdChvLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksbWlzYzoobmV3IERhdGUpLmdldFRpbWUoKSxkeW5hbWljUGFyYW1zOnRoaXMuZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zKG4sdCl9KSl9LGJ1aWxkT25lTW9iaWxlR2V0VXJsOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5wYXJhbXMsbj1yLmRjbixpPXIucG9zLGE9ci5leHQ7Im9iamVjdCI9PT1kKGUudXNlcklkKSYmKGE9YXx8e30sayhlKS5mb3JFYWNoKChmdW5jdGlvbihlKXthWyJlaWQiK2Uuc291cmNlXT1lLnVpZHNbMF0uaWR9KSkpO3ZhciBvPXRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKGUpO2lmKG4mJmkpe3ZhciBzPXRoaXMuZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtcyhhLHQpO28rPUUoe2RjbjpuLHBvczppLGR5bmFtaWNQYXJhbXM6c30pfXJldHVybiBvfSxidWlsZE9uZU1vYmlsZUJhc2VVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlQcm90b2NvbChqKHtob3N0OmUucGFyYW1zLmhvc3R8fCJjMnNoYi5zc3AueWFob28uY29tIn0pKX0sYXBwbHlQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXmh0dHBzPzpcL1wvL2kudGVzdChlKT9lOjA9PT1lLmluZGV4T2YoIi8vIik/IiIuY29uY2F0KFQsIjoiKS5jb25jYXQoZSk6IiIuY29uY2F0KFQsIjovLyIpLmNvbmNhdChlKX0sZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LHI9e307dShyLHRoaXMuZm9ybWF0S2V5VmFsdWVzKGUua2V5VmFsdWVzKSksdShyLHRoaXMuZm9ybWF0Q29uc2VudERhdGEodCkpO3ZhciBuPSIiO3JldHVybiBPYmplY3Qoby5fZWFjaCkociwoZnVuY3Rpb24oZSx0KXtuKz0iIi5jb25jYXQodCwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZSksIjsiKX0pKSxufSxmb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O3RoaXMuaXNTZWN1cmVQcm90b2NvbCgpJiYoZS5zZWN1cmU9eCksdShlLHRoaXMuZm9ybWF0Q29uc2VudERhdGEodCkpO3ZhciByPSIiO3JldHVybiBPYmplY3Qoby5fZWFjaCkoZSwoZnVuY3Rpb24oZSx0KXtyKz0iJiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpKX0pKSxyfSxidWlsZE9wZW5SdGJSZXF1ZXN0RGF0YTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30scj17aWQ6ZS5wYXJhbXMuaWQsaW1wOmUucGFyYW1zLmltcH07aWYodGhpcy5pc0VVQ29uc2VudFJlcXVpcmVkKHQpJiYoT2JqZWN0KG8uZGVlcFNldFZhbHVlKShyLCJyZWdzLmV4dC5nZHByIix4KSx0LmdkcHIuY29uc2VudFN0cmluZyYmT2JqZWN0KG8uZGVlcFNldFZhbHVlKShyLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHIuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmT2JqZWN0KG8uZGVlcFNldFZhbHVlKShyLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLCJvYmplY3QiPT09ZChlLnVzZXJJZCkpe3IudXNlcj1yLnVzZXJ8fHt9LHIudXNlci5leHQ9ci51c2VyLmV4dHx8e307dmFyIG49ayhlKTtuLmxlbmd0aD4wJiYoci51c2VyLmV4dC5laWRzPW4pfXJldHVybiByfSxpc0VVQ29uc2VudFJlcXVpcmVkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUuZ2RwciYmZS5nZHByLmdkcHJBcHBsaWVzKX0sZm9ybWF0S2V5VmFsdWVzOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBPYmplY3Qoby5fZWFjaCkoZSwoZnVuY3Rpb24oZSxyKXt0WyJrdiIuY29uY2F0KHIpXT1lfSkpLHR9LGZvcm1hdENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQoZSkmJih0LmdkcHI9eCxlLmdkcHIuY29uc2VudFN0cmluZyYmKHQuZXVjb25zZW50PWUuZ2Rwci5jb25zZW50U3RyaW5nKSksZS51c3BDb25zZW50JiYodC51c19wcml2YWN5PWUudXNwQ29uc2VudCksdH0scGFyc2VQaXhlbEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciB0PS9cdyooPz1ccykvLHI9L3NyYz0oInwnKSguKj8pXDEvLG49W107aWYoZSl7dmFyIGk9ZS5tYXRjaCgvKGltZ3xpZnJhbWUpW1xzXFNdKj9zcmNccyo9XHMqKCJ8JykoLio/KVwyL2dpKTtpJiZpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBpPWUubWF0Y2godClbMF0sYT1lLm1hdGNoKHIpWzJdO2kmJmEmJm4ucHVzaCh7dHlwZTppPT09eS5UQUc/eS5UWVBFOmcuVFlQRSx1cmw6YX0pfSkpfXJldHVybiBufSxfcGFyc2VCaWRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByLG47dHJ5e3I9ZS5zZWF0YmlkWzBdLmJpZFswXX1jYXRjaChlKXtyZXR1cm59aWYoci5leHQmJnIuZXh0LmVuY3Apbj1yLmV4dC5lbmNwO2Vsc2UgaWYobnVsbD09PShuPXIucHJpY2UpfHxpc05hTihuKSlyZXR1cm4gdm9pZCBPYmplY3Qoby5sb2dFcnJvcikoIkludmFsaWQgcHJpY2UgaW4gYmlkIHJlc3BvbnNlIixsLHIpO3JldHVybntiaWRkZXJDb2RlOnQuYmlkZGVyQ29kZSxyZXF1ZXN0SWQ6dC5iaWRJZCxhZDpyLmFkbSxjcG06bix3aWR0aDpyLncsaGVpZ2h0OnIuaCxjcmVhdGl2ZUlkOnIuY3JpZHx8MCxwdWJhcGlJZDplLmlkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixkZWFsSWQ6ci5kZWFsaWQsbmV0UmV2ZW51ZTohMCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpyJiZyLmFkb21haW4/ci5hZG9tYWluOltdfSx0dGw6dC50dGx9fSxpc09uZU1vYmlsZUJpZGRlcjpJLGlzU2VjdXJlUHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4iaHR0cHM6Ij09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKHEpfX0sWzI3OV0pOwp1cGJqc0NodW5rKFszMzNdLHsyODk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDI5MCl9LDI5MDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSk7dmFyIGE9dCgwKSxuPXQoMTMpLGk9dCgzKSxzPXQoMSksbz10KDIpLGQ9dCgyMyksYz10KDExKSxwPXQubihjKSx1PXQoMTIpLGw9dC5uKHUpLG09dCgyMiksZj10KDcpO2Z1bmN0aW9uIGIoZSl7cmV0dXJuKGI9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB2KCl7cmV0dXJuKHY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgYSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGEpJiYoZVthXT10W2FdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB5KGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBnKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBnKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBnKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGcoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxhPW5ldyBBcnJheShyKTt0PHI7dCsrKWFbdF09ZVt0XTtyZXR1cm4gYX12YXIgaD0iYXBwbmV4dXMiLF89Imh0dHBzOi8vaWIuYWRueHMuY29tL3V0L3YzL3ByZWJpZCIsaz0iaHR0cHM6Ly9pYi5hZG54cy1zaW1wbGUuY29tL3V0L3YzL3ByZWJpZCIsTz1bImlkIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInNraXBwYWJsZSIsInBsYXliYWNrX21ldGhvZCIsImZyYW1ld29ya3MiLCJjb250ZXh0Iiwic2tpcG9mZnNldCJdLGo9WyJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwic2tpcCIsInNraXBhZnRlciIsInBsYXliYWNrbWV0aG9kIiwiYXBpIl0sST1bImFnZSIsImV4dGVybmFsVWlkIiwic2VnbWVudHMiLCJnZW5kZXIiLCJkbnQiLCJsYW5ndWFnZSJdLEE9WyJnZW8iLCJkZXZpY2VfaWQiXSx3PVsiZW5hYmxlZCIsImRvbmdsZSIsIm1lbWJlcl9pZCIsImRlYnVnX3RpbWVvdXQiXSx4PXtwbGF5YmFja19tZXRob2Q6e3Vua25vd246MCxhdXRvX3BsYXlfc291bmRfb246MSxhdXRvX3BsYXlfc291bmRfb2ZmOjIsY2xpY2tfdG9fcGxheTozLG1vdXNlX292ZXI6NCxhdXRvX3BsYXlfc291bmRfdW5rbm93bjo1fSxjb250ZXh0Ont1bmtub3duOjAscHJlX3JvbGw6MSxtaWRfcm9sbDoyLHBvc3Rfcm9sbDozLG91dHN0cmVhbTo0LCJpbi1iYW5uZXIiOjV9fSxDPXtib2R5OiJkZXNjcmlwdGlvbiIsYm9keTI6ImRlc2MyIixjdGE6ImN0YXRleHQiLGltYWdlOntzZXJ2ZXJOYW1lOiJtYWluX2ltYWdlIixyZXF1aXJlZFBhcmFtczp7cmVxdWlyZWQ6ITB9fSxpY29uOntzZXJ2ZXJOYW1lOiJpY29uIixyZXF1aXJlZFBhcmFtczp7cmVxdWlyZWQ6ITB9fSxzcG9uc29yZWRCeToic3BvbnNvcmVkX2J5Iixwcml2YWN5TGluazoicHJpdmFjeV9saW5rIixzYWxlUHJpY2U6InNhbGVwcmljZSIsZGlzcGxheVVybDoiZGlzcGxheXVybCJ9LFM9L1wvXC9jZG5cLmFkbnhzXC5jb21cL3Z8XC9cL2NkblwuYWRueHNcLXNpbXBsZVwuY29tXC92LyxUPU9iamVjdChmLmIpKDMyLGgpLEU9e2NvZGU6aCxndmxpZDozMixhbGlhc2VzOlt7Y29kZToiYXBwbmV4dXNBc3QiLGd2bGlkOjMyfSx7Y29kZToiYnJlYWx0aW1lIn0se2NvZGU6ImVteGRpZ2l0YWwiLGd2bGlkOjE4M30se2NvZGU6InBhZ2VzY2llbmNlIn0se2NvZGU6ImRlZnltZWRpYSJ9LHtjb2RlOiJnb3VybWV0YWRzIn0se2NvZGU6Im1hdG9teSJ9LHtjb2RlOiJmZWF0dXJlZm9yd2FyZCJ9LHtjb2RlOiJvZnRtZWRpYSJ9LHtjb2RlOiJkaXN0cmljdG0iLGd2bGlkOjE0NH0se2NvZGU6ImFkYXN0YSJ9LHtjb2RlOiJiZWludG9vIixndmxpZDo2MTh9LHtjb2RlOiJ0YXJnZXRWaWRlbyJ9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltvLmIsby5kLG8uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLm1lbWJlciYmZS5wYXJhbXMuaW52Q29kZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLm1hcChxKSxuPXAoKShlLE0pLHM9e307ITA9PT1pLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocz17Y29wcGE6ITB9KSxuJiZPYmplY3Qua2V5cyhuLnBhcmFtcy51c2VyKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoSSxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoYS5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUpKGUpO2lmKCJzZWdtZW50cyI9PT1lJiZPYmplY3QoYS5pc0FycmF5KShuLnBhcmFtcy51c2VyW2VdKSl7dmFyIHQ9W107bi5wYXJhbXMudXNlcltlXS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3QoYS5pc051bWJlcikoZSk/dC5wdXNoKHtpZDplfSk6T2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZSkmJnQucHVzaChlKX0pKSxzW3JdPXR9ZWxzZSJzZWdtZW50cyIhPT1lJiYoc1tyXT1uLnBhcmFtcy51c2VyW2VdKX0pKTt2YXIgbyxkPXAoKShlLEIpO2QmJmQucGFyYW1zJiZkLnBhcmFtcy5hcHAmJihvPXt9LE9iamVjdC5rZXlzKGQucGFyYW1zLmFwcCkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKEEsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG9bZV09ZC5wYXJhbXMuYXBwW2VdfSkpKTt2YXIgYyx1PXAoKShlLFYpO3UmJnUucGFyYW1zJiZkLnBhcmFtcy5hcHAmJmQucGFyYW1zLmFwcC5pZCYmKGM9e2FwcGlkOnUucGFyYW1zLmFwcC5pZH0pO3ZhciBtPXt9LGY9e30sYj1ULmdldENvb2tpZSgiYXBuX3ByZWJpZF9kZWJ1ZyIpfHxudWxsO2lmKGIpdHJ5e209SlNPTi5wYXJzZShiKX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gQ29va2llIEVycm9yOlxuXG4iK2UpfWVsc2V7dmFyIHY9cCgpKGUsRik7diYmdi5kZWJ1ZyYmKG09di5kZWJ1Zyl9bSYmbS5lbmFibGVkJiZPYmplY3Qua2V5cyhtKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkodyxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtmW2VdPW1bZV19KSk7dmFyIGc9cCgpKGUsRCksaD1nP3BhcnNlSW50KGcucGFyYW1zLm1lbWJlciwxMCk6MCxPPWVbMF0uc2NoYWluLGo9cCgpKGUsVykseD17dGFnczp5KHQpLHVzZXI6cyxzZGs6e3NvdXJjZToicGJqcyIsdmVyc2lvbjoiNS4yMC4yIn0sc2NoYWluOk99O2lmKGomJih4LmlhYl9zdXBwb3J0PXtvbWlkcG46IkFwcG5leHVzIixvbWlkcHY6IjUuMjAuMiJ9KSxoPjAmJih4Lm1lbWJlcl9pZD1oKSxkJiYoeC5kZXZpY2U9byksdSYmKHguYXBwPWMpLGkuYi5nZXRDb25maWcoImFkcG9kLmJyYW5kQ2F0ZWdvcnlFeGNsdXNpb24iKSYmKHguYnJhbmRfY2F0ZWdvcnlfdW5pcXVlbmVzcz0hMCksZi5lbmFibGVkJiYoeC5kZWJ1Zz1mLE9iamVjdChhLmxvZ0luZm8pKCJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIFNldHRpbmdzOlxuXG4iK0pTT04uc3RyaW5naWZ5KGYsbnVsbCw0KSkpLHImJnIuZ2RwckNvbnNlbnQmJih4LmdkcHJfY29uc2VudD17Y29uc2VudF9zdHJpbmc6ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGNvbnNlbnRfcmVxdWlyZWQ6ci5nZHByQ29uc2VudC5nZHByQXBwbGllc30sci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQmJi0xIT09ci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQuaW5kZXhPZigifiIpKSl7dmFyIEM9ci5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQsUz1DLnN1YnN0cmluZyhDLmluZGV4T2YoIn4iKSsxKTt4LmdkcHJfY29uc2VudC5hZGR0bF9jb25zZW50PVMuc3BsaXQoIi4iKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDEwKX0pKX1pZihyJiZyLnVzcENvbnNlbnQmJih4LnVzX3ByaXZhY3k9ci51c3BDb25zZW50KSxyJiZyLnJlZmVyZXJJbmZvKXt2YXIgRT17cmRfcmVmOmVuY29kZVVSSUNvbXBvbmVudChyLnJlZmVyZXJJbmZvLnJlZmVyZXIpLHJkX3RvcDpyLnJlZmVyZXJJbmZvLnJlYWNoZWRUb3AscmRfaWZzOnIucmVmZXJlckluZm8ubnVtSWZyYW1lcyxyZF9zdGs6ci5yZWZlcmVySW5mby5zdGFjay5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KSkuam9pbigiLCIpfTt4LnJlZmVycmVyX2RldGVjdGlvbj1FfWlmKHAoKShlLEopJiZlLmZpbHRlcihKKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHIpe3ZhciB0PXIubWVkaWFUeXBlcy52aWRlbyxuPXQuZHVyYXRpb25SYW5nZVNlYyxpPXQucmVxdWlyZUV4YWN0RHVyYXRpb24scz1mdW5jdGlvbihlKXt2YXIgcj1lLmFkUG9kRHVyYXRpb25TZWMsdD1lLmR1cmF0aW9uUmFuZ2VTZWMsbj1lLnJlcXVpcmVFeGFjdER1cmF0aW9uLGk9T2JqZWN0KGEuZ2V0TWluVmFsdWVGcm9tQXJyYXkpKHQpLHM9TWF0aC5mbG9vcihyL2kpO3JldHVybiBuP01hdGgubWF4KHMsdC5sZW5ndGgpOnN9KHIubWVkaWFUeXBlcy52aWRlbyksbz1PYmplY3QoYS5nZXRNYXhWYWx1ZUZyb21BcnJheSkobiksZD1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZD09PXIuYmlkSWR9KSksYz1hLmZpbGwuYXBwbHkodm9pZCAwLHkoZCkuY29uY2F0KFtzXSkpO2lmKGkpe3ZhciBwPU1hdGguY2VpbChzL24ubGVuZ3RoKSx1PU9iamVjdChhLmNodW5rKShjLHApO24uZm9yRWFjaCgoZnVuY3Rpb24oZSxyKXt1W3JdLm1hcCgoZnVuY3Rpb24ocil7SChyLCJtaW5kdXJhdGlvbiIsZSksSChyLCJtYXhkdXJhdGlvbiIsZSl9KSl9KSl9ZWxzZSBjLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIEgoZSwibWF4ZHVyYXRpb24iLG8pfSkpO3JldHVybiBjfSh0LGUpLG49eC50YWdzLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIHIudXVpZCE9PWUuYmlkSWR9KSk7eC50YWdzPVtdLmNvbmNhdCh5KG4pLHkocikpfSkpLGVbMF0udXNlcklkKXt2YXIgUj1bXTtLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmZsb2NJZC5pZCIpLCJjaHJvbWUuY29tIixudWxsKSxLKFIsT2JqZWN0KGEuZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmNyaXRlb0lkIiksImNyaXRlby5jb20iLG51bGwpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQubmV0SWQiKSwibmV0aWQuZGUiLG51bGwpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuaWRsX2VudiIpLCJsaXZlcmFtcC5jb20iLG51bGwpLEsoUixPYmplY3QoYS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQudGRpZCIpLCJhZHNlcnZlci5vcmciLCJURElEIiksSyhSLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC51aWQyLmlkIiksInVpZGFwaS5jb20iLCJVSUQyIiksUi5sZW5ndGgmJih4LmVpZHM9Uil9cmV0dXJuIHRbMF0ucHVibGlzaGVyX2lkJiYoeC5wdWJsaXNoZXJfaWQ9dFswXS5wdWJsaXNoZXJfaWQpLGZ1bmN0aW9uKGUscil7dmFyIHQ9W10sbj17d2l0aENyZWRlbnRpYWxzOiEwfSxzPV87TihyKXx8KHM9ayk7IlRSVUUiIT09T2JqZWN0KGEuZ2V0UGFyYW1ldGVyQnlOYW1lKSgiYXBuX3Rlc3QiKS50b1VwcGVyQ2FzZSgpJiYhMCE9PWkuYi5nZXRDb25maWcoImFwbl90ZXN0Iil8fChuLmN1c3RvbUhlYWRlcnM9eyJYLUlzLVRlc3QiOjF9KTtpZihlLnRhZ3MubGVuZ3RoPjE1KXt2YXIgbz1PYmplY3QoYS5kZWVwQ2xvbmUpKGUpO09iamVjdChhLmNodW5rKShlLnRhZ3MsMTUpLmZvckVhY2goKGZ1bmN0aW9uKGUpe28udGFncz1lO3ZhciBhPUpTT04uc3RyaW5naWZ5KG8pO3QucHVzaCh7bWV0aG9kOiJQT1NUIix1cmw6cyxkYXRhOmEsYmlkZGVyUmVxdWVzdDpyLG9wdGlvbnM6bn0pfSkpfWVsc2V7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoZSk7dD17bWV0aG9kOiJQT1NUIix1cmw6cyxkYXRhOmQsYmlkZGVyUmVxdWVzdDpyLG9wdGlvbnM6bn19cmV0dXJuIHR9KHgscil9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9dGhpcyxpPXIuYmlkZGVyUmVxdWVzdDtlPWUuYm9keTt2YXIgZD1bXTtpZighZXx8ZS5lcnJvcil7dmFyIGM9ImluIHJlc3BvbnNlIGZvciAiLmNvbmNhdChpLmJpZGRlckNvZGUsIiBhZGFwdGVyIik7cmV0dXJuIGUmJmUuZXJyb3ImJihjKz0iOiAiLmNvbmNhdChlLmVycm9yKSksT2JqZWN0KGEubG9nRXJyb3IpKGMpLGR9aWYoZS50YWdzJiZlLnRhZ3MuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHIsYz0ocj1lKSYmci5hZHMmJnIuYWRzLmxlbmd0aCYmcCgpKHIuYWRzLChmdW5jdGlvbihlKXtyZXR1cm4gZS5ydGJ9KSk7aWYoYyYmMCE9PWMuY3BtJiZsKCkodC5zdXBwb3J0ZWRNZWRpYVR5cGVzLGMuYWRfdHlwZSkpe3ZhciB1PWZ1bmN0aW9uKGUscix0KXt2YXIgaT1PYmplY3QoYS5nZXRCaWRSZXF1ZXN0KShlLnV1aWQsW3RdKSxkPXtyZXF1ZXN0SWQ6ZS51dWlkLGNwbTpyLmNwbSxjcmVhdGl2ZUlkOnIuY3JlYXRpdmVfaWQsZGVhbElkOnIuZGVhbF9pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozMDAsYWRVbml0Q29kZTppLmFkVW5pdENvZGUsYXBwbmV4dXM6e2J1eWVyTWVtYmVySWQ6ci5idXllcl9tZW1iZXJfaWQsZGVhbFByaW9yaXR5OnIuZGVhbF9wcmlvcml0eSxkZWFsQ29kZTpyLmRlYWxfY29kZX19O3IuYWRvbWFpbiYmKGQubWV0YT12KHt9LGQubWV0YSx7YWR2ZXJ0aXNlckRvbWFpbnM6W119KSk7ci5hZHZlcnRpc2VyX2lkJiYoZC5tZXRhPXYoe30sZC5tZXRhLHthZHZlcnRpc2VySWQ6ci5hZHZlcnRpc2VyX2lkfSkpO3IuYnJhbmRfaWQmJihkLm1ldGE9dih7fSxkLm1ldGEse2JyYW5kSWQ6ci5icmFuZF9pZH0pKTtpZihyLnJ0Yi52aWRlbyl7c3dpdGNoKHYoZCx7d2lkdGg6ci5ydGIudmlkZW8ucGxheWVyX3dpZHRoLGhlaWdodDpyLnJ0Yi52aWRlby5wbGF5ZXJfaGVpZ2h0LHZhc3RJbXBVcmw6ci5ub3RpZnlfdXJsLHR0bDozNjAwfSksT2JqZWN0KGEuZGVlcEFjY2VzcykoaSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iikpe2Nhc2Ugby5hOnZhciBjPU9iamVjdChzLmdldElhYlN1YkNhdGVnb3J5KShpLmJpZGRlcixyLmJyYW5kX2NhdGVnb3J5X2lkKTtkLm1ldGE9dih7fSxkLm1ldGEse3ByaW1hcnlDYXRJZDpjfSk7dmFyIHU9ci5kZWFsX3ByaW9yaXR5O2QudmlkZW89e2NvbnRleHQ6by5hLGR1cmF0aW9uU2Vjb25kczpNYXRoLmZsb29yKHIucnRiLnZpZGVvLmR1cmF0aW9uX21zLzFlMyksZGVhbFRpZXI6dX0sZC52YXN0VXJsPXIucnRiLnZpZGVvLmFzc2V0X3VybDticmVhaztjYXNlIG0uYjppZihkLmFkUmVzcG9uc2U9ZSxkLmFkUmVzcG9uc2UuYWQ9ZC5hZFJlc3BvbnNlLmFkc1swXSxkLmFkUmVzcG9uc2UuYWQudmlkZW89ZC5hZFJlc3BvbnNlLmFkLnJ0Yi52aWRlbyxkLnZhc3RYbWw9ci5ydGIudmlkZW8uY29udGVudCxyLnJlbmRlcmVyX3VybCl7dmFyIGw9cCgpKHQuYmlkcywoZnVuY3Rpb24ocil7cmV0dXJuIHIuYmlkSWQ9PT1lLnV1aWR9KSksZj1PYmplY3QoYS5kZWVwQWNjZXNzKShsLCJyZW5kZXJlci5vcHRpb25zIik7ZC5yZW5kZXJlcj1mdW5jdGlvbihlLHIpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPW4uYS5pbnN0YWxsKHtpZDpyLnJlbmRlcmVyX2lkLHVybDpyLnJlbmRlcmVyX3VybCxjb25maWc6dCxsb2FkZWQ6ITEsYWRVbml0Q29kZTplfSk7dHJ5e2kuc2V0UmVuZGVyKEwpfWNhdGNoKGUpe09iamVjdChhLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpLnNldEV2ZW50SGFuZGxlcnMoe2ltcHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KGEubG9nTWVzc2FnZSkoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoYS5sb2dNZXNzYWdlKSgiQXBwTmV4dXMgb3V0c3RyZWFtIHZpZGVvIGxvYWRlZCBldmVudCIpfSxlbmRlZDpmdW5jdGlvbigpe09iamVjdChhLmxvZ01lc3NhZ2UpKCJBcHBOZXh1cyBvdXRzdHJlYW0gcmVuZGVyZXIgdmlkZW8gZXZlbnQiKSxkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIi5jb25jYXQoZSkpLnN0eWxlLmRpc3BsYXk9Im5vbmUifX0pLGl9KGQuYWRVbml0Q29kZSxyLGYpfWJyZWFrO2Nhc2UgbS5hOmQudmFzdFVybD1yLm5vdGlmeV91cmwrIiZyZWRpcj0iK2VuY29kZVVSSUNvbXBvbmVudChyLnJ0Yi52aWRlby5hc3NldF91cmwpfX1lbHNlIGlmKHIucnRiW28uY10pe3ZhciBiPXIucnRiW28uY10seT1yLnZpZXdhYmlsaXR5LmNvbmZpZy5yZXBsYWNlKCJzcmM9IiwiZGF0YS1zcmM9IiksZz1iLmphdmFzY3JpcHRfdHJhY2tlcnM7bnVsbD09Zz9nPXk6T2JqZWN0KGEuaXNTdHIpKGcpP2c9W2cseV06Zy5wdXNoKHkpLGRbby5jXT17dGl0bGU6Yi50aXRsZSxib2R5OmIuZGVzYyxib2R5MjpiLmRlc2MyLGN0YTpiLmN0YXRleHQscmF0aW5nOmIucmF0aW5nLHNwb25zb3JlZEJ5OmIuc3BvbnNvcmVkLHByaXZhY3lMaW5rOmIucHJpdmFjeV9saW5rLGFkZHJlc3M6Yi5hZGRyZXNzLGRvd25sb2FkczpiLmRvd25sb2FkcyxsaWtlczpiLmxpa2VzLHBob25lOmIucGhvbmUscHJpY2U6Yi5wcmljZSxzYWxlUHJpY2U6Yi5zYWxlcHJpY2UsY2xpY2tVcmw6Yi5saW5rLnVybCxkaXNwbGF5VXJsOmIuZGlzcGxheXVybCxjbGlja1RyYWNrZXJzOmIubGluay5jbGlja190cmFja2VycyxpbXByZXNzaW9uVHJhY2tlcnM6Yi5pbXByZXNzaW9uX3RyYWNrZXJzLGphdmFzY3JpcHRUcmFja2VyczpnfSxiLm1haW5faW1nJiYoZC5uYXRpdmUuaW1hZ2U9e3VybDpiLm1haW5faW1nLnVybCxoZWlnaHQ6Yi5tYWluX2ltZy5oZWlnaHQsd2lkdGg6Yi5tYWluX2ltZy53aWR0aH0pLGIuaWNvbiYmKGQubmF0aXZlLmljb249e3VybDpiLmljb24udXJsLGhlaWdodDpiLmljb24uaGVpZ2h0LHdpZHRoOmIuaWNvbi53aWR0aH0pfWVsc2V7dihkLHt3aWR0aDpyLnJ0Yi5iYW5uZXIud2lkdGgsaGVpZ2h0OnIucnRiLmJhbm5lci5oZWlnaHQsYWQ6ci5ydGIuYmFubmVyLmNvbnRlbnR9KTt0cnl7aWYoci5ydGIudHJhY2tlcnMpZm9yKHZhciBoPTA7aDxyLnJ0Yi50cmFja2Vyc1swXS5pbXByZXNzaW9uX3VybHMubGVuZ3RoO2grKyl7dmFyIF89ci5ydGIudHJhY2tlcnNbMF0uaW1wcmVzc2lvbl91cmxzW2hdLGs9T2JqZWN0KGEuY3JlYXRlVHJhY2tQaXhlbEh0bWwpKF8pO2QuYWQrPWt9fWNhdGNoKGUpe09iamVjdChhLmxvZ0Vycm9yKSgiRXJyb3IgYXBwZW5kaW5nIHRyYWNraW5nIHBpeGVsIixlKX19cmV0dXJuIGR9KGUsYyxpKTt1Lm1lZGlhVHlwZT1mdW5jdGlvbihlKXt2YXIgcj1lLmFkX3R5cGU7cmV0dXJuIHI9PT1vLmQ/by5kOnI9PT1vLmM/by5jOm8uYn0oYyksZC5wdXNoKHUpfX0pKSxlLmRlYnVnJiZlLmRlYnVnLmRlYnVnX2luZm8pe3ZhciB1PSJBcHBOZXh1cyBEZWJ1ZyBBdWN0aW9uIGZvciBQcmViaWRcblxuIitlLmRlYnVnLmRlYnVnX2luZm87dT11LnJlcGxhY2UoLyg8dGQ+fDx0aD4pL2dtLCJcdCIpLnJlcGxhY2UoLyg8XC90ZD58PFwvdGg+KS9nbSwiXG4iKS5yZXBsYWNlKC9ePGJyPi9nbSwiIikucmVwbGFjZSgvKDxicj5cbnw8YnI+KS9nbSwiXG4iKS5yZXBsYWNlKC88aDE+KC4qKTxcL2gxPi9nbSwiXG5cbj09PT09ICQxID09PT09XG5cbiIpLnJlcGxhY2UoLzxoWzItNl0+KC4qKTxcL2hbMi02XT4vZ20sIlxuXG4qKiogJDEgKioqXG5cbiIpLnJlcGxhY2UoLyg8KFtePl0rKT4pL2dpbSwiIiksT2JqZWN0KGEubG9nTWVzc2FnZSkoImh0dHBzOi8vY29uc29sZS5hcHBuZXh1cy5jb20vZG9jcy91bmRlcnN0YW5kaW5nLXRoZS1kZWJ1Zy1hdWN0aW9uIiksT2JqZWN0KGEubG9nTWVzc2FnZSkodSl9cmV0dXJuIGR9LGdldE1hcHBpbmdGaWxlSW5mbzpmdW5jdGlvbigpe3JldHVybnt1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy1zaW1wbGUuY29tL3ByZWJpZC9hcHBuZXh1cy1tYXBwaW5nL21hcHBpbmdzLmpzb24iLHJlZnJlc2hJbkRheXM6Mn19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCl7aWYoZS5pZnJhbWVFbmFibGVkJiZOKHtnZHByQ29uc2VudDp0fSkpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS9kbXAvYXN5bmNfdXNlcnN5bmMuaHRtbCJ9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIGU9T2JqZWN0KGEuY29udmVydFR5cGVzKSh7bWVtYmVyOiJzdHJpbmciLGludkNvZGU6InN0cmluZyIscGxhY2VtZW50SWQ6Im51bWJlciIsa2V5d29yZHM6YS50cmFuc2Zvcm1CaWRkZXJQYXJhbUtleXdvcmRzLHB1Ymxpc2hlcklkOiJudW1iZXIifSxlKSxyJiYoZS51c2VfcG10X3J1bGU9ImJvb2xlYW4iPT10eXBlb2YgZS51c2VQYXltZW50UnVsZSYmZS51c2VQYXltZW50UnVsZSxlLnVzZVBheW1lbnRSdWxlJiZkZWxldGUgZS51c2VQYXltZW50UnVsZSxSKGUua2V5d29yZHMpJiZlLmtleXdvcmRzLmZvckVhY2goUCksT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIHQ9T2JqZWN0KGEuY29udmVydENhbWVsVG9VbmRlcnNjb3JlKShyKTt0IT09ciYmKGVbdF09ZVtyXSxkZWxldGUgZVtyXSl9KSkpLGV9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe2UubmF0aXZlJiZmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcjtpZihPYmplY3QoYS5pc1N0cikoZSkmJlUoZSkpcj1lO2Vsc2UgaWYoT2JqZWN0KGEuaXNBcnJheSkoZSkpZm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0Kyspe3ZhciBuPWVbdF07VShuKSYmKHI9bil9cmV0dXJuIHJ9KGUubmF0aXZlLmphdmFzY3JpcHRUcmFja2Vycyk7aWYocilmb3IodmFyIHQ9InBianNfYWRpZD0iK2UuYWRJZCsiO3BianNfYXVjPSIrZS5hZFVuaXRDb2RlLG49ZnVuY3Rpb24oZSl7dmFyIHI9ZS5pbmRleE9mKCdzcmM9IicpKzUsdD1lLmluZGV4T2YoJyInLHIpO3JldHVybiBlLnN1YnN0cmluZyhyLHQpfShyKSxpPW4ucmVwbGFjZSgiZG9tX2lkPSVuYXRpdmVfZG9tX2lkJSIsdCkscz1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIiksbz0hMSxkPTA7ZDxzLmxlbmd0aCYmIW87ZCsrKXt2YXIgYz1zW2RdO3RyeXt2YXIgcD1jLmNvbnRlbnREb2N1bWVudHx8Yy5jb250ZW50V2luZG93LmRvY3VtZW50O2lmKHApZm9yKHZhciB1PXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGw9MDtsPHUubGVuZ3RoJiYhbztsKyspe3ZhciBtPXVbbF07bS5nZXRBdHRyaWJ1dGUoImRhdGEtc3JjIik9PW4mJihtLnNldEF0dHJpYnV0ZSgic3JjIixpKSxtLnNldEF0dHJpYnV0ZSgiZGF0YS1zcmMiLCIiKSxtLnJlbW92ZUF0dHJpYnV0ZSYmbS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtc3JjIiksbz0hMCl9fWNhdGNoKGUpe2lmKCEoZSBpbnN0YW5jZW9mIERPTUV4Y2VwdGlvbiYmIlNlY3VyaXR5RXJyb3IiPT09ZS5uYW1lKSl0aHJvdyBlfX19KGUpfX07ZnVuY3Rpb24gUihlKXtyZXR1cm4hIShPYmplY3QoYS5pc0FycmF5KShlKSYmZS5sZW5ndGg+MCl9ZnVuY3Rpb24gUChlKXtSKGUudmFsdWUpJiYiIj09PWUudmFsdWVbMF0mJmRlbGV0ZSBlLnZhbHVlfWZ1bmN0aW9uIFUoZSl7dmFyIHI9ZS5tYXRjaChTKSx0PW51bGwhPXImJnIubGVuZ3RoPj0xLGE9ZS5tYXRjaCgidHJrLmpzIiksbj1udWxsIT1hJiZhLmxlbmd0aD49MTtyZXR1cm4gZS5zdGFydHNXaXRoKCI8c2NyaXB0IikmJm4mJnR9ZnVuY3Rpb24gTihlKXt2YXIgcj0hMDtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbiYmKHI9ISghMCE9PU9iamVjdChhLmRlZXBBY2Nlc3MpKGUuZ2RwckNvbnNlbnQsInZlbmRvckRhdGEucHVycG9zZS5jb25zZW50cy4xIikpKSxyfWZ1bmN0aW9uIHEoZSl7dmFyIHI9e307ci5zaXplcz16KGUuc2l6ZXMpLHIucHJpbWFyeV9zaXplPXIuc2l6ZXNbMF0sci5hZF90eXBlcz1bXSxyLnV1aWQ9ZS5iaWRJZCxlLnBhcmFtcy5wbGFjZW1lbnRJZD9yLmlkPXBhcnNlSW50KGUucGFyYW1zLnBsYWNlbWVudElkLDEwKTpyLmNvZGU9ZS5wYXJhbXMuaW52Q29kZSxyLmFsbG93X3NtYWxsZXJfc2l6ZXM9ZS5wYXJhbXMuYWxsb3dTbWFsbGVyU2l6ZXN8fCExLHIudXNlX3BtdF9ydWxlPWUucGFyYW1zLnVzZVBheW1lbnRSdWxlfHwhMSxyLnByZWJpZD0hMCxyLmRpc2FibGVfcHNhPSEwO3ZhciB0PWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoYS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gZS5wYXJhbXMucmVzZXJ2ZT9lLnBhcmFtcy5yZXNlcnZlOm51bGw7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChhLmlzUGxhaW5PYmplY3QpKHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSk7aWYodCYmKHIucmVzZXJ2ZT10KSxlLnBhcmFtcy5wb3NpdGlvbiYmKHIucG9zaXRpb249e2Fib3ZlOjEsYmVsb3c6Mn1bZS5wYXJhbXMucG9zaXRpb25dfHwwKSxlLnBhcmFtcy50cmFmZmljU291cmNlQ29kZSYmKHIudHJhZmZpY19zb3VyY2VfY29kZT1lLnBhcmFtcy50cmFmZmljU291cmNlQ29kZSksZS5wYXJhbXMucHJpdmF0ZVNpemVzJiYoci5wcml2YXRlX3NpemVzPXooZS5wYXJhbXMucHJpdmF0ZVNpemVzKSksZS5wYXJhbXMuc3VwcGx5VHlwZSYmKHIuc3VwcGx5X3R5cGU9ZS5wYXJhbXMuc3VwcGx5VHlwZSksZS5wYXJhbXMucHViQ2xpY2smJihyLnB1YmNsaWNrPWUucGFyYW1zLnB1YkNsaWNrKSxlLnBhcmFtcy5leHRJbnZDb2RlJiYoci5leHRfaW52X2NvZGU9ZS5wYXJhbXMuZXh0SW52Q29kZSksZS5wYXJhbXMucHVibGlzaGVySWQmJihyLnB1Ymxpc2hlcl9pZD1wYXJzZUludChlLnBhcmFtcy5wdWJsaXNoZXJJZCwxMCkpLGUucGFyYW1zLmV4dGVybmFsSW1wSWQmJihyLmV4dGVybmFsX2ltcF9pZD1lLnBhcmFtcy5leHRlcm5hbEltcElkKSwhT2JqZWN0KGEuaXNFbXB0eSkoZS5wYXJhbXMua2V5d29yZHMpKXt2YXIgbj1PYmplY3QoYS50cmFuc2Zvcm1CaWRkZXJQYXJhbUtleXdvcmRzKShlLnBhcmFtcy5rZXl3b3Jkcyk7bi5sZW5ndGg+MCYmbi5mb3JFYWNoKFApLHIua2V5d29yZHM9bn12YXIgaSxzLGM9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtpZihjJiYoci5ncGlkPWMpLChlLm1lZGlhVHlwZT09PW8uY3x8T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChvLmMpKSkmJihyLmFkX3R5cGVzLnB1c2goby5jKSwwPT09ci5zaXplcy5sZW5ndGgmJihyLnNpemVzPXooWzEsMV0pKSxlLm5hdGl2ZVBhcmFtcykpe3ZhciB1PShpPWUubmF0aXZlUGFyYW1zLHM9e30sT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9Q1tlXSYmQ1tlXS5zZXJ2ZXJOYW1lfHxDW2VdfHxlLHQ9Q1tlXSYmQ1tlXS5yZXF1aXJlZFBhcmFtcztpZihzW3JdPXYoe30sdCxpW2VdKSwocj09PUMuaW1hZ2Uuc2VydmVyTmFtZXx8cj09PUMuaWNvbi5zZXJ2ZXJOYW1lKSYmc1tyXS5zaXplcyl7dmFyIG49c1tyXS5zaXplczsoT2JqZWN0KGEuaXNBcnJheU9mTnVtcykobil8fE9iamVjdChhLmlzQXJyYXkpKG4pJiZuLmxlbmd0aD4wJiZuLmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGEuaXNBcnJheU9mTnVtcykoZSl9KSkpJiYoc1tyXS5zaXplcz16KHNbcl0uc2l6ZXMpKX1yPT09Qy5wcml2YWN5TGluayYmKHMucHJpdmFjeV9zdXBwb3J0ZWQ9ITApfSkpLHMpO3Jbby5jXT17bGF5b3V0czpbdV19fXZhciBtPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoby5kKSksZj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyLmhiX3NvdXJjZT1tJiYiYWRwb2QiPT09Zj83OjEsKGUubWVkaWFUeXBlPT09by5kfHxtKSYmci5hZF90eXBlcy5wdXNoKG8uZCksKGUubWVkaWFUeXBlPT09by5kfHxtJiYib3V0c3RyZWFtIiE9PWYpJiYoci5yZXF1aXJlX2Fzc2V0X3VybD0hMCksZS5wYXJhbXMudmlkZW8mJihyLnZpZGVvPXt9LE9iamVjdC5rZXlzKGUucGFyYW1zLnZpZGVvKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBsKCkoTyxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzd2l0Y2godCl7Y2FzZSJjb250ZXh0IjpjYXNlInBsYXliYWNrX21ldGhvZCI6dmFyIG49ZS5wYXJhbXMudmlkZW9bdF07bj1PYmplY3QoYS5pc0FycmF5KShuKT9uWzBdOm4sci52aWRlb1t0XT14W3RdW25dO2JyZWFrO2Nhc2UiZnJhbWV3b3JrcyI6YnJlYWs7ZGVmYXVsdDpyLnZpZGVvW3RdPWUucGFyYW1zLnZpZGVvW3RdfX0pKSxlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KShlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzKSYmKHIudmlkZW9fZnJhbWV3b3Jrcz1lLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzKSksbSYmKHIudmlkZW89ci52aWRlb3x8e30sT2JqZWN0LmtleXMobSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbCgpKGosZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7c3dpdGNoKGUpe2Nhc2UibWluZHVyYXRpb24iOmNhc2UibWF4ZHVyYXRpb24iOiJudW1iZXIiIT10eXBlb2Ygci52aWRlb1tlXSYmKHIudmlkZW9bZV09bVtlXSk7YnJlYWs7Y2FzZSJza2lwIjoiYm9vbGVhbiIhPXR5cGVvZiByLnZpZGVvLnNraXBwYWJsZSYmKHIudmlkZW8uc2tpcHBhYmxlPTE9PT1tW2VdKTticmVhaztjYXNlInNraXBhZnRlciI6Im51bWJlciIhPXR5cGVvZiByLnZpZGVvLnNraXBvZmZzZXQmJihyLnZpZGVvLnNraXBwb2Zmc2V0PW1bZV0pO2JyZWFrO2Nhc2UicGxheWJhY2ttZXRob2QiOmlmKCJudW1iZXIiIT10eXBlb2Ygci52aWRlby5wbGF5YmFja19tZXRob2Qpe3ZhciB0PW1bZV07KHQ9T2JqZWN0KGEuaXNBcnJheSkodCk/dFswXTp0KT49MSYmdDw9NCYmKHIudmlkZW8ucGxheWJhY2tfbWV0aG9kPXQpfWJyZWFrO2Nhc2UiYXBpIjppZighci52aWRlb19mcmFtZXdvcmtzJiZPYmplY3QoYS5pc0FycmF5KShtW2VdKSl7dmFyIG49bVtlXS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPTQ9PT1lPzU6NT09PWU/NDplO2lmKHI+PTEmJnI8PTUpcmV0dXJuIHJ9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKTtyLnZpZGVvX2ZyYW1ld29ya3M9bn19fSkpKSxlLnJlbmRlcmVyJiYoci52aWRlbz12KHt9LHIudmlkZW8se2N1c3RvbV9yZW5kZXJlcl9wcmVzZW50OiEwfSkpLGUucGFyYW1zLmZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKGUucGFyYW1zLmZyYW1ld29ya3MpJiYoci5iYW5uZXJfZnJhbWV3b3Jrcz1lLnBhcmFtcy5mcmFtZXdvcmtzKTt2YXIgYj1wKCkoZC5hLmdldEFkVW5pdHMoKSwoZnVuY3Rpb24ocil7cmV0dXJuIGUudHJhbnNhY3Rpb25JZD09PXIudHJhbnNhY3Rpb25JZH0pKTtyZXR1cm4gYiYmYi5tZWRpYVR5cGVzJiZiLm1lZGlhVHlwZXMuYmFubmVyJiZyLmFkX3R5cGVzLnB1c2goby5iKSwwPT09ci5hZF90eXBlcy5sZW5ndGgmJmRlbGV0ZSByLmFkX3R5cGVzLHJ9ZnVuY3Rpb24geihlKXt2YXIgcj1bXSx0PXt9O2lmKE9iamVjdChhLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGgmJiFPYmplY3QoYS5pc0FycmF5KShlWzBdKSl0LndpZHRoPXBhcnNlSW50KGVbMF0sMTApLHQuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApLHIucHVzaCh0KTtlbHNlIGlmKCJvYmplY3QiPT09YihlKSlmb3IodmFyIG49MDtuPGUubGVuZ3RoO24rKyl7dmFyIGk9ZVtuXTsodD17fSkud2lkdGg9cGFyc2VJbnQoaVswXSwxMCksdC5oZWlnaHQ9cGFyc2VJbnQoaVsxXSwxMCksci5wdXNoKHQpfXJldHVybiByfWZ1bmN0aW9uIE0oZSl7cmV0dXJuISFlLnBhcmFtcy51c2VyfWZ1bmN0aW9uIEQoZSl7cmV0dXJuISFwYXJzZUludChlLnBhcmFtcy5tZW1iZXIsMTApfWZ1bmN0aW9uIEIoZSl7aWYoZS5wYXJhbXMpcmV0dXJuISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gVihlKXtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLmFwcD8hIWUucGFyYW1zLmFwcC5pZDohIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBGKGUpe3JldHVybiEhZS5kZWJ1Z31mdW5jdGlvbiBKKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ9PT1vLmF9ZnVuY3Rpb24gVyhlKXt2YXIgcj0hMSx0PWUucGFyYW1zLG49ZS5wYXJhbXMudmlkZW87cmV0dXJuIHQuZnJhbWV3b3JrcyYmT2JqZWN0KGEuaXNBcnJheSkodC5mcmFtZXdvcmtzKSYmKHI9bCgpKGUucGFyYW1zLmZyYW1ld29ya3MsNikpLCFyJiZuJiZuLmZyYW1ld29ya3MmJk9iamVjdChhLmlzQXJyYXkpKG4uZnJhbWV3b3JrcykmJihyPWwoKShlLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzLDYpKSxyfWZ1bmN0aW9uIEgoZSxyLHQpe09iamVjdChhLmlzRW1wdHkpKGUudmlkZW8pJiYoZS52aWRlbz17fSksZS52aWRlb1tyXT10fWZ1bmN0aW9uIEwoZSl7dmFyIHIsdDtyPWUuYWRVbml0Q29kZSwodD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKS5xdWVyeVNlbGVjdG9yQWxsKCJkaXZbaWRePSdnb29nbGVfYWRzJ10iKSlbMF0mJnRbMF0uc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiksZnVuY3Rpb24oZSl7dHJ5e3ZhciByPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLnF1ZXJ5U2VsZWN0b3JBbGwoInNjcmlwdFtpZF49J3Nhc19zY3JpcHQnXSIpO3JbMF0ubmV4dFNpYmxpbmcmJiJpZnJhbWUiPT09clswXS5uZXh0U2libGluZy5sb2NhbE5hbWUmJnJbMF0ubmV4dFNpYmxpbmcuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9Y2F0Y2goZSl7fX0oZS5hZFVuaXRDb2RlKSxlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhZ0lkOmUuYWRSZXNwb25zZS50YWdfaWQsc2l6ZXM6W2UuZ2V0U2l6ZSgpLnNwbGl0KCJ4IildLHRhcmdldElkOmUuYWRVbml0Q29kZSx1dWlkOmUuYWRSZXNwb25zZS51dWlkLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSwkLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gJChlLHIsdCl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTp0fSl9ZnVuY3Rpb24gSyhlLHIsdCxhKXtyZXR1cm4gciYmKGE/ZS5wdXNoKHtzb3VyY2U6dCxpZDpyLHJ0aV9wYXJ0bmVyOmF9KTplLnB1c2goe3NvdXJjZTp0LGlkOnJ9KSksZX1PYmplY3Qocy5yZWdpc3RlckJpZGRlcikoRSl9fSxbMjg5XSk7CnVwYmpzQ2h1bmsoWzMxM10sezMzMzpmdW5jdGlvbih0LGUscil7dC5leHBvcnRzPXIoMzM0KX0sMzM0OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChlLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKTt2YXIgaT1yKDApLG49cigxKSxvPXIoMiksZD1yKDMpO2Z1bmN0aW9uIGEodCl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmdC5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmdCE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIHR9KSh0KX12YXIgdT0iYnJpZ2h0Y29tIixzPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbih0KXtpZih0LmJpZGRlciE9PXV8fHZvaWQgMD09PXQucGFyYW1zKXJldHVybiExO2lmKHZvaWQgMD09PXQucGFyYW1zLnB1Ymxpc2hlcklkKXJldHVybiExO3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKHQsZSl7dHJ5e3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJihyPWUucmVmZXJlckluZm8ucmVmZXJlcik7dmFyIG49W10sbz1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInB1Ymxpc2hlcklkIix0WzBdLnBhcmFtcyk7T2JqZWN0KGkuX2VhY2gpKHQsKGZ1bmN0aW9uKHQpe3ZhciBlPXQubWVkaWFUeXBlcyYmdC5tZWRpYVR5cGVzLmJhbm5lciYmdC5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8dC5zaXplcyxyPShlPShlPU9iamVjdChpLmlzQXJyYXkpKGUpJiZPYmplY3QoaS5pc0FycmF5KShlWzBdKT9lOltlXSkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkodCl9KSkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJue3c6cGFyc2VJbnQodFswXSwxMCksaDpwYXJzZUludCh0WzFdLDEwKX19KSksbz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0LmFkVW5pdENvZGUpLGQ9ci5yZWR1Y2UoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUuaCplLnc8dC5oKnQudz9lOnR9KSksYT1mdW5jdGlvbih0KXtyZXR1cm4hZnVuY3Rpb24oKXt0cnl7cmV0dXJuIE9iamVjdChpLmdldFdpbmRvd1NlbGYpKCkhPT1PYmplY3QoaS5nZXRXaW5kb3dUb3ApKCl9Y2F0Y2godCl7cmV0dXJuITB9fSgpJiZudWxsIT09dH0obyk/ZnVuY3Rpb24odCxlKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1yLncsbz1yLmg7cmV0dXJuInZpc2libGUiPT09T2JqZWN0KGkuZ2V0V2luZG93VG9wKSgpLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT9oKHQsZSx7dzpuLGg6b30pOjB9KG8sT2JqZWN0KGkuZ2V0V2luZG93VG9wKSgpLGQpOiJuYSIsdT1pc05hTihhKT9hOk1hdGgucm91bmQoYSkscz17aWQ6dC5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpyLGV4dDp7dmlld2FiaWxpdHk6dX19LHRhZ2lkOlN0cmluZyh0LmFkVW5pdENvZGUpfSxjPWZ1bmN0aW9uKHQpe2lmKCFPYmplY3QoaS5pc0ZuKSh0LmdldEZsb29yKSlyZXR1cm4gdC5wYXJhbXMuYmlkRmxvb3I/dC5wYXJhbXMuYmlkRmxvb3I6bnVsbDt2YXIgZT10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkoZSkmJiFpc05hTihlLmZsb29yKSYmIlVTRCI9PT1lLmN1cnJlbmN5KXJldHVybiBlLmZsb29yO3JldHVybiBudWxsfSh0KTtjJiYocy5iaWRmbG9vcj1jKSxuLnB1c2gocyl9KSk7dmFyIGE9e2lkOk9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOm4sc2l0ZTp7ZG9tYWluOk9iamVjdChpLnBhcnNlVXJsKShyKS5ob3N0LHBhZ2U6cixwdWJsaXNoZXI6e2lkOm99fSxkZXZpY2U6e2RldmljZXR5cGU6Lyhpb3N8aXBvZHxpcGFkfGlwaG9uZXxhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk/MTovKHNtYXJ0Wy1dP3R2fGhiYnR2fGFwcGxldHZ8Z29vZ2xldHZ8aGRtaXxuZXRjYXN0XC50dnx2aWVyYXxuZXR0dnxyb2t1fFxiZHR2XGJ8c29ueWR0dnxpbmV0dHZicm93c2VyfFxidHZcYikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpPzM6Mix3OnNjcmVlbi53aWR0aCxoOnNjcmVlbi5oZWlnaHR9LHRtYXg6ZC5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfTtyZXR1cm4gZSYmZS5nZHByQ29uc2VudCYmKE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYSwicmVncy5leHQuZ2RwciIsK2UuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYSwidXNlci5leHQuY29uc2VudCIsZS5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2JyaWdodGNvbWJpZC5tYXJwaGV6aXMuY29tL2hiIixkYXRhOkpTT04uc3RyaW5naWZ5KGEpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITF9fX1jYXRjaChyKXtPYmplY3QoaS5sb2dFcnJvcikocix7YmlkUmVxczp0LGJpZGRlclJlcXVlc3Q6ZX0pfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24odCl7aWYoIXQuYm9keXx8Im9iamVjdCIhPWEodC5ib2R5KSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIkJyaWdodGNvbSBzZXJ2ZXIgcmV0dXJuZWQgZW1wdHkvbm9uLWpzb24gcmVzcG9uc2U6ICIrSlNPTi5zdHJpbmdpZnkodC5ib2R5KSksW107dmFyIGU9dC5ib2R5LHI9ZS5pZCxuPWUuc2VhdGJpZDt0cnl7dmFyIGQ9W107cmV0dXJuIHImJm4mJm4ubGVuZ3RoPjAmJm5bMF0uYmlkJiZuWzBdLmJpZC5sZW5ndGg+MCYmblswXS5iaWQubWFwKChmdW5jdGlvbih0KXtkLnB1c2goe3JlcXVlc3RJZDp0LmltcGlkLGNwbTpwYXJzZUZsb2F0KHQucHJpY2UpLHdpZHRoOnBhcnNlSW50KHQudyksaGVpZ2h0OnBhcnNlSW50KHQuaCksY3JlYXRpdmVJZDp0LmNyaWR8fHQuaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6by5iLGFkOmModCksdHRsOjYwLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOnQmJnQuYWRvbWFpbj90LmFkb21haW46W119fSl9KSksZH1jYXRjaCh0KXtPYmplY3QoaS5sb2dFcnJvcikodCx7aWQ6cixzZWF0YmlkOm59KX19LGdldFVzZXJTeW5jczpmdW5jdGlvbih0LGUscil7cmV0dXJuW119fTtmdW5jdGlvbiBjKHQpe3ZhciBlPXQuYWRtO3JldHVybiJudXJsImluIHQmJihlKz1PYmplY3QoaS5jcmVhdGVUcmFja1BpeGVsSHRtbCkodC5udXJsKSksZX1mdW5jdGlvbiBiKHQpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPWUudyxpPWUuaCxuPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1uLndpZHRoLGQ9bi5oZWlnaHQsYT1uLmxlZnQsdT1uLnRvcCxzPW4ucmlnaHQsYz1uLmJvdHRvbTtyZXR1cm4oMD09PW98fDA9PT1kKSYmciYmaSYmKG89cixkPWkscz1hK3IsYz11K2kpLHt3aWR0aDpvLGhlaWdodDpkLGxlZnQ6YSx0b3A6dSxyaWdodDpzLGJvdHRvbTpjfX1mdW5jdGlvbiBwKHQpe2Zvcih2YXIgZT17bGVmdDp0WzBdLmxlZnQscmlnaHQ6dFswXS5yaWdodCx0b3A6dFswXS50b3AsYm90dG9tOnRbMF0uYm90dG9tfSxyPTE7cjx0Lmxlbmd0aDsrK3Ipe2lmKGUubGVmdD1NYXRoLm1heChlLmxlZnQsdFtyXS5sZWZ0KSxlLnJpZ2h0PU1hdGgubWluKGUucmlnaHQsdFtyXS5yaWdodCksZS5sZWZ0Pj1lLnJpZ2h0KXJldHVybiBudWxsO2lmKGUudG9wPU1hdGgubWF4KGUudG9wLHRbcl0udG9wKSxlLmJvdHRvbT1NYXRoLm1pbihlLmJvdHRvbSx0W3JdLmJvdHRvbSksZS50b3A+PWUuYm90dG9tKXJldHVybiBudWxsfXJldHVybiBlLndpZHRoPWUucmlnaHQtZS5sZWZ0LGUuaGVpZ2h0PWUuYm90dG9tLWUudG9wLGV9ZnVuY3Rpb24gaCh0LGUpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxpPXIudyxuPXIuaCxvPWIodCx7dzppLGg6bn0pLGQ9cChbe2xlZnQ6MCx0b3A6MCxyaWdodDplLmlubmVyV2lkdGgsYm90dG9tOmUuaW5uZXJIZWlnaHR9LG9dKTtyZXR1cm4gbnVsbCE9PWQ/ZC53aWR0aCpkLmhlaWdodC8oby53aWR0aCpvLmhlaWdodCkqMTAwOjB9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzMzM10pOwp1cGJqc0NodW5rKFsyOTddLHszNzY6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDM3Nyl9LDM3NzpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwiYWxsb3dBdWN0aW9uIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxlLmQodCwidXNlckNNUCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxlLmQodCwiZ2RwclNjb3BlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKSxlLmQodCwic3RhdGljQ29uc2VudERhdGEiLChmdW5jdGlvbigpe3JldHVybiBifSkpLHQucmVxdWVzdEJpZHNIb29rPWosdC5yZXNldENvbnNlbnREYXRhPWZ1bmN0aW9uKCl7bT12b2lkIDAsZj12b2lkIDAsdj0wLGkuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSx0LnNldENvbnNlbnRDb25maWc9QTt2YXIgbz1lKDApLGE9ZSgzKSxpPWUoOCksYz1lKDEyKSxyPWUubihjKSxzPWUoODIpLGQ9ZS5uKHMpO2Z1bmN0aW9uIGwobil7cmV0dXJuKGw9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX1mdW5jdGlvbiB1KG4sdCxlKXtyZXR1cm4gdCBpbiBuP09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmUsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpuW3RdPWUsbn12YXIgZixwLGcsYixtLEM9e3ZhbHVlOnRydWUsZGVmaW5lZEluQ29uZmlnOiExfSx2PTAseT0hMSx3PXtpYWI6ZnVuY3Rpb24obix0LGUpe2Z1bmN0aW9uIGEoYSxpKXtPYmplY3Qoby5sb2dJbmZvKSgiUmVjZWl2ZWQgYSByZXNwb25zZSBmcm9tIENNUCIsYSksaT8hMSE9PWEuZ2RwckFwcGxpZXMmJiJ0Y2xvYWRlZCIhPT1hLmV2ZW50U3RhdHVzJiYidXNlcmFjdGlvbmNvbXBsZXRlIiE9PWEuZXZlbnRTdGF0dXN8fG4oYSxlKTp0KCJDTVAgdW5hYmxlIHRvIHJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9uLiAgUGxlYXNlIGNoZWNrIENNUCBzZXR1cC4iLGUpfXZhciBpPWZ1bmN0aW9uKCl7dmFyIHQ9e307ZnVuY3Rpb24gYSgpe3QuZ2V0Q29uc2VudERhdGEmJnQuZ2V0VmVuZG9yQ29uc2VudHMmJihPYmplY3Qoby5sb2dJbmZvKSgiUmVjZWl2ZWQgYWxsIHJlcXVlc3RlZCByZXNwb25zZXMgZnJvbSBDTVAiLHQpLG4odCxlKSl9cmV0dXJue2NvbnNlbnREYXRhQ2FsbGJhY2s6ZnVuY3Rpb24obil7dC5nZXRDb25zZW50RGF0YT1uLGEoKX0sdmVuZG9yQ29uc2VudHNDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldFZlbmRvckNvbnNlbnRzPW4sYSgpfX19KCksYz17fSxyPWZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQsZT13aW5kb3c7IW47KXt0cnl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuX190Y2ZhcGl8fCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fY21wKXsiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaT8odj0yLHQ9ZS5fX3RjZmFwaSk6KHY9MSx0PWUuX19jbXApLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX3RjZmFwaUxvY2F0b3Ipe3Y9MixuPWU7YnJlYWt9fWNhdGNoKG4pe310cnl7aWYoZS5mcmFtZXMuX19jbXBMb2NhdG9yKXt2PTEsbj1lO2JyZWFrfX1jYXRjaChuKXt9aWYoZT09PXdpbmRvdy50b3ApYnJlYWs7ZT1lLnBhcmVudH1yZXR1cm57Y21wRnJhbWU6bixjbXBGdW5jdGlvbjp0fX0oKSxzPXIuY21wRnJhbWUsbD1yLmNtcEZ1bmN0aW9uO2lmKCFzKXJldHVybiB0KCJDTVAgbm90IGZvdW5kLiIsZSk7T2JqZWN0KG8uaXNGbikobCk/KE9iamVjdChvLmxvZ0luZm8pKCJEZXRlY3RlZCBDTVAgQVBJIGlzIGRpcmVjdGx5IGFjY2Vzc2libGUsIGNhbGxpbmcgaXQgbm93Li4uIiksMT09PXY/KGwoImdldENvbnNlbnREYXRhIixudWxsLGkuY29uc2VudERhdGFDYWxsYmFjayksbCgiZ2V0VmVuZG9yQ29uc2VudHMiLG51bGwsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6Mj09PXYmJmwoImFkZEV2ZW50TGlzdGVuZXIiLHYsYSkpOjE9PT12JiZ3aW5kb3cuJHNmJiZ3aW5kb3cuJHNmLmV4dCYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy4kc2YuZXh0LmNtcD8oT2JqZWN0KG8ubG9nSW5mbykoIkRldGVjdGVkIFByZWJpZC5qcyBpcyBlbmNhc2VkIGluIGEgU2FmZUZyYW1lIGFuZCBDTVAgaXMgcmVnaXN0ZXJlZCwgY2FsbGluZyBpdCBub3cuLi4iKSxmKCJnZXRDb25zZW50RGF0YSIsaS5jb25zZW50RGF0YUNhbGxiYWNrKSxmKCJnZXRWZW5kb3JDb25zZW50cyIsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6KE9iamVjdChvLmxvZ0luZm8pKCJEZXRlY3RlZCBDTVAgaXMgb3V0c2lkZSB0aGUgY3VycmVudCBpZnJhbWUgd2hlcmUgUHJlYmlkLmpzIGlzIGxvY2F0ZWQsIGNhbGxpbmcgaXQgbm93Li4uIiksMT09PXY/KHAoImdldENvbnNlbnREYXRhIixzLGkuY29uc2VudERhdGFDYWxsYmFjaykscCgiZ2V0VmVuZG9yQ29uc2VudHMiLHMsaS52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6Mj09PXYmJnAoImFkZEV2ZW50TGlzdGVuZXIiLHMsYSkpO2Z1bmN0aW9uIGYobix0KXt2YXIgYT1lLmFkVW5pdHMsaT0xLGM9MTtpZihBcnJheS5pc0FycmF5KGEpJiZhLmxlbmd0aD4wKXt2YXIgcj1PYmplY3Qoby5nZXRBZFVuaXRTaXplcykoYVswXSk7aT1yWzBdWzBdLGM9clswXVsxXX13aW5kb3cuJHNmLmV4dC5yZWdpc3RlcihpLGMsKGZ1bmN0aW9uKGUsbyl7aWYoImNtcFJldHVybiI9PT1lKXt2YXIgYT0iZ2V0Q29uc2VudERhdGEiPT09bj9vLnZlbmRvckNvbnNlbnREYXRhOm8udmVuZG9yQ29uc2VudHM7dChhKX19KSksd2luZG93LiRzZi5leHQuY21wKG4pfWZ1bmN0aW9uIHAobix0LGUpe3ZhciBvPTI9PT12PyJfX3RjZmFwaSI6Il9fY21wIixhPSIiLmNvbmNhdChvLCJDYWxsIik7ZnVuY3Rpb24gaShuKXt2YXIgdD0iIi5jb25jYXQobywiUmV0dXJuIiksZT0ic3RyaW5nIj09dHlwZW9mIG4uZGF0YSYmZCgpKG4uZGF0YSx0KT9KU09OLnBhcnNlKG4uZGF0YSk6bi5kYXRhO2lmKGVbdF0mJmVbdF0uY2FsbElkKXt2YXIgYT1lW3RdO3ZvaWQgMCE9PWNbYS5jYWxsSWRdJiZjW2EuY2FsbElkXShhLnJldHVyblZhbHVlLGEuc3VjY2Vzcyl9fTI9PT12Pyh3aW5kb3dbb109ZnVuY3Rpb24obixlLG8saSl7dmFyIHI9TWF0aC5yYW5kb20oKSsiIixzPXUoe30sYSx7Y29tbWFuZDpuLHZlcnNpb246ZSxwYXJhbWV0ZXI6aSxjYWxsSWQ6cn0pO2Nbcl09byx0LnBvc3RNZXNzYWdlKHMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGksITEpLHdpbmRvd1tvXShuLHYsZSkpOih3aW5kb3dbb109ZnVuY3Rpb24obixlLG8pe3ZhciBpPU1hdGgucmFuZG9tKCkrIiIscj11KHt9LGEse2NvbW1hbmQ6bixwYXJhbWV0ZXI6ZSxjYWxsSWQ6aX0pO2NbaV09byx0LnBvc3RNZXNzYWdlKHIsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGksITEpLHdpbmRvd1tvXShuLHZvaWQgMCxlKSl9fSxzdGF0aWM6ZnVuY3Rpb24obix0LGUpe24oYixlKX19O2Z1bmN0aW9uIGoobix0KXt2YXIgZT17Y29udGV4dDp0aGlzLGFyZ3M6W3RdLG5leHRGbjpuLGFkVW5pdHM6dC5hZFVuaXRzfHx1cGJqcy5hZFVuaXRzLGJpZHNCYWNrSGFuZGxlcjp0LmJpZHNCYWNrSGFuZGxlcixoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O3JldHVybiBtPyhPYmplY3Qoby5sb2dJbmZvKSgiVXNlciBjb25zZW50IGluZm9ybWF0aW9uIGFscmVhZHkga25vd24uICBQdWxsaW5nIGludGVybmFsbHkgc3RvcmVkIGluZm9ybWF0aW9uLi4uIiksaChudWxsLGUpKTpyKCkoT2JqZWN0LmtleXModyksZik/KHdbZl0uY2FsbCh0aGlzLEQsayxlKSx2b2lkKGUuaGF2ZUV4aXRlZHx8KDA9PT1wP0Qodm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChPLmJpbmQobnVsbCxlKSxwKSkpKTooT2JqZWN0KG8ubG9nV2FybikoIkNNUCBmcmFtZXdvcmsgKCIuY29uY2F0KGYsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncykpfWZ1bmN0aW9uIEQobix0KXsic3RhdGljIj09PWYmJjI9PT0odj1uLmdldENvbnNlbnREYXRhPzE6bi5nZXRUQ0RhdGE/MjowKSYmKG49bi5nZXRUQ0RhdGEpO3ZhciBlPTE9PT12P2Z1bmN0aW9uKG4pe3ZhciB0PW4mJm4uZ2V0Q29uc2VudERhdGEmJm4uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM7cmV0dXJuISgiYm9vbGVhbiI9PXR5cGVvZiB0JiYoITAhPT10fHxPYmplY3Qoby5pc1N0cikobi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YSkmJk9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZ2V0VmVuZG9yQ29uc2VudHMpJiZPYmplY3Qua2V5cyhuLmdldFZlbmRvckNvbnNlbnRzKS5sZW5ndGg+MSkpfToyPT09dj9mdW5jdGlvbigpe3ZhciB0PW4mJiJib29sZWFuIj09dHlwZW9mIG4uZ2RwckFwcGxpZXM/bi5nZHByQXBwbGllczpnLGU9biYmbi50Y1N0cmluZztyZXR1cm4hKCJib29sZWFuIj09dHlwZW9mIHQmJighMCE9PXR8fE9iamVjdChvLmlzU3RyKShlKSkpfTpudWxsO0MuZGVmaW5lZEluQ29uZmlnJiYyPT09dj9PYmplY3Qoby5sb2dXYXJuKSgiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBpZ25vcmVkIGZvciBUQ0YgMiIpOkMuZGVmaW5lZEluQ29uZmlnfHwxIT09dnx8T2JqZWN0KG8ubG9nSW5mbykoIidhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgdXNpbmcgc3lzdGVtIGRlZmF1bHQ6ICgiLmNvbmNhdCh0cnVlLCIpLiIpKSxPYmplY3Qoby5pc0ZuKShlKT9lKG4pP2soIkNNUCByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLHQsbik6KGNsZWFyVGltZW91dCh0LnRpbWVyKSxNKG4pLGgobnVsbCx0KSk6aygiVW5hYmxlIHRvIGRlcml2ZSBDTVAgdmVyc2lvbiB0byBwcm9jZXNzIGRhdGEuICBDb25zZW50IG9iamVjdCBkb2VzIG5vdCBjb25mb3JtIHRvIFRDRiB2MSBvciB2MiBzcGVjcy4iLHQsbil9ZnVuY3Rpb24gTyhuKXtrKCJDTVAgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIixuKX1mdW5jdGlvbiBrKG4sdCxlKXtjbGVhclRpbWVvdXQodC50aW1lciksQy52YWx1ZSYmMT09PXYmJk0odm9pZCAwKSxoKG4sdCxlKX1mdW5jdGlvbiBNKG4pezE9PT12P209e2NvbnNlbnRTdHJpbmc6bj9uLmdldENvbnNlbnREYXRhLmNvbnNlbnREYXRhOnZvaWQgMCx2ZW5kb3JEYXRhOm4/bi5nZXRWZW5kb3JDb25zZW50czp2b2lkIDAsZ2RwckFwcGxpZXM6bj9uLmdldENvbnNlbnREYXRhLmdkcHJBcHBsaWVzOmd9OihtPXtjb25zZW50U3RyaW5nOm4/bi50Y1N0cmluZzp2b2lkIDAsdmVuZG9yRGF0YTpufHx2b2lkIDAsZ2RwckFwcGxpZXM6biYmImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQXBwbGllcz9uLmdkcHJBcHBsaWVzOmd9LG4mJm4uYWRkdGxDb25zZW50JiZPYmplY3Qoby5pc1N0cikobi5hZGR0bENvbnNlbnQpJiYobS5hZGR0bENvbnNlbnQ9bi5hZGR0bENvbnNlbnQpKSxtLmFwaVZlcnNpb249dixpLmdkcHJEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShtKX1mdW5jdGlvbiBoKG4sdCxlKXtpZighMT09PXQuaGF2ZUV4aXRlZCl7dC5oYXZlRXhpdGVkPSEwO3ZhciBhPXQuY29udGV4dCxpPXQuYXJncyxjPXQubmV4dEZuO24/Qy52YWx1ZSYmMT09PXY/KE9iamVjdChvLmxvZ1dhcm4pKG4rIiAnYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQnIGFjdGl2YXRlZC4iLGUpLGMuYXBwbHkoYSxpKSk6KE9iamVjdChvLmxvZ0Vycm9yKShuKyIgQ2FuY2VsaW5nIGF1Y3Rpb24gYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLCJmdW5jdGlvbiI9PXR5cGVvZiB0LmJpZHNCYWNrSGFuZGxlcj90LmJpZHNCYWNrSGFuZGxlcigpOk9iamVjdChvLmxvZ0Vycm9yKSgiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIpKTpjLmFwcGx5KGEsaSl9fWZ1bmN0aW9uIEEobil7KG49biYmKG4uZ2Rwcnx8bi51c3A/bi5nZHByOm4pKSYmIm9iamVjdCI9PT1sKG4pPyhPYmplY3Qoby5pc1N0cikobi5jbXBBcGkpP2Y9bi5jbXBBcGk6KGY9ImlhYiIsT2JqZWN0KG8ubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wLiAgVXNpbmcgc3lzdGVtIGRlZmF1bHQgc2V0dGluZyAoIi5jb25jYXQoImlhYiIsIikuIikpKSxPYmplY3Qoby5pc051bWJlcikobi50aW1lb3V0KT9wPW4udGltZW91dDoocD0xZTQsT2JqZWN0KG8ubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KDFlNCwiKS4iKSkpLCJib29sZWFuIj09dHlwZW9mIG4uYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQmJihDLnZhbHVlPW4uYWxsb3dBdWN0aW9uV2l0aG91dENvbnNlbnQsQy5kZWZpbmVkSW5Db25maWc9ITApLGc9ITA9PT1uLmRlZmF1bHRHZHByU2NvcGUsT2JqZWN0KG8ubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBoYXMgYmVlbiBhY3RpdmF0ZWQuLi4iKSwic3RhdGljIj09PWYmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmNvbnNlbnREYXRhKT8oYj1uLmNvbnNlbnREYXRhLHA9MCk6T2JqZWN0KG8ubG9nRXJyb3IpKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgd2l0aCBjbXBBcGk6ICdzdGF0aWMnIGRpZCBub3Qgc3BlY2lmeSBjb25zZW50RGF0YS4gTm8gY29uc2VudHMgd2lsbCBiZSBhdmFpbGFibGUgdG8gYWRhcHRlcnMuIikpLHl8fHVwYmpzLnJlcXVlc3RCaWRzLmJlZm9yZShqLDUwKSx5PSEwKTpPYmplY3Qoby5sb2dXYXJuKSgiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIGNvbnNlbnQgbWFuYWdlciIpfWEuYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50IiwoZnVuY3Rpb24obil7cmV0dXJuIEEobi5jb25zZW50TWFuYWdlbWVudCl9KSl9fSxbMzc2XSk7CnVwYmpzQ2h1bmsoWzI5Nl0sezM4MzpmdW5jdGlvbih0LG4sZSl7dC5leHBvcnRzPWUoMzg0KX0sMzg0OmZ1bmN0aW9uKHQsbixlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZChuLCJjb25zZW50QVBJIiwoZnVuY3Rpb24oKXtyZXR1cm4gc30pKSxlLmQobiwiY29uc2VudFRpbWVvdXQiLChmdW5jdGlvbigpe3JldHVybiByfSkpLGUuZChuLCJzdGF0aWNDb25zZW50RGF0YSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksbi5yZXF1ZXN0Qmlkc0hvb2s9ZixuLnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtsPXZvaWQgMCxzPXZvaWQgMCxpLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSxuLnNldENvbnNlbnRDb25maWc9UDt2YXIgYT1lKDApLG89ZSgzKSxpPWUoOCk7ZnVuY3Rpb24gYyh0KXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgdH0pKHQpfXZhciBzLHIsdSxsLGQ9ITEscD17aWFiOmZ1bmN0aW9uKHQsbixlKXt2YXIgbz0odT17fSx7Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihhLG8pe28mJmEudXNwU3RyaW5nJiYodS51c1ByaXZhY3k9YS51c3BTdHJpbmcpLHUudXNQcml2YWN5P3QodSxlKTpuKCJVbmFibGUgdG8gZ2V0IFVTUCBjb25zZW50IHN0cmluZy4iLGUpfX0pLGk9e30sYz1mdW5jdGlvbigpe2Zvcih2YXIgdCxuLGU9d2luZG93OyF0Oyl7dHJ5e2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLl9fdXNwYXBpKXtuPWUuX191c3BhcGksdD1lO2JyZWFrfX1jYXRjaCh0KXt9dHJ5e2lmKGUuZnJhbWVzLl9fdXNwYXBpTG9jYXRvcil7dD1lO2JyZWFrfX1jYXRjaCh0KXt9aWYoZT09PXdpbmRvdy50b3ApYnJlYWs7ZT1lLnBhcmVudH1yZXR1cm57dXNwYXBpRnJhbWU6dCx1c3BhcGlGdW5jdGlvbjpufX0oKSxzPWMudXNwYXBpRnJhbWUscj1jLnVzcGFwaUZ1bmN0aW9uO3ZhciB1O2lmKCFzKXJldHVybiBuKCJVU1AgQ01QIG5vdCBmb3VuZC4iLGUpO09iamVjdChhLmlzRm4pKHIpPyhPYmplY3QoYS5sb2dJbmZvKSgiRGV0ZWN0ZWQgVVNQIENNUCBpcyBkaXJlY3RseSBhY2Nlc3NpYmxlLCBjYWxsaW5nIGl0IG5vdy4uLiIpLHIoImdldFVTUERhdGEiLDEsby5jb25zZW50RGF0YUNhbGxiYWNrKSk6KE9iamVjdChhLmxvZ0luZm8pKCJEZXRlY3RlZCBVU1AgQ01QIGlzIG91dHNpZGUgdGhlIGN1cnJlbnQgaWZyYW1lIHdoZXJlIFByZWJpZC5qcyBpcyBsb2NhdGVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLGZ1bmN0aW9uKHQsbixlKXtmdW5jdGlvbiBhKHQpe3ZhciBuPXQmJnQuZGF0YSYmdC5kYXRhLl9fdXNwYXBpUmV0dXJuO24mJm4uY2FsbElkJiZ2b2lkIDAhPT1pW24uY2FsbElkXSYmKGlbbi5jYWxsSWRdKG4ucmV0dXJuVmFsdWUsbi5zdWNjZXNzKSxkZWxldGUgaVtuLmNhbGxJZF0pfXdpbmRvdy5fX3VzcGFwaT1mdW5jdGlvbih0LGUsYSl7dmFyIG89TWF0aC5yYW5kb20oKSsiIixjPXtfX3VzcGFwaUNhbGw6e2NvbW1hbmQ6dCx2ZXJzaW9uOmUsY2FsbElkOm99fTtpW29dPWEsbi5wb3N0TWVzc2FnZShjLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhLCExKSx3aW5kb3cuX191c3BhcGkodCwxLGUpfSgiZ2V0VVNQRGF0YSIscyxvLmNvbnNlbnREYXRhQ2FsbGJhY2spKX0sc3RhdGljOmZ1bmN0aW9uKHQsbixlKXt0KHUsZSl9fTtmdW5jdGlvbiBmKHQsbil7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOltuXSxuZXh0Rm46dCxhZFVuaXRzOm4uYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6bi5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtpZighcFtzXSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoIlVTUCBmcmFtZXdvcmsgKCIuY29uY2F0KHMsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gQWJvcnRpbmcgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGFuZCByZXN1bWluZyBhdWN0aW9uLiIpKSxlLm5leHRGbi5hcHBseShlLmNvbnRleHQsZS5hcmdzKTtwW3NdLmNhbGwodGhpcyxnLG0sZSksZS5oYXZlRXhpdGVkfHwoMD09PXI/Zyh2b2lkIDAsZSk6ZS50aW1lcj1zZXRUaW1lb3V0KGIuYmluZChudWxsLGUpLHIpKX1mdW5jdGlvbiBnKHQsbil7IXR8fCF0LnVzUHJpdmFjeT9tKCJVU1BBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIixuLHQpOihjbGVhclRpbWVvdXQobi50aW1lciksZnVuY3Rpb24odCl7dCYmdC51c1ByaXZhY3kmJihsPXQudXNQcml2YWN5LGkudXNwRGF0YUhhbmRsZXIuc2V0Q29uc2VudERhdGEobCkpfSh0KSx5KG51bGwsbikpfWZ1bmN0aW9uIGIodCl7bSgiVVNQQVBJIHdvcmtmbG93IGV4Y2VlZGVkIHRpbWVvdXQgdGhyZXNob2xkLiIsdCl9ZnVuY3Rpb24gbSh0LG4sZSl7Y2xlYXJUaW1lb3V0KG4udGltZXIpLHkodCxuLGUpfWZ1bmN0aW9uIHkodCxuLGUpe2lmKCExPT09bi5oYXZlRXhpdGVkKXtuLmhhdmVFeGl0ZWQ9ITA7dmFyIG89bi5jb250ZXh0LGk9bi5hcmdzLGM9bi5uZXh0Rm47dCYmT2JqZWN0KGEubG9nV2FybikodCsiIFJlc3VtaW5nIGF1Y3Rpb24gd2l0aG91dCBjb25zZW50IGRhdGEgYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLGMuYXBwbHkobyxpKX19ZnVuY3Rpb24gUCh0KXsodD10JiZ0LnVzcCkmJiJvYmplY3QiPT09Yyh0KT8oT2JqZWN0KGEuaXNTdHIpKHQuY21wQXBpKT9zPXQuY21wQXBpOihzPSJpYWIiLE9iamVjdChhLmxvZ0luZm8pKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSBjbXBBcGkuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KCJpYWIiLCIpLiIpKSksT2JqZWN0KGEuaXNOdW1iZXIpKHQudGltZW91dCk/cj10LnRpbWVvdXQ6KHI9NTAsT2JqZWN0KGEubG9nSW5mbykoImNvbnNlbnRNYW5hZ2VtZW50LnVzcCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IHRpbWVvdXQuIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KDUwLCIpLiIpKSksT2JqZWN0KGEubG9nSW5mbykoIlVTUEFQSSBjb25zZW50TWFuYWdlbWVudCBtb2R1bGUgaGFzIGJlZW4gYWN0aXZhdGVkLi4uIiksInN0YXRpYyI9PT1zJiYoT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkodC5jb25zZW50RGF0YSkmJk9iamVjdChhLmlzUGxhaW5PYmplY3QpKHQuY29uc2VudERhdGEuZ2V0VVNQRGF0YSk/KHQuY29uc2VudERhdGEuZ2V0VVNQRGF0YS51c3BTdHJpbmcmJih1PXt1c1ByaXZhY3k6dC5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZ30pLHI9MCk6T2JqZWN0KGEubG9nRXJyb3IpKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgd2l0aCBjbXBBcGk6ICdzdGF0aWMnIGRpZCBub3Qgc3BlY2lmeSBjb25zZW50RGF0YS4gTm8gY29uc2VudHMgd2lsbCBiZSBhdmFpbGFibGUgdG8gYWRhcHRlcnMuIikpLGR8fHVwYmpzLnJlcXVlc3RCaWRzLmJlZm9yZShmLDUwKSxkPSEwKTpPYmplY3QoYS5sb2dXYXJuKSgiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBub3QgZGVmaW5lZCwgZXhpdGluZyB1c3AgY29uc2VudCBtYW5hZ2VyIil9by5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLChmdW5jdGlvbih0KXtyZXR1cm4gUCh0LmNvbnNlbnRNYW5hZ2VtZW50KX0pKX19LFszODNdKTsKdXBianNDaHVuayhbMjk1XSx7Mzg1OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9bigzODYpfSwzODY6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciB0PW4oMCksaT1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgbj1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sdCkmJihlW3RdPW5bdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBhPTAsZD0iY29uc3VtYWJsZSIsdT17Y29kZToiY29uc3VtYWJsZSIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMubmV0d29ya0lkJiZlLnBhcmFtcy5zaXRlSWQmJmUucGFyYW1zLnVuaXRJZCYmZS5wYXJhbXMudW5pdE5hbWUpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIG49e21ldGhvZDoiUE9TVCIsdXJsOiIiLGRhdGE6IiIsYmlkUmVxdWVzdDpbXX07aWYoZS5sZW5ndGg8MSlyZXR1cm4gbjthPWVbMF0ucGFyYW1zLnNpdGVJZCxkPWVbMF0uYmlkZGVyO3ZhciB0PXMoe3BsYWNlbWVudHM6W10sdGltZTpEYXRlLm5vdygpLHVybDpyLnJlZmVyZXJJbmZvLnJlZmVyZXIscmVmZXJyZXI6ZG9jdW1lbnQucmVmZXJyZXIsc291cmNlOlt7bmFtZToicHJlYmlkanMiLHZlcnNpb246IjUuMjAuMiJ9XX0sZVswXS5wYXJhbXMpO3JldHVybiByJiZyLmdkcHJDb25zZW50JiYodC5nZHByPXtjb25zZW50OnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxhcHBsaWVzOiJib29sZWFuIiE9dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9KSxyJiZyLnVzcENvbnNlbnQmJih0LmNjcGE9ci51c3BDb25zZW50KSxlLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfHxlLnNpemVzfHxbXSxuPXMoe2Rpdk5hbWU6ZS5iaWRJZCxhZFR5cGVzOmUuYWRUeXBlc3x8cChyKX0sZS5wYXJhbXMpO24ubmV0d29ya0lkJiZuLnNpdGVJZCYmbi51bml0SWQmJm4udW5pdE5hbWUmJnQucGxhY2VtZW50cy5wdXNoKG4pfSkpLG4uZGF0YT1KU09OLnN0cmluZ2lmeSh0KSxuLmJpZFJlcXVlc3Q9ZSxuLmJpZGRlclJlcXVlc3Q9cixuLnVybD0iaHR0cHM6Ly9lLnNlcnZlcmJpZC5jb20vYXBpL3YyIixufSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciBuLHQsaSxzLGE9W107dD1yLmJpZFJlcXVlc3QsZT0oZXx8e30pLmJvZHk7Zm9yKHZhciBkPTA7ZDx0Lmxlbmd0aDtkKyspaWYobj17fSxpPShzPXRbZF0pLmJpZElkLGUpe3ZhciB1PWUuZGVjaXNpb25zJiZlLmRlY2lzaW9uc1tpXSxvPXUmJnUucHJpY2luZyYmdS5wcmljaW5nLmNsZWFyUHJpY2U7dSYmbyYmKG4ucmVxdWVzdElkPWksbi5jcG09byxuLndpZHRoPXUud2lkdGgsbi5oZWlnaHQ9dS5oZWlnaHQsbi51bml0SWQ9cy5wYXJhbXMudW5pdElkLG4udW5pdE5hbWU9cy5wYXJhbXMudW5pdE5hbWUsbi5hZD1jKHUsbi51bml0SWQsbi51bml0TmFtZSksbi5jdXJyZW5jeT0iVVNEIixuLmNyZWF0aXZlSWQ9dS5hZElkLG4udHRsPTMwLG4ubWV0YT17YWR2ZXJ0aXNlckRvbWFpbnM6dS5hZG9tYWluP3UuYWRvbWFpbjpbXX0sbi5uZXRSZXZlbnVlPSEwLG4ucmVmZXJyZXI9ci5iaWRkZXJSZXF1ZXN0LnJlZmVyZXJJbmZvLnJlZmVyZXIsYS5wdXNoKG4pKX1yZXR1cm4gYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL3N5bmMuc2VydmVyYmlkLmNvbS9zcy8iK2ErIi5odG1sIn1dOmUucGl4ZWxFbmFibGVkJiZyLmxlbmd0aD4wP3JbMF0uYm9keS5waXhlbHM6dm9pZCBPYmplY3QodC5sb2dXYXJuKShkKyI6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luY2luZy4iKX19LG89W251bGwsIjEyMHg5MCIsIjEyMHg5MCIsIjQ2OHg2MCIsIjcyOHg5MCIsIjMwMHgyNTAiLCIxNjB4NjAwIiwiMTIweDYwMCIsIjMwMHgxMDAiLCIxODB4MTUwIiwiMzM2eDI4MCIsIjI0MHg0MDAiLCIyMzR4NjAiLCI4OHgzMSIsIjEyMHg2MCIsIjEyMHgyNDAiLCIxMjV4MTI1IiwiMjIweDI1MCIsIjI1MHgyNTAiLCIyNTB4OTAiLCIweDAiLCIyMDB4OTAiLCIzMDB4NTAiLCIzMjB4NTAiLCIzMjB4NDgwIiwiMTg1eDE4NSIsIjYyMHg0NSIsIjMwMHgxMjUiLCI4MDB4MjUwIl07ZnVuY3Rpb24gcChlKXt2YXIgcj1bXTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1vLmluZGV4T2YoZVswXSsieCIrZVsxXSk7bj49MCYmci5wdXNoKG4pfSkpLHJ9ZnVuY3Rpb24gYyhlLHIsbil7cmV0dXJuIGUuY29udGVudHMmJmUuY29udGVudHNbMF0mJmUuY29udGVudHNbMF0uYm9keStPYmplY3QodC5jcmVhdGVUcmFja1BpeGVsSHRtbCkoZS5pbXByZXNzaW9uVXJsKX1vWzc3XT0iOTcweDkwIixvWzEyM109Ijk3MHgyNTAiLG9bNDNdPSIzMDB4NjAwIixvWzI4Nl09Ijk3MHg2NiIsb1szMjMwXT0iOTcweDI4MCIsb1s0MjldPSI0ODZ4NjAiLG9bMzc0XT0iNzAweDUwMCIsb1s5MzRdPSIzMDB4MTA1MCIsb1sxNTc4XT0iMzIweDEwMCIsb1szMzFdPSIzMjB4MjUwIixvWzMzMDFdPSIzMjB4MjY3IixvWzI3MzBdPSI3Mjh4MjUwIixPYmplY3QoaS5yZWdpc3RlckJpZGRlcikodSl9fSxbMzg1XSk7CnVwYmpzQ2h1bmsoWzI5M10sezM4OTpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoMzkwKX0sMzkwOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gZH0pKSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSk7dmFyIG49dCgwKSxhPXQoMSksaT10KDIpLG89dCg3KTtmdW5jdGlvbiBzKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBjKGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJm51bGwhPWVbU3ltYm9sLml0ZXJhdG9yXXx8bnVsbCE9ZVsiQEBpdGVyYXRvciJdKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBjKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBjKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn12YXIgZD1PYmplY3Qoby5iKSgyNCksdT0iY29udmVyc2FudCIscD17Y29kZTp1LGd2bGlkOjI0LGFsaWFzZXM6WyJjbnZyIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gT2JqZWN0KG4ubG9nV2FybikoImNvbnZlcnNhbnQ6IE1pc3NpbmcgYmlkIHBhcmFtZXRlcnMiKSwhMTtpZighT2JqZWN0KG4uaXNTdHIpKGUucGFyYW1zLnNpdGVfaWQpKXJldHVybiBPYmplY3Qobi5sb2dXYXJuKSgiY29udmVyc2FudDogc2l0ZV9pZCBtdXN0IGJlIHNwZWNpZmllZCBhcyBhIHN0cmluZyIpLCExO2lmKGwoZSkpe3ZhciByPWUucGFyYW1zLm1pbWVzfHxPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLm1pbWVzIik7aWYocil7aWYoIU9iamVjdChuLmlzQXJyYXkpKHIpfHwhci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLmlzU3RyKShlKX0pKSlyZXR1cm4gT2JqZWN0KG4ubG9nV2FybikoImNvbnZlcnNhbnQ6IG1pbWVzIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpLCExfWVsc2UgT2JqZWN0KG4ubG9nV2FybikoImNvbnZlcnNhbnQ6IG1pbWVzIHNob3VsZCBiZSBzcGVjaWZpZWQgZm9yIHZpZGVvcyIpfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQsYT1yJiZyLnJlZmVyZXJJbmZvP3IucmVmZXJlckluZm8ucmVmZXJlcjoiIixpPSIiLG89IiIscz1udWxsLGM9Il9wdWJjaWQiLHU9Imh0dHBzOi8vd2ViLmhiLmFkLmNwZS5kb3RvbWkuY29tL2N2eC9jbGllbnQvaGIvb3J0Yi8yNSIscD1lLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KG4uZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRmbG9vciIsZS5wYXJhbXMpO2lmKCFyJiZPYmplY3Qobi5pc0ZuKShlLmdldEZsb29yKSl7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO09iamVjdChuLmlzUGxhaW5PYmplY3QpKHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9KGUpO2k9T2JqZWN0KG4uZ2V0QmlkSWRQYXJhbWV0ZXIpKCJzaXRlX2lkIixlLnBhcmFtcyl8fGksYz1PYmplY3Qobi5nZXRCaWRJZFBhcmFtZXRlcikoInB1YmNpZF9uYW1lIixlLnBhcmFtcyl8fGMsbz1lLmF1Y3Rpb25JZDt2YXIgdD17aWQ6ZS5iaWRJZCxzZWN1cmU6MSxiaWRmbG9vcjpyfHwwLGRpc3BsYXltYW5hZ2VyOiJQcmViaWQuanMiLGRpc3BsYXltYW5hZ2VydmVyOiI1LjIwLjIifTtpZihiKGUucGFyYW1zLnRhZ19pZCx0LCJ0YWdpZCIpLGwoZSkpe3ZhciBhPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30sZD1tKGEucGxheWVyU2l6ZXx8ZS5zaXplcykscD17fTtkJiZkWzBdJiYoYihkWzBdLncscCwidyIpLGIoZFswXS5oLHAsImgiKSksYihlLnBhcmFtcy5wb3NpdGlvbixwLCJwb3MiKSxiKGUucGFyYW1zLm1pbWVzfHxhLm1pbWVzLHAsIm1pbWVzIiksYihlLnBhcmFtcy5tYXhkdXJhdGlvbnx8YS5tYXhkdXJhdGlvbixwLCJtYXhkdXJhdGlvbiIpLGIoZS5wYXJhbXMucHJvdG9jb2xzfHxhLnByb3RvY29scyxwLCJwcm90b2NvbHMiKSxiKGUucGFyYW1zLmFwaXx8YS5hcGkscCwiYXBpIiksdC52aWRlbz1wfWVsc2V7dmFyIGY9e2Zvcm1hdDptKChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpfHx7fSkuc2l6ZXN8fGUuc2l6ZXMpfTtiKGUucGFyYW1zLnBvc2l0aW9uLGYsInBvcyIpLHQuYmFubmVyPWZ9cmV0dXJuIGUudXNlcklkJiZlLnVzZXJJZC5wdWJjaWQ/cz1lLnVzZXJJZC5wdWJjaWQ6ZS5jcnVtYnMmJmUuY3J1bWJzLnB1YmNpZCYmKHM9ZS5jcnVtYnMucHViY2lkKSxlLnBhcmFtcy53aGl0ZV9sYWJlbF91cmwmJih1PWUucGFyYW1zLndoaXRlX2xhYmVsX3VybCksdH0pKSxmPXtpZDpvLGltcDpwLHNpdGU6e2lkOmksbW9iaWxlOm51bGwhPT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9InZpZXdwb3J0Il1bY29udGVudCo9IndpZHRoPWRldmljZS13aWR0aCJdJyk/MTowLHBhZ2U6YX0sZGV2aWNlOih0PW5hdmlnYXRvci5sYW5ndWFnZT8ibGFuZ3VhZ2UiOiJ1c2VyTGFuZ3VhZ2UiLHtoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZG50OiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob1RyYWNrfHwieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrPzE6MCxsYW5ndWFnZTpuYXZpZ2F0b3JbdF0uc3BsaXQoIi0iKVswXSxtYWtlOm5hdmlnYXRvci52ZW5kb3I/bmF2aWdhdG9yLnZlbmRvcjoiIix1YTpuYXZpZ2F0b3IudXNlckFnZW50fSksYXQ6MX0sZz17fTtyJiYoci5nZHByQ29uc2VudCYmKGcuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShmLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHIudXNwQ29uc2VudCYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShmLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpKSxzfHwocz1mdW5jdGlvbihlKXt2YXIgcjt0cnl7aWYoIShyPWQuZ2V0Q29va2llKGUpKSl7dmFyIHQ9ZC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpKTsoIiI9PT10fHx0JiZuZXcgRGF0ZSh0KS5nZXRUaW1lKCktRGF0ZS5ub3coKT4wKSYmKHI9KHI9ZC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKSk/ZGVjb2RlVVJJQ29tcG9uZW50KHIpOnIpfU9iamVjdChuLmlzU3RyKShyKSYmInsiPT09ci5jaGFyQXQoMCkmJihyPUpTT04ucGFyc2UocikpfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKShlKX1yZXR1cm4gcn0oYykpLHMmJihnLmZwYz1zKTt2YXIgdj1mdW5jdGlvbihlKXt2YXIgcj1lWzBdLHQ9W107aWYoT2JqZWN0KG4uaXNBcnJheSkoci51c2VySWRBc0VpZHMpJiZyLnVzZXJJZEFzRWlkcy5sZW5ndGg+MCl7dmFyIGE9eyJlcHNpbG9uLmNvbSI6MSwiYWRzZXJ2ZXIub3JnIjoxLCJsaXZlcmFtcC5jb20iOjEsImNyaXRlby5jb20iOjEsImlkNS1zeW5jLmNvbSI6MSwicGFycmFibGUuY29tIjoxLCJsaXZlaW50ZW50LmNvbSI6MX07ci51c2VySWRBc0VpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YS5oYXNPd25Qcm9wZXJ0eShlLnNvdXJjZSkmJnQucHVzaChlKX0pKX1yZXR1cm4gdH0oZSk7cmV0dXJuIHYubGVuZ3RoPjAmJihnLmVpZHM9diksT2JqZWN0KG4uaXNFbXB0eSkoZyl8fChmLnVzZXI9e2V4dDpnfSkse21ldGhvZDoiUE9TVCIsdXJsOnUsZGF0YTpmfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxhPXt9O3JldHVybiBlPWUuYm9keSxyJiZyLmRhdGEmJnIuZGF0YS5pbXAmJk9iamVjdChuLl9lYWNoKShyLmRhdGEuaW1wLChmdW5jdGlvbihlKXtyZXR1cm4gYVtlLmlkXT1lfSkpLGUmJk9iamVjdChuLmlzQXJyYXkpKGUuc2VhdGJpZCkmJk9iamVjdChuLl9lYWNoKShlLnNlYXRiaWQsKGZ1bmN0aW9uKHIpe09iamVjdChuLl9lYWNoKShyLmJpZCwoZnVuY3Rpb24ocil7dmFyIG49cGFyc2VGbG9hdChyLnByaWNlKTtpZihuPjAmJnIuaW1waWQpe3ZhciBpPXIuYWRtfHwiIixvPXIubnVybHx8IiIscz1hW3IuaW1waWRdLGM9e3JlcXVlc3RJZDpyLmltcGlkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcG06bixjcmVhdGl2ZUlkOnIuY3JpZHx8IiIsdHRsOjMwMCxuZXRSZXZlbnVlOiEwLG1ldGE6e319O3IuYWRvbWFpbiYmci5hZG9tYWluLmxlbmd0aD4wJiYoYy5tZXRhLmFkdmVydGlzZXJEb21haW5zPXIuYWRvbWFpbikscy52aWRlbz8oIjwiPT09aS5jaGFyQXQoMCk/Yy52YXN0WG1sPWk6Yy52YXN0VXJsPWksYy5tZWRpYVR5cGU9InZpZGVvIixjLndpZHRoPXMudmlkZW8udyxjLmhlaWdodD1zLnZpZGVvLmgpOihjLmFkPWkrJzxpbWcgc3JjPSInK28rJyIgLz4nLGMud2lkdGg9ci53LGMuaGVpZ2h0PXIuaCksdC5wdXNoKGMpfX0pKX0pKSx0fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gT2JqZWN0KG4uY29udmVydFR5cGVzKSh7c2l0ZV9pZDoic3RyaW5nIixzZWN1cmU6Im51bWJlciIsbW9iaWxlOiJudW1iZXIifSxlKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LGEpe3ZhciBpPXt9LG89W107aWYodCYmKGkuZ2Rwcj10LmdkcHJBcHBsaWVzPzE6MCxpLmdkcHJfY29uc2VudD1lbmNvZGVVUklDb21wb25lbnQodC5jb25zZW50U3RyaW5nfHwiIikpLGEmJihpLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KGEpKSxyJiZyLmV4dCl7dmFyIGM9W3t1cmxzOnIuZXh0LmZzeW5jcyx0eXBlOiJpZnJhbWUifSx7dXJsczpyLmV4dC5wc3luY3MsdHlwZToiaW1hZ2UifV0uZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci51cmxzJiYoImlmcmFtZSI9PT1yLnR5cGUmJmUuaWZyYW1lRW5hYmxlZHx8ImltYWdlIj09PXIudHlwZSYmZS5waXhlbEVuYWJsZWQpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJscy5tYXAoKGZ1bmN0aW9uKHIpe3ZhciB0PU9iamVjdChuLnBhcnNlVXJsKShyKTtyZXR1cm4gT2JqZWN0KG4ubWVyZ2VEZWVwKSh0LnNlYXJjaCxpKSwwPT09T2JqZWN0LmtleXModC5zZWFyY2gpLmxlbmd0aCYmZGVsZXRlIHQuc2VhcmNoLHt0eXBlOmUudHlwZSx1cmw6T2JqZWN0KG4uYnVpbGRVcmwpKHQpfX0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUscil7cmV0dXJuIGUuY29uY2F0KHIpfSksW10pfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5jb25jYXQocil9KSxbXSk7by5wdXNoLmFwcGx5KG8scyhjKSl9cmV0dXJuIG99fTtmdW5jdGlvbiBtKGUpe3ZhciByO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYocj0yPT09ZS5sZW5ndGgmJiJudW1iZXIiPT10eXBlb2YgZVswXSYmIm51bWJlciI9PXR5cGVvZiBlWzFdP1t7dzplWzBdLGg6ZVsxXX1dOk9iamVjdChuLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKSkscn1mdW5jdGlvbiBsKGUpe3JldHVybiJ2aWRlbyI9PT1lLm1lZGlhVHlwZXx8ISFPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gYihlLHIsdCl7ZSYmKHJbdF09ZSl9T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzM4OV0pOwp1cGJqc0NodW5rKFsyXSx7Mzk1OmZ1bmN0aW9uKHQsZSxyKXt0LmV4cG9ydHM9cigzOTYpfSwzOTY6ZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiQURBUFRFUl9WRVJTSU9OIiwoZnVuY3Rpb24oKXtyZXR1cm4gQURBUFRFUl9WRVJTSU9OfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFBST0ZJTEVfSURfUFVCTElTSEVSVEFHfSkpLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQiLChmdW5jdGlvbigpe3JldHVybiBGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlR9KSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzcGVjfSkpLF9fd2VicGFja19leHBvcnRzX18uY2FuRmFzdEJpZD1jYW5GYXN0QmlkLF9fd2VicGFja19leHBvcnRzX18uZ2V0RmFzdEJpZFVybD1nZXRGYXN0QmlkVXJsLF9fd2VicGFja19leHBvcnRzX18udHJ5R2V0Q3JpdGVvRmFzdEJpZD10cnlHZXRDcml0ZW9GYXN0QmlkO3ZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMCksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRsb2FkZXJfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19hZGFwdGVyc19iaWRkZXJGYWN0b3J5X2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygxKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMTEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX189X193ZWJwYWNrX3JlcXVpcmVfXyg3NyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfXyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X19zcmNfc3RvcmFnZU1hbmFnZXJfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO2Z1bmN0aW9uIF9leHRlbmRzKCl7cmV0dXJuKF9leHRlbmRzPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciByPWFyZ3VtZW50c1tlXTtmb3IodmFyIGkgaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixpKSYmKHRbaV09cltpXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIEdWTElEPTkxLEFEQVBURVJfVkVSU0lPTj0zNCxCSURERVJfQ09ERT0iY3JpdGVvIixDREJfRU5EUE9JTlQ9Imh0dHBzOi8vYmlkZGVyLmNyaXRlby5jb20vY2RiIixQUk9GSUxFX0lEX0lOTElORT0yMDcsUFJPRklMRV9JRF9QVUJMSVNIRVJUQUc9MTg1LHN0b3JhZ2U9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fc3JjX3N0b3JhZ2VNYW5hZ2VyX2pzX18uYikoR1ZMSUQpLExPR19QUkVGSVg9IkNyaXRlbzogIixGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSPSIlRkFTVF9CSURfVkVSU0lPTiUiLEZBU1RfQklEX1ZFUlNJT05fQ1VSUkVOVD0xMTMsRkFTVF9CSURfVkVSU0lPTl9MQVRFU1Q9ImxhdGVzdCIsRkFTVF9CSURfVkVSU0lPTl9OT05FPSJub25lIixQVUJMSVNIRVJfVEFHX1VSTF9URU1QTEFURT0iaHR0cHM6Ly9zdGF0aWMuY3JpdGVvLm5ldC9qcy9sZC9wdWJsaXNoZXJ0YWcucHJlYmlkIitGQVNUX0JJRF9WRVJTSU9OX1BMQUNFSE9MREVSKyIuanMiLEZBU1RfQklEX1BVQktFWV9FPTY1NTM3LEZBU1RfQklEX1BVQktFWV9OPSJ6dFFZd0NFNUJVN1Q5Q0RNNWhlNnJLb2Fic3RYUm1reng1NHpGUFprV2JLNTMwZHd0TEJEZWFXQk14SEJVVDU1Q1l5Ym9SL0VaNGVmZ2hQaTNDb05HZkdXZXpwamtvOVA2cDJFd0dBcnRIRWVTNHNsaHUvU3BTSUZNakc2ZmRycFJvTnVJQU1ocTFaK1ByLytIT2QxcFRoRktlR0ZyMi9OaHRBZytUWEF6YVU9IixzcGVjPXtjb2RlOkJJRERFUl9DT0RFLGd2bGlkOkdWTElELHN1cHBvcnRlZE1lZGlhVHlwZXM6W19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXy5iLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXy5kLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX21lZGlhVHlwZXNfanNfXy5jXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhdC5wYXJhbXN8fCF0LnBhcmFtcy56b25lSWQmJiF0LnBhcmFtcy5uZXR3b3JrSWQpJiYhKGhhc1ZpZGVvTWVkaWFUeXBlKHQpJiYhaGFzVmFsaWRWaWRlb01lZGlhVHlwZSh0KSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24odCxlKXt2YXIgcixpLHM9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfY29uZmlnX2pzX18uYi5nZXRMZWdhY3lGcGQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoIm9ydGIyIikpfHx7fTtfZXh0ZW5kcyhlLHtwdWJsaXNoZXJFeHQ6cy5jb250ZXh0LHVzZXJFeHQ6cy51c2VyLGNlaDpfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3NyY19jb25maWdfanNfXy5iLmdldENvbmZpZygiY3JpdGVvLmNlaCIpfSk7dmFyIGE9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImNyaXRlby5mYXN0QmlkVmVyc2lvbiIpLF89Y2FuRmFzdEJpZChhKTtpZighcHVibGlzaGVyVGFnQXZhaWxhYmxlKCkmJl8pe3dpbmRvdy5Dcml0ZW89d2luZG93LkNyaXRlb3x8e30sd2luZG93LkNyaXRlby51c2VQcmViaWRFdmVudHM9ITEsdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpO3ZhciBvPWdldEZhc3RCaWRVcmwoYSk7c2V0VGltZW91dCgoZnVuY3Rpb24oKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRsb2FkZXJfanNfXy5hKShvLEJJRERFUl9DT0RFKX0pLGUudGltZW91dCl9aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkpe3ZhciBuPW5ldyBDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZChQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyxBREFQVEVSX1ZFUlNJT04sdCxlLCI1LjIwLjIiKTtyPW4uYnVpbGRDZGJVcmwoKSxpPW4uYnVpbGRDZGJSZXF1ZXN0KCl9ZWxzZXt2YXIgYz1idWlsZENvbnRleHQodCxlKTtyPWJ1aWxkQ2RiVXJsKGMpLGk9YnVpbGRDZGJSZXF1ZXN0KGMsdCxlKX1pZihpKXJldHVybnttZXRob2Q6IlBPU1QiLHVybDpyLGRhdGE6aSxiaWRSZXF1ZXN0czp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24odCxlKXt2YXIgcj10LmJvZHl8fHQ7aWYocHVibGlzaGVyVGFnQXZhaWxhYmxlKCkpe3ZhciBpPUNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkLkdldEFkYXB0ZXIoZSk7aWYoaSlyZXR1cm4gaS5pbnRlcnByZXRSZXNwb25zZShyLGUpfXZhciBzPVtdO3JldHVybiByJiZyLnNsb3RzJiZPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5pc0FycmF5KShyLnNsb3RzKSYmci5zbG90cy5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfY29yZV9qc19wdXJlX2ZlYXR1cmVzX2FycmF5X2ZpbmRfanNfX19kZWZhdWx0KCkoZS5iaWRSZXF1ZXN0cywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXQuaW1waWQmJighZS5wYXJhbXMuem9uZUlkfHxwYXJzZUludChlLnBhcmFtcy56b25lSWQpPT09dC56b25laWQpfSkpLGk9ci5iaWRJZCxhPXtyZXF1ZXN0SWQ6aSxhZElkOnQuYmlkSWR8fE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksY3BtOnQuY3BtLGN1cnJlbmN5OnQuY3VycmVuY3ksbmV0UmV2ZW51ZTohMCx0dGw6dC50dGx8fDYwLGNyZWF0aXZlSWQ6dC5jcmVhdGl2ZWNvZGUsd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHQsZGVhbElkOnQuZGVhbENvZGV9O3QuYWRvbWFpbiYmKGEubWV0YT1fZXh0ZW5kcyh7fSxhLm1ldGEse2FkdmVydGlzZXJEb21haW5zOnQuYWRvbWFpbn0pKSx0Lm5hdGl2ZT9yLnBhcmFtcy5uYXRpdmVDYWxsYmFjaz9hLmFkPWNyZWF0ZU5hdGl2ZUFkKGksdC5uYXRpdmUsci5wYXJhbXMubmF0aXZlQ2FsbGJhY2spOihhLm5hdGl2ZT1jcmVhdGVQcmViaWROYXRpdmVBZCh0Lm5hdGl2ZSksYS5tZWRpYVR5cGU9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmMpOnQudmlkZW8/KGEudmFzdFVybD10LmRpc3BsYXl1cmwsYS5tZWRpYVR5cGU9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmQpOmEuYWQ9dC5jcmVhdGl2ZSxzLnB1c2goYSl9KSksc30sb25UaW1lb3V0OmZ1bmN0aW9uKHQpe2lmKHB1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZBcnJheS5pc0FycmF5KHQpKXt2YXIgZT1bXTt0LmZvckVhY2goKGZ1bmN0aW9uKHQpey0xPT09ZS5pbmRleE9mKHQuYXVjdGlvbklkKSYmKGUucHVzaCh0LmF1Y3Rpb25JZCksQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkVGltZW91dCgpKX0pKX19LG9uQmlkV29uOmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZ0JiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRXb24odCl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKHQpe3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVTZXRUYXJnZXRpbmcodCl9fTtmdW5jdGlvbiBwdWJsaXNoZXJUYWdBdmFpbGFibGUoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIENyaXRlbyYmQ3JpdGVvLlB1YlRhZyYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycyYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWR9ZnVuY3Rpb24gYnVpbGRDb250ZXh0KHQsZSl7dmFyIHI9IiI7ZSYmZS5yZWZlcmVySW5mbyYmKHI9ZS5yZWZlcmVySW5mby5yZWZlcmVyKTt2YXIgaT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5wYXJzZVVybCkocikuc2VhcmNoLHM9e3VybDpyLGRlYnVnOiIxIj09PWkucGJ0X2RlYnVnLG5vTG9nOiIxIj09PWkucGJ0X25vbG9nLGFtcDohMX07cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24odCl7ImFtcCI9PT10LnBhcmFtcy5pbnRlZ3JhdGlvbk1vZGUmJihzLmFtcD0hMCl9KSksc31mdW5jdGlvbiBidWlsZENkYlVybCh0KXt2YXIgZT1DREJfRU5EUE9JTlQ7cmV0dXJuIGUrPSI/cHJvZmlsZUlkPSIrUFJPRklMRV9JRF9JTkxJTkUsZSs9IiZhdj0iK1N0cmluZyhBREFQVEVSX1ZFUlNJT04pLGUrPSImd3Y9IitlbmNvZGVVUklDb21wb25lbnQoIjUuMjAuMiIpLGUrPSImY2I9IitTdHJpbmcoTWF0aC5mbG9vcig5OTk5OTk5OTk5OSpNYXRoLnJhbmRvbSgpKSksdC5hbXAmJihlKz0iJmltPTEiKSx0LmRlYnVnJiYoZSs9IiZkZWJ1Zz0xIiksdC5ub0xvZyYmKGUrPSImbm9sb2c9MSIpLGV9ZnVuY3Rpb24gY2hlY2tOYXRpdmVTZW5kSWQodCl7cmV0dXJuISh0Lm5hdGl2ZVBhcmFtcyYmKHQubmF0aXZlUGFyYW1zLmltYWdlJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5pbWFnZS5zZW5kSWR8fCEwPT09dC5uYXRpdmVQYXJhbXMuaW1hZ2Uuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5pY29uJiYoITAhPT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwmJighMCE9PXQubmF0aXZlUGFyYW1zLmNsaWNrVXJsLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5jbGlja1VybC5zZW5kVGFyZ2V0aW5nS2V5cyl8fHQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwmJighMCE9PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZFRhcmdldGluZ0tleXMpfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluayYmKCEwIT09dC5uYXRpdmVQYXJhbXMucHJpdmFjeUxpbmsuc2VuZElkfHwhMD09PXQubmF0aXZlUGFyYW1zLnByaXZhY3lMaW5rLnNlbmRUYXJnZXRpbmdLZXlzKXx8dC5uYXRpdmVQYXJhbXMucHJpdmFjeUljb24mJighMCE9PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRJZHx8ITA9PT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5SWNvbi5zZW5kVGFyZ2V0aW5nS2V5cykpKX1mdW5jdGlvbiBidWlsZENkYlJlcXVlc3QodCxlLHIpe3ZhciBpLHM9e3B1Ymxpc2hlcjp7dXJsOnQudXJsLGV4dDpyLnB1Ymxpc2hlckV4dH0sc2xvdHM6ZS5tYXAoKGZ1bmN0aW9uKHQpe2k9dC5wYXJhbXMubmV0d29ya0lkfHxpO3ZhciBlPXtpbXBpZDp0LmFkVW5pdENvZGUsdHJhbnNhY3Rpb25pZDp0LnRyYW5zYWN0aW9uSWQsYXVjdGlvbklkOnQuYXVjdGlvbklkfTtpZih0LnBhcmFtcy56b25lSWQmJihlLnpvbmVpZD10LnBhcmFtcy56b25lSWQpLE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm9ydGIySW1wLmV4dCIpJiYoZS5leHQ9dC5vcnRiMkltcC5leHQpLHQucGFyYW1zLmV4dCYmKGUuZXh0PV9leHRlbmRzKHt9LGUuZXh0LHQucGFyYW1zLmV4dCkpLHQucGFyYW1zLnB1Ymxpc2hlclN1YklkJiYoZS5wdWJsaXNoZXJzdWJpZD10LnBhcmFtcy5wdWJsaXNoZXJTdWJJZCksdC5wYXJhbXMubmF0aXZlQ2FsbGJhY2t8fE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfbWVkaWFUeXBlc19qc19fLmMpKT8oZS5uYXRpdmU9ITAsY2hlY2tOYXRpdmVTZW5kSWQodCl8fE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmxvZ1dhcm4pKExPR19QUkVGSVgrImFsbCBuYXRpdmUgYXNzZXRzIGNvbnRhaW5pbmcgVVJMIHNob3VsZCBiZSBzZW50IGFzIHBsYWNlaG9sZGVycyB3aXRoIHNlbmRJZChpY29uLCBpbWFnZSwgY2xpY2tVcmwsIGRpc3BsYXlVcmwsIHByaXZhY3lMaW5rLCBwcml2YWN5SWNvbikiKSxlLnNpemVzPXBhcnNlU2l6ZXMocmV0cmlldmVCYW5uZXJTaXplcyh0KSxwYXJzZU5hdGl2ZVNpemUpKTplLnNpemVzPXBhcnNlU2l6ZXMocmV0cmlldmVCYW5uZXJTaXplcyh0KSxwYXJzZVNpemUpLGhhc1ZpZGVvTWVkaWFUeXBlKHQpKXt2YXIgcj17cGxheWVyc2l6ZXM6cGFyc2VTaXplcyhPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSxwYXJzZVNpemUpLG1pbWVzOnQubWVkaWFUeXBlcy52aWRlby5taW1lcyxwcm90b2NvbHM6dC5tZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyxtYXhkdXJhdGlvbjp0Lm1lZGlhVHlwZXMudmlkZW8ubWF4ZHVyYXRpb24sYXBpOnQubWVkaWFUeXBlcy52aWRlby5hcGksc2tpcDp0Lm1lZGlhVHlwZXMudmlkZW8uc2tpcCxwbGFjZW1lbnQ6dC5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudCxtaW5kdXJhdGlvbjp0Lm1lZGlhVHlwZXMudmlkZW8ubWluZHVyYXRpb24scGxheWJhY2ttZXRob2Q6dC5tZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kLHN0YXJ0ZGVsYXk6dC5tZWRpYVR5cGVzLnZpZGVvLnN0YXJ0ZGVsYXl9LHM9dC5wYXJhbXMudmlkZW87dm9pZCAwIT09cyYmKHIuc2tpcD1yLnNraXB8fHMuc2tpcHx8MCxyLnBsYWNlbWVudD1yLnBsYWNlbWVudHx8cy5wbGFjZW1lbnQsci5taW5kdXJhdGlvbj1yLm1pbmR1cmF0aW9ufHxzLm1pbmR1cmF0aW9uLHIucGxheWJhY2ttZXRob2Q9ci5wbGF5YmFja21ldGhvZHx8cy5wbGF5YmFja21ldGhvZCxyLnN0YXJ0ZGVsYXk9ci5zdGFydGRlbGF5fHxzLnN0YXJ0ZGVsYXl8fDApLGUudmlkZW89cn1yZXR1cm4gZX0pKX07cmV0dXJuIGkmJihzLnB1Ymxpc2hlci5uZXR3b3JraWQ9aSkscy51c2VyPXtleHQ6ci51c2VyRXh0fSxyJiZyLmNlaCYmKHMudXNlci5jZWg9ci5jZWgpLHImJnIuZ2RwckNvbnNlbnQmJihzLmdkcHJDb25zZW50PXt9LHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPSEhci5nZHByQ29uc2VudC5nZHByQXBwbGllcykscy5nZHByQ29uc2VudC52ZXJzaW9uPXIuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbix2b2lkIDAhPT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihzLmdkcHJDb25zZW50LmNvbnNlbnREYXRhPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHImJnIudXNwQ29uc2VudCYmKHMudXNlci51c3BJYWI9ci51c3BDb25zZW50KSxzfWZ1bmN0aW9uIHJldHJpZXZlQmFubmVyU2l6ZXModCl7cmV0dXJuIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fHQuc2l6ZXN9ZnVuY3Rpb24gcGFyc2VTaXplcyh0LGUpe3JldHVybiBBcnJheS5pc0FycmF5KHRbMF0pP3QubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pKTpbZSh0KV19ZnVuY3Rpb24gcGFyc2VTaXplKHQpe3JldHVybiB0WzBdKyJ4Iit0WzFdfWZ1bmN0aW9uIHBhcnNlTmF0aXZlU2l6ZSh0KXtyZXR1cm4gdm9pZCAwPT09dFswXSYmdm9pZCAwPT09dFsxXT8iMngyIjp0WzBdKyJ4Iit0WzFdfWZ1bmN0aW9uIGhhc1ZpZGVvTWVkaWFUeXBlKHQpe3JldHVybiB2b2lkIDAhPT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJtZWRpYVR5cGVzLnZpZGVvIil9ZnVuY3Rpb24gaGFzVmFsaWRWaWRlb01lZGlhVHlwZSh0KXt2YXIgZT0hMDtpZihbIm1pbWVzIiwicGxheWVyU2l6ZSIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwiYXBpIiwic2tpcCIsInBsYWNlbWVudCIsInBsYXliYWNrbWV0aG9kIl0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dm9pZCAwPT09T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcykodCwibWVkaWFUeXBlcy52aWRlby4iK3IpJiZ2b2lkIDA9PT1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMudmlkZW8uIityKSYmKGU9ITEsT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX3V0aWxzX2pzX18ubG9nRXJyb3IpKCJDcml0ZW8gQmlkIEFkYXB0ZXI6IG1lZGlhVHlwZXMudmlkZW8uIityKyIgaXMgcmVxdWlyZWQiKSl9KSksZSl7dmFyIHI9dC5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudHx8dC5wYXJhbXMudmlkZW8ucGxhY2VtZW50O2lmKCJpbnN0cmVhbSI9PXQubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxPT09cilyZXR1cm4hMDtpZigib3V0c3RyZWFtIj09dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjEhPT1yKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGNyZWF0ZVByZWJpZE5hdGl2ZUFkKHQpe3JldHVybntzZW5kVGFyZ2V0aW5nS2V5czohMSx0aXRsZTp0LnByb2R1Y3RzWzBdLnRpdGxlLGJvZHk6dC5wcm9kdWN0c1swXS5kZXNjcmlwdGlvbixzcG9uc29yZWRCeTp0LmFkdmVydGlzZXIuZGVzY3JpcHRpb24saWNvbjp0LmFkdmVydGlzZXIubG9nbyxpbWFnZTp0LnByb2R1Y3RzWzBdLmltYWdlLGNsaWNrVXJsOnQucHJvZHVjdHNbMF0uY2xpY2tfdXJsLHByaXZhY3lMaW5rOnQucHJpdmFjeS5vcHRvdXRfY2xpY2tfdXJsLHByaXZhY3lJY29uOnQucHJpdmFjeS5vcHRvdXRfaW1hZ2VfdXJsLGN0YTp0LnByb2R1Y3RzWzBdLmNhbGxfdG9fYWN0aW9uLHByaWNlOnQucHJvZHVjdHNbMF0ucHJpY2UsaW1wcmVzc2lvblRyYWNrZXJzOnQuaW1wcmVzc2lvbl9waXhlbHMubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmx9KSl9fWZ1bmN0aW9uIGNyZWF0ZU5hdGl2ZUFkKHQsZSxyKXt2YXIgaT0iY3JpdGVvX3ByZWJpZF9uYXRpdmVfc2xvdHMiO3JldHVybiB3aW5kb3dbaV09d2luZG93W2ldfHx7fSx3aW5kb3dbaV1bdF09e2NhbGxiYWNrOnIscGF5bG9hZDplfSwnXG48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+XG5mb3IgKHZhciBpID0gMDsgaSA8IDEwOyArK2kpIHtcbiB2YXIgc2xvdHMgPSB3aW5kb3cucGFyZW50LicuY29uY2F0KGksJztcbiAgaWYoIXNsb3RzKXtjb250aW51ZTt9XG4gIHZhciByZXNwb25zZVNsb3QgPSBzbG90c1siJykuY29uY2F0KHQsJyJdO1xuICByZXNwb25zZVNsb3QuY2FsbGJhY2socmVzcG9uc2VTbG90LnBheWxvYWQpO1xuICBicmVhaztcbn1cbjxcL3NjcmlwdD4nKX1mdW5jdGlvbiBjYW5GYXN0QmlkKHQpe3JldHVybiB0IT09RkFTVF9CSURfVkVSU0lPTl9OT05FfWZ1bmN0aW9uIGdldEZhc3RCaWRVcmwodCl7dmFyIGU7aWYodD09PUZBU1RfQklEX1ZFUlNJT05fTEFURVNUKWU9IiI7ZWxzZSBpZih0KXtTdHJpbmcodCkuc3BsaXQoIi4iKVswXTwxMDImJk9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmxvZ1dhcm4pKCJTcGVjaWZ5aW5nIGEgRmFzdGJpZCB2ZXJzaW9uIHdoaWNoIGlzIG5vdCBzdXBwb3J0aW5nIHZlcnNpb24gc2VsZWN0aW9uLiIpLGU9Ii4iK3R9ZWxzZSBlPSIuIitGQVNUX0JJRF9WRVJTSU9OX0NVUlJFTlQ7cmV0dXJuIFBVQkxJU0hFUl9UQUdfVVJMX1RFTVBMQVRFLnJlcGxhY2UoRkFTVF9CSURfVkVSU0lPTl9QTEFDRUhPTERFUixlKX1mdW5jdGlvbiB0cnlHZXRDcml0ZW9GYXN0QmlkKCl7dHJ5e3ZhciBmYXN0QmlkU3RvcmFnZUtleT0iY3JpdGVvX2Zhc3RfYmlkIixoYXNoUHJlZml4PSIvLyBIYXNoOiAiLGZhc3RCaWRGcm9tU3RvcmFnZT1zdG9yYWdlLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KTtpZihudWxsIT09ZmFzdEJpZEZyb21TdG9yYWdlKXt2YXIgZmlyc3RMaW5lRW5kUG9zaXRpb249ZmFzdEJpZEZyb21TdG9yYWdlLmluZGV4T2YoIlxuIiksZmlyc3RMaW5lPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoMCxmaXJzdExpbmVFbmRQb3NpdGlvbikudHJpbSgpO2lmKGZpcnN0TGluZS5zdWJzdHIoMCxoYXNoUHJlZml4Lmxlbmd0aCkhPT1oYXNoUHJlZml4KU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmxvZ1dhcm4pKCJObyBoYXNoIGZvdW5kIGluIEZhc3RCaWQiKSxzdG9yYWdlLnJlbW92ZURhdGFGcm9tTG9jYWxTdG9yYWdlKGZhc3RCaWRTdG9yYWdlS2V5KTtlbHNle3ZhciBwdWJsaXNoZXJUYWdIYXNoPWZpcnN0TGluZS5zdWJzdHIoaGFzaFByZWZpeC5sZW5ndGgpLHB1Ymxpc2hlclRhZz1mYXN0QmlkRnJvbVN0b3JhZ2Uuc3Vic3RyKGZpcnN0TGluZUVuZFBvc2l0aW9uKzEpO09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX18udmVyaWZ5KShwdWJsaXNoZXJUYWcscHVibGlzaGVyVGFnSGFzaCxGQVNUX0JJRF9QVUJLRVlfTixGQVNUX0JJRF9QVUJLRVlfRSk/KE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmxvZ0luZm8pKCJVc2luZyBDcml0ZW8gRmFzdEJpZCIpLGV2YWwocHVibGlzaGVyVGFnKSk6KE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY191dGlsc19qc19fLmxvZ1dhcm4pKCJJbnZhbGlkIENyaXRlbyBGYXN0QmlkIGZvdW5kIiksc3RvcmFnZS5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSkpfX19Y2F0Y2godCl7fX1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9qc19fLnJlZ2lzdGVyQmlkZGVyKShzcGVjKX0sNzc6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9cig3OCkscz1yKDc5KTtlLnZlcmlmeT1mdW5jdGlvbih0LGUscixhKXt2YXIgXz1uZXcgaS5CaWdJbnRlZ2VyKGkuYjY0dG9IZXgoZSkpLG89bmV3IGkuQmlnSW50ZWdlcihpLmI2NHRvSGV4KHIpKSxuPV8ubW9kUG93SW50KGEsbyk7cmV0dXJuIGkucmVtb3ZlRXh0cmFTeW1ib2xzKG4udG9IZXhTdHJpbmcoKSk9PT1zLlNoYTI1Ni5oYXNoKHQpfX0sNzg6ZnVuY3Rpb24odCxlLHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgaTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe251bGwhPT10JiZ0aGlzLmZyb21IZXhTdHJpbmcodCl9cmV0dXJuIHQucHJvdG90eXBlLnRvSGV4U3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5zPDApcmV0dXJuIi0iK3RoaXMubmVnYXRlKCkudG9IZXhTdHJpbmcoKTt2YXIgdCxlPSExLHI9IiIsaT10aGlzLnQscz10aGlzLkRCLWkqdGhpcy5EQiU0O2lmKGktLSA+MClmb3Ioczx0aGlzLkRCJiYodD10aGlzW2ldPj5zKT4wJiYoZT0hMCxyPWQodCkpO2k+PTA7KXM8ND8odD0odGhpc1tpXSYoMTw8cyktMSk8PDQtcyx0fD10aGlzWy0taV0+PihzKz10aGlzLkRCLTQpKToodD10aGlzW2ldPj4ocy09NCkmMTUsczw9MCYmKHMrPXRoaXMuREIsLS1pKSksdD4wJiYoZT0hMCksZSYmKHIrPWQodCkpO3JldHVybiBlP3I6IjAifSx0LnByb3RvdHlwZS5mcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKGUpe2lmKG51bGwhPT1lKXt0aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIHI9ZS5sZW5ndGgsaT0hMSxzPTA7LS1yPj0wOyl7dmFyIGE9cChlLHIpO2E8MD8iLSI9PWUuY2hhckF0KHIpJiYoaT0hMCk6KGk9ITEsMD09cz90aGlzW3RoaXMudCsrXT1hOnMrND50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KGEmKDE8PHRoaXMuREItcyktMSk8PHMsdGhpc1t0aGlzLnQrK109YT4+dGhpcy5EQi1zKTp0aGlzW3RoaXMudC0xXXw9YTw8cywocys9NCk+PXRoaXMuREImJihzLT10aGlzLkRCKSl9MCx0aGlzLmNsYW1wKCksaSYmdC5aRVJPLnN1YlRvKHRoaXMsdGhpcyl9fSx0LnByb3RvdHlwZS5uZWdhdGU9ZnVuY3Rpb24oKXt2YXIgZT1hKCk7cmV0dXJuIHQuWkVSTy5zdWJUbyh0aGlzLGUpLGV9LHQucHJvdG90eXBlLmFicz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnM8MD90aGlzLm5lZ2F0ZSgpOnRoaXN9LHQucHJvdG90eXBlLm1vZD1mdW5jdGlvbihlKXt2YXIgcj1hKCk7cmV0dXJuIHRoaXMuYWJzKCkuZGl2UmVtVG8oZSxudWxsLHIpLHRoaXMuczwwJiZyLmNvbXBhcmVUbyh0LlpFUk8pPjAmJmUuc3ViVG8ocixyKSxyfSx0LnByb3RvdHlwZS5jb3B5VG89ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMudC0xO2U+PTA7LS1lKXRbZV09dGhpc1tlXTt0LnQ9dGhpcy50LHQucz10aGlzLnN9LHQucHJvdG90eXBlLmxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQldGhpcy5EQixpPXRoaXMuREItcixzPSgxPDxpKS0xLGE9TWF0aC5mbG9vcih0L3RoaXMuREIpLF89dGhpcy5zPDxyJnRoaXMuRE0sbz10aGlzLnQtMTtvPj0wOy0tbyllW28rYSsxXT10aGlzW29dPj5pfF8sXz0odGhpc1tvXSZzKTw8cjtmb3Iobz1hLTE7bz49MDstLW8pZVtvXT0wO2VbYV09XyxlLnQ9dGhpcy50K2ErMSxlLnM9dGhpcy5zLGUuY2xhbXAoKX0sdC5wcm90b3R5cGUuaW52RGlnaXQ9ZnVuY3Rpb24oKXtpZih0aGlzLnQ8MSlyZXR1cm4gMDt2YXIgdD10aGlzWzBdO2lmKDA9PSgxJnQpKXJldHVybiAwO3ZhciBlPTMmdDtyZXR1cm4oZT0oZT0oZT0oZT1lKigyLSgxNSZ0KSplKSYxNSkqKDItKDI1NSZ0KSplKSYyNTUpKigyLSgoNjU1MzUmdCkqZSY2NTUzNSkpJjY1NTM1KSooMi10KmUldGhpcy5EVikldGhpcy5EVik+MD90aGlzLkRWLWU6LWV9LHQucHJvdG90eXBlLmRsU2hpZnRUbz1mdW5jdGlvbih0LGUpe3ZhciByO2ZvcihyPXRoaXMudC0xO3I+PTA7LS1yKWVbcit0XT10aGlzW3JdO2ZvcihyPXQtMTtyPj0wOy0tcillW3JdPTA7ZS50PXRoaXMudCt0LGUucz10aGlzLnN9LHQucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFicygpLHI9dC50PTIqZS50Oy0tcj49MDspdFtyXT0wO2ZvcihyPTA7cjxlLnQtMTsrK3Ipe3ZhciBpPWUuYW0ocixlW3JdLHQsMipyLDAsMSk7KHRbcitlLnRdKz1lLmFtKHIrMSwyKmVbcl0sdCwyKnIrMSxpLGUudC1yLTEpKT49ZS5EViYmKHRbcitlLnRdLT1lLkRWLHRbcitlLnQrMV09MSl9dC50PjAmJih0W3QudC0xXSs9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKSksdC5zPTAsdC5jbGFtcCgpfSx0LnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcy5hYnMoKSxzPWUuYWJzKCksYT1pLnQ7Zm9yKHIudD1hK3MudDstLWE+PTA7KXJbYV09MDtmb3IoYT0wO2E8cy50OysrYSlyW2EraS50XT1pLmFtKDAsc1thXSxyLGEsMCxpLnQpO3Iucz0wLHIuY2xhbXAoKSx0aGlzLnMhPWUucyYmdC5aRVJPLnN1YlRvKHIscil9LHQucHJvdG90eXBlLmRpdlJlbVRvPWZ1bmN0aW9uKGUscixpKXt2YXIgcz1lLmFicygpO2lmKCEocy50PD0wKSl7dmFyIG89dGhpcy5hYnMoKTtpZihvLnQ8cy50KXJldHVybiBudWxsIT1yJiZyLmZyb21IZXhTdHJpbmcoIjAiKSx2b2lkKG51bGwhPWkmJnRoaXMuY29weVRvKGkpKTtudWxsPT1pJiYoaT1hKCkpO3ZhciBuPWEoKSxjPXRoaXMucyxwPWUucyxkPXRoaXMuREItXyhzW3MudC0xXSk7ZD4wPyhzLmxTaGlmdFRvKGQsbiksby5sU2hpZnRUbyhkLGkpKToocy5jb3B5VG8obiksby5jb3B5VG8oaSkpO3ZhciB1PW4udCxsPW5bdS0xXTtpZigwIT1sKXt2YXIgaD1sKigxPDx0aGlzLkYxKSsodT4xP25bdS0yXT4+dGhpcy5GMjowKSxmPXRoaXMuRlYvaCxFPSgxPDx0aGlzLkYxKS9oLHY9MTw8dGhpcy5GMixtPWkudCxUPW0tdSxiPW51bGw9PXI/YSgpOnI7Zm9yKG4uZGxTaGlmdFRvKFQsYiksaS5jb21wYXJlVG8oYik+PTAmJihpW2kudCsrXT0xLGkuc3ViVG8oYixpKSksdC5PTkUuZGxTaGlmdFRvKHUsYiksYi5zdWJUbyhuLG4pO24udDx1OyluW24udCsrXT0wO2Zvcig7LS1UPj0wOyl7dmFyIEQ9aVstLW1dPT1sP3RoaXMuRE06TWF0aC5mbG9vcihpW21dKmYrKGlbbS0xXSt2KSpFKTtpZigoaVttXSs9bi5hbSgwLEQsaSxULDAsdSkpPEQpZm9yKG4uZGxTaGlmdFRvKFQsYiksaS5zdWJUbyhiLGkpO2lbbV08LS1EOylpLnN1YlRvKGIsaSl9bnVsbCE9ciYmKGkuZHJTaGlmdFRvKHUsciksYyE9cCYmdC5aRVJPLnN1YlRvKHIscikpLGkudD11LGkuY2xhbXAoKSxkPjAmJmkuclNoaWZ0VG8oZCxpKSxjPDAmJnQuWkVSTy5zdWJUbyhpLGkpfX19LHQucHJvdG90eXBlLnJTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7ZS5zPXRoaXMuczt2YXIgcj1NYXRoLmZsb29yKHQvdGhpcy5EQik7aWYocj49dGhpcy50KWUudD0wO2Vsc2V7dmFyIGk9dCV0aGlzLkRCLHM9dGhpcy5EQi1pLGE9KDE8PGkpLTE7ZVswXT10aGlzW3JdPj5pO2Zvcih2YXIgXz1yKzE7Xzx0aGlzLnQ7KytfKWVbXy1yLTFdfD0odGhpc1tfXSZhKTw8cyxlW18tcl09dGhpc1tfXT4+aTtpPjAmJihlW3RoaXMudC1yLTFdfD0odGhpcy5zJmEpPDxzKSxlLnQ9dGhpcy50LXIsZS5jbGFtcCgpfX0sdC5wcm90b3R5cGUuZHJTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQ7cjx0aGlzLnQ7KytyKWVbci10XT10aGlzW3JdO2UudD1NYXRoLm1heCh0aGlzLnQtdCwwKSxlLnM9dGhpcy5zfSx0LnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLGk9MCxzPU1hdGgubWluKHQudCx0aGlzLnQpO3I8czspaSs9dGhpc1tyXS10W3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aWYodC50PHRoaXMudCl7Zm9yKGktPXQucztyPHRoaXMudDspaSs9dGhpc1tyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2krPXRoaXMuc31lbHNle2ZvcihpKz10aGlzLnM7cjx0LnQ7KWktPXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpLT10LnN9ZS5zPWk8MD8tMTowLGk8LTE/ZVtyKytdPXRoaXMuRFYraTppPjAmJihlW3IrK109aSksZS50PXIsZS5jbGFtcCgpfSx0LnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnMmdGhpcy5ETTt0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PXQ7KS0tdGhpcy50fSx0LnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcjtyZXR1cm4gcj10PDI1Nnx8ZS5pc0V2ZW4oKT9uZXcgdShlKTpuZXcgbChlKSx0aGlzLmV4cCh0LHIpfSx0LnByb3RvdHlwZS5leHA9ZnVuY3Rpb24oZSxyKXtpZihlPjQyOTQ5NjcyOTV8fGU8MSlyZXR1cm4gdC5PTkU7dmFyIGk9YSgpLHM9YSgpLG89ci5jb252ZXJ0KHRoaXMpLG49XyhlKS0xO2ZvcihvLmNvcHlUbyhpKTstLW4+PTA7KWlmKHIuc3FyVG8oaSxzKSwoZSYxPDxuKT4wKXIubXVsVG8ocyxvLGkpO2Vsc2V7dmFyIGM9aTtpPXMscz1jfXJldHVybiByLnJldmVydChpKX0sdC5wcm90b3R5cGUuaXNFdmVuPWZ1bmN0aW9uKCl7cmV0dXJuIDA9PSh0aGlzLnQ+MD8xJnRoaXNbMF06dGhpcy5zKX0sdC5wcm90b3R5cGUuY29tcGFyZVRvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucy10LnM7aWYoMCE9ZSlyZXR1cm4gZTt2YXIgcj10aGlzLnQ7aWYoMCE9KGU9ci10LnQpKXJldHVybiB0aGlzLnM8MD8tZTplO2Zvcig7LS1yPj0wOylpZigwIT0oZT10aGlzW3JdLXRbcl0pKXJldHVybiBlO3JldHVybiAwfSx0LnByb3RvdHlwZS5hbTE9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcig7LS1hPj0wOyl7dmFyIF89ZSp0aGlzW3QrK10rcltpXStzO3M9TWF0aC5mbG9vcihfLzY3MTA4ODY0KSxyW2krK109NjcxMDg4NjMmX31yZXR1cm4gc30sdC5wcm90b3R5cGUuYW0yPWZ1bmN0aW9uKHQsZSxyLGkscyxhKXtmb3IodmFyIF89MzI3NjcmZSxvPWU+PjE1Oy0tYT49MDspe3ZhciBuPTMyNzY3JnRoaXNbdF0sYz10aGlzW3QrK10+PjE1LHA9bypuK2MqXztzPSgobj1fKm4rKCgzMjc2NyZwKTw8MTUpK3JbaV0rKDEwNzM3NDE4MjMmcykpPj4+MzApKyhwPj4+MTUpK28qYysocz4+PjMwKSxyW2krK109MTA3Mzc0MTgyMyZufXJldHVybiBzfSx0LnByb3RvdHlwZS5hbTM9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe2Zvcih2YXIgXz0xNjM4MyZlLG89ZT4+MTQ7LS1hPj0wOyl7dmFyIG49MTYzODMmdGhpc1t0XSxjPXRoaXNbdCsrXT4+MTQscD1vKm4rYypfO3M9KChuPV8qbisoKDE2MzgzJnApPDwxNCkrcltpXStzKT4+MjgpKyhwPj4xNCkrbypjLHJbaSsrXT0yNjg0MzU0NTUmbn1yZXR1cm4gc30sdH0oKTtmdW5jdGlvbiBhKCl7cmV0dXJuIG5ldyBzKG51bGwpfWZ1bmN0aW9uIF8odCl7dmFyIGUscj0xO3JldHVybiAwIT0oZT10Pj4+MTYpJiYodD1lLHIrPTE2KSwwIT0oZT10Pj44KSYmKHQ9ZSxyKz04KSwwIT0oZT10Pj40KSYmKHQ9ZSxyKz00KSwwIT0oZT10Pj4yKSYmKHQ9ZSxyKz0yKSwwIT0oZT10Pj4xKSYmKHQ9ZSxyKz0xKSxyfWUuQmlnSW50ZWdlcj1zLGUubmJpPWEsZS5uYml0cz1fO3ZhciBvLG4sYz1bXTtmb3Iobz0iMCIuY2hhckNvZGVBdCgwKSxuPTA7bjw9OTsrK24pY1tvKytdPW47Zm9yKG89ImEiLmNoYXJDb2RlQXQoMCksbj0xMDtuPDM2OysrbiljW28rK109bjtmb3Iobz0iQSIuY2hhckNvZGVBdCgwKSxuPTEwO248MzY7KytuKWNbbysrXT1uO2Z1bmN0aW9uIHAodCxlKXt2YXIgcj1jW3QuY2hhckNvZGVBdChlKV07cmV0dXJuIG51bGw9PXI/LTE6cn1lLmludEF0PXA7ZnVuY3Rpb24gZCh0KXtyZXR1cm4iMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6Ii5jaGFyQXQodCl9ZS5pbnQyY2hhcj1kO2UuYjY0dG9IZXg9ZnVuY3Rpb24odCl7dmFyIGUscj0iIixpPTAscz0wO2ZvcihlPTA7ZTx0Lmxlbmd0aCYmIj0iIT10LmNoYXJBdChlKTsrK2Upe3ZhciBhPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIi5pbmRleE9mKHQuY2hhckF0KGUpKTthPDB8fCgwPT1pPyhyKz1kKGE+PjIpLHM9MyZhLGk9MSk6MT09aT8ocis9ZChzPDwyfGE+PjQpLHM9MTUmYSxpPTIpOjI9PWk/KHIrPWQocykscis9ZChhPj4yKSxzPTMmYSxpPTMpOihyKz1kKHM8PDJ8YT4+NCkscis9ZCgxNSZhKSxpPTApKX1yZXR1cm4gMT09aSYmKHIrPWQoczw8MikpLHJ9LGUucmVtb3ZlRXh0cmFTeW1ib2xzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL14xZiswMC8sIiIpLnJlcGxhY2UoIjMwMzEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMTA1MDAwNDIwIiwiIil9O3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm09dH1yZXR1cm4gdC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zPDB8fHQuY29tcGFyZVRvKHRoaXMubSk+PTA/dC5tb2QodGhpcy5tKTp0fSx0LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXt0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpfSx0LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHQucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdH0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLm09dCx0aGlzLm1wPXQuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PHQuREItMTUpLTEsdGhpcy5tdDI9Mip0LnR9cmV0dXJuIHQucHJvdG90eXBlLmNvbnZlcnQ9ZnVuY3Rpb24odCl7dmFyIGU9YSgpO3JldHVybiB0LmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxlKSxlLmRpdlJlbVRvKHRoaXMubSxudWxsLGUpLHQuczwwJiZlLmNvbXBhcmVUbyhzLlpFUk8pPjAmJnRoaXMubS5zdWJUbyhlLGUpLGV9LHQucHJvdG90eXBlLnJldmVydD1mdW5jdGlvbih0KXt2YXIgZT1hKCk7cmV0dXJuIHQuY29weVRvKGUpLHRoaXMucmVkdWNlKGUpLGV9LHQucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXtmb3IoO3QudDw9dGhpcy5tdDI7KXRbdC50KytdPTA7Zm9yKHZhciBlPTA7ZTx0aGlzLm0udDsrK2Upe3ZhciByPTMyNzY3JnRbZV0saT1yKnRoaXMubXBsKygocip0aGlzLm1waCsodFtlXT4+MTUpKnRoaXMubXBsJnRoaXMudW0pPDwxNSkmdC5ETTtmb3IodFtyPWUrdGhpcy5tLnRdKz10aGlzLm0uYW0oMCxpLHQsZSwwLHRoaXMubS50KTt0W3JdPj10LkRWOyl0W3JdLT10LkRWLHRbKytyXSsrfXQuY2xhbXAoKSx0LmRyU2hpZnRUbyh0aGlzLm0udCx0KSx0LmNvbXBhcmVUbyh0aGlzLm0pPj0wJiZ0LnN1YlRvKHRoaXMubSx0KX0sdC5wcm90b3R5cGUubXVsVG89ZnVuY3Rpb24odCxlLHIpe3QubXVsdGlwbHlUbyhlLHIpLHRoaXMucmVkdWNlKHIpfSx0LnByb3RvdHlwZS5zcXJUbz1mdW5jdGlvbih0LGUpe3Quc3F1YXJlVG8oZSksdGhpcy5yZWR1Y2UoZSl9LHR9KCk7ZnVuY3Rpb24gaCh0KXt2YXIgZT1hKCk7cmV0dXJuIGUuZnJvbUhleFN0cmluZyh0LnRvU3RyaW5nKCkpLGV9ZS5uYnY9aCxzLlpFUk89aCgwKSxzLk9ORT1oKDEpLCJNaWNyb3NvZnQgSW50ZXJuZXQgRXhwbG9yZXIiPT1uYXZpZ2F0b3IuYXBwTmFtZT8ocy5wcm90b3R5cGUuYW09cy5wcm90b3R5cGUuYW0yLGk9MzApOiJOZXRzY2FwZSIhPW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTEsaT0yNik6KHMucHJvdG90eXBlLmFtPXMucHJvdG90eXBlLmFtMyxpPTI4KSxzLnByb3RvdHlwZS5EQj1pLHMucHJvdG90eXBlLkRNPSgxPDxpKS0xLHMucHJvdG90eXBlLkRWPTE8PGk7cy5wcm90b3R5cGUuRlY9TWF0aC5wb3coMiw1Mikscy5wcm90b3R5cGUuRjE9NTItaSxzLnByb3RvdHlwZS5GMj0yKmktNTJ9LDc5OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gdC5oYXNoPWZ1bmN0aW9uKGUpe2U9dC51dGY4RW5jb2RlKGV8fCIiKTtmb3IodmFyIHI9WzExMTYzNTI0MDgsMTg5OTQ0NzQ0MSwzMDQ5MzIzNDcxLDM5MjEwMDk1NzMsOTYxOTg3MTYzLDE1MDg5NzA5OTMsMjQ1MzYzNTc0OCwyODcwNzYzMjIxLDM2MjQzODEwODAsMzEwNTk4NDAxLDYwNzIyNTI3OCwxNDI2ODgxOTg3LDE5MjUwNzgzODgsMjE2MjA3ODIwNiwyNjE0ODg4MTAzLDMyNDgyMjI1ODAsMzgzNTM5MDQwMSw0MDIyMjI0Nzc0LDI2NDM0NzA3OCw2MDQ4MDc2MjgsNzcwMjU1OTgzLDEyNDkxNTAxMjIsMTU1NTA4MTY5MiwxOTk2MDY0OTg2LDI1NTQyMjA4ODIsMjgyMTgzNDM0OSwyOTUyOTk2ODA4LDMyMTAzMTM2NzEsMzMzNjU3MTg5MSwzNTg0NTI4NzExLDExMzkyNjk5MywzMzgyNDE4OTUsNjY2MzA3MjA1LDc3MzUyOTkxMiwxMjk0NzU3MzcyLDEzOTYxODIyOTEsMTY5NTE4MzcwMCwxOTg2NjYxMDUxLDIxNzcwMjYzNTAsMjQ1Njk1NjAzNywyNzMwNDg1OTIxLDI4MjAzMDI0MTEsMzI1OTczMDgwMCwzMzQ1NzY0NzcxLDM1MTYwNjU4MTcsMzYwMDM1MjgwNCw0MDk0NTcxOTA5LDI3NTQyMzM0NCw0MzAyMjc3MzQsNTA2OTQ4NjE2LDY1OTA2MDU1Niw4ODM5OTc4NzcsOTU4MTM5NTcxLDEzMjI4MjIyMTgsMTUzNzAwMjA2MywxNzQ3ODczNzc5LDE5NTU1NjIyMjIsMjAyNDEwNDgxNSwyMjI3NzMwNDUyLDIzNjE4NTI0MjQsMjQyODQzNjQ3NCwyNzU2NzM0MTg3LDMyMDQwMzE0NzksMzMyOTMyNTI5OF0saT1bMTc3OTAzMzcwMywzMTQ0MTM0Mjc3LDEwMTM5MDQyNDIsMjc3MzQ4MDc2MiwxMzU5ODkzMTE5LDI2MDA4MjI5MjQsNTI4NzM0NjM1LDE1NDE0NTkyMjVdLHM9KGUrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI4KSkubGVuZ3RoLzQrMixhPU1hdGguY2VpbChzLzE2KSxfPW5ldyBBcnJheShhKSxvPTA7bzxhO28rKyl7X1tvXT1uZXcgQXJyYXkoMTYpO2Zvcih2YXIgbj0wO248MTY7bisrKV9bb11bbl09ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKTw8MjR8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzEpPDwxNnxlLmNoYXJDb2RlQXQoNjQqbys0Km4rMik8PDh8ZS5jaGFyQ29kZUF0KDY0Km8rNCpuKzMpPDwwfXZhciBjPTgqKGUubGVuZ3RoLTEpL01hdGgucG93KDIsMzIpLHA9OCooZS5sZW5ndGgtMSk+Pj4wO19bYS0xXVsxNF09TWF0aC5mbG9vcihjKSxfW2EtMV1bMTVdPXA7Zm9yKG89MDtvPGE7bysrKXtmb3IodmFyIGQ9bmV3IEFycmF5KDY0KSx1PTA7dTwxNjt1KyspZFt1XT1fW29dW3VdO2Zvcih1PTE2O3U8NjQ7dSsrKWRbdV09dC5xMShkW3UtMl0pK2RbdS03XSt0LnEwKGRbdS0xNV0pK2RbdS0xNl0+Pj4wO3ZhciBsPWlbMF0saD1pWzFdLGY9aVsyXSxFPWlbM10sdj1pWzRdLG09aVs1XSxUPWlbNl0sYj1pWzddO2Zvcih1PTA7dTw2NDt1Kyspe3ZhciBEPWIrdC56MSh2KSt0LkNoKHYsbSxUKStyW3VdK2RbdV0seT10LnowKGwpK3QuTWFqKGwsaCxmKTtiPVQsVD1tLG09dix2PUUrRD4+PjAsRT1mLGY9aCxoPWwsbD1EK3k+Pj4wfWlbMF09aVswXStsPj4+MCxpWzFdPWlbMV0raD4+PjAsaVsyXT1pWzJdK2Y+Pj4wLGlbM109aVszXStFPj4+MCxpWzRdPWlbNF0rdj4+PjAsaVs1XT1pWzVdK20+Pj4wLGlbNl09aVs2XStUPj4+MCxpWzddPWlbN10rYj4+PjB9dmFyIE89bmV3IEFycmF5KGkubGVuZ3RoKTtmb3IoYj0wO2I8aS5sZW5ndGg7YisrKU9bYl09KCIwMDAwMDAwMCIraVtiXS50b1N0cmluZygxNikpLnNsaWNlKC04KTtyZXR1cm4gTy5qb2luKCIiKX0sdC51dGY4RW5jb2RlPWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCkucmVkdWNlKChmdW5jdGlvbih0LGUpe3JldHVybiB0K1N0cmluZy5mcm9tQ2hhckNvZGUoZSl9KSwiIil9Y2F0Y2goZSl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudCh0KSl9fSx0LlJPVFI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT4+PnR8ZTw8MzItdH0sdC56MD1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDIsZSledC5ST1RSKDEzLGUpXnQuUk9UUigyMixlKX0sdC56MT1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDYsZSledC5ST1RSKDExLGUpXnQuUk9UUigyNSxlKX0sdC5xMD1mdW5jdGlvbihlKXtyZXR1cm4gdC5ST1RSKDcsZSledC5ST1RSKDE4LGUpXmU+Pj4zfSx0LnExPWZ1bmN0aW9uKGUpe3JldHVybiB0LlJPVFIoMTcsZSledC5ST1RSKDE5LGUpXmU+Pj4xMH0sdC5DaD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmZV5+dCZyfSx0Lk1haj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmZV50JnJeZSZyfSx0fSgpO2UuU2hhMjU2PWl9fSxbMzk1XSk7CnVwYmpzQ2h1bmsoWzI4OV0sezM5OTpmdW5jdGlvbihlLHIsbil7ZS5leHBvcnRzPW4oNDAwKX0sNDAwOmZ1bmN0aW9uKGUscixuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChyLCJjdXJyZW5jeVN1cHBvcnRFbmFibGVkIiwoZnVuY3Rpb24oKXtyZXR1cm4gaH0pKSxuLmQociwiY3VycmVuY3lSYXRlcyIsKGZ1bmN0aW9uKCl7cmV0dXJuIE99KSksci5zZXRDb25maWc9QyxyLmFkZEJpZFJlc3BvbnNlSG9vaz1EO3ZhciBvPW4oMCksYz1uKDE0KSx0PW4oNDMpLGk9big1KSxhPShuLm4oaSksbig0KSksdT1uKDMpLHM9big5KTtmdW5jdGlvbiBmKGUpe3JldHVybihmPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGQsbD0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3ByZWJpZC9jdXJyZW5jeS1maWxlQDEvbGF0ZXN0Lmpzb24/ZGF0ZT0kJFRPREFZJCQiLHk9W10sYj17fSxnPSExLHY9ITAscD0iVVNEIixoPSExLE89e30saj17fTtmdW5jdGlvbiBDKGUpe3ZhciByPWw7aWYoIm9iamVjdCI9PT1mKGUucmF0ZXMpJiYoTy5jb252ZXJzaW9ucz1lLnJhdGVzLGc9ITAsdj0hMSksIm9iamVjdCI9PT1mKGUuZGVmYXVsdFJhdGVzKSYmKGQ9ZS5kZWZhdWx0UmF0ZXMsTy5jb252ZXJzaW9ucz1kLGc9ITApLCJzdHJpbmciPT10eXBlb2YgZS5hZFNlcnZlckN1cnJlbmN5KXtPYmplY3Qoby5sb2dJbmZvKSgiZW5hYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIsYXJndW1lbnRzKSxwPWUuYWRTZXJ2ZXJDdXJyZW5jeSxlLmNvbnZlcnNpb25SYXRlRmlsZSYmKE9iamVjdChvLmxvZ0luZm8pKCJjdXJyZW5jeSB1c2luZyBvdmVycmlkZSBjb252ZXJzaW9uUmF0ZUZpbGU6IixlLmNvbnZlcnNpb25SYXRlRmlsZSkscj1lLmNvbnZlcnNpb25SYXRlRmlsZSk7dmFyIG49ci5pbmRleE9mKCIkJFRPREFZJCQiKTtpZigtMSE9PW4pe3ZhciBjPW5ldyBEYXRlLHQ9IiIuY29uY2F0KGMuZ2V0TW9udGgoKSsxKSxpPSIiLmNvbmNhdChjLmdldERhdGUoKSk7dC5sZW5ndGg8MiYmKHQ9IjAiLmNvbmNhdCh0KSksaS5sZW5ndGg8MiYmKGk9IjAiLmNvbmNhdChpKSk7dmFyIGE9IiIuY29uY2F0KGMuZ2V0RnVsbFllYXIoKSkuY29uY2F0KHQpLmNvbmNhdChpKTtyPSIiLmNvbmNhdChyLnN1YnN0cmluZygwLG4pKS5jb25jYXQoYSkuY29uY2F0KHIuc3Vic3RyaW5nKG4rOSxyLmxlbmd0aCkpfW0ocil9ZWxzZSBPYmplY3Qoby5sb2dJbmZvKSgiZGlzYWJsaW5nIGN1cnJlbmN5IHN1cHBvcnQiKSxSKCk7Im9iamVjdCI9PT1mKGUuYmlkZGVyQ3VycmVuY3lEZWZhdWx0KSYmKGo9ZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpfWZ1bmN0aW9uIFMoZSl7ZD8oT2JqZWN0KG8ubG9nV2FybikoZSksT2JqZWN0KG8ubG9nV2FybikoIkN1cnJlbmN5IGZhaWxlZCBsb2FkaW5nIHJhdGVzLCBmYWxsaW5nIGJhY2sgdG8gY3VycmVuY3kuZGVmYXVsdFJhdGVzIikpOk9iamVjdChvLmxvZ0Vycm9yKShlKX1mdW5jdGlvbiBtKGUpe2I9e30saD0hMCxPYmplY3Qoby5sb2dJbmZvKSgiSW5zdGFsbGluZyBhZGRCaWRSZXNwb25zZSBkZWNvcmF0b3IgZm9yIGN1cnJlbmN5IG1vZHVsZSIsYXJndW1lbnRzKSxPYmplY3QoYy5hKSgpLmNvbnZlcnRDdXJyZW5jeT1mdW5jdGlvbihlLHIsbil7cmV0dXJuIHBhcnNlRmxvYXQoZSkqdyhyLG4pfSxPYmplY3Qocy5hKSgiYWRkQmlkUmVzcG9uc2UiKS5iZWZvcmUoRCwxMDApLHYmJih2PSExLE9iamVjdChhLmEpKGUse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dHJ5e089SlNPTi5wYXJzZShlKSxPYmplY3Qoby5sb2dJbmZvKSgiY3VycmVuY3lSYXRlcyBzZXQgdG8gIitKU09OLnN0cmluZ2lmeShPKSksZz0hMCxJKCl9Y2F0Y2gocil7UygiRmFpbGVkIHRvIHBhcnNlIGN1cnJlbmN5UmF0ZXMgcmVzcG9uc2U6ICIrZSl9fSxlcnJvcjpTfSkpfWZ1bmN0aW9uIFIoKXtPYmplY3Qoby5sb2dJbmZvKSgiVW5pbnN0YWxsaW5nIGFkZEJpZFJlc3BvbnNlIGRlY29yYXRvciBmb3IgY3VycmVuY3kgbW9kdWxlIixhcmd1bWVudHMpLE9iamVjdChzLmEpKCJhZGRCaWRSZXNwb25zZSIpLmdldEhvb2tzKHtob29rOkR9KS5yZW1vdmUoKSxkZWxldGUgT2JqZWN0KGMuYSkoKS5jb252ZXJ0Q3VycmVuY3kscD0iVVNEIixiPXt9LGg9ITEsZz0hMSx2PSEwLE89e30saj17fX1mdW5jdGlvbiBEKGUscixuKXtpZighbilyZXR1cm4gZS5jYWxsKHRoaXMscik7dmFyIGM9bi5iaWRkZXJDb2RlfHxuLmJpZGRlcjtpZihqW2NdKXt2YXIgYT1qW2NdO24uY3VycmVuY3kmJmEhPT1uLmN1cnJlbmN5P09iamVjdChvLmxvZ1dhcm4pKCJDdXJyZW5jeSBkZWZhdWx0ICciLmNvbmNhdChjLCI6ICIpLmNvbmNhdChhLCInIGlnbm9yZWQuIGFkYXB0ZXIgc3BlY2lmaWVkICciKS5jb25jYXQobi5jdXJyZW5jeSwiJyIpKTpuLmN1cnJlbmN5PWF9aWYobi5jdXJyZW5jeXx8KE9iamVjdChvLmxvZ1dhcm4pKCdDdXJyZW5jeSBub3Qgc3BlY2lmaWVkIG9uIGJpZC4gIERlZmF1bHRlZCB0byAiVVNEIicpLG4uY3VycmVuY3k9IlVTRCIpLG4uZ2V0Q3BtSW5OZXdDdXJyZW5jeT1mdW5jdGlvbihlKXtyZXR1cm4ocGFyc2VGbG9hdCh0aGlzLmNwbSkqdyh0aGlzLmN1cnJlbmN5LGUpKS50b0ZpeGVkKDMpfSxuLmN1cnJlbmN5PT09cClyZXR1cm4gZS5jYWxsKHRoaXMscixuKTt5LnB1c2goZnVuY3Rpb24oZSxyLG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPW5bMV07aWYodm9pZCAwIT09YyYmImN1cnJlbmN5ImluIGMmJiJjcG0iaW4gYyl7dmFyIGE9Yy5jdXJyZW5jeTt0cnl7dmFyIHU9dyhhKTsxIT09dSYmKGMuY3BtPShwYXJzZUZsb2F0KGMuY3BtKSp1KS50b0ZpeGVkKDQpLGMuY3VycmVuY3k9cCl9Y2F0Y2goZSl7T2JqZWN0KG8ubG9nV2FybikoIlJldHVybmluZyBOT19CSUQsIGdldEN1cnJlbmN5Q29udmVyc2lvbiB0aHJldyBlcnJvcjogIixlKSxuWzFdPU9iamVjdCh0LmEpKGkuU1RBVFVTLk5PX0JJRCx7YmlkZGVyOmMuYmlkZGVyQ29kZXx8Yy5iaWRkZXIsYmlkSWQ6Yy5yZXF1ZXN0SWR9KX19cmV0dXJuIGUuYXBwbHkocixuKX19KGUsdGhpcyxbcixuXSkpLGgmJiFnfHxJKCl9ZnVuY3Rpb24gSSgpe2Zvcig7eS5sZW5ndGg+MDspeS5zaGlmdCgpKCl9ZnVuY3Rpb24gdyhlKXt2YXIgcixuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpwLGM9bnVsbCx0PSIiLmNvbmNhdChlLCItPiIpLmNvbmNhdChuKTtpZih0IGluIGIpYz1iW3RdLE9iamVjdChvLmxvZ01lc3NhZ2UpKCJVc2luZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitjKyIgZm9yICIrdCk7ZWxzZSBpZighMT09PWgpe2lmKCJVU0QiIT09ZSl0aHJvdyBuZXcgRXJyb3IoIlByZWJpZCBjdXJyZW5jeSBzdXBwb3J0IGhhcyBub3QgYmVlbiBlbmFibGVkIGFuZCBmcm9tQ3VycmVuY3kgaXMgbm90IFVTRCIpO2M9MX1lbHNlIGlmKGU9PT1uKWM9MTtlbHNlIGlmKGUgaW4gTy5jb252ZXJzaW9ucyl7aWYoIShuIGluKHI9Ty5jb252ZXJzaW9uc1tlXSkpKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK24rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7Yz1yW25dLE9iamVjdChvLmxvZ0luZm8pKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgZGlyZWN0ICIrZSsiIHRvICIrbisiIGNvbnZlcnNpb25SYXRlICIrYyl9ZWxzZSBpZihuIGluIE8uY29udmVyc2lvbnMpe2lmKCEoZSBpbihyPU8uY29udmVyc2lvbnNbbl0pKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBmcm9tQ3VycmVuY3kgJyIrZSsiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPUYoMS9yW2VdLDQpLE9iamVjdChvLmxvZ0luZm8pKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgcmVjaXByb2NhbCAiK2UrIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK2MpfWVsc2V7dmFyIGk9T2JqZWN0LmtleXMoTy5jb252ZXJzaW9ucylbMF07aWYoIShlIGluIE8uY29udmVyc2lvbnNbaV0pKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGZyb21DdXJyZW5jeSAnIitlKyInIG5vdCBmb3VuZCBpbiB0aGUgY3VycmVuY3kgcmF0ZXMgZmlsZSIpO3ZhciBhPTEvTy5jb252ZXJzaW9uc1tpXVtlXTtpZighKG4gaW4gTy5jb252ZXJzaW9uc1tpXSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbisiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTt2YXIgdT1PLmNvbnZlcnNpb25zW2ldW25dO2M9RihhKnUsNCksT2JqZWN0KG8ubG9nSW5mbykoImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBpbnRlcm1lZGlhdGUgIitlKyIgdGhydSAiK2krIiB0byAiK24rIiBjb252ZXJzaW9uUmF0ZSAiK2MpfXJldHVybiB0IGluIGJ8fChPYmplY3Qoby5sb2dNZXNzYWdlKSgiQWRkaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK2MrIiBmb3IgIit0KSxiW3RdPWMpLGN9ZnVuY3Rpb24gRihlLHIpe2Zvcih2YXIgbj0xLG89MDtvPHI7bysrKW4rPSIwIjtyZXR1cm4gTWF0aC5yb3VuZChlKm4pL259dS5iLmdldENvbmZpZygiY3VycmVuY3kiLChmdW5jdGlvbihlKXtyZXR1cm4gQyhlLmN1cnJlbmN5KX0pKX19LFszOTldKTsKdXBianNDaHVuayhbMjgxXSx7NDE3OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0MTgpfSw0MTg6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLHIuZ2V0Rmxvb3I9aCxyLmNsZWFuU2l6ZXM9dixyLnNodWZmbGU9TyxyLnJlbW92ZUR1cGxpY2F0ZT1BLHIudXB0bzU9SSxyLm1hdGNoUmVxdWVzdD1qLHIuY2hlY2tEZWVwQXJyYXk9UyxyLmRlZmF1bHRTaXplPXgsci5iaW5kVXNlcklkPXcsci5nZXRBcGk9VCxyLmdldFBsYXliYWNrbWV0aG9kPWZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoPjApcmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYi5wbGF5YmFja19tZXRob2RbZV19KSk7cmV0dXJuWzJdfSxyLmdldFByb3RvY29scz16LHIuY2xlYW5WYXN0PV87dmFyIG49dCgwKSxpPXQoMSksbz10KDMpLHM9dCgyKTtmdW5jdGlvbiBhKGUscil7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHIpe3ZhciB0PW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09dClyZXR1cm47dmFyIG4saSxvPVtdLHM9ITAsYT0hMTt0cnl7Zm9yKHQ9dC5jYWxsKGUpOyEocz0obj10Lm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXJ8fG8ubGVuZ3RoIT09cik7cz0hMCk7fWNhdGNoKGUpe2E9ITAsaT1lfWZpbmFsbHl7dHJ5e3N8fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYoYSl0aHJvdyBpfX1yZXR1cm4gb30oZSxyKXx8dShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHUoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gdShlLHIpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZChlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT10fHwiU2V0Ij09PXQ/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpP2QoZSxyKTp2b2lkIDB9fWZ1bmN0aW9uIGQoZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiBwKGUpe3JldHVybihwPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gbChlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsbil9cmV0dXJuIHR9ZnVuY3Rpb24gbShlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1udWxsIT1hcmd1bWVudHNbcl0/YXJndW1lbnRzW3JdOnt9O3IlMj9sKE9iamVjdCh0KSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7ZihlLHIsdFtyXSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSk6bChPYmplY3QodCkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBmKGUscix0KXtyZXR1cm4gciBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHIse3ZhbHVlOnQsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3JdPXQsZX12YXIgeT0iaHR0cHM6Ly9kbXguZGlzdHJpY3RtLmlvL2IvdjEiLGI9e3BsYXliYWNrX21ldGhvZDp7YXV0b19wbGF5X3NvdW5kX29uOjEsYXV0b19wbGF5X3NvdW5kX29mZjoyLGNsaWNrX3RvX3BsYXk6Myxtb3VzZV9vdmVyOjQsdmlld3BvcnRfc291bmRfb246NSx2aWV3cG9ydF9zb3VuZF9vZmY6Nn19LGc9e2NvZGU6ImRpc3RyaWN0bURNWCIsZ3ZsaWQ6MTQ0LGFsaWFzZXM6WyJkbXgiXSxzdXBwb3J0ZWRGb3JtYXQ6W3MuYixzLmRdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3MuZCxzLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMubWVtYmVyaWR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7cmV0dXJuKGU9ZS5ib2R5fHx7fSkuc2VhdGJpZCYmT2JqZWN0KG4uaXNBcnJheSkoZS5zZWF0YmlkKT9lLnNlYXRiaWQucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPXQuYmlkLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtpZihlLnByaWNlPHQucHJpY2Upe3ZhciBuPWoodC5pbXBpZCxyKSxpPXgobiksbz1pLndpZHRoLHM9aS5oZWlnaHQ7cmV0dXJuIHQuY3BtPXBhcnNlRmxvYXQodC5wcmljZSkudG9GaXhlZCgyKSx0LmJpZElkPXQuaW1waWQsdC5yZXF1ZXN0SWQ9dC5pbXBpZCx0LndpZHRoPXQud3x8byx0LmhlaWdodD10Lmh8fHMsdC50dGw9MzAwLHQubWVkaWFUeXBlPW4ubWVkaWFUeXBlcyYmbi5tZWRpYVR5cGVzLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsInZpZGVvIj09PXQubWVkaWFUeXBlJiYodC52YXN0WG1sPV8odC5hZG0sdC5udXJsKSx0LnR0bD0zNjAwKSx0LmRlYWxpZCYmKHQuZGVhbElkPXQuZGVhbGlkKSx0LnV1aWQ9dC5iaWRJZCx0LmFkPXQuYWRtLHQubmV0UmV2ZW51ZT0hMCx0LmNyZWF0aXZlSWQ9dC5jcmlkLHQuY3VycmVuY3k9IlVTRCIsdC5tZXRhPXQubWV0YXx8e30sdC5hZG9tYWluJiZ0LmFkb21haW4ubGVuZ3RoPjAmJih0Lm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9dC5hZG9tYWluKSx0fXJldHVybiBlLmNwbT1lLnByaWNlLGV9KSx7cHJpY2U6MH0pO3JldHVybiBuLmFkbSYmZS5wdXNoKG4pLGV9KSxbXSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWUuYmlkSWR9KSk6W119LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1vLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksaT1udWxsLHM9e2lkOk9iamVjdChuLmdlbmVyYXRlVVVJRCkoKSxjdXI6WyJVU0QiXSx0bWF4OnQtMzAwLHRlc3Q6dGhpcy50ZXN0KCl8fDAsc2l0ZTp7cHVibGlzaGVyOntpZDpTdHJpbmcoZVswXS5wYXJhbXMubWVtYmVyaWQpfHxudWxsfX19O3RyeXt2YXIgYT1vLmIuZ2V0Q29uZmlnKCJkbXgiKTtzLnVzZXI9YS51c2VyfHx7fTt2YXIgYz1hLnNpdGV8fHt9O3Muc2l0ZT1tKG0oe30scy5zaXRlKSxjKX1jYXRjaChlKXt9dmFyIHU9W107ZVswXSYmZVswXS51c2VySWQmJih3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmlkbF9lbnYiKSwibGl2ZXJhbXAuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmlkNWlkLnVpZCIpLCJpZDUtc3luYy5jb20iLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQucHViY2lkIiksInB1YmNpZC5vcmciLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQudGRpZCIpLCJhZHNlcnZlci5vcmciLDEpLHcodSxPYmplY3Qobi5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQuY3JpdGVvSWQiKSwiY3JpdGVvLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5icml0ZXBvb2xpZCIpLCJicml0ZXBvb2wuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmxpcGIubGlwYmlkIiksImxpdmVpbnRlbnQuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmludGVudGlxaWQiKSwiaW50ZW50aXEuY29tIiwxKSx3KHUsT2JqZWN0KG4uZGVlcEFjY2VzcykoZVswXSwidXNlcklkLmxvdGFtZVBhbm9yYW1hSWQiKSwibG90YW1lLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5wYXJyYWJsZUlkIiksInBhcnJhYmxlLmNvbSIsMSksdyh1LE9iamVjdChuLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZC5uZXRJZCIpLCJuZXRpZC5kZSIsMSkscy51c2VyPXMudXNlcnx8e30scy51c2VyLmV4dD1zLnVzZXIuZXh0fHx7fSxzLnVzZXIuZXh0LmVpZHM9dSkscy50ZXN0fHxkZWxldGUgcy50ZXN0LHIuZ2RwckNvbnNlbnQmJihzLnJlZ3M9e30scy5yZWdzLmV4dD17fSxzLnJlZ3MuZXh0LmdkcHI9ITA9PT1yLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCwhMD09PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzLnVzZXI9e30scy51c2VyLmV4dD17fSxzLnVzZXIuZXh0LmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSkscy5yZWdzPXMucmVnc3x8e30scy5yZWdzLmNvcHBhPSEwPT09by5iLmdldENvbmZpZygiY29wcGEiKT8xOjAsciYmci51c3BDb25zZW50JiYocy5yZWdzPXMucmVnc3x8e30scy5yZWdzLmV4dD1zLnJlZ3MuZXh0fHx7fSxzLnJlZ3MuZXh0LnVzX3ByaXZhY3k9ci51c3BDb25zZW50KTt0cnl7aT1lWzBdLnNjaGFpbixzLnNvdXJjZT17fSxzLnNvdXJjZS5leHQ9e30scy5zb3VyY2UuZXh0LnNjaGFpbj1pfHx7fX1jYXRjaChlKXt9dmFyIGQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPXt9O3JldHVybiByLmlkPWUuYmlkSWQsci50YWdpZD1TdHJpbmcoZS5wYXJhbXMuZG14aWR8fGUuYWRVbml0Q29kZSksci5zZWN1cmU9MSxyLmJpZGZsb29yPWgoZSksZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8/ci52aWRlbz17dG9wZnJhbWU6MSxza2lwOmUubWVkaWFUeXBlcy52aWRlby5za2lwfHwwLGxpbmVhcml0eTplLm1lZGlhVHlwZXMudmlkZW8ubGluZWFyaXR5fHwxLG1pbmR1cmF0aW9uOmUubWVkaWFUeXBlcy52aWRlby5taW5kdXJhdGlvbnx8NSxtYXhkdXJhdGlvbjplLm1lZGlhVHlwZXMudmlkZW8ubWF4ZHVyYXRpb258fDYwLHBsYXliYWNrbWV0aG9kOmUubWVkaWFUeXBlcy52aWRlby5wbGF5YmFja21ldGhvZHx8WzJdLGFwaTpUKGUubWVkaWFUeXBlcy52aWRlbyksbWltZXM6ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbWVzfHxbInZpZGVvL21wNCJdLHByb3RvY29sczp6KGUubWVkaWFUeXBlcy52aWRlbyksaDplLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSx3OmUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdfTpyLmJhbm5lcj17dG9wZnJhbWU6MSx3OnYoZS5zaXplcywidyIpLGg6dihlLnNpemVzLCJoIiksZm9ybWF0OnYoZS5zaXplcykubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGUudyYmIm51bWJlciI9PXR5cGVvZiBlLmh9KSl9LHJ9KSk7cmV0dXJuIGQubGVuZ3RoPD01PyhzLmltcD1kLHttZXRob2Q6IlBPU1QiLHVybDp5LGRhdGE6SlNPTi5zdHJpbmdpZnkocyksYmlkZGVyUmVxdWVzdDpyfSk6SShkLHMscix5KX0sdGVzdDpmdW5jdGlvbigpe3JldHVybi0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZG1UZXN0PXRydWUiKT8xOjB9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIsdCxuKXt2YXIgaT1bXSxvPSJodHRwczovL2Nkbi5kaXN0cmljdG0uaW8vaWRzL2luZGV4Lmh0bWwiO2lmKHQmJnQuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiZpLnB1c2goWyJnZHByIix0LmNvbnNlbnRTdHJpbmddKSxuJiZpLnB1c2goWyJjY3BhIixuXSksaS5sZW5ndGg+MCYmKG8rPSI/IitpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiPSIpfSkpLmpvaW4oIiYiKSksZS5pZnJhbWVFbmFibGVkKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6b31dfX07ZnVuY3Rpb24gaChlKXt2YXIgcj1udWxsO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yKXt2YXIgdD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLnZpZGVvPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZTplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfSk7Im9iamVjdCIhPT1wKHQpfHwiVVNEIiE9PXQuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQodC5mbG9vcikpfHwocj1wYXJzZUZsb2F0KHQuZmxvb3IpKX1yZXR1cm4gbnVsbCE9PXI/cjplLnBhcmFtcy5mbG9vcn1mdW5jdGlvbiB2KGUscil7dmFyIHQ9TyhlLFt7c2l6ZTpbMzAwLDI1MF0sczoxMDB9LHtzaXplOls3MjgsOTBdLHM6OTV9LHtzaXplOlszMjAsNTBdLHM6OTB9LHtzaXplOlsxNjAsNjAwXSxzOjg4fSx7c2l6ZTpbMzAwLDYwMF0sczo4NX0se3NpemU6WzMwMCw1MF0sczo4MH0se3NpemU6Wzk3MCwyNTBdLHM6NzV9LHtzaXplOls5NzAsOTBdLHM6NjB9XSk7c3dpdGNoKHIpe2Nhc2UidyI6cmV0dXJuIHRbMF1bMF18fDA7Y2FzZSJoIjpyZXR1cm4gdFswXVsxXXx8MDtjYXNlInNpemUiOmRlZmF1bHQ6cmV0dXJuIHR9fWZ1bmN0aW9uIE8oZSxyKXt2YXIgdD1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KGUuc2l6ZVswXSwieCIpLmNvbmNhdChlLnNpemVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KGVbMF0sIngiKS5jb25jYXQoZVsxXSkpfSkpLG49ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIDA9PT1lLmxlbmd0aD8oZS5wdXNoKHQpLGUpOihlLnB1c2godCksKGU9KGU9ci5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybi0xIT09ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlWzBdLCJ4IikuY29uY2F0KGVbMV0pfSkpLmluZGV4T2YoIiIuY29uY2F0KHIuc2l6ZVswXSwieCIpLmNvbmNhdChyLnNpemVbMV0pKX0pKSkuc29ydCgoZnVuY3Rpb24oZSxyKXtyZXR1cm4gci5zLWUuc30pKSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zaXplfSkpKX0pLFtdKTtyZXR1cm4gQShbXS5jb25jYXQoYyhuKSxjKHQpKSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKHIsdCl7cmV0dXJuIGUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZVswXSwieCIpLmNvbmNhdChlWzFdKX0pKS5pbmRleE9mKCIiLmNvbmNhdChyWzBdLCJ4IikuY29uY2F0KHJbMV0pKT09PXR9KSl9ZnVuY3Rpb24gSShlLHIsdCxuKXtmb3IodmFyIGk9W107MCE9PWUubGVuZ3RoOyllLmxlbmd0aD49NT9pLnB1c2goZS5zcGxpY2UoMCw1KSk6aS5wdXNoKGUuc3BsaWNlKDAsZS5sZW5ndGgpKTtyZXR1cm4gaS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiByLmltcD1lLHttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6SlNPTi5zdHJpbmdpZnkociksYmlkZGVyUmVxdWVzdDp0fX0pKX1mdW5jdGlvbiBqKGUscil7cmV0dXJuIGEoci5iaWRkZXJSZXF1ZXN0LmJpZHMuZmlsdGVyKChmdW5jdGlvbihyKXtyZXR1cm4gci5iaWRJZD09PWV9KSksMSlbMF19ZnVuY3Rpb24gUyhlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheShlWzBdKT9lWzBdOmV9ZnVuY3Rpb24geChlKXt2YXIgcj1lLnNpemVzLHQ9e307cmV0dXJuIHQud2lkdGg9UyhyKVswXSx0LmhlaWdodD1TKHIpWzFdLHR9ZnVuY3Rpb24gdyhlLHIsdCxpKXtPYmplY3Qobi5pc1N0cikocikmJkFycmF5LmlzQXJyYXkoZSkmJmUucHVzaCh7c291cmNlOnQsdWlkczpbe2lkOnIsYXR5cGU6aX1dfSl9ZnVuY3Rpb24gVChlKXt2YXIgcj1lLmFwaTtyZXR1cm4gciYmQXJyYXkuaXNBcnJheShyKSYmci5sZW5ndGg+MD9yOlsyXX1mdW5jdGlvbiB6KGUpe3ZhciByPWUucHJvdG9jb2xzO3JldHVybiByJiZBcnJheS5pc0FycmF5KHIpJiZyLmxlbmd0aD4wP3I6WzIsMyw1LDYsNyw4XX1mdW5jdGlvbiBfKGUscil7dHJ5e3ZhciB0PS88aW1nXHNbXj5dKj9zcmNccyo9XHMqWydcIl0oW14nXCJdKj8pWydcIl1bXj5dKj8+LyxuPWEoZS5tYXRjaCh0KSwyKSxpPW5bMF0sbz1uWzFdO2lmKGU9ZS5yZXBsYWNlKHQsIiIpLGkmJm8pe3ZhciBzPSI8SW1wcmVzc2lvbj48IVtDREFUQVsiLmNvbmNhdChvLCJdXT48L0ltcHJlc3Npb24+Iik7ZT1lLnJlcGxhY2UoIjwvSW1wcmVzc2lvbj4iLCI8L0ltcHJlc3Npb24+Ii5jb25jYXQocykpfXJldHVybiBlfWNhdGNoKHQpe2lmKCFyKXJldHVybiBlO3ZhciBjPSI8SW1wcmVzc2lvbj48IVtDREFUQVsiLmNvbmNhdChyLCJdXT48L0ltcHJlc3Npb24+Iik7cmV0dXJuIGU9ZS5yZXBsYWNlKCI8L0ltcHJlc3Npb24+IiwiPC9JbXByZXNzaW9uPiIuY29uY2F0KGMpKX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGcpfX0sWzQxN10pOwp1cGJqc0NodW5rKFsyNzZdLHs0Mjc6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDQyOCl9LDQyODpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwiZW14QWRhcHRlciIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSksdC5kKHIsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB2fSkpO3ZhciBpPXQoMCksbj10KDEpLGE9dCgyKSxkPXQoMTMpLG89dCgxMikscz10Lm4obyksdT10KDExKSxjPXQubih1KTtmdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iZW14X2RpZ2l0YWwiLGc9Imh0dHBzOi8vanMuYnJlYWx0aW1lLmNvbS9vdXRzdHJlYW0vMS4zMC4wL2J1bmRsZS5qcyIsbT0iVVNEIixiPVt7a2V5OiJpZGxfZW52Iixzb3VyY2U6ImxpdmVyYW1wLmNvbSIscnRpUGFydG5lcjoiaWRsIixxdWVyeVBhcmFtOiJpZGwifSx7a2V5OiJ1aWQyLmlkIixzb3VyY2U6InVpZGFwaS5jb20iLHJ0aVBhcnRuZXI6IlVJRDIiLHF1ZXJ5UGFyYW06InVpZDIifV0sZj17dmFsaWRhdGVTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSkmJnZvaWQgMCE9PWVbMF0/ZS5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXkpKGUpJiYyPT09ZS5sZW5ndGh9KSk6KE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogU2l6ZXMgc2hvdWxkIGJlIGFuIGFycmF5IiksITEpfSxjaGVja1ZpZGVvQ29udGV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYoImluc3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0fHwib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KX0sYnVpbGRCYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcyxmLnZhbGlkYXRlU2l6ZXMocil8fChPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IGNvdWxkIG5vdCBkZXRlY3QgbWVkaWFUeXBlIGJhbm5lciBzaXplcy4gQXNzaWduaW5nIHRvIGJpZCBzaXplcyBpbnN0ZWFkIikscj1lLnNpemVzKSx7Zm9ybWF0OnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSksdzpyWzBdWzBdLGg6clswXVsxXX19LGZvcm1hdFZpZGVvUmVzcG9uc2U6ZnVuY3Rpb24oZSxyLHQpeyhlLnZhc3RYbWw9ci5hZG0sdC5iaWRkZXJSZXF1ZXN0JiZ0LmJpZGRlclJlcXVlc3QuYmlkcyYmdC5iaWRkZXJSZXF1ZXN0LmJpZHMubGVuZ3RoPjApJiYoYygpKHQuYmlkZGVyUmVxdWVzdC5iaWRzLChmdW5jdGlvbihyKXtyZXR1cm4gZS5yZXF1ZXN0SWQmJnIuYmlkSWQmJmUucmVxdWVzdElkPT09ci5iaWRJZCYmci5tZWRpYVR5cGVzJiZyLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iPT09ci5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR9KSkmJihlLnJlbmRlcmVyPWYuY3JlYXRlUmVuZGVyZXIoZSx7aWQ6ci5pZCx1cmw6Z30pKSk7cmV0dXJuIGV9LGlzTW9iaWxlOmZ1bmN0aW9uKCl7cmV0dXJuLyhpb3N8aXBvZHxpcGFkfGlwaG9uZXxhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGlzQ29ubmVjdGVkVFY6ZnVuY3Rpb24oKXtyZXR1cm4vKHNtYXJ0Wy1dP3R2fGhiYnR2fGFwcGxldHZ8Z29vZ2xldHZ8aGRtaXxuZXRjYXN0XC50dnx2aWVyYXxuZXR0dnxyb2t1fFxiZHR2XGJ8c29ueWR0dnxpbmV0dHZicm93c2VyfFxidHZcYikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxnZXREZXZpY2U6ZnVuY3Rpb24oKXtyZXR1cm57dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGRldmljZXR5cGU6Zi5pc01vYmlsZSgpPzE6Zi5pc0Nvbm5lY3RlZFRWKCk/MzoyLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfX0sY2xlYW5Qcm90b2NvbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvdG9jb2xzJiZzKCkoZS5wcm90b2NvbHMsNykmJihPYmplY3QoaS5sb2dXYXJuKSgiZW14X2RpZ2l0YWw6IFZBU1QgNC4wIGlzIGN1cnJlbnRseSBub3Qgc3VwcG9ydGVkLiBUaGlzIHByb3RvY29sIGhhcyBiZWVuIGZpbHRlcmVkIG91dCBvZiB0aGUgcmVxdWVzdC4iKSxlLnByb3RvY29scz1lLnByb3RvY29scy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiA3IT09ZX0pKSksZX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj1lJiZlLnBhcmFtcyYmZS5wYXJhbXNbMF0mJmUucGFyYW1zWzBdLnZpZGVvP2UucGFyYW1zWzBdLnZpZGVvOnt9O3dpbmRvdy5lbXhWaWRlb1F1ZXVlPXdpbmRvdy5lbXhWaWRlb1F1ZXVlfHxbXSx3aW5kb3cucXVldWVFbXhWaWRlbyh7aWQ6ZS5hZFVuaXRDb2RlLGFkc1Jlc3BvbnNlczplLnZhc3RYbWwsb3B0aW9uczpyfSksd2luZG93LmVteFZpZGVvUmVhZHkmJndpbmRvdy52aWRlb2pzJiZ3aW5kb3cuZW14VmlkZW9SZWFkeSgpfSkpfSxjcmVhdGVSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciB0PWQuYS5pbnN0YWxsKHtpZDpyLmlkLHVybDpnLGxvYWRlZDohMX0pO3RyeXt0LnNldFJlbmRlcihmLm91dHN0cmVhbVJlbmRlcil9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHR9LGJ1aWxkVmlkZW86ZnVuY3Rpb24oZSl7dmFyIHI9cChlLm1lZGlhVHlwZXMudmlkZW8sZS5wYXJhbXMudmlkZW8pO3JldHVybiBPYmplY3QoaS5pc0FycmF5KShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMV0pOihyLnc9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0sci5oPWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdKSxmLmNsZWFuUHJvdG9jb2xzKHIpfSxwYXJzZVJlc3BvbnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvJSg/IVswLTldWzAtOWEtZkEtRl0rKS9nLCIlMjUiKSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nRXJyb3IpKCJlbXhfZGlnaXRhbEJpZEFkYXB0ZXIiLCJlcnJvciIsZSl9fSxnZXRSZWZlcnJlcjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSxnZXRTaXRlOmZ1bmN0aW9uKGUpe3JldHVybntkb21haW46T2JqZWN0KGkucGFyc2VVcmwpKGUucmVmZXJlcikuaG9zdG5hbWUscGFnZTplLnJlZmVyZXIscmVmOmYuZ2V0UmVmZXJyZXIoKX19LGdldEdkcHI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIucmVncz17ZXh0OntnZHByOiEwPT09ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSksZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIudXNlcj17ZXh0Ontjb25zZW50OmUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZ319KSxyfSxnZXRTdXBwbHlDaGFpbjpmdW5jdGlvbihlLHIpe3JldHVybiBlLmJpZHNbMF0mJmUuYmlkc1swXS5zY2hhaW4mJihyLnNvdXJjZT17ZXh0OntzY2hhaW46ZS5iaWRzWzBdLnNjaGFpbn19KSxyfSxnZXRFaWRzOmZ1bmN0aW9uKGUpe3JldHVybiBiLm1hcChmLmdldFVzZXJJZChlKSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKX0sZ2V0VXNlcklkOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihyKXt2YXIgdD1yLmtleSxuPXIuc291cmNlLGE9ci5ydGlQYXJ0bmVyLGQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwidXNlcklkLiIuY29uY2F0KHQpKTtyZXR1cm4gZD9mLmZvcm1hdEVpZChkLG4sYSk6bnVsbH19LGZvcm1hdEVpZDpmdW5jdGlvbihlLHIsdCl7cmV0dXJue3NvdXJjZTpyLHVpZHM6W3tpZDplLGV4dDp7cnRpUGFydG5lcjp0fX1dfX19LHY9e2NvZGU6bCxndmxpZDoxODMsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIGJpZCBvciBiaWQgcGFyYW1zLiIpLCExO2lmKGUuYmlkZGVyIT09bClyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoJ2VteF9kaWdpdGFsOiBNdXN0IHVzZSAiZW14X2RpZ2l0YWwiIGFzIGJpZGRlciBjb2RlLicpLCExO2lmKCFlLnBhcmFtcy50YWdpZHx8IU9iamVjdChpLmlzU3RyKShlLnBhcmFtcy50YWdpZCkpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyB0YWdpZCBwYXJhbSBvciB0YWdpZCBwcmVzZW50IGFuZCBub3QgdHlwZSBTdHJpbmcuIiksITE7dmFyIHI7aWYoZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyKXtpZihyPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzLCFmLnZhbGlkYXRlU2l6ZXMocikpcmV0dXJuIE9iamVjdChpLmxvZ1dhcm4pKCJlbXhfZGlnaXRhbDogTWlzc2luZyBzaXplcyBpbiBiaWQiKSwhMX1lbHNlIGlmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXtpZighZi5jaGVja1ZpZGVvQ29udGV4dChlKSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHZpZGVvIGNvbnRleHQ6IGluc3RyZWFtIG9yIG91dHN0cmVhbSIpLCExO2lmKCFlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSlyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoImVteF9kaWdpdGFsOiBNaXNzaW5nIHZpZGVvIHBsYXllclNpemUiKSwhMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49Imh0dHBzOi8vaGIuZW14ZGd0LmNvbT90PSIrKHIudGltZW91dHx8IiIpKyImdHM9IitEYXRlLm5vdygpKyImc3JjPXBianMiLGE9bG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZigiaHR0cHMiKT4tMT8xOjAsZD1mLmdldERldmljZSgpLG89Zi5nZXRTaXRlKHIucmVmZXJlckluZm8pO09iamVjdChpLl9lYWNoKShlLChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInRhZ2lkIixlLnBhcmFtcyksbj1wYXJzZUZsb2F0KGZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gcGFyc2VGbG9hdChPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImJpZGZsb29yIixlLnBhcmFtcykpO3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5Om0sbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHIpJiYhaXNOYU4oci5mbG9vcikmJiJVU0QiPT09ci5jdXJyZW5jeSlyZXR1cm4gci5mbG9vcjtyZXR1cm4gbnVsbH0oZSkpfHwwLGQ9ISFlLm1lZGlhVHlwZXMudmlkZW8sbz1wKHtpZDplLmJpZElkLHRpZDplLnRyYW5zYWN0aW9uSWQsdGFnaWQ6cixzZWN1cmU6YX0sZD97dmlkZW86Zi5idWlsZFZpZGVvKGUpfTp7YmFubmVyOmYuYnVpbGRCYW5uZXIoZSl9LG4+MD97YmlkZmxvb3I6bixiaWRmbG9vcmN1cjptfTp7fSk7dC5wdXNoKG8pfSkpO3ZhciBzPXtpZDpyLmF1Y3Rpb25JZCxpbXA6dCxkZXZpY2U6ZCxzaXRlOm8sY3VyOm0sdmVyc2lvbjoiMS41LjEifTtpZihzPWYuZ2V0R2RwcihyLHAoe30scykpLHM9Zi5nZXRTdXBwbHlDaGFpbihyLHAoe30scykpLHImJnIudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT1yLnVzcENvbnNlbnQpLHIudXNlcklkKXt2YXIgdT1mLmdldEVpZHMocik7dS5sZW5ndGg+MCYmKHMudXNlciYmcy51c2VyLmV4dD9zLnVzZXIuZXh0LmVpZHM9dTpzLnVzZXI9e2V4dDp7ZWlkczp1fX0pfXJldHVybnttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6SlNPTi5zdHJpbmdpZnkocyksb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9ZS5ib2R5fHx7fTtyZXR1cm4gaS5zZWF0YmlkJiZpLnNlYXRiaWQubGVuZ3RoPjAmJmkuc2VhdGJpZFswXS5iaWQmJmkuc2VhdGJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtlPWUuYmlkWzBdO3ZhciBpPSExLG49Zi5wYXJzZVJlc3BvbnNlKGUuYWRtKXx8IiIsZD17cmVxdWVzdElkOmUuaWQsY3BtOmUucHJpY2Usd2lkdGg6ZS53LGhlaWdodDplLmgsY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOmUudHRsLGFkOm59O2UuYWRtJiZlLmFkbS5pbmRleE9mKCI8P3htbCB2ZXJzaW9uPSIpPi0xJiYoaT0hMCxkPWYuZm9ybWF0VmlkZW9SZXNwb25zZShkLHAoe30sZSkscikpLGQubWVkaWFUeXBlPWk/YS5kOmEuYixlLmFkb21haW4mJmUuYWRvbWFpbi5sZW5ndGgmJihkLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbn0pLHQucHVzaChkKX0pKSx0fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsaSl7dmFyIG49W107aWYoZS5pZnJhbWVFbmFibGVkKXt2YXIgYT0iaHR0cHM6Ly9iaWRkci5icmVhbHRpbWUuY29tL2NoZWNrLmh0bWwiO3QmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcz9hKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHQuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpOmErPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHQuY29uc2VudFN0cmluZykpLG4ucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6YX0pfXJldHVybiBufX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKHYpfX0sWzQyN10pOwp1cGJqc0NodW5rKFsyNzNdLHs0MzU6ZnVuY3Rpb24obix0LGUpe24uZXhwb3J0cz1lKDQzNil9LDQzNjpmdW5jdGlvbihuLHQsZSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxlLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksZS5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBifSkpO3ZhciByPWUoMCksbz1lKDE0KSxpPWUoMSksYT1lKDcpO2Z1bmN0aW9uIGMobil7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24obil7cmV0dXJuIHR5cGVvZiBufTpmdW5jdGlvbihuKXtyZXR1cm4gbiYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmbi5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmbiE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIG59KShuKX12YXIgdT1PYmplY3QoYS5iKSgpLGQ9TWF0aC5yYW5kb20oKSxzPSJpLmUtcGxhbm5pbmcubmV0IixmPVsiY2kiLCJzdiIsInQiLCJtbCIsInNuIl0scD0icGJzcl8iLG09InBidmlfIixsPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC8obW9iaWxlKXwoaXAoaG9uZXxhZCkpfChhbmRyb2lkKXwoYmxhY2tiZXJyeSl8KG5va2lhKXwocGhvbmUpfChvcGVyYVxzbWluaSkvaSksaD1bIjF4MSIsIjMwMHg1MCIsIjMyMHg1MCIsIjMwMHgyNTAiXSx2PVsiMXgxIiwiOTcweDkwIiwiOTcweDI1MCIsIjE2MHg2MDAiLCIzMDB4NjAwIiwiNzI4eDkwIiwiMzAweDI1MCJdLGI9e2NvZGU6ImVwbGFubmluZyIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24obil7cmV0dXJuIEJvb2xlYW4obi5wYXJhbXMuY2kpfHxCb29sZWFuKG4ucGFyYW1zLnQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKG4sdCl7dmFyIGUscixpLGEsbCxoPWZ1bmN0aW9uKG4pe2lmKGZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKG5bdF0ucGFyYW1zLnQpcmV0dXJuITA7cmV0dXJuITF9KG4pKXJldHVybiBmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gbi5mb3JFYWNoKChmdW5jdGlvbihuKXtyZXR1cm4gdD10fHxuLnBhcmFtcy5pc3Z9KSkse3Q6ITAsaXN2OnR8fHN9fShuLmZpbHRlcigoZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyYW1zLnR9KSkpO3ZhciB0PXt9O3JldHVybiBuLmZvckVhY2goKGZ1bmN0aW9uKG4pe2YuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bi5wYXJhbXNbZV0mJiF0W2VdJiYodFtlXT1uLnBhcmFtc1tlXSl9KSl9KSksdH0obiksdj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5jaGFyc2V0fHx3aW5kb3cudG9wLmRvY3VtZW50LmNoYXJhY3RlclNldH1jYXRjaChuKXtyZXR1cm4gZG9jdW1lbnQuY2hhcnNldHx8ZG9jdW1lbnQuY2hhcmFjdGVyU2V0fX0oKSxiPWZ1bmN0aW9uKG4sdCl7dmFyIGU9KG89bixpPXt9LG8uZm9yRWFjaCgoZnVuY3Rpb24obil7dmFyIHQ9dyhuLCEwKTtpW3RdPWlbdF0/aVt0XTpbXSxpW3RdLnB1c2gobil9KSksaSkscj17c3RyOiIiLHZzOiIiLG1hcDp7fX07dmFyIG8saTtyZXR1cm4gci5zdHI9T2JqZWN0LmtleXMoZSkubWFwKChmdW5jdGlvbihuKXtyZXR1cm4gZVtuXS5tYXAoKGZ1bmN0aW9uKG4sZSl7dmFyIG87cmV0dXJuIHIudnMrPWZ1bmN0aW9uKG4pe3ZhciB0LGU9IiI7dS5oYXNMb2NhbFN0b3JhZ2UoKT9lKz0odD1mdW5jdGlvbihuKXt2YXIgdD11LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHArbi5hZFVuaXRDb2RlKXx8MCxlPXUuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UobStuLmFkVW5pdENvZGUpfHwwLHI9dD4wP2UvdDowO3JldHVybntyZW5kZXI6dCxyYXRpbzp3aW5kb3cucGFyc2VJbnQoMTAqciwxMCl9fShuKSkucmVuZGVyPj00P3QucmF0aW8udG9TdHJpbmcoMTYpOiJGIjplKz0iRiI7cmV0dXJuIGV9KG4pLG89dD9mdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC9ffFwufC18XC8vZywiIikucmVwbGFjZSgvXClcKHxcKHxcKXw6L2csIl8iKS5yZXBsYWNlKC9eXyt8XyskL2csIiIpfShuLmFkVW5pdENvZGUpOm4ucGFyYW1zJiZuLnBhcmFtcy5zbnx8dyhuLCEwKSsiXyIrZSxyLm1hcFtvXT1uLmJpZElkLG8rIjoiK3cobil9KSkuam9pbigiKyIpfSkpLmpvaW4oIisiKSxyfShuLGgubWwpLGc9dC5yZWZlcmVySW5mby5yZWZlcmVyO2lmKGgudCllPSJodHRwczovLyIraC5pc3YrIi9sYXllcnMvdF9wYmpzXzIuanNvbiIscj17fTtlbHNle2U9Imh0dHBzOi8vIisoaC5zdnx8InBianMuZS1wbGFubmluZy5uZXQiKSsiL3BianMvMS8iK2guY2krIi8xLyIrZnVuY3Rpb24obil7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiB0LmhyZWY9bix0Lmhvc3RuYW1lfShnKSsiL1JPUyI7dmFyIHk9dC5yZWZlcmVySW5mby5yZWZlcmVyLnJlYWNoZWRUb3A/d2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcjp0LnJlZmVyZXJJbmZvLnJlZmVyZXI7aWYodS5oYXNMb2NhbFN0b3JhZ2UoKSYmKGk9W10sbi5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuLmFkVW5pdENvZGUpO3Q/aih0KTppLnB1c2gobi5hZFVuaXRDb2RlKX0pKSxpLmxlbmd0aCYmKGE9aSxsPW5ldyBNdXRhdGlvbk9ic2VydmVyKChmdW5jdGlvbihuLHQpe24mJkFycmF5LmlzQXJyYXkobikmJm4uZm9yRWFjaCgoZnVuY3Rpb24obil7biYmbi5hZGRlZE5vZGVzJiZBcnJheS5pc0FycmF5KG4uYWRkZWROb2RlcykmJm4uYWRkZWROb2Rlcy5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgZT1hLmluZGV4T2Yobi5pZCk7ZT49MCYmKGoobiksYS5zcGxpY2UoZSwxKSxhLmxlbmd0aHx8dC5kaXNjb25uZWN0KCkpfSkpfSkpfSkpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLChmdW5jdGlvbihuKXt2YXIgdD17Y2hpbGRMaXN0OiEwLHN1YnRyZWU6ITAsY2hhcmFjdGVyRGF0YTohMH07bC5vYnNlcnZlKGRvY3VtZW50LmJvZHksdCl9KSkpKSxyPXtybmQ6ZCxlOmIuc3RyLHVyOmd8fCJmaWxlIixwYnY6IjUuMjAuMiIsbmNiOiIxIix2czpiLnZzfSx2JiYoci5jcnM9dikseSYmKHIuZnI9eSksdCYmdC5nZHByQ29uc2VudCYmdm9pZCAwIT09dC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKHIuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPyIxIjoiMCIsdm9pZCAwIT09dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoci5nZHByY3M9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksdCYmdC51c3BDb25zZW50JiYoci5jY3BhPXQudXNwQ29uc2VudCksT2JqZWN0KG8uYSkoKS5nZXRVc2VySWRzJiYiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0KG8uYSkoKS5nZXRVc2VySWRzKXt2YXIgRT1PYmplY3Qoby5hKSgpLmdldFVzZXJJZHMoKTtmb3IodmFyIFMgaW4gRSlyWyJlXyIrU109Im9iamVjdCI9PT1jKEVbU10pP2VuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShFW1NdKSk6ZW5jb2RlVVJJQ29tcG9uZW50KEVbU10pfX1yZXR1cm57bWV0aG9kOiJHRVQiLHVybDplLGRhdGE6cixhZFVuaXRUb0JpZElkOmIubWFwfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24obix0KXt2YXIgZT1uLmJvZHksbz1bXTtyZXR1cm4gZSYmIU9iamVjdChyLmlzRW1wdHkpKGUuc3ApJiZlLnNwLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdChyLmlzRW1wdHkpKG4uYSl8fG4uYS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj17cmVxdWVzdElkOnQuYWRVbml0VG9CaWRJZFtuLmtdLGNwbTplLnByLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGFkOmUuYWRtLHR0bDoxMjAsY3JlYXRpdmVJZDplLmNyaWQsbmV0UmV2ZW51ZTp0cnVlLGN1cnJlbmN5OiJVU0QifTtlLmFkb20mJihyLm1ldGE9e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbX0pLG8ucHVzaChyKX0pKX0pKSxvfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24obix0KXt2YXIgZT1bXSxvPSFPYmplY3Qoci5pc0VtcHR5KSh0KSYmdFswXS5ib2R5O28mJiFPYmplY3Qoci5pc0VtcHR5KShvLmNzKSYmby5jcy5mb3JFYWNoKChmdW5jdGlvbih0KXsic3RyaW5nIj09dHlwZW9mIHQmJm4ucGl4ZWxFbmFibGVkP2UucHVzaCh7dHlwZToiaW1hZ2UiLHVybDp0fSk6Im9iamVjdCI9PT1jKHQpJiZ0LmlmciYmbi5pZnJhbWVFbmFibGVkJiZlLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOnQudX0pfSkpO3JldHVybiBlfX07ZnVuY3Rpb24gZygpe3JldHVybiBPYmplY3Qoci5nZXRXaW5kb3dTZWxmKSgpLmlubmVyV2lkdGg8PTEwMjR8fHdpbmRvdy5vcmllbnRhdGlvbnx8bH1mdW5jdGlvbiB5KG4sdCl7dmFyIGU9ZygpP2g6dixyPWUuaW5kZXhPZihuKSxvPWUuaW5kZXhPZih0KTtyZXR1cm4gcj4tMT9vPi0xJiZyPG8/MTotMTpvPi0xPzE6MH1mdW5jdGlvbiB3KG4sdCl7dmFyIGUsbz1uLnNpemVzJiZuLnNpemVzLmxlbmd0aD8oZT1uLnNpemVzLE9iamVjdChyLnBhcnNlU2l6ZXNJbnB1dCkoZSkuc29ydCh5KSk6W107cmV0dXJuIG8ubGVuZ3RoP3Q/b1swXTpvLmpvaW4oIiwiKToiMXgxIn1mdW5jdGlvbiBqKG4pe3ZhciB0Oyh0PXtuYW1lOm4uaWQsZGl2Om59KS5kaXYmJihFKHArdC5uYW1lKSxmdW5jdGlvbigpe3ZhciBuLHQ9NSxlPTFlMyxyPS41O2Z1bmN0aW9uIG8obix0LGUpe3JldHVybiB0Pm58fGU8MH1mdW5jdGlvbiBpKG4pe3JldHVybiBuPDB9ZnVuY3Rpb24gYShuLHQpe3JldHVybiB0PG59ZnVuY3Rpb24gYyhuLHQsZSl7dmFyIHI9MDtyZXR1cm4gbyhuLHQsZSl8fChyPWkodCk/ZS8oZS10KTphKG4sZSk/MToobi10KS8oZS10KSkscn1mdW5jdGlvbiB1KCl7dHJ5e3JldHVybiB3aW5kb3c9PT13aW5kb3cudG9wfHx3aW5kb3cuZnJhbWVFbGVtZW50fWNhdGNoKG4pe319ZnVuY3Rpb24gZCh0KXt0cnl7bj10JiZ3aW5kb3cuZG9jdW1lbnQuYm9keS5jb250YWlucyh0KT93aW5kb3c6d2luZG93LnRvcC5kb2N1bWVudC5ib2R5LmNvbnRhaW5zKHQpP3RvcDp2b2lkIDB9Y2F0Y2gobil7fXJldHVybiBufWZ1bmN0aW9uIHModCl7cmV0dXJuIG59ZnVuY3Rpb24gZihuKXtyZXR1cm4gYyhzKCkuaW5uZXJIZWlnaHQsbi50b3Asbi5ib3R0b20pfWZ1bmN0aW9uIHAobil7cmV0dXJuIGMocygpLmlubmVyV2lkdGgsbi5sZWZ0LG4ucmlnaHQpfWZ1bmN0aW9uIG0obil7dmFyIHQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtyZXR1cm4gZih0KSpwKHQpPnJ9ZnVuY3Rpb24gbChuKXtyZXR1cm4gbi5vZmZzZXRIZWlnaHQ+MCYmbi5vZmZzZXRXaWR0aD4wfWZ1bmN0aW9uIGgobil7dmFyIHQ9bi5zdHlsZSxlPW4ucGFyZW50Tm9kZTtyZXR1cm4hKHQmJjA9PT1wYXJzZUZsb2F0KHQub3BhY2l0eSkpJiYoIWV8fGgoZSkpfWZ1bmN0aW9uIHYobil7cmV0dXJuImhpZGRlbiIhPT1zKCkuZ2V0Q29tcHV0ZWRTdHlsZShuKS52aXNpYmlsaXR5fWZ1bmN0aW9uIGIoKXt0cnl7cmV0dXJuIHMoKS50b3AuZG9jdW1lbnQuaGFzRm9jdXMoKX1jYXRjaChuKXt9fWZ1bmN0aW9uIGcobil7cmV0dXJuIG51bGwhPW59ZnVuY3Rpb24geSgpe3JldHVybiBnKHMoKSl9ZnVuY3Rpb24gdygpe3JldHVybiBnKHMoKS5mcmFtZUVsZW1lbnQpfWZ1bmN0aW9uIGoobixyLG8pe3ZhciBpPUUocik/bisxOjA7aT09PXQ/bygpOnNldFRpbWVvdXQoai5iaW5kKHRoaXMsaSxyLG8pLGUvdCl9ZnVuY3Rpb24gRShuKXtyZXR1cm4gZChuKSx1KCkmJnkoKSYmYigpJiZsKG4pJiZ2KG4pJiZoKG4pJiZtKG4pJiYoIXcoKXx8RShzKCkuZnJhbWVFbGVtZW50KSl9cmV0dXJue2lzVmlzaWJsZTpFLG9uVmlldzpqLmJpbmQodGhpcywwKX19KCkub25WaWV3KHQuZGl2LEUuYmluZCh2b2lkIDAsbSt0Lm5hbWUpKSl9ZnVuY3Rpb24gRShuKXt2YXIgdDt0cnl7dD0odD11LmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKG4pKT93aW5kb3cucGFyc2VJbnQodCwxMCkrMToxLHUuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG4sdCl9Y2F0Y2gobil7cmV0dXJuITF9cmV0dXJuITB9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzQzNV0pOwp1cGJqc0NodW5rKFsyNTBdLHs0ODY6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDQ4Nyl9LDQ4NzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3RvcmFnZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBUfSkpLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe0k9ITF9LHQuZ2V0U3luY1VybD1mdW5jdGlvbigpe3JldHVybiBifTt2YXIgbj1yKDApLG89cigxKSxpPXIoMTMpLGE9cigyKSxzPXIoMyksZD1yKDcpO2Z1bmN0aW9uIHUoZSl7cmV0dXJuKHU9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBjKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4sbyxpPVtdLGE9ITAscz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2gobi52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe3M9ITAsbz1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBvfX1yZXR1cm4gaX0oZSx0KXx8cChlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZihlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fHAoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gZihlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1yfHwiU2V0Ij09PXI/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP2YoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIGYoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgZz0iZ3JpZCIsYj0iaHR0cHM6Ly94LmJpZHN3aXRjaC5uZXQvc3luYz9zc3A9dGhlbWVkaWFncmlkIixtPSJ0bWd1aWQiLHk9Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMiLHY9T2JqZWN0KGQuYikoNjg2LGcpLGg9IkJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhdWlkIHBhcmFtZXRlciAtICIsUz0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFkbSBwYXJhbWV0ZXIgLSAiLGo9IkFycmF5IG9mIGJpZCBvYmplY3RzIGlzIGVtcHR5Iix4PSJTZWF0YmlkIGFycmF5IGZyb20gcmVzcG9uc2UgaGFzIGVtcHR5IGl0ZW0iLHc9IlJlc3BvbnNlIGlzIGVtcHR5IixPPSJSZXNwb25zZSBoYXMgZW1wdHkgc2VhdGJpZCBhcnJheSIsQT0iU2VhdGJpZCBmcm9tIHJlc3BvbnNlIGhhcyBubyBhcnJheSBvZiBiaWQgb2JqZWN0cyAtICIsST0hMSxUPXtjb2RlOmcsYWxpYXNlczpbInBsYXl3aXJlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iLGEuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy51aWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXtpZighZS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIHI9bnVsbCxvPW51bGwsaT1udWxsLGQ9bnVsbCxwPW51bGwsZj1udWxsLGc9bnVsbCxiPXR8fHt9LHk9Yi5iaWRkZXJSZXF1ZXN0SWQsaD1iLmF1Y3Rpb25JZCxTPWIuZ2RwckNvbnNlbnQsaj1iLnVzcENvbnNlbnQseD1iLnRpbWVvdXQsdz1iLnJlZmVyZXJJbmZvLE89dz9lbmNvZGVVUklDb21wb25lbnQody5yZWZlcmVyKToiIixBPVtdLEk9e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXt5fHwoeT1lLmJpZGRlclJlcXVlc3RJZCksaHx8KGg9ZS5hdWN0aW9uSWQpLGR8fChkPWUuc2NoYWluKSxwfHwocD1lLnVzZXJJZEFzRWlkcyk7dmFyIHQ9ZS5wYXJhbXMscz10LnVpZCxsPXQua2V5d29yZHMsZj1lLm1lZGlhVHlwZXMsZz1lLmJpZElkLGI9ZS5hZFVuaXRDb2RlLG09ZS5ydGQsdj1lLm9ydGIySW1wO0lbZ109ZTt2YXIgUz1mdW5jdGlvbihlLHQpe3ZhciByPWUudmlkZW8/InZpZGVvIjoiYmFubmVyIixuPXQucGFyYW1zLmJpZEZsb29yfHwwO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yKXt2YXIgbz10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOnQuc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD1jKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfSk7Im9iamVjdCIhPT11KG8pfHwiVVNEIiE9PW8uY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoby5mbG9vcikpfHwobj1NYXRoLm1heChuLHBhcnNlRmxvYXQoby5mbG9vcikpKX1yZXR1cm4gbn0oZnx8e30sZSksaj1tJiZtLmp3cGxheWVyJiZtLmp3cGxheWVyLnRhcmdldGluZztqJiYoIW8mJmouc2VnbWVudHMmJihvPWouc2VnbWVudHMpLCFpJiZqLmNvbnRlbnQmJihpPWouY29udGVudCkpO3ZhciB4PXtpZDpnLnRvU3RyaW5nKCksdGFnaWQ6cy50b1N0cmluZygpLGV4dDp7ZGl2aWQ6Yi50b1N0cmluZygpfX07aWYodiYmdi5leHQmJnYuZXh0LmRhdGEmJih4LmV4dC5kYXRhPXYuZXh0LmRhdGEseC5leHQuZGF0YS5hZHNlcnZlciYmeC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3Q/eC5leHQuZ3BpZD14LmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdC50b1N0cmluZygpOnguZXh0LmdwaWQ9di5leHQuZGF0YS5wYmFkc2xvdCYmdi5leHQuZGF0YS5wYmFkc2xvdC50b1N0cmluZygpKSxPYmplY3Qobi5pc0VtcHR5KShsKXx8KHJ8fChyPWwpLHguZXh0LmJpZGRlcj17a2V5d29yZHM6bH0pLFMmJih4LmJpZGZsb29yPVMpLCFmfHxmW2EuYl0pe3ZhciB3PWZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5zaXplc3x8ZS5zaXplcztpZighcnx8IXIubGVuZ3RoKXJldHVybjt2YXIgbz1yLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShlKX0pKSxpPU9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShyWzBdKTtvLmxlbmd0aCYmKGkuZm9ybWF0PW8pO3JldHVybiBpfShlLGY/ZlthLmJdOnt9KTt3JiYoeC5iYW5uZXI9dyl9aWYoZiYmZlthLmRdKXt2YXIgTz1mdW5jdGlvbihlLHQpe3ZhciByPXQucGxheWVyU2l6ZSxvPXQubWltZXMsaT10LmR1cmF0aW9uUmFuZ2VTZWMsYT10LnByb3RvY29scyxzPShyfHxlLnNpemVzfHxbXSlbMF07aWYoIXMpcmV0dXJuO3ZhciBkPU9iamVjdChuLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplKShzKTtvJiYoZC5taW1lcz1vKTtpJiYyPT09aS5sZW5ndGgmJihkLm1pbmR1cmF0aW9uPWlbMF0sZC5tYXhkdXJhdGlvbj1pWzFdKTthJiZhLmxlbmd0aCYmKGQucHJvdG9jb2xzPWEpO3JldHVybiBkfShlLGZbYS5kXSk7TyYmKHgudmlkZW89Tyl9KHguYmFubmVyfHx4LnZpZGVvKSYmQS5wdXNoKHgpfSkpO3ZhciBUPXt0aWQ6aCYmaC50b1N0cmluZygpLGV4dDp7d3JhcHBlcjoiUHJlYmlkX2pzIix3cmFwcGVyX3ZlcnNpb246IjUuMjAuMiJ9fTtkJiYoVC5leHQuc2NoYWluPWQpO3ZhciBFPXMuYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKXx8eCxSPXg/TWF0aC5taW4oRSx4KTpFLGs9e2lkOnkmJnkudG9TdHJpbmcoKSxzaXRlOntwYWdlOk99LHRtYXg6Uixzb3VyY2U6VCxpbXA6QX07aSYmKGsuc2l0ZS5jb250ZW50PWkpLG8mJm8ubGVuZ3RoJiYoZj17ZGF0YTpbe25hbWU6Imlvd19sYWJzX3B1Yl9kYXRhIixzZWdtZW50Om8ubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZToiandwc2VnIix2YWx1ZTplfX0pKX1dfSksUyYmUy5jb25zZW50U3RyaW5nJiYoZz17Y29uc2VudDpTLmNvbnNlbnRTdHJpbmd9KSxwJiZwLmxlbmd0aCYmKChnPWd8fHt9KS5laWRzPWwocCkpLGcmJk9iamVjdC5rZXlzKGcpLmxlbmd0aCYmKChmPWZ8fHt9KS5leHQ9Zyk7dmFyIFU9di5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShtKXx8ZnVuY3Rpb24oKXtpZihzLmIuZ2V0Q29uZmlnKCJsb2NhbFN0b3JhZ2VXcml0ZUFsbG93ZWQiKSl7dmFyIGU9T2JqZWN0KG4uZ2VuZXJhdGVVVUlEKSgpLnJlcGxhY2UoLy0vZywiIik7cmV0dXJuIHYuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG0sZSksZX1yZXR1cm4gbnVsbH0oKTtVJiYoKGY9Znx8e30pLmlkPVUudG9TdHJpbmcoKSksZiYmKGsudXNlcj1mKTt2YXIgXz1PYmplY3Qobi5kZWVwQWNjZXNzKShzLmIuZ2V0Q29uZmlnKCJvcnRiMi51c2VyIiksImtleXdvcmRzIil8fG51bGwsej1PYmplY3Qobi5kZWVwQWNjZXNzKShzLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlIiksImtleXdvcmRzIil8fG51bGw7cmV0dXJuIF8mJigocj1yfHx7fSkudXNlcj1yLnVzZXJ8fHt9LHIudXNlci5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpfLnNwbGl0KCIsIil9XSkseiYmKChyPXJ8fHt9KS5zaXRlPXIuc2l0ZXx8e30sci5zaXRlLm9ydGIyPVt7bmFtZToia2V5d29yZHMiLGtleXdvcmRzOnouc3BsaXQoIiwiKX1dKSxyJiYocj1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIG49ZVtyXTtpZihuKWlmKCJzaXRlIj09PXJ8fCJ1c2VyIj09PXIpe3ZhciBvPXt9O09iamVjdC5rZXlzKG4pLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkobltlXSkpe3ZhciB0PVtdO25bZV0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PT11KGUpJiZlLm5hbWUpe3ZhciByPXtuYW1lOmUubmFtZSxzZWdtZW50czpbXX07T2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7QXJyYXkuaXNBcnJheShlW3RdKSYmZVt0XS5mb3JFYWNoKChmdW5jdGlvbihlKXtlJiYoInN0cmluZyI9PXR5cGVvZiBlP3Iuc2VnbWVudHMucHVzaCh7bmFtZTp0LHZhbHVlOmV9KToic2VnbWVudHMiPT09dCYmInN0cmluZyI9PXR5cGVvZiBlLm5hbWUmJiJzdHJpbmciPT10eXBlb2YgZS52YWx1ZSYmci5zZWdtZW50cy5wdXNoKGUpKX0pKX0pKSxyLnNlZ21lbnRzLmxlbmd0aCYmdC5wdXNoKHIpfX0pKSx0Lmxlbmd0aCYmKG9bZV09dCl9fSkpLHRbcl09b31lbHNlIHRbcl09bn0pKSxPYmplY3Qua2V5cyh0KS5sZW5ndGgmJnR9KHIpKSYmKGsuZXh0PXtrZXl3b3JkczpyfSksUyYmUy5nZHByQXBwbGllcyYmKGsucmVncz17ZXh0OntnZHByOlMuZ2RwckFwcGxpZXM/MTowfX0pLGomJihrLnJlZ3N8fChrLnJlZ3M9e2V4dDp7fX0pLGsucmVncy5leHQudXNfcHJpdmFjeT1qKSwhMD09PXMuYi5nZXRDb25maWcoImNvcHBhIikmJihrLnJlZ3N8fChrLnJlZ3M9e30pLGsucmVncy5jb3BwYT0xKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZ3JpZC5iaWRzd2l0Y2gubmV0L2hianNvbiIsZGF0YTpKU09OLnN0cmluZ2lmeShrKSxuZXdGb3JtYXQ6ITAsYmlkc01hcDpJfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXtlPWUmJmUuYm9keTt2YXIgcixvPVtdO3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihyPU8pOnI9dywhciYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCxyKXtpZighZSlyZXR1cm47dmFyIG87ZS5hdWlkfHwobz1oK0pTT04uc3RyaW5naWZ5KGUpKTtpZihvfHxlLmFkbXx8ZS5udXJsKXt2YXIgcz10LmJpZHNNYXBbZS5pbXBpZF07aWYocyl7dmFyIGQ9e3JlcXVlc3RJZDpzLmJpZElkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5hdWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW4/ZS5hZG9tYWluOltdfSxkZWFsSWQ6ZS5kZWFsaWR9O2UuZXh0JiZlLmV4dC5iaWRkZXImJmUuZXh0LmJpZGRlci5ncmlkJiZlLmV4dC5iaWRkZXIuZ3JpZC5kZW1hbmRTb3VyY2UmJihkLmFkc2VydmVyVGFyZ2V0aW5nPXtoYl9kczplLmV4dC5iaWRkZXIuZ3JpZC5kZW1hbmRTb3VyY2V9LGQubWV0YS5kZW1hbmRTb3VyY2U9ZS5leHQuYmlkZGVyLmdyaWQuZGVtYW5kU291cmNlKSwidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KGUuYWRtPyhkLnZhc3RYbWw9ZS5hZG0sZC5hZFJlc3BvbnNlPXtjb250ZW50OmQudmFzdFhtbH0pOmUubnVybCYmKGQudmFzdFVybD1lLm51cmwpLGQubWVkaWFUeXBlPWEuZCxzLnJlbmRlcmVyfHxzLm1lZGlhVHlwZXMmJnMubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1zLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KGQucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1pLmEuaW5zdGFsbCh7aWQ6dC5pZCx1cmw6dC51cmwsbG9hZGVkOiExfSk7dHJ5e3Iuc2V0UmVuZGVyKEUpfWNhdGNoKGUpe09iamVjdChuLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiByfSgwLHtpZDpzLmJpZElkLHVybDp5fSkpKTooZC5hZD1lLmFkbSxkLm1lZGlhVHlwZT1hLmIpLHIucHVzaChkKX19ZWxzZSBvPVMrSlNPTi5zdHJpbmdpZnkoZSk7byYmT2JqZWN0KG4ubG9nRXJyb3IpKG8pfShmdW5jdGlvbihlKXtlP2UuYmlkP2UuYmlkWzBdfHxPYmplY3Qobi5sb2dFcnJvcikoaik6T2JqZWN0KG4ubG9nRXJyb3IpKEErSlNPTi5zdHJpbmdpZnkoZSkpOk9iamVjdChuLmxvZ0Vycm9yKSh4KTtyZXR1cm4gZSYmZS5iaWQmJmUuYmlkWzBdfShlKSx0LG8pfSkpLHImJk9iamVjdChuLmxvZ0Vycm9yKShyKSxvfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIUkmJmUucGl4ZWxFbmFibGVkKXt2YXIgbz0iIjtyZXR1cm4gciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzP28rPSImZ2Rwcj0iLmNvbmNhdChOdW1iZXIoci5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHIuY29uc2VudFN0cmluZyk6bys9IiZnZHByX2NvbnNlbnQ9Ii5jb25jYXQoci5jb25zZW50U3RyaW5nKSksbiYmKG8rPSImdXNfcHJpdmFjeT0iLmNvbmNhdChuKSksST0hMCx7dHlwZToiaW1hZ2UiLHVybDpiK299fX19O2Z1bmN0aW9uIEUoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2V9KX0pKX1PYmplY3Qoby5yZWdpc3RlckJpZGRlcikoVCl9fSxbNDg2XSk7CnVwYmpzQ2h1bmsoWzI0N10sezQ5MjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNDkzKX0sNDkzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKGUpe24uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKTt2YXIgcj1uKDIpLGk9bigwKSxvPW4oMyksYT1uKDcpLGM9bigxMiksdT1uLm4oYyksZD1uKDEpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHAoZSx0KXt2YXIgbj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgcj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihyPXIuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLG4ucHVzaC5hcHBseShuLHIpfXJldHVybiBufWZ1bmN0aW9uIGwoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cChPYmplY3QobiksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2YoZSx0LG5bdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobikpOnAoT2JqZWN0KG4pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZihlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixpLG89W10sYT0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShhPShyPW4ubmV4dCgpKS5kb25lKSYmKG8ucHVzaChyLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7Yz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgdj1PYmplY3QoYS5iKSgpLGc9e3Q6MCxycTo4LHBidjoiNS4yMC4yIn0saD1bci5iLHIuZF0sTz17fSx3PXt9LEk9bnVsbDtmdW5jdGlvbiBqKHQpe3ZhciBuLHIsbyxhLGMsdSxkLHM7aWYody52dylyZXR1cm4gdzt0cnl7cj0obj1lLnRvcCkuc2NyZWVuLG89dHx8IiJ9Y2F0Y2goZSl7cmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKShlKSx3fXJldHVybiB3PXt2dzpuLmlubmVyV2lkdGgsdmg6bi5pbm5lckhlaWdodCxzdzpyLndpZHRoLHNoOnIuaGVpZ2h0LHB1Om8sY2U6di5jb29raWVzQXJlRW5hYmxlZCgpLGRwcjpuLmRldmljZVBpeGVsUmF0aW98fDEsamNzaTpKU09OLnN0cmluZ2lmeShnKSxvZ3U6KHU9KGRvY3VtZW50JiZkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5xdWVyeVNlbGVjdG9yKCJtZXRhW3Byb3BlcnR5PSdvZzp1cmwnXSIpLHU/dS5jb250ZW50Om51bGwpfSxkPXdpbmRvdy5uYXZpZ2F0b3ImJih3aW5kb3cubmF2aWdhdG9yLmNvbm5lY3Rpb258fHdpbmRvdy5uYXZpZ2F0b3IubW96Q29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci53ZWJraXRDb25uZWN0aW9uKSwoYz0ocz1kJiYoZC5kb3dubGlua3x8ZC5iYW5kd2lkdGgpKT9NYXRoLnJvdW5kKDEwMjQqcyk6bnVsbCkmJih3Lm5zPWMpLChhPShvLm1hdGNoKC8jZ2dhZD0oXHcrKSQvKXx8WzAsMF0pWzFdKSYmKHdbaXNOYU4oYSk/ImVBZEJ1eUlkIjoiYWRCdXlJZCJdPWEpLHd9ZnVuY3Rpb24gUyhlLHQpe3JldHVybiBlLnJlcGxhY2UoIkFEX0pTT04iLHdpbmRvdy5idG9hKEpTT04uc3RyaW5naWZ5KHQpKSl9ZnVuY3Rpb24geChlKXt2YXIgdD1lLmRpZ2l0cnVzdGlkJiZlLmRpZ2l0cnVzdGlkLmRhdGE7cmV0dXJuIXR8fHQucHJpdmFjeSYmdC5wcml2YWN5Lm9wdG91dD97fTp7ZHQ6dC5pZH19ZnVuY3Rpb24gUChlKXt2YXIgdD0wLG49MCxyPTA7cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGk9YihlLDIpLG89aVswXSxhPWlbMV0sYz1vPmE/bzphOyhjPnJ8fGM9PT1yJiZvPj10JiZhPj1uKSYmKHI9Yyx0PW8sbj1hKX0pKSxbdCxuXX12YXIgQz17Y29kZToiZ3VtZ3VtIixhbGlhc2VzOlsiZ2ciXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcyxuPWUuYWRVbml0Q29kZSxyPXQuaW5TY3JlZW58fHQuaW5TY3JlZW5QdWJJRHx8dC5pblNsb3R8fHQuSUNWfHx0LnZpZGVvfHx0LmluVmlkZW98fHQuc2xvdHx8dC5uYXRpdmV8fHQuem9uZXx8dC5wdWJJRDtpZihPW3JdKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQociwiIGZvciB0aGUgcGxhY2VtZW50ICIpLmNvbmNhdChuKSksITE7c3dpdGNoKCEwKXtjYXNlISF0LnpvbmU6Y2FzZSEhdC5wdWJJZDpjYXNlISF0LmluU2NyZWVuOmNhc2UhIXQuaW5TY3JlZW5QdWJJRDpjYXNlISF0LmluU2xvdDpjYXNlISF0LklDVjpjYXNlISF0LnZpZGVvOmNhc2UhIXQuaW5WaWRlbzpjYXNlISF0LnZpZGVvUHViSUQ6YnJlYWs7ZGVmYXVsdDpyZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIltHdW1HdW1dIE5vIHByb2R1Y3Qgc2VsZWN0ZWQgZm9yIHRoZSBwbGFjZW1lbnQgIi5jb25jYXQobiwiLCBwbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4iKSksITF9cmV0dXJuISh0LmJpZGZsb29yJiYoIm51bWJlciIhPXR5cGVvZiB0LmJpZGZsb29yfHwhaXNGaW5pdGUodC5iaWRmbG9vcikpKXx8KE9iamVjdChpLmxvZ1dhcm4pKCJbR3VtR3VtXSBiaWRmbG9vciBtdXN0IGJlIGEgTnVtYmVyIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10scj10JiZ0LmdkcHJDb25zZW50LGE9dCYmdC51c3BDb25zZW50LGM9by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLHU9dCYmdC5yZWZlcmVySW5mbyYmdC5yZWZlcmVySW5mby5yZWZlcmVyO3JldHVybiBPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQsbyxkPWUuYmlkSWQscD1lLm1lZGlhVHlwZXMsZj12b2lkIDA9PT1wP3t9OnAseT1lLnBhcmFtcyx2PXZvaWQgMD09PXk/e306eSxnPWUuc2NoYWluLGg9ZS50cmFuc2FjdGlvbklkLE89ZS51c2VySWQsdz12b2lkIDA9PT1PP3t9Ok8sUz1lLm9ydGIySW1wLEM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPU9iamVjdC5rZXlzKGUpWzBdfHwiYmFubmVyIixpPXtmbG9vcjowLGN1cnJlbmN5OiJVU0QifTtpZigiZnVuY3Rpb24iPT10eXBlb2Ygbi5nZXRGbG9vcil7dmFyIG89bi5nZXRGbG9vcih7bWVkaWFUeXBlOnIsc2l6ZToiKiJ9KSxhPW8uY3VycmVuY3ksYz1vLmZsb29yO2MmJihpLmZsb29yPWMpLGEmJihpLmN1cnJlbmN5PWEpLHQmJmMmJiJVU0QiPT09YSYmKGkuZmxvb3I9TWF0aC5tYXgodCxwYXJzZUZsb2F0KGMpKSl9ZWxzZSB0JiYoaS5mbG9vcj10KTtyZXR1cm4gaX0oZix2LmJpZGZsb29yLGUpLHo9Qy5jdXJyZW5jeSxEPUMuZmxvb3IsQT1mdW5jdGlvbihlKXt2YXIgdD1bInVpZCIsImVpZCIsImxpcGJpZCJdO3JldHVybiBPYmplY3Qua2V5cyhlKS5yZWR1Y2UoKGZ1bmN0aW9uKG4scil7dmFyIGk9ZVtyXTtzd2l0Y2gobShpKSl7Y2FzZSJzdHJpbmciOm5bcl09aTticmVhaztjYXNlIm9iamVjdCI6dmFyIG89dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBpLmhhc093blByb3BlcnR5KGUpfSkpO28ubGVuZ3RoJiYobltyXT1pW29bMF1dKX1yZXR1cm4gbn0pLHt9KX0odyksVD1bMSwxXSxrPXt9LFI9IiIsVT1uZXcgRGF0ZSxHPVUmJlUuZ2V0VGltZSgpLFY9VSYmVS5nZXRUaW1lem9uZU9mZnNldCgpO2Zvcih2YXIgRSBpbiBWJiYoRyYmKGsubHQ9Ryksay50bz1WKSxBKWtbRV09QVtFXTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5wYmFkc2xvdCIpP1I9T2JqZWN0KGkuZGVlcEFjY2VzcykoUywiZXh0LmRhdGEucGJhZHNsb3QiKTpPYmplY3QoaS5kZWVwQWNjZXNzKShTLCJleHQuZGF0YS5hZHNlcnZlci5uYW1lIikmJihSPVMuZXh0LmRhdGEuYWRzZXJ2ZXIuYWRzbG90KSxmLmJhbm5lcj9UPWYuYmFubmVyLnNpemVzOmYudmlkZW8mJihUPWYudmlkZW8ucGxheWVyU2l6ZSxrPWZ1bmN0aW9uKGUpe3ZhciB0PWUubWluZHVyYXRpb24sbj1lLm1heGR1cmF0aW9uLHI9ZS5saW5lYXJpdHksbz1lLnN0YXJ0ZGVsYXksYT1lLnBsYWNlbWVudCxjPWUucHJvdG9jb2xzLHU9dm9pZCAwPT09Yz9bXTpjLGQ9ZS5wbGF5ZXJTaXplLHM9dm9pZCAwPT09ZD9bXTpkLHA9T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShzKSxsPWIocFswXSYmcFswXS5zcGxpdCgieCIpLDIpLGY9bFswXSxtPWxbMV0seT0iIjtyZXR1cm4gdS5sZW5ndGgmJih5PXUuam9pbigiLCIpKSx7bWluZDp0LG1heGQ6bixsaTpyLHNkOm8scHQ6YSxwcjp5LHZpdzpmLHZpaDptfX0oZi52aWRlbykpLEkmJihrLnB2PUkpLEQmJihrLmZwPUQsay5mcGM9eiksdi5pcmlzY2F0JiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2NhdCYmKGsuaXJpc2NhdD12LmlyaXNjYXQpLHYuaXJpc2lkJiYic3RyaW5nIj09dHlwZW9mIHYuaXJpc2lkJiYoay5pcmlzaWQ9di5pcmlzaWQpLHYuem9uZXx8di5wdWJJZClpZih2LnpvbmU/ay50PXYuem9uZTprLnB1YklkPXYucHViSWQsay5waT0yLHYuc2xvdCl7dmFyIE49YihQKFQpLDIpLHE9TlswXSxCPU5bMV07ay5tYXh3PXEsay5tYXhoPUIsay5zaT12LnNsb3Qsay5waT0zLGsuYmY9VC5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIiIuY29uY2F0KGUpLmNvbmNhdChlJiYiLCIpLmNvbmNhdCh0WzBdLCJ4IikuY29uY2F0KHRbMV0pfSksIiIpfWVsc2Ugdi5uYXRpdmU/KGsubmk9di5uYXRpdmUsay5waT01KTpmLnZpZGVvJiYoay5waT0yPT09Zi52aWRlby5saW5lYXJpdHk/Njo3KTtlbHNlIGs9bChsKHt9LGspLGZ1bmN0aW9uKGUsdCl7dmFyIG49e307ZS5pblNjcmVlblB1YklEJiYobi5wdWJJZD1lLmluU2NyZWVuUHViSUQsbi5waT0yKTtlLmluU2NyZWVuJiYobi50PWUuaW5TY3JlZW4sbi5waT0yKTtpZihlLmluU2xvdCl7dmFyIHI9YihQKHQpLDIpLGk9clswXSxvPXJbMV07bi5tYXh3PWksbi5tYXhoPW8sbi5zaT1lLmluU2xvdCxuLnBpPTMsbi5iZj10LnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9KSwiIil9ZS5JQ1YmJihuLm5pPWUuSUNWLG4ucGk9NSk7ZS52aWRlb1B1YklEJiYobi5wdWJJZD1lLnZpZGVvUHViSUQsbi5waT03KTtlLnZpZGVvJiYobi50PWUudmlkZW8sbi5waT03KTtlLmluVmlkZW8mJihuLnQ9ZS5pblZpZGVvLG4ucGk9Nik7cmV0dXJuIG59KHYsVCkpO3ImJihrLmdkcHJBcHBsaWVzPXIuZ2RwckFwcGxpZXM/MTowKSxrLmdkcHJBcHBsaWVzJiYoay5nZHByQ29uc2VudD1yLmNvbnNlbnRTdHJpbmcpLGEmJihrLnVzcENvbnNlbnQ9YSksZyYmZy5ub2RlcyYmKGsuc2NoYWluPShvPSIiLmNvbmNhdCgodD1nKS52ZXIsIiwiKS5jb25jYXQodC5jb21wbGV0ZSksdC5ub2Rlcy5tYXAoKGZ1bmN0aW9uKGUpe28rPSIhIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXNpfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuc2lkfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuaHB8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5yaWR8fCIiKSwiLCIpLG8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5uYW1lfHwiIiksIiwiKSxvKz0iIi5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUuZG9tYWlufHwiIikpfSkpLG8pKSxuLnB1c2goe2lkOmQsdG1heDpjLHRJZDpoLHBpOmsucGksc2VsZWN0b3I6di5zZWxlY3RvcixzaXplczpULHVybDoiaHR0cHM6Ly9nMi5ndW1ndW0uY29tL2hiaWQvaW1wIixtZXRob2Q6IkdFVCIsZGF0YTpzKGssaih1KSx4KHcpLHtncGlkOlJ9KX0pfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W10sbz1lLmJvZHk7aWYoIW98fG8uZXJyKXt2YXIgYT10LmRhdGF8fHt9LGM9YS5zaXx8YS5uaXx8YS50fHxhLnB1YklkLGQ9bz9vLmVyci5kcnQ6MThlNTtPW2NdPXtwcm9kdWN0SWQ6YS5waSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNldFRpbWVvdXQoKGZ1bmN0aW9uKCl7T1tjXSYmZGVsZXRlIE9bY119KSxkKSxPYmplY3QoaS5sb2dXYXJuKSgiW0d1bUd1bV0gUGxlYXNlIGNoZWNrIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgIi5jb25jYXQoYykpfXZhciBwPXMoe2FkOntwcmljZTowLGlkOjAsbWFya3VwOiIiLHdpZHRoOjAsaGVpZ2h0OjB9LHBhZzp7cHZpZDowfSxtZXRhOnthZG9tYWluOltdLG1lZGlhVHlwZToiIn19LG8pLGY9cC5hZCxtPWYucHJpY2UseT1mLmlkLHY9Zi5tYXJrdXAsaD1mLmN1cix3PWYud2lkdGgsaj1mLmhlaWdodCx4PWYubWF4dyxQPWYubWF4aCxDPXAuY3csej1wLnBhZy5wdmlkLEQ9cC5qY3NpLEE9cC5tZXRhLFQ9QS5hZG9tYWluLGs9QS5tZWRpYVR5cGUsUj10LmRhdGF8fHt9LFU9Ui5waSxHPTY9PT1VfHw3PT09VT9yLmQ6ci5iLFY9Mz09PVUmJjk9PT1SLnNpLEU9e2FkdmVydGlzZXJEb21haW5zOlR8fFtdLG1lZGlhVHlwZTprfHxHfSxOPU9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkodC5zaXplcyk7aWYoeCYmUClOPVsiIi5jb25jYXQoeCwieCIpLmNvbmNhdChQKV07ZWxzZSBpZig1PT09VSYmdSgpKE4sIjF4MSIpKU49WyIxeDEiXTtlbHNlIGlmKDI9PT1VJiZ1KCkoTiwiMXgxIikpe3ZhciBxPXQuc2l6ZXMmJnQuc2l6ZXMucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPWIodCwyKSxyPW5bMF0saT1uWzFdO3JldHVybiB3IT09ciYmaiE9PWl8fGUucHVzaCh0LmpvaW4oIngiKSksZX0pLFtdKXx8W107Tj1xLmxlbmd0aD9xOk9iamVjdChpLnBhcnNlU2l6ZXNJbnB1dCkodC5zaXplcyl9dmFyIEI9YihOWzBdLnNwbGl0KCJ4IiksMiksTT1CWzBdLFc9QlsxXTtyZXR1cm4gRCYmKG8uamNzaT1nKSxJPXoseSYmbi5wdXNoKGwobCh7YWQ6Qz9TKEMscyh7fSxvLHtiaWRSZXF1ZXN0OnR9KSk6dn0sRz09PXIuZCYme2FkOnYsdmFzdFhtbDp2fSkse30se21lZGlhVHlwZTpHLGNwbTpWPy4xOm0sY3JlYXRpdmVJZDp5LGN1cnJlbmN5Omh8fCJVU0QiLGhlaWdodDpXLG5ldFJldmVudWU6ITAscmVxdWVzdElkOnQuaWQsdHRsOjYwLHdpZHRoOk0sbWV0YTpFfSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYm9keSYmZS5ib2R5LnB4cyYmZS5ib2R5LnB4cy5zY3J8fFtdfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiZiI9PT1lLnQ/ImlmcmFtZSI6ImltYWdlIix1cmw6ZS51fX0pKX0sc3VwcG9ydGVkTWVkaWFUeXBlczpofTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikoQyl9LmNhbGwodCxuKDQwKSl9fSxbNDkyXSk7CnVwYmpzQ2h1bmsoWzI0MV0sezUwNjpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNTA3KX0sNTA3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJJRDVfU1RPUkFHRV9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gcH0pKSxyLmQodCwiSUQ1X1BSSVZBQ1lfU1RPUkFHRV9OQU1FIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKSxyLmQodCwiaWQ1SWRTdWJtb2R1bGUiLChmdW5jdGlvbigpe3JldHVybiBtfSkpLHQuZXhwRGF5c1N0cj1PLHQubmJDYWNoZU5hbWU9aix0LnN0b3JlTmJJbkNhY2hlPXYsdC5nZXROYkZyb21DYWNoZT1JLHQuZ2V0RnJvbUxvY2FsU3RvcmFnZT1TLHQuc3RvcmVJbkxvY2FsU3RvcmFnZT1fO3ZhciBvPXIoMCksbj1yKDQpLGE9cig5KSxjPXIoMTkpLGk9cig3KSxzPXIoOCkscD0iaWQ1aWQiLHU9IiIuY29uY2F0KHAsIl9wcml2YWN5IiksZD0iaHRtbDUiLGc9IlVzZXIgSUQgLSBJRDUgc3VibW9kdWxlOiAiLGI9WyJwYmpzLWlkNWlkIiwiaWQ1aWQuMXN0IiwiaWQ1aWQiXSxsPU9iamVjdChpLmIpKDEzMSwiaWQ1SWQiKSxtPXtuYW1lOiJpZDVJZCIsZ3ZsaWQ6MTMxLGRlY29kZTpmdW5jdGlvbihlLHQpe3ZhciByPTA7aWYoZSYmInN0cmluZyI9PXR5cGVvZiBlLnVuaXZlcnNhbF91aWQpe3ZhciBuPXtpZDVpZDp7dWlkOmUudW5pdmVyc2FsX3VpZCxleHQ6e2xpbmtUeXBlOnI9ZS5saW5rX3R5cGV8fHJ9fX07c3dpdGNoKE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsImFiX3Rlc3RpbmcucmVzdWx0Iikpe2Nhc2UiY29udHJvbCI6T2JqZWN0KG8ubG9nSW5mbykoZysiQS9CIFRlc3RpbmcgLSB1c2VyIGlzIGluIHRoZSBDb250cm9sIEdyb3VwOiBJRDUgSUQgaXMgTk9UIGV4cG9zZWQiKSxPYmplY3Qoby5kZWVwU2V0VmFsdWUpKG4sImlkNWlkLmV4dC5hYlRlc3RpbmdDb250cm9sR3JvdXAiLCEwKTticmVhaztjYXNlImVycm9yIjpPYmplY3Qoby5sb2dFcnJvcikoZysiQS9CIFRlc3RpbmcgRVJST1IhIGNvbnRyb2xHcm91cFBjdCBtdXN0IGJlIGEgbnVtYmVyID49IDAgYW5kIDw9IDEiKTticmVhaztjYXNlIm5vcm1hbCI6T2JqZWN0KG8ubG9nSW5mbykoZysiQS9CIFRlc3RpbmcgLSB1c2VyIGlzIE5PVCBpbiB0aGUgQ29udHJvbCBHcm91cCIpLE9iamVjdChvLmRlZXBTZXRWYWx1ZSkobiwiaWQ1aWQuZXh0LmFiVGVzdGluZ0NvbnRyb2xHcm91cCIsITEpfXJldHVybiBPYmplY3Qoby5sb2dJbmZvKShnKyJEZWNvZGVkIElEIixuKSxufX0sZ2V0SWQ6ZnVuY3Rpb24oZSx0LHIpe2lmKGYoZSkpe3ZhciBhLGk9Imh0dHBzOi8vaWQ1LXN5bmMuY29tL2cvdjIvIi5jb25jYXQoZS5wYXJhbXMucGFydG5lciwiLmpzb24iKSxwPXQmJiJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXMmJnQuZ2RwckFwcGxpZXM/MTowLG09cy51c3BEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpLGo9T2JqZWN0KGMuYSkoKSxJPXImJnIuc2lnbmF0dXJlP3Iuc2lnbmF0dXJlOihiLmZvckVhY2goKGZ1bmN0aW9uKGUpe2wuZ2V0Q29va2llKGUpJiYoYT1KU09OLnBhcnNlKGwuZ2V0Q29va2llKGUpKXx8YSl9KSksYSYmYS5zaWduYXR1cmV8fCIiKSxTPXtwYXJ0bmVyOmUucGFyYW1zLnBhcnRuZXIsZ2RwcjpwLG5iUGFnZTp5KGUucGFyYW1zLnBhcnRuZXIpLG86InBianMiLHJmOmoucmVmZXJlcix0b3A6ai5yZWFjaGVkVG9wPzE6MCx1Omouc3RhY2tbMF18fHdpbmRvdy5sb2NhdGlvbi5ocmVmLHY6IjUuMjAuMiJ9OyFwfHx2b2lkIDA9PT10LmNvbnNlbnRTdHJpbmd8fE9iamVjdChvLmlzRW1wdHkpKHQuY29uc2VudFN0cmluZyl8fE9iamVjdChvLmlzRW1wdHlTdHIpKHQuY29uc2VudFN0cmluZyl8fChTLmdkcHJfY29uc2VudD10LmNvbnNlbnRTdHJpbmcpLHZvaWQgMD09PW18fE9iamVjdChvLmlzRW1wdHkpKG0pfHxPYmplY3Qoby5pc0VtcHR5U3RyKShtKXx8KFMudXNfcHJpdmFjeT1tKSx2b2lkIDA9PT1JfHxPYmplY3Qoby5pc0VtcHR5U3RyKShJKXx8KFMucz1JKSx2b2lkIDA9PT1lLnBhcmFtcy5wZHx8T2JqZWN0KG8uaXNFbXB0eVN0cikoZS5wYXJhbXMucGQpfHwoUy5wZD1lLnBhcmFtcy5wZCksdm9pZCAwPT09ZS5wYXJhbXMucHJvdmlkZXJ8fE9iamVjdChvLmlzRW1wdHlTdHIpKGUucGFyYW1zLnByb3ZpZGVyKXx8KFMucHJvdmlkZXI9ZS5wYXJhbXMucHJvdmlkZXIpO3ZhciBoPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYWJUZXN0aW5nIix7ZW5hYmxlZDohMX0pfShlKTshMD09PWguZW5hYmxlZCYmKFMuYWJfdGVzdGluZz17ZW5hYmxlZDohMCxjb250cm9sX2dyb3VwX3BjdDpoLmNvbnRyb2xHcm91cFBjdH0pO3JldHVybntjYWxsYmFjazpmdW5jdGlvbih0KXt2YXIgcj17c3VjY2VzczpmdW5jdGlvbihyKXt2YXIgbjtpZihyKXRyeXtuPUpTT04ucGFyc2UociksT2JqZWN0KG8ubG9nSW5mbykoZysicmVzcG9uc2UgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIixuKSx2KGUucGFyYW1zLnBhcnRuZXIsMCksbi5wcml2YWN5JiZfKHUsSlNPTi5zdHJpbmdpZnkobi5wcml2YWN5KSwzMCksZS5zdG9yYWdlLnR5cGU9PT1kJiZmdW5jdGlvbihlKXtPYmplY3Qoby5sb2dJbmZvKShnKyJyZW1vdmluZyBsZWdhY3kgY29va2llcyIpLGIuZm9yRWFjaCgoZnVuY3Rpb24odCl7bC5zZXRDb29raWUoIiIuY29uY2F0KHQpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl9uYiIpLCIgIixPKC0xKSksbC5zZXRDb29raWUoIiIuY29uY2F0KHQsIl8iKS5jb25jYXQoZSwiX25iIiksIiAiLE8oLTEpKSxsLnNldENvb2tpZSgiIi5jb25jYXQodCwiX2xhc3QiKSwiICIsTygtMSkpfSkpfShlLnBhcmFtcy5wYXJ0bmVyKX1jYXRjaChlKXtPYmplY3Qoby5sb2dFcnJvcikoZytlKX10KG4pfSxlcnJvcjpmdW5jdGlvbihlKXtPYmplY3Qoby5sb2dFcnJvcikoZysiZ2V0SWQgZmV0Y2ggZW5jb3VudGVyZWQgYW4gZXJyb3IiLGUpLHQoKX19O09iamVjdChvLmxvZ0luZm8pKGcrInJlcXVlc3RpbmcgYW4gSUQgZnJvbSB0aGUgc2VydmVyIixTKSxPYmplY3Qobi5hKShpLHIsSlNPTi5zdHJpbmdpZnkoUykse21ldGhvZDoiUE9TVCIsd2l0aENyZWRlbnRpYWxzOiEwfSl9fX19LGV4dGVuZElkOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZihlKSx5KGUmJmUucGFyYW1zJiZlLnBhcmFtcy5wYXJ0bmVyfHwwKSxPYmplY3Qoby5sb2dJbmZvKShnKyJ1c2luZyBjYWNoZWQgSUQiLHIpLHJ9fTtmdW5jdGlvbiBmKGUpe3JldHVybiBlJiZlLnBhcmFtcyYmZS5wYXJhbXMucGFydG5lciYmIm51bWJlciI9PXR5cGVvZiBlLnBhcmFtcy5wYXJ0bmVyP2Uuc3RvcmFnZSYmZS5zdG9yYWdlLnR5cGUmJmUuc3RvcmFnZS5uYW1lPyhlLnN0b3JhZ2UudHlwZSE9PWQmJk9iamVjdChvLmxvZ1dhcm4pKGcrInN0b3JhZ2UgdHlwZSByZWNvbW1lbmRlZCB0byBiZSAnIi5jb25jYXQoZCwiJy4gSW4gYSBmdXR1cmUgcmVsZWFzZSB0aGlzIG1heSBiZWNvbWUgYSBzdHJpY3QgcmVxdWlyZW1lbnQiKSksZS5zdG9yYWdlLm5hbWUhPT1wJiZPYmplY3Qoby5sb2dXYXJuKShnKyJzdG9yYWdlIG5hbWUgcmVjb21tZW5kZWQgdG8gYmUgJyIuY29uY2F0KHAsIicuIEluIGEgZnV0dXJlIHJlbGVhc2UgdGhpcyBtYXkgYmVjb21lIGEgc3RyaWN0IHJlcXVpcmVtZW50IikpLCEwKTooT2JqZWN0KG8ubG9nRXJyb3IpKGcrInN0b3JhZ2UgcmVxdWlyZWQgdG8gYmUgc2V0IiksITEpOihPYmplY3Qoby5sb2dFcnJvcikoZysicGFydG5lciByZXF1aXJlZCB0byBiZSBkZWZpbmVkIGFzIGEgbnVtYmVyIiksITEpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIG5ldyBEYXRlKERhdGUubm93KCkrODY0ZTUqZSkudG9VVENTdHJpbmcoKX1mdW5jdGlvbiBqKGUpe3JldHVybiIiLmNvbmNhdChwLCJfIikuY29uY2F0KGUsIl9uYiIpfWZ1bmN0aW9uIHYoZSx0KXtfKGooZSksdCwzMCl9ZnVuY3Rpb24gSShlKXt2YXIgdD1TKGooZSkpO3JldHVybiB0P3BhcnNlSW50KHQpOjB9ZnVuY3Rpb24geShlKXt2YXIgdD1JKGUpKzE7cmV0dXJuIHYoZSx0KSx0fWZ1bmN0aW9uIFMoZSl7dmFyIHQ9bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpKTtyZXR1cm4iIj09PXR8fHQmJm5ldyBEYXRlKHQpLmdldFRpbWUoKS1EYXRlLm5vdygpPjA/bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKToobC5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShlKSxudWxsKX1mdW5jdGlvbiBfKGUsdCxyKXtsLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZSwiX2V4cCIpLE8ocikpLGwuc2V0RGF0YUluTG9jYWxTdG9yYWdlKCIiLmNvbmNhdChlKSx0KX1PYmplY3QoYS5lKSgidXNlcklkIixtKX19LFs1MDZdKTsKdXBianNDaHVuayhbNTFdLHsxNzpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO3IuYj1mdW5jdGlvbihlKXt2YXIgcj1bXTtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKWlmKCJwdWJQcm92aWRlZElkIj09PXQpcj1yLmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGk9bihlW3RdLHQpO2kmJnIucHVzaChpKX1yZXR1cm4gcn0sci5hPWZ1bmN0aW9uKGUpe3ZhciByPVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykoYSx0KyIuc291cmNlIikmJnIucHVzaCh7c291cmNlOmFbdF0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHJ9O3ZhciBpPXQoMCksYT17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciByPU9iamVjdChpLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gbihlLHIpe3ZhciB0PWFbcl07aWYodCYmZSl7dmFyIG49e307bi5zb3VyY2U9dC5zb3VyY2U7dmFyIHM9T2JqZWN0KGkuaXNGbikodC5nZXRWYWx1ZSk/dC5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChpLmlzU3RyKShzKSl7dmFyIGM9e2lkOnMsYXR5cGU6dC5hdHlwZX07aWYoT2JqZWN0KGkuaXNGbikodC5nZXRVaWRFeHQpKXt2YXIgZD10LmdldFVpZEV4dChlKTtkJiYoYy5leHQ9ZCl9aWYobi51aWRzPVtjXSxPYmplY3QoaS5pc0ZuKSh0LmdldEVpZEV4dCkpe3ZhciBvPXQuZ2V0RWlkRXh0KGUpO28mJihuLmV4dD1vKX1yZXR1cm4gbn19cmV0dXJuIG51bGx9fSw1MTk6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDUyMCl9LDUyMDpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSksci5JbXByb3ZlRGlnaXRhbEFkU2VydmVySlNDbGllbnQ9djt2YXIgaT10KDApLGE9dCgxKSxuPXQoMykscz10KDIpLGM9dCgxMyksZD10KDE3KSxvPXQoMTIpLHU9dC5uKG8pO2Z1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPSJodHRwczovL2FjZG4uYWRueHMuY29tL3ZpZGVvL291dHN0cmVhbS9BTk91dHN0cmVhbVZpZGVvLmpzIixiPVsic2tpcCIsInNraXBtaW4iLCJza2lwYWZ0ZXIiXSxtPXt2ZXJzaW9uOiI3LjQuMCIsY29kZToiaW1wcm92ZWRpZ2l0YWwiLGd2bGlkOjI1MyxhbGlhc2VzOlsiaWQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltzLmIscy5jLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJihlLnBhcmFtcy5wbGFjZW1lbnRJZHx8ZS5wYXJhbXMucGxhY2VtZW50S2V5JiZlLnBhcmFtcy5wdWJsaXNoZXJJZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoImFkVW5pdENvZGUiLGUpfHxudWxsLHQ9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJwbGFjZW1lbnRJZCIsZS5wYXJhbXMpfHxudWxsLGE9bnVsbCxjPW51bGw7bnVsbD09PXQmJihhPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicHVibGlzaGVySWQiLGUucGFyYW1zKXx8bnVsbCxjPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgicGxhY2VtZW50S2V5IixlLnBhcmFtcyl8fG51bGwpO3ZhciBkPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgia2V5VmFsdWVzIixlLnBhcmFtcyl8fG51bGwsbz1PYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInNpemUiLGUucGFyYW1zKXx8bnVsbCxwPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkSWQiLGUpLGw9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJ0cmFuc2FjdGlvbklkIixlKSxtPW4uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKSxnPXt9O2YoZSkmJihnLmFkVHlwZXM9W3MuZF0pOyhmKGUpfHx5KGUpKSYmKGcudmlkZW89ZnVuY3Rpb24oZSl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKE9iamVjdChlLm1lZGlhVHlwZXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkoYixlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUubWVkaWFUeXBlcy52aWRlb1t0XX0pKSxPYmplY3Qua2V5cyhPYmplY3QoZS5wYXJhbXMudmlkZW8pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiB1KCkoYixlKX0pKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPWUucGFyYW1zLnZpZGVvW3RdfSkpLHJ9KGUpKTt0P2cucGxhY2VtZW50SWQ9dDooYSYmKGcucHVibGlzaGVySWQ9YSksYyYmKGcucGxhY2VtZW50S2V5PWMpKTtkJiYoZy5rZXlWYWx1ZXM9ZCk7ITA9PT1uLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC51c2VQcmViaWRTaXplcyIpJiYhZihlKSYmIXkoZSkmJmUuc2l6ZXMmJmUuc2l6ZXMubGVuZ3RoPjA/Zy5mb3JtYXQ9ZS5zaXplczpvJiZvLncmJm8uaCYmKGcuc2l6ZT17fSxnLnNpemUuaD1vLmgsZy5zaXplLnc9by53KTtwJiYoZy5pZD1wKTtyJiYoZy5hZFVuaXRJZD1yKTtsJiYoZy50cmFuc2FjdGlvbklkPWwpO20mJihnLmN1cnJlbmN5PW0pO3ZhciBoPWZ1bmN0aW9uKGUpe2lmKCFPYmplY3QoaS5pc0ZuKShlLmdldEZsb29yKSlyZXR1cm4gbnVsbDt2YXIgcj1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6IioiLHNpemU6IioifSk7aWYoT2JqZWN0KGkuaXNQbGFpbk9iamVjdCkocikmJiFpc05hTihyLmZsb29yKSYmIlVTRCI9PT1yLmN1cnJlbmN5KXJldHVybiByLmZsb29yO3JldHVybiBudWxsfShlKSx2PW51bGw7aHx8KGg9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRGbG9vciIsZS5wYXJhbXMpLHY9T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJiaWRGbG9vckN1ciIsZS5wYXJhbXMpKTtoJiYoZy5iaWRGbG9vcj1oLGcuYmlkRmxvb3JDdXI9dj92LnRvVXBwZXJDYXNlKCk6IlVTRCIpO3JldHVybiBnfShlKX0pKSxhPW5ldyB2KCJoYiIpLGM9e3NpbmdsZVJlcXVlc3RNb2RlOiEwPT09bi5iLmdldENvbmZpZygiaW1wcm92ZWRpZ2l0YWwuc2luZ2xlUmVxdWVzdCIpLHJldHVybk9ialR5cGU6YS5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQsbGliVmVyc2lvbjp0aGlzLnZlcnNpb259O2lmKHImJnIuZ2RwckNvbnNlbnQmJnIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKGMuZ2Rwcj1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHImJnIudXNwQ29uc2VudCYmKGMudXNQcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyYmci5yZWZlcmVySW5mby5yZWZlcmVyJiYoYy5yZWZlcnJlcj1yLnJlZmVyZXJJbmZvLnJlZmVyZXIpLGMuc2NoYWluPWVbMF0uc2NoYWluLGVbMF0udXNlcklkKXt2YXIgbz1PYmplY3QoZC5iKShlWzBdLnVzZXJJZCk7by5sZW5ndGgmJk9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYywidXNlci5leHQuZWlkcyIsbyl9dmFyIHA9YS5jcmVhdGVSZXF1ZXN0KHQsYyk7cmV0dXJuIHAuZXJyb3JzJiZwLmVycm9ycy5sZW5ndGg+MCYmT2JqZWN0KGkubG9nRXJyb3IpKCJJRCBXQVJOSU5HIDB4MDEiKSxwLnJlcXVlc3RzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3Q9cn0pKSxwLnJlcXVlc3RzfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkZGVyUmVxdWVzdCxhPVtdO3JldHVybiBPYmplY3QoaS5fZWFjaCkoZS5ib2R5LmJpZCwoZnVuY3Rpb24oZSl7aWYoZS5wcmljZSYmbnVsbCE9PWUucHJpY2UmJiFlLmhhc093blByb3BlcnR5KCJlcnJvckNvZGUiKSYmKGUuYWRtfHxlLm5hdGl2ZSkpe3ZhciByPU9iamVjdChpLmdldEJpZFJlcXVlc3QpKGUuaWQsW3RdKSxuPXt9O2lmKGUubmF0aXZlKW4ubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciByPXt9O2lmKCFlfHwhT2JqZWN0KGkuaXNBcnJheSkoZS5hc3NldHMpKXJldHVybiBudWxsO2UuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKGUudGl0bGUpci50aXRsZT1lLnRpdGxlLnRleHQ7ZWxzZSBpZihlLmRhdGEpc3dpdGNoKGUuZGF0YS50eXBlKXtjYXNlIDE6ci5zcG9uc29yZWRCeT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAyOnIuYm9keT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAzOnIucmF0aW5nPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDQ6ci5saWtlcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA1OnIuZG93bmxvYWRzPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDY6ci5wcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA3OnIuc2FsZVByaWNlPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDg6ci5waG9uZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA5OnIuYWRkcmVzcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMDpyLmJvZHkyPWUuZGF0YS52YWx1ZTticmVhaztjYXNlIDExOnIuZGlzcGxheVVybD1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMjpyLmN0YT1lLmRhdGEudmFsdWV9ZWxzZSBpZihlLmltZylzd2l0Y2goZS5pbWcudHlwZSl7Y2FzZSAyOnIuaWNvbj17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofTticmVhaztjYXNlIDM6ci5pbWFnZT17dXJsOmUuaW1nLnVybCx3aWR0aDplLmltZy53LGhlaWdodDplLmltZy5ofX19KSksZS5ldmVudHRyYWNrZXJzPyhyLmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoMT09PWUuZXZlbnQpc3dpdGNoKGUubWV0aG9kKXtjYXNlIDE6ci5pbXByZXNzaW9uVHJhY2tlcnMucHVzaChlLnVybCk7YnJlYWs7Y2FzZSAyOnIuamF2YXNjcmlwdFRyYWNrZXJzPSc8c2NyaXB0IHNyYz0iJy5jb25jYXQoZS51cmwsJyI+PFwvc2NyaXB0PicpfX0pKSk6KHIuaW1wcmVzc2lvblRyYWNrZXJzPWUuaW1wdHJhY2tlcnN8fFtdLHIuamF2YXNjcmlwdFRyYWNrZXJzPWUuanN0cmFja2VyKTtlLmxpbmsmJihyLmNsaWNrVXJsPWUubGluay51cmwsci5jbGlja1RyYWNrZXJzPWUubGluay5jbGlja3RyYWNrZXJzKTtlLnByaXZhY3kmJihyLnByaXZhY3lMaW5rPWUucHJpdmFjeSk7cmV0dXJuIHJ9KGUubmF0aXZlKSxuLm9ydGJOYXRpdmU9ZS5uYXRpdmUsZS5udXJsJiZuLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnMudW5zaGlmdChlLm51cmwpLG4ubWVkaWFUeXBlPXMuYztlbHNlIGlmKGUuYWRfdHlwZSYmInZpZGVvIj09PWUuYWRfdHlwZSluLnZhc3RYbWw9ZS5hZG0sbi5tZWRpYVR5cGU9cy5kLHkocikmJihuLmFkUmVzcG9uc2U9e2NvbnRlbnQ6bi52YXN0WG1sLGhlaWdodDplLmgsd2lkdGg6ZS53fSxuLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciByPWMuYS5pbnN0YWxsKHtpZDplLmFkVW5pdENvZGUsdXJsOmwsbG9hZGVkOiExLGNvbmZpZzpPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJyZW5kZXJlci5vcHRpb25zIiksYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KTt0cnl7ci5zZXRSZW5kZXIoZyl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9KHIpKTtlbHNle3ZhciBkPSIiO2UubnVybCYmZS5udXJsLmxlbmd0aD4wJiYoZD0nPGltZyBzcmM9IicuY29uY2F0KGUubnVybCwnIiB3aWR0aD0iMCIgaGVpZ2h0PSIwIiBzdHlsZT0iZGlzcGxheTpub25lIj4nKSksbi5hZD0iIi5jb25jYXQoZCwiPHNjcmlwdD4iKS5jb25jYXQoZS5hZG0sIjxcL3NjcmlwdD4iKSxuLm1lZGlhVHlwZT1zLmJ9aWYobi5jcG09cGFyc2VGbG9hdChlLnByaWNlKSxuLmNyZWF0aXZlSWQ9ZS5jcmlkLG4uY3VycmVuY3k9ZS5jdXJyZW5jeT9lLmN1cnJlbmN5LnRvVXBwZXJDYXNlKCk6IlVTRCIsT2JqZWN0KGkuaXNOdW1iZXIpKGUubGlkKSYmZS5idXlpbmdfdHlwZSYmInJ0YiIhPT1lLmJ1eWluZ190eXBlKW4uZGVhbElkPWUubGlkO2Vsc2UgaWYoQXJyYXkuaXNBcnJheShlLmxpZCkmJkFycmF5LmlzQXJyYXkoZS5idXlpbmdfdHlwZSkmJmUubGlkLmxlbmd0aD09PWUuYnV5aW5nX3R5cGUubGVuZ3RoKXt2YXIgbz0hMTtlLmJ1eWluZ190eXBlLmZvckVhY2goKGZ1bmN0aW9uKHIsdCl7b3x8ciYmInJ0YiIhPT1yJiYobz0hMCxuLmRlYWxJZD1lLmxpZFt0XSl9KSl9bi5oZWlnaHQ9ZS5oLG4ubmV0UmV2ZW51ZT0hIWUuaXNOZXQmJmUuaXNOZXQsbi5yZXF1ZXN0SWQ9ZS5pZCxuLnR0bD0zMDAsbi53aWR0aD1lLncsbi53aWR0aCYmbi5oZWlnaHR8fChuLndpZHRoPTEsbi5oZWlnaHQ9MSksZS5hZG9tYWluJiYobi5tZXRhPXthZHZlcnRpc2VyRG9tYWluczplLmFkb21haW59KSxhLnB1c2gobil9fSkpLGF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgdD1bXTtyZXR1cm4gci5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJvZHkuYmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdChpLmlzQXJyYXkpKGUuc3luYykmJmUuc3luYy5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSkpfSkpfSkpLHQubWFwKChmdW5jdGlvbihlKXtyZXR1cm57dHlwZToiaW1hZ2UiLHVybDplfX0pKX1yZXR1cm5bXX19O2Z1bmN0aW9uIGYoZSl7dmFyIHI9T2JqZWN0LmtleXMoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcyIse30pKSx0PU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxhPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3JldHVybiJ2aWRlbyI9PT1lLm1lZGlhVHlwZXx8MT09PXIubGVuZ3RoJiZ0JiYib3V0c3RyZWFtIiE9PWF9ZnVuY3Rpb24geShlKXt2YXIgcj1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4gciYmIm91dHN0cmVhbSI9PT10fWZ1bmN0aW9uIGcoZSl7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHtzaXplczpbZS53aWR0aCxlLmhlaWdodF0sdGFyZ2V0SWQ6ZS5hZFVuaXRDb2RlLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxoLmJpbmQobnVsbCxlKSl9KSl9ZnVuY3Rpb24gaChlLHIsdCl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTp0fSl9ZnVuY3Rpb24gdihlKXt0aGlzLkNPTlNUQU5UUz17QURfU0VSVkVSX0JBU0VfVVJMOiJpY2UuMzYweWllbGQuY29tIixFTkRfUE9JTlQ6ZXx8ImhiIixBRF9TRVJWRVJfVVJMX1BBUkFNOiJqc29ucD0iLENMSUVOVF9WRVJTSU9OOiJKUy02LjQuMCIsTUFYX1VSTF9MRU5HVEg6MjA4MyxFUlJPUl9DT0RFUzp7TUlTU0lOR19QTEFDRU1FTlRfUEFSQU1TOjIsTElCX1ZFUlNJT05fTUlTU0lORzozfSxSRVRVUk5fT0JKX1RZUEU6e0RFRkFVTFQ6MCxVUkxfUEFSQU1TX1NQTElUOjF9fSx0aGlzLmdldEVycm9yUmV0dXJuPWZ1bmN0aW9uKGUpe3JldHVybntpZE1hcHBpbmdzOnt9LHJlcXVlc3RzOnt9LGVycm9yQ29kZTplfX0sdGhpcy5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKGUscix0KXtpZighci5saWJWZXJzaW9uKXJldHVybiB0aGlzLmdldEVycm9yUmV0dXJuKHRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLkxJQl9WRVJTSU9OX01JU1NJTkcpO3IucmV0dXJuT2JqVHlwZT1yLnJldHVybk9ialR5cGV8fHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5ERUZBVUxULHIuYWRTZXJ2ZXJCYXNlVXJsPSJodHRwczovLyIrKHIuYWRTZXJ2ZXJCYXNlVXJsfHx0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfQkFTRV9VUkwpO3ZhciBhLG49W107aWYoT2JqZWN0KGkuaXNBcnJheSkoZSkpZm9yKHZhciBzPTA7czxlLmxlbmd0aDtzKyspYT10aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3QoZVtzXSksbi5wdXNoKGEpO2Vsc2UgYT10aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3QoZSksbi5wdXNoKGEpO3ZhciBjPSEwO3IucmV0dXJuT2JqVHlwZT09PXRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUJiYoYz0hMSk7dmFyIGQ9e3JlcXVlc3RzOltdfTtjJiYoZC5pZE1hcHBpbmdzPVtdKTtmb3IodmFyIG89bnVsbCx1PSIiLmNvbmNhdChyLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkscD17YmlkX3JlcXVlc3Q6dGhpcy5jcmVhdGVCYXNpY0JpZFJlcXVlc3RPYmplY3Qocix0KX0sbD0wO2w8bi5sZW5ndGg7bCsrKWlmKChhPW5bbF0pLmVycm9yQ29kZSkobz1vfHxbXSkucHVzaCh7ZXJyb3JDb2RlOmEuZXJyb3JDb2RlLGFkVW5pdElkOmEuYWRVbml0SWR9KTtlbHNle2MmJmQuaWRNYXBwaW5ncy5wdXNoKHthZFVuaXRJZDphLmFkVW5pdElkLGlkOmEuaW1wcmVzc2lvbk9iamVjdC5pZH0pLHAuYmlkX3JlcXVlc3QuaW1wPXAuYmlkX3JlcXVlc3QuaW1wfHxbXSxwLmJpZF9yZXF1ZXN0LmltcC5wdXNoKGEuaW1wcmVzc2lvbk9iamVjdCk7dmFyIGI9ITE7KHUrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHApKSkubGVuZ3RoPnRoaXMuQ09OU1RBTlRTLk1BWF9VUkxfTEVOR1RIJiYoYj0hMCxwLmJpZF9yZXF1ZXN0LmltcC5sZW5ndGg+MSYmKHAuYmlkX3JlcXVlc3QuaW1wLnBvcCgpLGMmJmQuaWRNYXBwaW5ncy5wb3AoKSxsLS0pKSwhYiYmci5zaW5nbGVSZXF1ZXN0TW9kZSYmbCE9PW4ubGVuZ3RoLTF8fChkLnJlcXVlc3RzLnB1c2godGhpcy5mb3JtYXRSZXF1ZXN0KHIscCkpLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9KX1yZXR1cm4gbyYmKGQuZXJyb3JzPW8pLGR9LHRoaXMuZm9ybWF0UmVxdWVzdD1mdW5jdGlvbihlLHIpe3N3aXRjaChlLnJldHVybk9ialR5cGUpe2Nhc2UgdGhpcy5DT05TVEFOVFMuUkVUVVJOX09CSl9UWVBFLlVSTF9QQVJBTVNfU1BMSVQ6cmV0dXJue21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KGUuYWRTZXJ2ZXJCYXNlVXJsLCIvIikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCksZGF0YToiIi5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShyKSkpfTtkZWZhdWx0OnJldHVybnt1cmw6IiIuY29uY2F0KGUuYWRTZXJ2ZXJCYXNlVXJsLCIvIikrIiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkVORF9QT0lOVCwiPyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5BRF9TRVJWRVJfVVJMX1BBUkFNKStlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpfX19LHRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0PWZ1bmN0aW9uKGUscil7dmFyIHQ9e3NlY3VyZToxfTtpZihlLnJlcXVlc3RJZD90LmlkPWUucmVxdWVzdElkOnQuaWQ9T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxlLmRvbWFpbiYmKHQuZG9tYWluPWUuZG9tYWluKSxlLnBhZ2UmJih0LnBhZ2U9ZS5wYWdlKSxlLnJlZiYmKHQucmVmPWUucmVmKSxlLmNhbGxiYWNrJiYodC5jYWxsYmFjaz1lLmNhbGxiYWNrKSxlLmxpYlZlcnNpb24mJih0LnZlcnNpb249ZS5saWJWZXJzaW9uKyItIit0aGlzLkNPTlNUQU5UUy5DTElFTlRfVkVSU0lPTiksZS5yZWZlcnJlciYmKHQucmVmZXJyZXI9ZS5yZWZlcnJlciksKGUuZ2Rwcnx8MD09PWUuZ2RwcikmJih0LmdkcHI9ZS5nZHByKSxlLnVzUHJpdmFjeSYmKHQudXNfcHJpdmFjeT1lLnVzUHJpdmFjeSksZS5zY2hhaW4mJih0LnNjaGFpbj1lLnNjaGFpbiksZS51c2VyJiYodC51c2VyPWUudXNlcikscilmb3IodmFyIGEgaW4gcil0W2FdPXJbYV07cmV0dXJuIHR9LHRoaXMuY3JlYXRlSW1wcmVzc2lvbk9iamVjdD1mdW5jdGlvbihlKXt2YXIgcj17fSx0PXt9O2lmKHIuaW1wcmVzc2lvbk9iamVjdD10LGUuaWQ/dC5pZD1lLmlkOnQuaWQ9T2JqZWN0KGkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSxlLmFkVHlwZXMmJih0LmFkX3R5cGVzPWUuYWRUeXBlcyksZS5hZFVuaXRJZCYmKHIuYWRVbml0SWQ9ZS5hZFVuaXRJZCksZS5jdXJyZW5jeSYmKHQuY3VycmVuY3k9ZS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpKSxlLmJpZEZsb29yJiYodC5iaWRmbG9vcj1lLmJpZEZsb29yKSxlLmJpZEZsb29yQ3VyJiYodC5iaWRmbG9vcmN1cj1lLmJpZEZsb29yQ3VyLnRvVXBwZXJDYXNlKCkpLGUucGxhY2VtZW50SWQmJih0LnBpZD1lLnBsYWNlbWVudElkKSxlLnB1Ymxpc2hlcklkJiYodC5wdWJpZD1lLnB1Ymxpc2hlcklkKSxlLnBsYWNlbWVudEtleSYmKHQucGtleT1lLnBsYWNlbWVudEtleSksZS50cmFuc2FjdGlvbklkJiYodC50aWQ9ZS50cmFuc2FjdGlvbklkKSwhT2JqZWN0KGkuaXNFbXB0eSkoZS52aWRlbykpe3ZhciBhPXAoe30sZS52aWRlbyk7MSE9PWEuc2tpcCYmKGRlbGV0ZSBhLnNraXBtaW4sZGVsZXRlIGEuc2tpcGFmdGVyLDAhPT1hLnNraXAmJihPYmplY3QoaS5sb2dXYXJuKSgidmlkZW8uc2tpcDogaW52YWxpZCB2YWx1ZSAnIi5jb25jYXQoYS5za2lwLCInLiBFeHBlY3RlZCAwIG9yIDEiKSksZGVsZXRlIGEuc2tpcCkpLE9iamVjdChpLmlzRW1wdHkpKGEpfHwodC52aWRlbz1hKX1pZihlLmtleVZhbHVlcylmb3IodmFyIG4gaW4gZS5rZXlWYWx1ZXMpZm9yKHZhciBzPTA7czxlLmtleVZhbHVlc1tuXS5sZW5ndGg7cysrKXQua3Z3PXQua3Z3fHx7fSx0Lmt2d1tuXT10Lmt2d1tuXXx8W10sdC5rdndbbl0ucHVzaChlLmtleVZhbHVlc1tuXVtzXSk7aWYodC5iYW5uZXI9e30sZS5zaXplJiZlLnNpemUudyYmZS5zaXplLmgmJih0LmJhbm5lci53PWUuc2l6ZS53LHQuYmFubmVyLmg9ZS5zaXplLmgpLGUuZm9ybWF0JiZPYmplY3QoaS5pc0FycmF5KShlLmZvcm1hdCkpe3ZhciBjPWUuZm9ybWF0LmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzBdKSYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzFdKSYmZVswXT49MCYmZVsxXT49MH0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKTtjLmxlbmd0aD4wJiYodC5iYW5uZXIuZm9ybWF0PWMpfXJldHVybiB0LnBpZHx8dC5wdWJpZHx8dC5wa2V5fHx0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaHx8KHIuaW1wcmVzc2lvbk9iamVjdD1udWxsLHIuZXJyb3JDb2RlPXRoaXMuQ09OU1RBTlRTLkVSUk9SX0NPREVTLk1JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUykscn19T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzUxOV0pOwp1cGJqc0NodW5rKFsyMjNdLHs1NTE6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDU1Mil9LDU1MjpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuICR9KSk7dmFyIGk9dCgwKSxuPXQoMiksYT10KDMpLG89dCgxMSkscz10Lm4obyksZD10KDEpLGM9dCgyMikscD10KDEyKSx1PXQubihwKSxsPXQoMTMpO2Z1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIE8oZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxoKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG0oZSl7cmV0dXJuKG09ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBiKGUscil7dmFyIHQ9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTtyJiYoaT1pLmZpbHRlcigoZnVuY3Rpb24ocil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxyKS5lbnVtZXJhYmxlfSkpKSx0LnB1c2guYXBwbHkodCxpKX1yZXR1cm4gdH1mdW5jdGlvbiB5KGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PW51bGwhPWFyZ3VtZW50c1tyXT9hcmd1bWVudHNbcl06e307ciUyP2IoT2JqZWN0KHQpLCEwKS5mb3JFYWNoKChmdW5jdGlvbihyKXt2KGUscix0W3JdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKTpiKE9iamVjdCh0KSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscixPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscikpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHYoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfWZ1bmN0aW9uIGcoZSxyKXt2YXIgdD0idW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYoIXQpe2lmKEFycmF5LmlzQXJyYXkoZSl8fCh0PWgoZSkpfHxyJiZlJiYibnVtYmVyIj09dHlwZW9mIGUubGVuZ3RoKXt0JiYoZT10KTt2YXIgaT0wLG49ZnVuY3Rpb24oKXt9O3JldHVybntzOm4sbjpmdW5jdGlvbigpe3JldHVybiBpPj1lLmxlbmd0aD97ZG9uZTohMH06e2RvbmU6ITEsdmFsdWU6ZVtpKytdfX0sZTpmdW5jdGlvbihlKXt0aHJvdyBlfSxmOm59fXRocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBpdGVyYXRlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX12YXIgYSxvPSEwLHM9ITE7cmV0dXJue3M6ZnVuY3Rpb24oKXt0PXQuY2FsbChlKX0sbjpmdW5jdGlvbigpe3ZhciBlPXQubmV4dCgpO3JldHVybiBvPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe3M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e298fG51bGw9PXQucmV0dXJufHx0LnJldHVybigpfWZpbmFsbHl7aWYocyl0aHJvdyBhfX19fWZ1bmN0aW9uIGgoZSxyKXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIE8oZSxyKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT10JiZlLmNvbnN0cnVjdG9yJiYodD1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09dHx8IlNldCI9PT10P0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KT9PKGUscik6dm9pZCAwfX1mdW5jdGlvbiBPKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciB0PTAsaT1uZXcgQXJyYXkocik7dDxyO3QrKylpW3RdPWVbdF07cmV0dXJuIGl9dmFyIGo9InJvdW5kZWwiLHg9W24uYixuLmRdLEk9OGUzLHc9e0pQWToxfSxBPSJwIixQPSJ4IixTPXtTSVRFOlsiaWQiLCJuYW1lIiwiZG9tYWluIiwiY2F0Iiwic2VjdGlvbmNhdCIsInBhZ2VjYXQiLCJwYWdlIiwicmVmIiwic2VhcmNoIiwibW9iaWxlIiwicHJpdmFjeXBvbGljeSIsInB1Ymxpc2hlciIsImNvbnRlbnQiLCJrZXl3b3JkcyIsImV4dCJdLFVTRVI6WyJpZCIsImJ1eWVydWlkIiwieW9iIiwiZ2VuZGVyIiwia2V5d29yZHMiLCJjdXN0b21kYXRhIiwiZ2VvIiwiZGF0YSIsImV4dCJdfSx6PXsibGl2ZXJhbXAuY29tIjoiaWRsIiwibmV0aWQuZGUiOiJORVRJRCIsIm5ldXN0YXIuYml6IjoiZmFicmlja0lkIiwiemVvdGFwLmNvbSI6Inplb3RhcElkUGx1cyIsInVpZGFwaS5jb20iOiJVSUQyIiwiYWRzZXJ2ZXIub3JnIjoiVERJRCJ9LFQ9WyJicml0ZXBvb2xpZCIsImlkNWlkIiwibGlwYmlkIiwiaGFsb0lkIiwiY3JpdGVvSWQiLCJsb3RhbWVQYW5vcmFtYUlkIiwibWVya2xlSWQiLCJwYXJyYWJsZUlkIiwiY29ubmVjdGlkIiwidGFwYWRJZCIsInF1YW50Y2FzdElkIiwicHViY2lkIiwiVERJRCIsImZsb2NJZCJdLEM9WyJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iXSxrPVsibWltZXMiLCJtaW5kdXJhdGlvbiIsIm1heGR1cmF0aW9uIiwicHJvdG9jb2xzIiwicHJvdG9jb2wiLCJzdGFydGRlbGF5IiwicGxhY2VtZW50IiwibGluZWFyaXR5Iiwic2tpcCIsInNraXBtaW4iLCJza2lwYWZ0ZXIiLCJzZXF1ZW5jZSIsImJhdHRyIiwibWF4ZXh0ZW5kZWQiLCJtaW5iaXRyYXRlIiwibWF4Yml0cmF0ZSIsImJveGluZ2FsbG93ZWQiLCJwbGF5YmFja21ldGhvZCIsInBsYXliYWNrZW5kIiwiZGVsaXZlcnkiLCJwb3MiLCJjb21wYW5pb25hZCIsImFwaSIsImNvbXBhbmlvbnR5cGUiLCJleHQiLCJwbGF5ZXJTaXplIiwidyIsImgiXTtmdW5jdGlvbiBFKGUpe3ZhciByPXt9O3IuaWQ9ZS5iaWRJZCxyLmV4dD17fSxyLmV4dC5zaXRlSUQ9ZS5wYXJhbXMuc2l0ZUlkLCFlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiaWQiKXx8InN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5pZCYmIm51bWJlciIhPXR5cGVvZiBlLnBhcmFtcy5pZHx8KHIuZXh0LnNpZD1TdHJpbmcoZS5wYXJhbXMuaWQpKTt2YXIgdD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YS5hZHNlcnZlci5hZHNsb3QiKTtyZXR1cm4gdCYmKHIuZXh0LmRmcF9hZF91bml0X2NvZGU9dCkscn1mdW5jdGlvbiBEKGUscix0KXt2YXIgbj1udWxsLGE9bnVsbDtpZihlLnBhcmFtcy5iaWRGbG9vciYmZS5wYXJhbXMuYmlkRmxvb3JDdXImJihuPXtmbG9vcjplLnBhcmFtcy5iaWRGbG9vcixjdXJyZW5jeTplLnBhcmFtcy5iaWRGbG9vckN1cn0pLE9iamVjdChpLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgbz0iKiIscz0iKiI7aWYodCYmT2JqZWN0KGkuY29udGFpbnMpKHgsdCkpe3ZhciBkPXJbdF07bz10LHM9W2QudyxkLmhdfXRyeXthPWUuZ2V0Rmxvb3Ioe21lZGlhVHlwZTpvLHNpemU6c30pfWNhdGNoKGUpe09iamVjdChpLmxvZ1dhcm4pKCJwcmljZUZsb29ycyBtb2R1bGUgY2FsbCBnZXRGbG9vciBmYWlsZWQsIGVycm9yIDogIixlKX19YT8oci5iaWRmbG9vcj1hLmZsb29yLHIuYmlkZmxvb3JjdXI9YS5jdXJyZW5jeSxyLmV4dC5mbD1BKTpuJiYoci5iaWRmbG9vcj1uLmZsb29yLHIuYmlkZmxvb3JjdXI9bi5jdXJyZW5jeSxyLmV4dC5mbD1QKX1mdW5jdGlvbiBfKGUscix0KXt2YXIgYT17fSxvPSEoIU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4cCIpfHwhT2JqZWN0KGkuaXNJbnRlZ2VyKShlLmV4cCkpLHM9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZGVhbGlkIil8fE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsImV4dC5kZWFsaWQiKTtyZXR1cm4gdy5oYXNPd25Qcm9wZXJ0eShyKT9hLmNwbT1lLnByaWNlL3dbcl06YS5jcG09ZS5wcmljZS8xMDAsYS5yZXF1ZXN0SWQ9ZS5pbXBpZCxzJiYoYS5kZWFsSWQ9cyksYS5uZXRSZXZlbnVlPXRydWUsYS5jdXJyZW5jeT1yLGEuY3JlYXRpdmVJZD1lLmhhc093blByb3BlcnR5KCJjcmlkIik/ZS5jcmlkOiItIixPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQudmFzdHVybCIpPyhhLnZhc3RVcmw9ZS5leHQudmFzdHVybCxhLndpZHRoPXQudmlkZW8udyxhLmhlaWdodD10LnZpZGVvLmgsYS5tZWRpYVR5cGU9bi5kLGEubWVkaWFUeXBlcz10Lm1lZGlhVHlwZXMsYS50dGw9bz9lLmV4cDozNjAwKTooYS5hZD1lLmFkbSxhLndpZHRoPWUudyxhLmhlaWdodD1lLmgsYS5tZWRpYVR5cGU9bi5iLGEudHRsPW8/ZS5leHA6MzAwKSxhLm1ldGE9e30sYS5tZXRhLm5ldHdvcmtJZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuZHNwaWQiKSxhLm1ldGEuYnJhbmRJZD1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJleHQuYWR2YnJhbmRpZCIpLGEubWV0YS5icmFuZE5hbWU9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiZXh0LmFkdmJyYW5kIiksZS5hZG9tYWluJiZlLmFkb21haW4ubGVuZ3RoPjAmJihhLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9ZS5hZG9tYWluKSxhfWZ1bmN0aW9uIEYoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzBdKSYmT2JqZWN0KGkuaXNJbnRlZ2VyKShlWzFdKX1mdW5jdGlvbiBSKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLHI9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOltdO2lmKEYoZSkpcmV0dXJuIGVbMF09PT1yWzBdJiZlWzFdPT09clsxXTtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdWzBdPT09clswXSYmZVt0XVsxXT09PXJbMV0pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcShlLHIpe3ZhciB0PVtdO2V8fE9iamVjdChpLmxvZ1dhcm4pKCJJWCBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlbyBpcyB0aGUgcHJlZmVycmVkIGxvY2F0aW9uIGZvciB2aWRlbyBwYXJhbXMgaW4gYWQgdW5pdCIpO3ZhciBuLGE9ZyhDKTt0cnl7Zm9yKGEucygpOyEobj1hLm4oKSkuZG9uZTspe3ZhciBvPW4udmFsdWUscz1lJiZlLmhhc093blByb3BlcnR5KG8pLGQ9ciYmci5oYXNPd25Qcm9wZXJ0eShvKTtzfHxkfHx0LnB1c2goIklYIEJpZCBBZGFwdGVyOiAiLmNvbmNhdChvLCIgaXMgbm90IGluY2x1ZGVkIGluIGVpdGhlciB0aGUgYWR1bml0IG9yIHBhcmFtcyBsZXZlbCIpKX19Y2F0Y2goZSl7YS5lKGUpfWZpbmFsbHl7YS5mKCl9dmFyIGM9ZSYmZS5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSxwPWUmJmUuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpLHU9ciYmci5oYXNPd25Qcm9wZXJ0eSgicHJvdG9jb2wiKSxsPXImJnIuaGFzT3duUHJvcGVydHkoInByb3RvY29scyIpO3JldHVybiBjfHxwfHx1fHxsfHx0LnB1c2goIklYIEJpZCBBZGFwdGVyOiBwcm90b2NvbC9wcm90Y29scyBpcyBub3QgaW5jbHVkZWQgaW4gZWl0aGVyIHRoZSBhZHVuaXQgb3IgcGFyYW1zIGxldmVsIiksdH1mdW5jdGlvbiBCKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdO3JldHVybiBGKGUpP2U6ISFGKGVbMF0pJiZlWzBdfWZ1bmN0aW9uIFUoZSxyLHQpe2lmKGUpcmV0dXJuIHkoeSh7fSxzKCkodCwoZnVuY3Rpb24ocil7cmV0dXJuIHIuYmlkSWQ9PT1lfSkpKSxzKCkociwoZnVuY3Rpb24ocil7cmV0dXJuIHIuaWQ9PT1lfSkpKX1mdW5jdGlvbiBOKGUscix0LG8pe3ZhciBzPSJodHRwczovL2h0bGIuY2FzYWxlbWVkaWEuY29tL2N5Z251cyIsZD1mdW5jdGlvbihlLHIpe3ZhciB0PVtdLG49e307aWYoT2JqZWN0KGkuaXNBcnJheSkoZSkpe3ZhciBhLG89ZyhlKTt0cnl7Zm9yKG8ucygpOyEoYT1vLm4oKSkuZG9uZTspe3ZhciBzPWEudmFsdWU7eltzLnNvdXJjZV0mJk9iamVjdChpLmRlZXBBY2Nlc3MpKHMsInVpZHMuMCIpJiYobltzLnNvdXJjZV09ITAscy51aWRzWzBdLmV4dD17cnRpUGFydG5lcjp6W3Muc291cmNlXX0sZGVsZXRlIHMudWlkc1swXS5hdHlwZSx0LnB1c2gocykpfX1jYXRjaChlKXtvLmUoZSl9ZmluYWxseXtvLmYoKX19aWYociYmci5pZCYmci52ZXJzaW9uKXt2YXIgZD17c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxleHQ6e3J0aVBhcnRuZXI6ImZsb2NJZCIsdmVyOnIudmVyc2lvbn19XX07dC5wdXNoKGQpLG5bImNocm9tZS5jb20iXT0hMH1yZXR1cm57dG9TZW5kOnQsc2VlblNvdXJjZXM6bn19KE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIjAudXNlcklkQXNFaWRzIiksT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiMC51c2VySWQuZmxvY0lkIikpLGM9ZC50b1NlbmQ7aWYod2luZG93LmhlYWRlcnRhZyYmImZ1bmN0aW9uIj09dHlwZW9mIHdpbmRvdy5oZWFkZXJ0YWcuZ2V0SWRlbnRpdHlJbmZvKXt2YXIgcD13aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbygpO2lmKHAmJiJvYmplY3QiPT09bShwKSlmb3IodmFyIHUgaW4gcClpZihwLmhhc093blByb3BlcnR5KHUpKXt2YXIgbD1wW3VdOyFsLnJlc3BvbnNlUGVuZGluZyYmbC5kYXRhJiYib2JqZWN0Ij09PW0obC5kYXRhKSYmT2JqZWN0LmtleXMobC5kYXRhKS5sZW5ndGgmJiFkLnNlZW5Tb3VyY2VzW2wuZGF0YS5zb3VyY2VdJiZjLnB1c2gobC5kYXRhKX19aWYociYmci5iaWRkZXJDb2RlPT09aiYmIWQuc2VlblNvdXJjZXNbImxpdmVyYW1wLmNvbSJdKXJldHVybltdO3ZhciBiPXt9O2IuaWQ9ZVswXS5iaWRkZXJSZXF1ZXN0SWQudG9TdHJpbmcoKSxiLnNpdGU9e30sYi5leHQ9e30sYi5leHQuc291cmNlPSJwcmViaWQiLGIuZXh0Lml4ZGlhZz17fSxiLmV4dC5peGRpYWcubXNkPTAsYi5leHQuaXhkaWFnLm1zaT0wLGIuaW1wPVtdLGIuYXQ9MTt2YXIgdj1mdW5jdGlvbihlKXtmb3IodmFyIHI9ZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KSkuZmlsdGVyKChmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHQuaW5kZXhPZihlKT09PXJ9KSksdD17bWZ1OjAsYnU6MCxpdTowLG51OjAsb3U6MCxhbGx1OjAscmVuOiExLHZlcnNpb246IjUuMjAuMiIsdXNlcklkczpKKGVbMF0pfSxuPWZ1bmN0aW9uKG4pe2lmKG89ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWQ9PT1yW25dfSkpWzBdLE9iamVjdChpLmRlZXBBY2Nlc3MpKG8sIm1lZGlhVHlwZXMiKSl7aWYoT2JqZWN0LmtleXMoby5tZWRpYVR5cGVzKS5sZW5ndGg+MSYmdC5tZnUrKyxPYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLm5hdGl2ZSIpJiZ0Lm51KyssT2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy5iYW5uZXIiKSYmdC5idSsrLCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iikpe3Qub3UrKzt2YXIgYT0ib2JqZWN0Ij09PW0oT2JqZWN0KGkuZGVlcEFjY2VzcykobywicmVuZGVyZXIiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpKTt0LnJlbj10LnJlbiYmYT9PYmplY3QoaS5kZWVwQWNjZXNzKSh0LCJyZW4iKTphfSJpbnN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKShvLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmdC5pdSsrLHQuYWxsdSsrfX0sYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbztuKGEpfXJldHVybiB0fShlKTtmb3IodmFyIGggaW4gdiliLmV4dC5peGRpYWdbaF09dltoXTtpZihlWzBdLnNjaGFpbiYmKGIuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxjLmxlbmd0aD4wJiYoYi51c2VyPXt9LGIudXNlci5laWRzPWMpLGRvY3VtZW50LnJlZmVycmVyJiYiIiE9PWRvY3VtZW50LnJlZmVycmVyJiYoYi5zaXRlLnJlZj1kb2N1bWVudC5yZWZlcnJlcikscil7aWYoci5nZHByQ29uc2VudCl7dmFyIE89ci5nZHByQ29uc2VudDtPLmhhc093blByb3BlcnR5KCJnZHByQXBwbGllcyIpJiYoYi5yZWdzPXtleHQ6e2dkcHI6Ty5nZHByQXBwbGllcz8xOjB9fSksTy5oYXNPd25Qcm9wZXJ0eSgiY29uc2VudFN0cmluZyIpJiYoYi51c2VyPWIudXNlcnx8e30sYi51c2VyLmV4dD17Y29uc2VudDpPLmNvbnNlbnRTdHJpbmd8fCIifSxPLmhhc093blByb3BlcnR5KCJhZGR0bENvbnNlbnQiKSYmTy5hZGR0bENvbnNlbnQmJihiLnVzZXIuZXh0LmNvbnNlbnRlZF9wcm92aWRlcnNfc2V0dGluZ3M9e2NvbnNlbnRlZF9wcm92aWRlcnM6Ty5hZGR0bENvbnNlbnR9KSl9ci51c3BDb25zZW50JiZPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksci5yZWZlcmVySW5mbyYmKGIuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcil9YS5iLmdldENvbmZpZygiY29wcGEiKSYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmNvcHBhIiwxKTt2YXIgeD17fTt4LnM9ZVswXS5wYXJhbXMuc2l0ZUlkLHgudj1vLHguYWM9ImoiLHguc2Q9MSw4LjE9PT1vJiYoeC5uZj0xKTt2YXIgdz1yJiZyLmJpZGRlckNvZGV8fCJpeCIsQT1hLmIuZ2V0Q29uZmlnKHcpLFA9W10sVD0wLEM9T2JqZWN0LmtleXModCksaz0iIi5jb25jYXQocykuY29uY2F0KE9iamVjdChpLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKSh5KHkoe30seCkse30se3I6SlNPTi5zdHJpbmdpZnkoYil9KSkpLmxlbmd0aDtpZihrPkkpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyOiBCYXNlIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIiksUDt2YXIgRT1rLEQ9MCxfPSExO2lmKEEpe2lmKCJvYmplY3QiPT09bShBLmZpcnN0UGFydHlEYXRhKSl7dmFyIEY9QS5maXJzdFBhcnR5RGF0YSxSPSI/Ijtmb3IodmFyIHEgaW4gRilGLmhhc093blByb3BlcnR5KHEpJiYoUis9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChxKSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoRltxXSksIiYiKSk7Uj1SLnNsaWNlKDAsLTEpLChEPWVuY29kZVVSSUNvbXBvbmVudChSKS5sZW5ndGgpPEk/KCJwYWdlImluIGIuc2l0ZT9iLnNpdGUucGFnZSs9UjpiLnNpdGUucGFnZT1SLEUrPUQpOk9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyOiBJWCBjb25maWcgRlBEIHJlcXVlc3Qgc2l6ZSBoYXMgZXhjZWVkZWQgbWF4aW11bSByZXF1ZXN0IHNpemUuIil9Im51bWJlciI9PXR5cGVvZiBBLnRpbWVvdXQmJih4LnQ9QS50aW1lb3V0KSwiYm9vbGVhbiI9PXR5cGVvZiBBLmRldGVjdE1pc3NpbmdTaXplcz9iLmV4dC5peGRpYWcuZG1zPUEuZGV0ZWN0TWlzc2luZ1NpemVzOmIuZXh0Lml4ZGlhZy5kbXM9ITB9Zm9yKHZhciBCPWZ1bmN0aW9uKHIpe2lmKEU+PUl8fFAubGVuZ3RoPj00KXJldHVybiJicmVhayI7Zm9yKHZhciBvPXRbQ1tyXV0sZD1vLm1pc3NpbmdDb3VudCxjPXZvaWQgMD09PWQ/MDpkLHA9by5taXNzaW5nSW1wcyx1PXZvaWQgMD09PXA/W106cCxsPW8uaXhJbXBzLG09ITEsdj1JLUUsZz17aXhJbXBzOnZvaWQgMD09PWw/W106bCxtaXNzaW5nQmFubmVySW1wcmVzc2lvbnM6dX0saD1PYmplY3Qua2V5cyhnKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBnW2VdfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSl9KSkucmVkdWNlKChmdW5jdGlvbihlLHIpe3JldHVybiBlLmNvbmNhdC5hcHBseShlLGYocikpfSksW10pLE89ZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHtpbXByZXNzaW9uT2JqZWN0czpofSkpLmxlbmd0aDtoLmxlbmd0aCYmTz52OyltPSEwLGgucG9wKCksTz1lbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoe2ltcHJlc3Npb25PYmplY3RzOmh9KSkubGVuZ3RoO2lmKGgubGVuZ3RoJiZuLmIgaW4gaFswXSl7dmFyIGo9aFswXSx3PWouaWQsQT1qLmJhbm5lci50b3BmcmFtZSx6PWouZXh0LEQ9e2lkOncsYmFubmVyOnt0b3BmcmFtZTpBLGZvcm1hdDpoLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHI9ZS5iYW5uZXI7cmV0dXJue3c6ci53LGg6ci5oLGV4dDplLmV4dH19KSl9fTt6LmRmcF9hZF91bml0X2NvZGUmJihELmV4dD17ZGZwX2FkX3VuaXRfY29kZTp6LmRmcF9hZF91bml0X2NvZGV9KSwiYmlkZmxvb3IiaW4gaFswXSYmKEQuYmlkZmxvb3I9aFswXS5iaWRmbG9vciksImJpZGZsb29yY3VyImluIGhbMF0mJihELmJpZGZsb29yY3VyPWhbMF0uYmlkZmxvb3JjdXIpLGIuaW1wLnB1c2goRCksYi5leHQuaXhkaWFnLm1zZCs9YyxiLmV4dC5peGRpYWcubXNpKz11Lmxlbmd0aH1lbHNle3ZhciBGOyhGPWIuaW1wKS5wdXNoLmFwcGx5KEYsZihoKSl9RSs9Tzt2YXIgUj1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpfHx7fTtpZighT2JqZWN0KGkuaXNFbXB0eSkoUikmJiFfKXtiLmV4dC5peGRpYWcuZnBkPSEwO3ZhciBxPXkoe30sUi5zaXRlfHxSLmNvbnRleHQpO09iamVjdC5rZXlzKHEpLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09Uy5TSVRFLmluZGV4T2YoZSkmJmRlbGV0ZSBxW2VdfSkpO3ZhciBCPXkoe30sUi51c2VyKTtPYmplY3Qua2V5cyhCKS5mb3JFYWNoKChmdW5jdGlvbihlKXstMT09PVMuVVNFUi5pbmRleE9mKGUpJiZkZWxldGUgQltlXX0pKTt2YXIgVT1PYmplY3QoaS5kZWVwQ2xvbmUpKGIpO2lmKFUuc2l0ZT1PYmplY3QoaS5tZXJnZURlZXApKHt9LFUuc2l0ZSxxKSxVLnVzZXI9T2JqZWN0KGkubWVyZ2VEZWVwKSh7fSxVLnVzZXIsQiksIiIuY29uY2F0KHMpLmNvbmNhdChPYmplY3QoaS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycykoeSh5KHt9LHgpLHt9LHtyOkpTT04uc3RyaW5naWZ5KFUpfSkpKS5sZW5ndGg8SSl7Yi5zaXRlPU9iamVjdChpLm1lcmdlRGVlcCkoe30sYi5zaXRlLHEpLGIudXNlcj1PYmplY3QoaS5tZXJnZURlZXApKHt9LGIudXNlcixCKSxfPSEwO3ZhciBOPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh5KHkoe30scSksQikpKS5sZW5ndGg7RSs9Tn1lbHNlIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyOiBGUEQgcmVxdWVzdCBzaXplIGhhcyBleGNlZWRlZCBtYXhpbXVtIHJlcXVlc3Qgc2l6ZS4iKX12YXIgSj1yPT09Qy5sZW5ndGgtMTtpZihtfHxKKXt2YXIgTT1PYmplY3QoaS5kZWVwQ2xvbmUpKHgpO0omJiFUfHwoYi5leHQuaXhkaWFnLnNuPVQsTS5zbj1UKSxUKyssTS5yPUpTT04uc3RyaW5naWZ5KGIpLFAucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpzLGRhdGE6TSx2YWxpZEJpZFJlcXVlc3RzOmV9KSxFPWssYi5pbXA9W10sYi5leHQuaXhkaWFnLm1zZD0wLGIuZXh0Lml4ZGlhZy5tc2k9MCxfPSExfX0sVT0wO1U8Qy5sZW5ndGg7VSsrKXtpZigiYnJlYWsiPT09QihVKSlicmVha31yZXR1cm4gUH1mdW5jdGlvbiBKKGUpe3ZhciByPWUudXNlcklkfHx7fTtyZXR1cm4gVC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdfSkpfWZ1bmN0aW9uIE0oZSxyKXtpZihyKWZvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgaT1lW3RdO2lmKHJbMF09PT1pWzBdJiZyWzFdPT09aVsxXSl7ZS5zcGxpY2UodCwxKTticmVha319fWZ1bmN0aW9uIFgoZSxyKXt2YXIgdD1mdW5jdGlvbihlKXt2YXIgcj1FKGUpLHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIik7aWYocSh0LGEpLmxlbmd0aClyZXR1cm57fTtmb3IodmFyIG8gaW4gci52aWRlbz1hP09iamVjdChpLmRlZXBDbG9uZSkoZS5wYXJhbXMudmlkZW8pOnt9LHQpLTE9PT1rLmluZGV4T2Yobyl8fHIudmlkZW8uaGFzT3duUHJvcGVydHkobyl8fChyLnZpZGVvW29dPXRbb10pO2lmKHIudmlkZW8ubWluZHVyYXRpb24+ci52aWRlby5tYXhkdXJhdGlvbilyZXR1cm4gT2JqZWN0KGkubG9nRXJyb3IpKCJJWCBCaWQgQWRhcHRlcjogdmlkZW8gbWluZHVyYXRpb24gWyIuY29uY2F0KHIudmlkZW8ubWluZHVyYXRpb24sIl0gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiB2aWRlbyBtYXhkdXJhdGlvbiBbIikuY29uY2F0KHIudmlkZW8ubWF4ZHVyYXRpb24sIl0iKSkse307dmFyIHM9YSYmYS5jb250ZXh0fHx0JiZ0LmNvbnRleHQ7aWYocyYmIXIudmlkZW8uaGFzT3duUHJvcGVydHkoInBsYWNlbWVudCIpJiYocz09PWMuYT9yLnZpZGVvLnBsYWNlbWVudD0xOnM9PT1jLmI/ci52aWRlby5wbGFjZW1lbnQ9NDpPYmplY3QoaS5sb2dXYXJuKSgiSVggQmlkIEFkYXB0ZXI6IFZpZGVvIGNvbnRleHQgJyIuY29uY2F0KHMsIicgaXMgbm90IHN1cHBvcnRlZCIpKSksIXIudmlkZW8ud3x8IXIudmlkZW8uaCl7dmFyIGQ9QihPYmplY3QoaS5kZWVwQWNjZXNzKShyLCJ2aWRlby5wbGF5ZXJTaXplIikpfHxCKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5zaXplIikpO2lmKCFkKXJldHVybiBPYmplY3QoaS5sb2dXYXJuKSgiSVggQmlkIEFkYXB0ZXI6IFZpZGVvIHNpemUgaXMgbWlzc2luZyBpbiBbbWVkaWFUeXBlcy52aWRlb10gbWlzc2luZyIpLHt9O3IudmlkZW8udz1kWzBdLHIudmlkZW8uaD1kWzFdLE9iamVjdChpLmRlZXBBY2Nlc3MpKHIsImV4dC5zaWQiKXx8KHIuZXh0LnNpZD1PYmplY3QoaS5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkoZCkpfXJldHVybiBEKGUscixuLmQpLHJ9KGUpOzAhPU9iamVjdC5rZXlzKHQpLmxlbmd0aCYmKHJbZS50cmFuc2FjdGlvbklkXT17fSxyW2UudHJhbnNhY3Rpb25JZF0uaXhJbXBzPVtdLHJbZS50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaCh0KSl9ZnVuY3Rpb24gVihlLHIsdCl7dmFyIG89eSh5KHt9LHtkZXRlY3RNaXNzaW5nU2l6ZXM6ITB9KSxhLmIuZ2V0Q29uZmlnKCJpeCIpKSxzPWZ1bmN0aW9uKGUpe3ZhciByPUUoZSk7ci5iYW5uZXI9e307dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnNpemUiKTtyZXR1cm4gdCYmKHIuYmFubmVyLnc9dFswXSxyLmJhbm5lci5oPXRbMV0sT2JqZWN0KGkuZGVlcEFjY2VzcykociwiZXh0LnNpZCIpfHwoci5leHQuc2lkPU9iamVjdChpLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KSh0KSkpLHIuYmFubmVyLnRvcGZyYW1lPU9iamVjdChpLmluSWZyYW1lKSgpPzA6MSxEKGUscixuLmIpLHJ9KGUpO1IoT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSxPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpKSYmKHQuaGFzT3duUHJvcGVydHkoZS50cmFuc2FjdGlvbklkKXx8KHRbZS50cmFuc2FjdGlvbklkXT17fSksdFtlLnRyYW5zYWN0aW9uSWRdLmhhc093blByb3BlcnR5KCJpeEltcHMiKXx8KHRbZS50cmFuc2FjdGlvbklkXS5peEltcHM9W10pLHRbZS50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaChzKSksby5oYXNPd25Qcm9wZXJ0eSgiZGV0ZWN0TWlzc2luZ1NpemVzIikmJm8uZGV0ZWN0TWlzc2luZ1NpemVzJiZmdW5jdGlvbihlLHIsdCl7dmFyIG49ZS50cmFuc2FjdGlvbklkO2lmKHIuaGFzT3duUHJvcGVydHkobikpe3ZhciBhPVtdO3Jbbl0uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdTaXplcyIpJiYoYT1yW25dLm1pc3NpbmdTaXplcyksTShhLGUucGFyYW1zLnNpemUpLHJbbl0ubWlzc2luZ1NpemVzPWF9ZWxzZSBpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKXt2YXIgbz1PYmplY3QoaS5kZWVwQ2xvbmUpKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpO00obyxlLnBhcmFtcy5zaXplKTt2YXIgcz17bWlzc2luZ1NpemVzOm8saW1wcmVzc2lvbjp0fTtyW25dPXN9fShlLHIscyl9ZnVuY3Rpb24gVyhlLHIsdCl7dmFyIGE9T2JqZWN0KGkuZGVlcENsb25lKShyKTtyZXR1cm4gYS5leHQuc2lkPU9iamVjdChpLnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5KSh0KSxhLmJhbm5lci53PXRbMF0sYS5iYW5uZXIuaD10WzFdLEQoZSxhLG4uYiksYX1mdW5jdGlvbiBHKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXt2YXIgcj17d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdGltZW91dDozZTN9O3dpbmRvdy5JWE91dHN0cmVhbVBsYXllcihlLnZhc3RVcmwsZS5hZFVuaXRDb2RlLHIpfSkpfWZ1bmN0aW9uIFEoZSl7dmFyIHI9bC5hLmluc3RhbGwoe2lkOmUsdXJsOiJodHRwczovL2pzLXNlYy5pbmRleHd3LmNvbS9odHYvdmlkZW8tcGxheWVyLmpzIixsb2FkZWQ6ITF9KTt0cnl7ci5zZXRSZW5kZXIoRyl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHJ9dmFyICQ9e2NvZGU6Iml4IixndmxpZDoxMCxhbGlhc2VzOlt7Y29kZTpqLGd2bGlkOjEwLHNraXBQYnNBbGlhc2luZzohMX1dLHN1cHBvcnRlZE1lZGlhVHlwZXM6eCxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgcix0LG49T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIiksYT1PYmplY3QoaS5kZWVwQWNjZXNzKShlLCJwYXJhbXMuc2l6ZSIpLG89T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKSxzPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxkPU9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpLGM9ZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJpZEZsb29yIikscD1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3JDdXIiKTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGUiKSYmIU9iamVjdChpLmNvbnRhaW5zKSh4LGUubWVkaWFUeXBlKSlyZXR1cm4hMTtpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhbylyZXR1cm4hMTtpZihhKXt2YXIgdT1CKGEpO2lmKCF1KXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IHNpemUgaGFzIGludmFsaWQgZm9ybWF0LiIpLCExO2lmKCFSKGUuc2l6ZXMsdSkmJiFSKGQsdSkmJiFSKG8sdSkpcmV0dXJuIE9iamVjdChpLmxvZ0Vycm9yKSgiaXggYmlkZGVyIHBhcmFtczogYmlkIHNpemUgaXMgbm90IGluY2x1ZGVkIGluIGFkIHVuaXQgc2l6ZXMgb3IgcGxheWVyIHNpemUuIiksITF9aWYoInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IHNpdGVJZCBtdXN0IGJlIHN0cmluZyBvciBudW1iZXIgdmFsdWUuIiksITE7aWYoKGN8fHApJiYhKGMmJnAmJihyPWUucGFyYW1zLmJpZEZsb29yLHQ9ZS5wYXJhbXMuYmlkRmxvb3JDdXIsQm9vbGVhbigibnVtYmVyIj09dHlwZW9mIHImJiJzdHJpbmciPT10eXBlb2YgdCYmdC5tYXRjaCgvXltBLVpdezN9JC8pKSkpKXJldHVybiBPYmplY3QoaS5sb2dFcnJvcikoIml4IGJpZGRlciBwYXJhbXM6IGJpZEZsb29yIC8gYmlkRmxvb3JDdXIgcGFyYW1ldGVyIGhhcyBpbnZhbGlkIGZvcm1hdC4iKSwhMTtpZihzJiZuKXt2YXIgbD1xKHMsbik7aWYobC5sZW5ndGgpcmV0dXJuIGwuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0KGkubG9nRXJyb3IpKGUpfSkpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W10sYT17fSxvPXt9LHM9e30sZD17fTtmb3IodmFyIGMgaW4gZS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3Qua2V5cyhPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzIix7fSkpO3N3aXRjaChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIikmJk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKT9uLmQ6bi5ifShlKSl7Y2FzZSBuLmI6VihlLGQsYSk7YnJlYWs7Y2FzZSBuLmQ6WChlLG8pfXUoKShyLG4uYikmJnUoKShyLG4uZCkmJihzW2UudHJhbnNhY3Rpb25JZF09ZSl9KSksT2JqZWN0LmtleXMocykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHI9c1tlXTthW2VdfHxWKHIsZCxhKSxvW2VdfHxYKHIsbyl9KSksZClpZihkLmhhc093blByb3BlcnR5KGMpKXt2YXIgcD1kW2NdLm1pc3NpbmdTaXplczthLmhhc093blByb3BlcnR5KGMpfHwoYVtjXT17fSksYVtjXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ0ltcHMiKXx8KGFbY10ubWlzc2luZ0ltcHM9W10sYVtjXS5taXNzaW5nQ291bnQ9MCk7Zm9yKHZhciBsPWRbY10uaW1wcmVzc2lvbixtPTA7bTxwLmxlbmd0aDttKyspe3ZhciBiPVcoZVswXSxsLHBbbV0pO2FbY10ubWlzc2luZ0ltcHMucHVzaChiKSxhW2NdLm1pc3NpbmdDb3VudCsrfX1yZXR1cm4gT2JqZWN0LmtleXMoYSkubGVuZ3RoPjAmJnQucHVzaC5hcHBseSh0LGYoTihlLHIsYSw3LjIpKSksT2JqZWN0LmtleXMobykubGVuZ3RoPjAmJnQucHVzaC5hcHBseSh0LGYoTihlLHIsbyw4LjEpKSksdH0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgdD1bXSxuPW51bGw7aWYoIWUuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic2VhdGJpZCIpKXJldHVybiB0O2Zvcih2YXIgYT1lLmJvZHksbz1hLnNlYXRiaWQscz0wO3M8by5sZW5ndGg7cysrKWlmKG9bc10uaGFzT3duUHJvcGVydHkoImJpZCIpKWZvcih2YXIgZD1vW3NdLmJpZCxjPUpTT04ucGFyc2Uoci5kYXRhLnIpLHA9MDtwPGQubGVuZ3RoO3ArKyl7dmFyIHU9VShkW3BdLmltcGlkLGMuaW1wLHIudmFsaWRCaWRSZXF1ZXN0cyk7bj1fKGRbcF0sYS5jdXIsdSksT2JqZWN0KGkuZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlby5yZW5kZXJlciIpfHwib3V0c3RyZWFtIiE9PU9iamVjdChpLmRlZXBBY2Nlc3MpKG4sIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpfHwobi5tZWRpYVR5cGVzLnZpZGVvLnJlbmRlcmVyPVEoZFtwXS5iaWRJZCkpLHQucHVzaChuKX1yZXR1cm4gdH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdChpLmNvbnZlcnRUeXBlcykoe3NpdGVJRDoibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHIpe3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/W3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9qcy1zZWMuaW5kZXh3dy5jb20vdW0vaXhtYXRjaC5odG1sIn1dOltdfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKCQpfX0sWzU1MV0pOwp1cGJqc0NodW5rKFsyMTldLHs1NjE6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDU2Mil9LDU2MjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG19KSk7dmFyIG49cigwKSxhPXIoMyksbz1yKDEpLGk9cig3KSxjPXIoMik7ZnVuY3Rpb24gdSgpe3JldHVybih1PU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHMsZCxnLGw9ImthcmdvIixwPVtjLmIsYy5kXSxmPU9iamVjdChpLmIpKDk3MixsKSxtPXtndmxpZDo5NzIsY29kZTpsLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fCFlLnBhcmFtcykmJiEhZS5wYXJhbXMucGxhY2VtZW50SWR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcixvPWEuYi5nZXRDb25maWcoImN1cnJlbmN5IiksaT1vJiZvLmFkU2VydmVyQ3VycmVuY3l8fCJVU0QiLGM9e30scz17fTtPYmplY3Qobi5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7Y1tlLmJpZElkXT1lLnBhcmFtcy5wbGFjZW1lbnRJZCxzW2UuYmlkSWRdPWUuc2l6ZXN9KSksZS5sZW5ndGg+MCYmZVswXS51c2VySWQmJmVbMF0udXNlcklkLnRkaWQmJihyPWVbMF0udXNlcklkLnRkaWQpO3ZhciBkPXUoe30se3Nlc3Npb25JZDptLl9nZXRTZXNzaW9uSWQoKSxyZXF1ZXN0Q291bnQ6bS5fZ2V0UmVxdWVzdENvdW50KCksdGltZW91dDp0LnRpbWVvdXQsY3VycmVuY3k6aSxjcG1HcmFudWxhcml0eToxLHRpbWVzdGFtcDoobmV3IERhdGUpLmdldFRpbWUoKSxjcG1SYW5nZTp7Zmxvb3I6MCxjZWlsOjIwfSxiaWRJRHM6YyxiaWRTaXplczpzLHByZWJpZFJhd0JpZFJlcXVlc3RzOmV9LG0uX2dldEFsbE1ldGFkYXRhKHIsdC51c3BDb25zZW50LHQuZ2RwckNvbnNlbnQpKSxnPWVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShkKSk7cmV0dXJuIHUoe30sdCx7bWV0aG9kOiJHRVQiLHVybDoiIi5jb25jYXQoImh0dHBzOi8va3JrLmthcmdvLmNvbSIsIi9hcGkvdjIvYmlkIiksZGF0YToianNvbj0iLmNvbmNhdChnKSxjdXJyZW5jeTppfSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5LG49W107Zm9yKHZhciBhIGluIHIpe3ZhciBvPXJbYV0saT12b2lkIDA7by5tZXRhZGF0YSYmby5tZXRhZGF0YS5sYW5kaW5nUGFnZURvbWFpbiYmKGk9e2NsaWNrVXJsOm8ubWV0YWRhdGEubGFuZGluZ1BhZ2VEb21haW4sYWR2ZXJ0aXNlckRvbWFpbnM6W28ubWV0YWRhdGEubGFuZGluZ1BhZ2VEb21haW5dfSksbi5wdXNoKHtyZXF1ZXN0SWQ6YSxjcG06TnVtYmVyKG8uY3BtKSx3aWR0aDpvLndpZHRoLGhlaWdodDpvLmhlaWdodCxhZDpvLmFkbSx0dGw6MzAwLGNyZWF0aXZlSWQ6by5pZCxkZWFsSWQ6by50YXJnZXRpbmdDdXN0b20sbmV0UmV2ZW51ZTohMCxjdXJyZW5jeTp0LmN1cnJlbmN5LG1ldGE6aX0pfXJldHVybiBufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIGE9W10sbz1tLl9nZW5lcmF0ZVJhbmRvbVV1aWQoKSxpPW0uX2dldENsaWVudElkKCksYz1yJiZyLmdkcHJBcHBsaWVzPzE6MCx1PXImJnIuY29uc2VudFN0cmluZz9yLmNvbnNlbnRTdHJpbmc6IiI7aWYoInN0cmluZyI9PXR5cGVvZiBuJiY0PT1uLmxlbmd0aCYmMT09blswXSYmIlkiPT1uWzJdKXJldHVybiBhO2lmKGUuaWZyYW1lRW5hYmxlZCYmbyYmaSlmb3IodmFyIHM9MDtzPDU7cysrKWEucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vY3JiLmthcmdvLmNvbS9hcGkvdjEvaW5pdHN5bmNybmQve1VVSUR9P3NlZWQ9e1NFRUR9JmlkeD17SU5ERVh9JmdkcHI9e0dEUFJ9JmdkcHJfY29uc2VudD17R0RQUl9DT05TRU5UfSZ1c19wcml2YWN5PXtVU19QUklWQUNZfSIucmVwbGFjZSgie1VVSUR9IixpKS5yZXBsYWNlKCJ7U0VFRH0iLG8pLnJlcGxhY2UoIntJTkRFWH0iLHMpLnJlcGxhY2UoIntHRFBSfSIsYykucmVwbGFjZSgie0dEUFJfQ09OU0VOVH0iLHUpLnJlcGxhY2UoIntVU19QUklWQUNZfSIsbnx8IiIpfSk7cmV0dXJuIGF9LHN1cHBvcnRlZE1lZGlhVHlwZXM6cCxfcmVhZENvb2tpZTpmdW5jdGlvbihlKXtpZighZi5jb29raWVzQXJlRW5hYmxlZCgpKXJldHVybiBudWxsO2Zvcih2YXIgdD0iIi5jb25jYXQoZSwiPSIpLHI9ZG9jdW1lbnQuY29va2llLnNwbGl0KCI7Iiksbj0wO248ci5sZW5ndGg7bisrKXtmb3IodmFyIGE9cltuXTsiICI9PT1hLmNoYXJBdCgwKTspYT1hLnN1YnN0cmluZygxLGEubGVuZ3RoKTtpZigwPT09YS5pbmRleE9mKHQpKXJldHVybiBhLnN1YnN0cmluZyh0Lmxlbmd0aCxhLmxlbmd0aCl9cmV0dXJuIG51bGx9LF9nZXRDcmJGcm9tQ29va2llOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPUpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KG0uX3JlYWRDb29raWUoImtyZ19jcmIiKSkpO2lmKGUmJmUudil7dmFyIHQ9SlNPTi5wYXJzZShhdG9iKGUudikpO2lmKHQpcmV0dXJuIHR9cmV0dXJue319Y2F0Y2goZSl7cmV0dXJue319fSxfZ2V0Q3JiRnJvbUxvY2FsU3RvcmFnZTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShhdG9iKG0uX2dldExvY2FsU3RvcmFnZVNhZmVseSgia3JnX2NyYiIpKSl9Y2F0Y2goZSl7cmV0dXJue319fSxfZ2V0Q3JiOmZ1bmN0aW9uKCl7dmFyIGU9bS5fZ2V0Q3JiRnJvbUxvY2FsU3RvcmFnZSgpO3JldHVybiBPYmplY3Qua2V5cyhlKS5sZW5ndGg/ZTptLl9nZXRDcmJGcm9tQ29va2llKCl9LF9nZXRLcnV4VXNlcklkOmZ1bmN0aW9uKCl7cmV0dXJuIG0uX2dldExvY2FsU3RvcmFnZVNhZmVseSgia3hrYXJfdXNlciIpfSxfZ2V0S3J1eFNlZ21lbnRzOmZ1bmN0aW9uKCl7cmV0dXJuIG0uX2dldExvY2FsU3RvcmFnZVNhZmVseSgia3hrYXJfc2VncyIpfSxfZ2V0S3J1eDpmdW5jdGlvbigpe3ZhciBlPW0uX2dldEtydXhTZWdtZW50cygpLHQ9W107cmV0dXJuIGUmJih0PWUuc3BsaXQoIiwiKSkse3VzZXJJRDptLl9nZXRLcnV4VXNlcklkKCksc2VnbWVudHM6dH19LF9nZXRMb2NhbFN0b3JhZ2VTYWZlbHk6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBmLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGUpfWNhdGNoKGUpe3JldHVybiBudWxsfX0sX2dldFVzZXJJZHM6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPW0uX2dldENyYigpLGE9e2thcmdvSUQ6bi51c2VySWQsY2xpZW50SUQ6bi5jbGllbnRJZCxjcmJJRHM6bi5zeW5jSWRzfHx7fSxvcHRPdXQ6bi5vcHRPdXQsdXNwOnR9O3RyeXtyJiYoYS5nZHByPXtjb25zZW50OnIuY29uc2VudFN0cmluZ3x8IiIsYXBwbGllczohIXIuZ2RwckFwcGxpZXN9KX1jYXRjaChlKXt9cmV0dXJuIGUmJihhLnRkSUQ9ZSksYX0sX2dldENsaWVudElkOmZ1bmN0aW9uKCl7cmV0dXJuIG0uX2dldENyYigpLmNsaWVudElkfSxfZ2V0QWxsTWV0YWRhdGE6ZnVuY3Rpb24oZSx0LHIpe3JldHVybnt1c2VySURzOm0uX2dldFVzZXJJZHMoZSx0LHIpLGtydXg6bS5fZ2V0S3J1eCgpLHBhZ2VVUkw6d2luZG93LmxvY2F0aW9uLmhyZWYscmF3Q1JCOm0uX3JlYWRDb29raWUoImtyZ19jcmIiKSxyYXdDUkJMb2NhbFN0b3JhZ2U6bS5fZ2V0TG9jYWxTdG9yYWdlU2FmZWx5KCJrcmdfY3JiIil9fSxfZ2V0U2Vzc2lvbklkOmZ1bmN0aW9uKCl7cmV0dXJuIHN8fChzPW0uX2dlbmVyYXRlUmFuZG9tVXVpZCgpKSxzfSxfZ2V0UmVxdWVzdENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIGQ9PT13aW5kb3cubG9jYXRpb24ucGF0aG5hbWU/KytnOihkPXdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSxnPTApfSxfZ2VuZXJhdGVSYW5kb21VdWlkOmZ1bmN0aW9uKCl7dHJ5e3ZhciBlPW5ldyBVaW50OEFycmF5KDE2KTtjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGUpLGVbNl09LTE3NyZlWzZdfDY0LGVbOF09LTY1JmVbOF18MTI4O3ZhciB0PUFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChuZXcgVWludDhBcnJheShlKSwoZnVuY3Rpb24oZSl7cmV0dXJuKCIwMCIrZS50b1N0cmluZygxNikpLnNsaWNlKC0yKX0pKS5qb2luKCIiKTtyZXR1cm4gdC5zbGljZSgwLDgpKyItIit0LnNsaWNlKDgsMTIpKyItIit0LnNsaWNlKDEyLDE2KSsiLSIrdC5zbGljZSgxNiwyMCkrIi0iK3Quc2xpY2UoMjApfWNhdGNoKGUpe3JldHVybiIifX19O09iamVjdChvLnJlZ2lzdGVyQmlkZGVyKShtKX19LFs1NjFdKTsKdXBianNDaHVuayhbMTk5XSx7NjE5OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big2MjApfSw2MjA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBVfSkpO3ZhciByPW4oMCksaT1uKDEpLGE9bigzKSxvPW4oMiksYz1uKDE5KSxkPW4oMTMpO2Z1bmN0aW9uIHMoKXtyZXR1cm4ocz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciB1PSJtZWRpYW5ldCIscD0iaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3ZpZGVvL2J1bmRsZS5qcyIsbD0wLGI9MSxtPTIsZj0iY2xpZW50X3RpbWVvdXQiLGc9ImNsaWVudF9iaWRfd29uIix5PU9iamVjdChjLmEpKCksaD17fTtmdW5jdGlvbiB2KCl7dHJ5e3JldHVybiB3aW5kb3cudG9wLmRvY3VtZW50LnJlZmVycmVyfWNhdGNoKGUpe3JldHVybiBkb2N1bWVudC5yZWZlcnJlcn19ZnVuY3Rpb24gaihlKXtyZXR1cm4gcyh7ZG9tYWluOihlPWV8fHt9KS5kb21haW58fGgudXJsRGF0YS5kb21haW4scGFnZTplLnBhZ2V8fGgudXJsRGF0YS5wYWdlLHJlZjplLnJlZnx8digpLGlzVG9wOmUuaXNUb3B8fGgudXJsRGF0YS5pc1RvcH0sZnVuY3Rpb24oKXtpZihoLnBhZ2VNZXRhKXJldHVybiBoLnBhZ2VNZXRhO3ZhciBlPXcoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXScsImhyZWYiKSx0PXcoJ21ldGFbcHJvcGVydHk9Im9nOnVybCJdJywiY29udGVudCIpLG49dygnbWV0YVtuYW1lPSJ0d2l0dGVyOnVybCJdJywiY29udGVudCIpO3JldHVybiBoLnBhZ2VNZXRhPXMoe30sZSYme2Nhbm9uaWNhbF91cmw6ZX0sdCYme29nX3VybDp0fSxuJiZ7dHdpdHRlcl91cmw6bn0pLGgucGFnZU1ldGF9KCkpfWZ1bmN0aW9uIHcoZSx0KXt2YXIgbixpLGE9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG49T2JqZWN0KHIuZ2V0V2luZG93VG9wKSgpLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk7aWYobnVsbCE9PW4mJm5bdF0pcmV0dXJuIG5bdF19Y2F0Y2goZSl7fX0oZSx0KTtyZXR1cm4gYSYmKG49YSwoaT1PYmplY3Qoci5nZXRXaW5kb3dUb3ApKCkuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPW4saS5ocmVmKX1mdW5jdGlvbiBPKGUsdCl7cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS50eXBlPT09dH0pKX1mdW5jdGlvbiB4KGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIF8oZSx0KXt2YXIgbj1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJwYXJhbXMiKSxpPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsImdkcHJDb25zZW50Iiksbz1PYmplY3Qoci5kZWVwQWNjZXNzKSh0LCJ1c3BDb25zZW50IiksYz1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ1c2VySWQiKSxkPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInNjaGFpbiIpfHx7fSx1PVUuZ2V0V2luZG93U2l6ZSgpLHA9ISghaXx8IWkuZ2RwckFwcGxpZXMpLGw9ISFvLGI9ISFhLmIuZ2V0Q29uZmlnKCJjb3BwYSIpO3JldHVybiBzKHt9LHtjdXN0b21lcl9pZDpuLmNpZH0se3ByZWJpZF92ZXJzaW9uOnVwYmpzLnZlcnNpb259LHtnZHByX2FwcGxpZXM6cH0scCYme2dkcHJfY29uc2VudF9zdHJpbmc6aS5jb25zZW50U3RyaW5nfHwiIn0se3VzcF9hcHBsaWVzOmx9LGwmJnt1c3BfY29uc2VudF9zdHJpbmc6b3x8IiJ9LHtjb3BwYV9hcHBsaWVzOmJ9LC0xIT09dS53JiYtMSE9PXUuaCYme3NjcmVlbjp1fSxjJiZ7dXNlcl9pZDpjfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHMuYW5hbHl0aWNzRW5hYmxlZCYme2FuYWx5dGljczohMH0sIU9iamVjdChyLmlzRW1wdHkpKGQpJiZ7c2NoYWluOmR9KX1mdW5jdGlvbiBBKGUpe3ZhciB0PXtpZDplLmJpZElkLGV4dDp7ZGZwX2lkOmUuYWRVbml0Q29kZSxkaXNwbGF5X2NvdW50OmUuYmlkUmVxdWVzdHNDb3VudH0sYWxsOmUucGFyYW1zfTtlLm9ydGIySW1wJiYodC5vcnRiMkltcD1lLm9ydGIySW1wKTt2YXIgbixpPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIil8fFtdLGE9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxjPXMoe30sT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvIil8fHt9LGEpO2lmKE9iamVjdChyLmlzRW1wdHkpKGMpfHwodC52aWRlbz1jKSxpLmxlbmd0aD4wJiYodC5iYW5uZXI9KG49aSxPYmplY3Qoci5pc0FycmF5KShuKSYmMj09PW4ubGVuZ3RoJiYhT2JqZWN0KHIuaXNBcnJheSkoblswXSk/W3gobildOm4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4geChlKX0pKSkpLGUubmF0aXZlUGFyYW1zKXRyeXt0Lm5hdGl2ZT1KU09OLnN0cmluZ2lmeShlLm5hdGl2ZVBhcmFtcyl9Y2F0Y2goZSl7T2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdCh1LCIgOiBJbmNvcnJlY3QgSlNPTiA6IGJpZFJlcXVlc3QubmF0aXZlUGFyYW1zIikpfWUucGFyYW1zLmNyaWQmJih0LnRhZ2lkPWUucGFyYW1zLmNyaWQudG9TdHJpbmcoKSk7dmFyIGQ9cGFyc2VGbG9hdChlLnBhcmFtcy5iaWRmbG9vcnx8ZS5wYXJhbXMuYmlkRmxvb3IpO2QmJih0LmJpZGZsb29yPWQpO3ZhciBwPWZ1bmN0aW9uKGUpe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKCF0JiYtMSE9PWUuaW5kZXhPZigiLyIpKXt2YXIgbj1PYmplY3Qoci5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGUpKGUpLmRpdklkO09iamVjdChyLmlzU3RyKShuKSYmKHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobikpfWlmKHQmJnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KXt2YXIgaT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGE9e307cmV0dXJuIGEudG9wX2xlZnQ9e3k6aS50b3AseDppLmxlZnR9LGEuYm90dG9tX3JpZ2h0PXt5OmkuYm90dG9tLHg6aS5yaWdodH0sYX1yZXR1cm4gbnVsbH0oZS5hZFVuaXRDb2RlKTtpZihwJiZ0LmJhbm5lciYmMCE9PXQuYmFubmVyLmxlbmd0aCl7dmFyIGY9ZnVuY3Rpb24oZSl7cmV0dXJue3RvcF9sZWZ0Ont4OmUudG9wX2xlZnQueCt3aW5kb3cucGFnZVhPZmZzZXQseTplLnRvcF9sZWZ0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fSxib3R0b21fcmlnaHQ6e3g6ZS5ib3R0b21fcmlnaHQueCt3aW5kb3cucGFnZVhPZmZzZXQseTplLmJvdHRvbV9yaWdodC55K3dpbmRvdy5wYWdlWU9mZnNldH19fShwKTt0LmV4dC5jb29yZGluYXRlcz1mLHQuZXh0LnZpZXdhYmlsaXR5PVMocC50b3BfbGVmdCxJKHQuYmFubmVyKSksUyhmLnRvcF9sZWZ0LEkodC5iYW5uZXIpKT4uNT90LmV4dC52aXNpYmlsaXR5PWI6dC5leHQudmlzaWJpbGl0eT1tfWVsc2UgdC5leHQudmlzaWJpbGl0eT1sO3ZhciBnPWZ1bmN0aW9uKGUpe3ZhciB0PVtdOyJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiZbby5iLG8uZCxvLmNdLmZvckVhY2goKGZ1bmN0aW9uKG4pe2UubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuKSYmKG49PW8uYj9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmZvckVhY2goKGZ1bmN0aW9uKHIpe1QoZSxuLHIsdCl9KSk6VChlLG4sIioiLHQpKX0pKTtyZXR1cm4gdH0oZSk7cmV0dXJuIGcmJmcubGVuZ3RoPjAmJih0LmJpZGZsb29ycz1nKSx0fWZ1bmN0aW9uIFQoZSx0LG4scil7dmFyIGk9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOnQsc2l6ZTpufSk7bi5sZW5ndGg+MSYmKGkuc2l6ZT1uKSxpLm1lZGlhVHlwZT10LHIucHVzaChpKX1mdW5jdGlvbiBJKGUpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5oKnQudzxlLmgqZS53P3Q6ZX0pKX1mdW5jdGlvbiBTKGUsdCl7dmFyIG49dC53KnQuaCxyPVUuZ2V0V2luZG93U2l6ZSgpLGk9e3g6ZS54K3Qudyx5OmUueSt0Lmh9O3JldHVybiAwPT09bnx8LTE9PT1yLnd8fC0xPT09ci5oPzA6ZnVuY3Rpb24oZSx0LG4scil7aWYoZS54PnIueHx8dC54PG4ueHx8ZS55PnIueXx8dC55PG4ueSlyZXR1cm4gMDtyZXR1cm4oTWF0aC5taW4odC54LHIueCktTWF0aC5tYXgoZS54LG4ueCkpKihNYXRoLm1pbih0Lnksci55KS1NYXRoLm1heChlLnksbi55KSl9KGUsaSx7eDowLHk6MH0se3g6ci53LHk6ci5ofSkvbn1mdW5jdGlvbiBFKGUsdCl7dD1PYmplY3Qoci5pc0FycmF5KSh0KSYmdHx8W107dmFyIG49e2xvZ2lkOiJrZmsiLGV2dGlkOiJwcm9qZWN0ZXZlbnRzIixwcm9qZWN0OiJwcmViaWQifTtyZXR1cm4gbi5hY2lkPU9iamVjdChyLmRlZXBBY2Nlc3MpKHQsIjAuYXVjdGlvbklkIil8fCIiLG4uY2lkPXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWR8fCIiLG4uY3JpZD10Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy4wLmNyaWQiKXx8ZS5hZFVuaXRDb2RlfSkpLmpvaW4oInwiKSxuLmFkdW5pdF9jb3VudD10Lmxlbmd0aHx8MCxuLmRuPWgudXJsRGF0YS5kb21haW58fCIiLG4ucmVxdXJsPWgudXJsRGF0YS5wYWdlfHwiIixuLmlzdG9wPWgudXJsRGF0YS5pc1RvcHx8IiIsbi5ldmVudD1lLm5hbWV8fCIiLG4udmFsdWU9ZS52YWx1ZXx8IiIsbi5yZD1lLnJlbGF0ZWRfZGF0YXx8IiIsbn1mdW5jdGlvbiBDKGUsdCl7dmFyIG49e3Byb3RvY29sOiJodHRwcyIsaG9zdG5hbWU6InFzZWFyY2gtYS5ha2FtYWloZC5uZXQvbG9nIixzZWFyY2g6RShlLHQpfTtPYmplY3Qoci50cmlnZ2VyUGl4ZWwpKE9iamVjdChyLmJ1aWxkVXJsKShuKSl9ZnVuY3Rpb24gTShlKXt2YXIgdCxuPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsImNvbnRleHQiKXx8IiIsaT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJ2dG8iKTsib3V0c3RyZWFtIj09biYmaSYmKGUucmVuZGVyZXI9KCh0PWQuYS5pbnN0YWxsKHt1cmw6cH0pKS5zZXRSZW5kZXIoKGZ1bmN0aW9uKGUpe3dpbmRvdy5tbmV0LnF1ZXVlLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9e3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHZhc3RUaW1lb3V0OmUudnRvLG1heEFsbG93ZWRWYXN0VGFnUmVkaXJlY3RzOmUubWF2dHIsYWxsb3dWcGFpZDplLmF2cCxhdXRvUGxheTplLmFwLHByZWxvYWQ6ZS5wbCxtdXRlOmUubXR9LG49ZS5kZnBfaWQsaT1PYmplY3Qoci5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGUpKG4pLmRpdklkfHxuO3dpbmRvdy5tbmV0Lm1lZGlhTmV0b3V0c3RyZWFtUGxheWVyKGUsaSx0KX0pKX0pKSx0KSl9d2luZG93Lm1uZXQ9d2luZG93Lm1uZXR8fHt9LHdpbmRvdy5tbmV0LnF1ZXVlPXdpbmRvdy5tbmV0LnF1ZXVlfHxbXSxoLnVybERhdGE9e2RvbWFpbjpPYmplY3Qoci5wYXJzZVVybCkoeS5yZWZlcmVyKS5ob3N0bmFtZSxwYWdlOnkucmVmZXJlcixpc1RvcDp5LnJlYWNoZWRUb3B9LHVwYmpzLm1lZGlhbmV0R2xvYmFscz11cGJqcy5tZWRpYW5ldEdsb2JhbHN8fHt9O3ZhciBVPXtjb2RlOnUsZ3ZsaWQ6MTQyLHN1cHBvcnRlZE1lZGlhVHlwZXM6W28uYixvLmMsby5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXM/ZS5wYXJhbXMuY2lkJiZPYmplY3Qoci5pc1N0cikoZS5wYXJhbXMuY2lkKSYmIU9iamVjdChyLmlzRW1wdHlTdHIpKGUucGFyYW1zLmNpZCk/KHModXBianMubWVkaWFuZXRHbG9iYWxzLCF1cGJqcy5tZWRpYW5ldEdsb2JhbHMuY2lkJiZ7Y2lkOmUucGFyYW1zLmNpZH0pLCEwKTooT2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdCh1LCIgOiBjaWQgc2hvdWxkIGJlIGEgc3RyaW5nIikpLCExKTooT2JqZWN0KHIubG9nRXJyb3IpKCIiLmNvbmNhdCh1LCIgOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIikpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuLHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm57c2l0ZTpqKGVbMF0ucGFyYW1zLnNpdGUpLGV4dDpfKGVbMF0sdCksaWQ6ZVswXS5hdWN0aW9uSWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gQShlKX0pKSx0bWF4OnQudGltZW91dHx8YS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfX0oZSx0KTtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6KG49ci5leHQuY3VzdG9tZXJfaWQsImh0dHBzOi8vcHJlYmlkLm1lZGlhLm5ldC9ydGIvcHJlYmlkP2NpZD0iK2VuY29kZVVSSUNvbXBvbmVudChuKSksZGF0YTpKU09OLnN0cmluZ2lmeShyKX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49W107aWYoIWV8fCFlLmJvZHkpcmV0dXJuIE9iamVjdChyLmxvZ0luZm8pKCIiLmNvbmNhdCh1LCIgOiByZXNwb25zZSBpcyBlbXB0eSIpKSxuO3ZhciBpPWUuYm9keS5iaWRMaXN0O3JldHVybiBPYmplY3Qoci5pc0FycmF5KShpKSYmMCE9PWkubGVuZ3RoPygobj1pLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZS5ub19iaWQmJnBhcnNlRmxvYXQoZS5jcG0pPjB9KGUpfSkpKS5mb3JFYWNoKE0pLG4pOihPYmplY3Qoci5sb2dJbmZvKSgiIi5jb25jYXQodSwiIDogbm8gYmlkcyIpKSxuKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIG4saT0obj10LCFPYmplY3Qoci5pc0VtcHR5KShuKSYmblswXS5ib2R5JiZuWzBdLmJvZHkuZXh0JiZPYmplY3Qoci5pc0FycmF5KShuWzBdLmJvZHkuZXh0LmNzVXJsKT9uWzBdLmJvZHkuZXh0LmNzVXJsOltdKTtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP08oaSwiaWZyYW1lIik6ZS5waXhlbEVuYWJsZWQ/TyhpLCJpbWFnZSIpOnZvaWQgMH0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe3RyeXtDKHtuYW1lOmYsdmFsdWU6ZS5sZW5ndGgscmVsYXRlZF9kYXRhOmVbMF0udGltZW91dHx8YS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfSxlKX1jYXRjaChlKXt9fSxvbkJpZFdvbjpmdW5jdGlvbihlKXt0cnl7Qyh7bmFtZTpnLHZhbHVlOmUuY3BtfSxbZV0pfWNhdGNoKGUpe319LGNsZWFyTW5EYXRhOmZ1bmN0aW9uKCl7aD17fX0sZ2V0V2luZG93U2l6ZTpmdW5jdGlvbigpe3JldHVybnt3OndpbmRvdy5zY3JlZW4ud2lkdGh8fC0xLGg6d2luZG93LnNjcmVlbi5oZWlnaHR8fC0xfX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShVKX19LFs2MTldKTsKdXBianNDaHVuayhbMTgzXSx7NjUxOmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg2NTIpfSw2NTI6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBnfSkpO3ZhciBpPXQoMCkscj10KDMpLG89dCgxKSxkPXQoMiksYT10KDcpLHM9Im5vYmlkIix1PU9iamVjdChhLmIpKDgxNixzKTtmdW5jdGlvbiBjKGUsbil7T2JqZWN0KGkubG9nSW5mbykoIi1Ob0JpZC0gIitlLG4pfWZ1bmN0aW9uIHAoZSxuKXtmdW5jdGlvbiB0KGUsbil7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdLmQ9PT1lKXJldHVybiBuW3RdO3JldHVybiExfShlLmRpdixuKXx8e307cmV0dXJuIGUuYWNjb3VudCYmKHQucz1lLmFjY291bnQpLGUuc2l6ZXMmJih0Lno9ZS5zaXplcyksZS5kaXYmJih0LmQ9ZS5kaXYpLGUudGFyZ2V0aW5nP3QuZz1lLnRhcmdldGluZzp0Lmc9e30sZS5kaXYmJmZ1bmN0aW9uKGUsbix0KXtmb3IodmFyIGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIHI9ZVtpXTtyW25dJiZyW25dPT09dCYmZS5zcGxpY2UoaSwxKX19KG4sImQiLGUuZGl2KSxlLnNpemVNYXBwaW5nJiYodC5zbT1lLnNpemVNYXBwaW5nKSxlLnNpdGVJZCYmKHQuc2lkPWUuc2l0ZUlkKSxlLnBsYWNlbWVudElkJiYodC5waWQ9ZS5wbGFjZW1lbnRJZCksZS5hZF90eXBlJiYodC5hdD1lLmFkX3R5cGUpLGUucGFyYW1zJiYodC5wYXJhbXM9ZS5wYXJhbXMpLG4ucHVzaCh0KSxufWlmKHZvaWQgMCE9PXdpbmRvdy5ub2JpZC5yZWZyZXNoTGltaXQmJndpbmRvdy5ub2JpZC5yZWZyZXNoTGltaXQ8d2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudClyZXR1cm4hMTt2YXIgbyxhPShvPSJfdWJsb2NrIix1LmdldENvb2tpZShvKSk7aWYoYSlyZXR1cm4gYygiUmVxdWVzdCBibG9ja2VkIGZvciB1c2VyLiBob3VyczogIixhKSwhMTtmb3IodmFyIHM9W10scD0wLGI9W10sZz0wO2c8ZS5sZW5ndGg7ZysrKXt2YXIgbD1lW2ddLGY9bC5hZFVuaXRDb2RlO3MucHVzaChmKTt2YXIgdj1sLnNpemVzO3A9dm9pZCAwIT09bC5wYXJhbXMuc2l0ZUlkJiZsLnBhcmFtcy5zaXRlSWQ/bC5wYXJhbXMuc2l0ZUlkOnA7dmFyIG09bC5wYXJhbXMucGxhY2VtZW50SWQsdz0iYmFubmVyIixoPU9iamVjdChpLmRlZXBBY2Nlc3MpKGwsIm1lZGlhVHlwZXMudmlkZW8iKSx5PU9iamVjdChpLmRlZXBBY2Nlc3MpKGwsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpOyhsLm1lZGlhVHlwZT09PWQuZHx8aCYmKCJpbnN0cmVhbSI9PT15fHwib3V0c3RyZWFtIj09PXkpKSYmKHc9InZpZGVvIikscCYmdCh7ZGl2OmYsc2l6ZXM6dixzaXRlSWQ6cCxwbGFjZW1lbnRJZDptLGFkX3R5cGU6dyxwYXJhbXM6bC5wYXJhbXN9LGIpfXJldHVybiEhcCYmZnVuY3Rpb24odCxvLGQpe3ZhciBhLHMsdSxjLHAsYixnLGwsZj17fTtmLnNpZD1vLGYubD1mdW5jdGlvbihlKXt2YXIgbj0iIjtyZXR1cm4gbj1lJiZlLnJlZmVyZXJJbmZvJiZlLnJlZmVyZXJJbmZvLnJlZmVyZXI/ZS5yZWZlcmVySW5mby5yZWZlcmVyOndpbmRvdy5jb250ZXh0JiZ3aW5kb3cuY29udGV4dC5sb2NhdGlvbiYmd2luZG93LmNvbnRleHQubG9jYXRpb24uaHJlZj93aW5kb3cuY29udGV4dC5sb2NhdGlvbi5ocmVmOmRvY3VtZW50LmxvY2F0aW9uLmhyZWYsZW5jb2RlVVJJQ29tcG9uZW50KG4ucmVwbGFjZSgvXCUvZywiIikpfShuKSxmLnR0PWVuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC50aXRsZSksZi50dD1mLnR0LnJlcGxhY2UoLyd8O3xxdW90O3wzOTt8JmFtcDt8JnwjfFxyXG58XHJ8XG58XHR8XGZ8XCUwQXxcInxcJTIyfFwlNUN8XCUyM3xcJTI2fFwlMjZ8XCUwOS9nbSwiIiksZi5hPWZ1bmN0aW9uKGUsbil7dmFyIHQ9W107aWYoZSYmZS5sZW5ndGgpe2lmKG4pe3ZhciBpPVtdO2UgaW5zdGFuY2VvZiBBcnJheT9pPWU6aS5wdXNoKGUpO2Zvcih2YXIgcj0wLG89bi5sZW5ndGg7cjxvO3IrKyl7dmFyIGQ9bltyXTtkJiZkLmQmJmkuaW5kZXhPZihkLmQpPi0xJiZ0LnB1c2goZCl9fX1lbHNlIHQ9bjtyZXR1cm4gdH0odCxkfHxbXSksZi50PShhPW5ldyBEYXRlLHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8PTk/IjAiK2U6IiIrZX0sdT1hLmdldERhdGUoKSxjPWEuZ2V0RnVsbFllYXIoKSxwPWEuZ2V0TW9udGgoKSsxLGI9YS5nZXRIb3VycygpLGc9YS5nZXRNaW51dGVzKCksbD1hLmdldFNlY29uZHMoKSxjKyItIitzKHApKyItIitzKHUpKyIgIitzKGIpKyI6IitzKGcpKyI6IitzKGwpKSxmLnR6PU1hdGgucm91bmQoKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpKSxmLnI9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxuPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKTtyZXR1cm4iIi5jb25jYXQoZSwieCIpLmNvbmNhdChuKX1jYXRjaChlKXtPYmplY3QoaS5sb2dXYXJuKSgiQ291bGQgbm90IHBhcnNlIHNjcmVlbiBkaW1lbnNpb25zLCBlcnJvciBkZXRhaWxzOiIsZSl9fSgpLGYubGFuZz1uYXZpZ2F0b3IubGFuZ3VhZ2VzJiZuYXZpZ2F0b3IubGFuZ3VhZ2VzWzBdfHxuYXZpZ2F0b3IubGFuZ3VhZ2V8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2UsZi5yZWY9ZG9jdW1lbnQucmVmZXJyZXIsZi5nZHByPWZ1bmN0aW9uKGUpe3ZhciBuPXt9O3JldHVybiBlJiZlLmdkcHJDb25zZW50JiYobj17Y29uc2VudFN0cmluZzplLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudFJlcXVpcmVkOiJib29sZWFuIj09dHlwZW9mIGUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9KSxufShuKSxmLnVzcD1mdW5jdGlvbihlKXt2YXIgbj0iIjtyZXR1cm4gZSYmZS51c3BDb25zZW50JiYobj1lLnVzcENvbnNlbnQpLG59KG4pLGYucGpiZHI9biYmbi5iaWRkZXJDb2RlP24uYmlkZGVyQ29kZToibm9iaWQiO3ZhciB2PWZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmxlbmd0aD4wP2VbMF0uc2NoYWluOm51bGx9KGUpO3YmJihmLnNjaGFpbj12KTt2YXIgbT0hMD09PXIuYi5nZXRDb25maWcoImNvcHBhIik/e2NvcHBhOiEwfTplJiZlLmxlbmd0aD4wP2VbMF0uY29wcGE6bnVsbDttJiYoZi5jb3BwYT1tKTt2YXIgdz1mdW5jdGlvbihlKXtpZihPYmplY3QoaS5pc0FycmF5KShlKSYmZS5sZW5ndGg+MCl7dmFyIG49W107cmV0dXJuIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9W107ZS51aWRzJiZlLnVpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5wdXNoKHtpZDplLmlkKyIifSl9KSksZS5zb3VyY2UmJnQubGVuZ3RoPjAmJm4ucHVzaCh7c291cmNlOmUuc291cmNlLHVpZHM6dH0pfSkpLG59fShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCIwLnVzZXJJZEFzRWlkcyIpKTtyZXR1cm4gdyYmdy5sZW5ndGg+MCYmKGYuZWlkcz13KSxyLmImJnIuYi5nZXRDb25maWcoIm9ydGIyIikmJihmLm9ydGIyPXIuYi5nZXRDb25maWcoIm9ydGIyIikpLGZ9KHMscCxiKX1mdW5jdGlvbiBiKGUsbil7dmFyIHQ9ZnVuY3Rpb24oZSxuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihuW3RdLmFkVW5pdENvZGU9PWUpcmV0dXJuIG5bdF07cmV0dXJuITF9OyFmdW5jdGlvbihlKXtlJiZ2b2lkIDAhPT1lLnJsaW1pdCYmKHdpbmRvdy5ub2JpZC5yZWZyZXNoTGltaXQ9ZS5ybGltaXQpfShlKSxmdW5jdGlvbihlKXtlJiZ2b2lkIDAhPT1lLnVibG9jayYmZnVuY3Rpb24oZSxuLHQpe3ZhciBpPW5ldyBEYXRlO2kuc2V0VGltZShpLmdldFRpbWUoKSs2MCp0KjYwKjFlMyk7dmFyIHI9ImV4cGlyZXM9IitpLnRvVVRDU3RyaW5nKCk7dS5zZXRDb29raWUoZSxuLHIpfSgiX3VibG9jayIsIjEiLGUudWJsb2NrKX0oZSk7Zm9yKHZhciBpPVtdLHI9MDtlLmJpZHMmJnI8ZS5iaWRzLmxlbmd0aDtyKyspe3ZhciBvPWUuYmlkc1tyXTtpZighKG8uYmRyaWQ8MTAwKSYmbiYmbi5iaWRkZXJSZXF1ZXN0JiZuLmJpZGRlclJlcXVlc3QuYmlkcyl7d2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlc1siIitvLmlkXT1vO3ZhciBhPXQoby5kaXZpZCxuLmJpZGRlclJlcXVlc3QuYmlkcyk7aWYoYSl7dmFyIHM9e3JlcXVlc3RJZDphLmJpZElkLGNwbToxKihvLnByaWNlP28ucHJpY2U6by5idWNrZXQ/by5idWNrZXQ6MCksd2lkdGg6by5zaXplLncsaGVpZ2h0Om8uc2l6ZS5oLGNyZWF0aXZlSWQ6by5jcmVhdGl2ZWlkfHwiIixkZWFsSWQ6by5kZWFsaWR8fCIiLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZDpvLmFkbSxtZWRpYVR5cGU6by5hdHlwZXx8ZC5ifTtvLnZhc3RVcmwmJihzLnZhc3RVcmw9by52YXN0VXJsKSxvLnZhc3RYbWwmJihzLnZhc3RYbWw9by52YXN0WG1sKSxvLnZpZGVvQ2FjaGVLZXkmJihzLnZpZGVvQ2FjaGVLZXk9by52aWRlb0NhY2hlS2V5KSxvLm1ldGEmJihzLm1ldGE9by5tZXRhKSxpLnB1c2gocyl9fX1yZXR1cm4gaX13aW5kb3cubm9iaWRWZXJzaW9uPSIxLjMuMiIsd2luZG93Lm5vYmlkPXdpbmRvdy5ub2JpZHx8e30sd2luZG93Lm5vYmlkLmJpZFJlc3BvbnNlcz13aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzfHx7fSx3aW5kb3cubm9iaWQudGltZW91dFRvdGFsPTAsd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsPTAsd2luZG93Lm5vYmlkLnJlZnJlc2hDb3VudD0wLHdpbmRvdy5ub2JpZC5yZW5kZXJUYWc9ZnVuY3Rpb24oZSxuLHQpe2MoIm5vYmlkLnJlbmRlclRhZygpIixuKTt2YXIgaT13aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK25dO2lmKGkmJmkuYWRtMil7Yygibm9iaWQucmVuZGVyVGFnKCkgZm91bmQgdGFnIixuKTt2YXIgcj1pLmFkbTI7cmV0dXJuIGUud3JpdGUociksdm9pZCBlLmNsb3NlKCl9Yygibm9iaWQucmVuZGVyVGFnKCkgdGFnIE5PVCBGT1VORCAqRVJST1IqIixuKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLChmdW5jdGlvbihlKXt2YXIgbj0iIitlW2UubWVzc2FnZT8ibWVzc2FnZSI6ImRhdGEiXTtpZigibmJUYWdSZW5kZXJlci5yZXF1ZXN0QWRNYXJrdXB8Ij09PW4uc3Vic3RyaW5nKDAsIm5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwfCIubGVuZ3RoKSl7YygiUHJlYmlkIHJlY2VpdmVkIG5iVGFnUmVuZGVyZXIucmVxdWVzdEFkTWFya3VwIGV2ZW50Iik7dmFyIHQ9bi5zdWJzdHJpbmcobi5pbmRleE9mKCJ8IikrMSk7aWYod2luZG93Lm5vYmlkJiZ3aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzKXt2YXIgaT13aW5kb3cubm9iaWQuYmlkUmVzcG9uc2VzWyIiK3RdO2lmKGkmJmkuYWRtMil7dmFyIHI9aS5hZG0yO3ImJmUuc291cmNlLnBvc3RNZXNzYWdlKCJuYlRhZ1JlbmRlcmVyLnJlbmRlckFkSW5TYWZlRnJhbWV8IityLCIqIil9fX19KSwhMSk7dmFyIGc9e2NvZGU6cyxndmxpZDo4MTYsYWxpYXNlczpbe2NvZGU6ImR1cmF0aW9uIixndmxpZDo2NzR9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltkLmIsZC5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gYygiaXNCaWRSZXF1ZXN0VmFsaWQiLGUpLCEhZS5wYXJhbXMuc2l0ZUlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7aWYoYygidmFsaWRCaWRSZXF1ZXN0cyIsZSksIWV8fGUubGVuZ3RoPD0wKWMoIkVtcHR5IHZhbGlkQmlkUmVxdWVzdHMiKTtlbHNle3ZhciB0PXAoZSxuKTtpZih0KXt3aW5kb3cubm9iaWQucmVmcmVzaENvdW50Kys7dmFyIHIsbyxkPUpTT04uc3RyaW5naWZ5KHQpLnJlcGxhY2UoLyd8JnwjL2csIiIpLGE9KHI9Imh0dHBzOi8vYWRzLnNlcnZlbm9iaWQuY29tLyIsKG89ImZ1bmN0aW9uIj09dHlwZW9mIGkuZ2V0UGFyYW1ldGVyQnlOYW1lJiZPYmplY3QoaS5nZXRQYXJhbWV0ZXJCeU5hbWUpKCJub2JpZC1lbnYiKSk/ImJldGEiPT1vP3I9Imh0dHBzOi8vYmV0YS5zZXJ2ZW5vYmlkLmNvbS8iOiJkZXYiPT1vP3I9Ii8vbG9jYWxob3N0OjgyODIvIjoicWEiPT1vJiYocj0iaHR0cHM6Ly9xYS1hZHMubm9iaWQuY29tLyIpOnI9Imh0dHBzOi8vYWRzLnNlcnZlbm9iaWQuY29tLyIscisiYWRyZXE/Y2I9IitNYXRoLmZsb29yKDExZTMqTWF0aC5yYW5kb20oKSkpLHM9e307cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBuPSEwO3JldHVybiBlJiZlLmdkcHJDb25zZW50JiZlLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYyPT09ZS5nZHByQ29uc2VudC5hcGlWZXJzaW9uJiYobj0hKCEwIT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZS5nZHByQ29uc2VudCwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLG59KG4pfHwocz17d2l0aENyZWRlbnRpYWxzOiExfSkse21ldGhvZDoiUE9TVCIsdXJsOmEsZGF0YTpkLGJpZGRlclJlcXVlc3Q6bixvcHRpb25zOnN9fX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7cmV0dXJuIGMoImludGVycHJldFJlc3BvbnNlIC0+IHNlcnZlclJlc3BvbnNlIixlKSxjKCJpbnRlcnByZXRSZXNwb25zZSAtPiBiaWRSZXF1ZXN0IixuKSxiKGUuYm9keSxuKX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsbix0LHIpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIG89IiI7cmV0dXJuIHQmJiJzdHJpbmciPT10eXBlb2YgdC5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQXBwbGllcz9vKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHQuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpOm8rPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHQuY29uc2VudFN0cmluZykpLHImJihvLmxlbmd0aD4wP28rPSImIjpvKz0iPyIsbys9InVzcF9jb25zZW50PSIrciksW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9wdWJsaWMuc2VydmVub2JpZC5jb20vc3luYy5odG1sIitvfV19aWYoZS5waXhlbEVuYWJsZWQmJm4ubGVuZ3RoPjApe3ZhciBkPVtdO3JldHVybiBuWzBdLmJvZHkuc3luY3MmJm5bMF0uYm9keS5zeW5jcy5sZW5ndGg+MCYmblswXS5ib2R5LnN5bmNzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2QucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSksZH1yZXR1cm4gT2JqZWN0KGkubG9nV2FybikoIi1Ob0JpZC0gUGxlYXNlIGVuYWJsZSBpZnJhbWUgYmFzZWQgdXNlciBzeW5jLiIsZSksW119LG9uVGltZW91dDpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbCsrLGMoIlRpbWVvdXQgdG90YWw6ICIrd2luZG93Lm5vYmlkLnRpbWVvdXRUb3RhbCxlKSx3aW5kb3cubm9iaWQudGltZW91dFRvdGFsfSxvbkJpZFdvbjpmdW5jdGlvbihlKXtyZXR1cm4gd2luZG93Lm5vYmlkLmJpZFdvblRvdGFsKyssYygiQmlkV29uIHRvdGFsOiAiK3dpbmRvdy5ub2JpZC5iaWRXb25Ub3RhbCxlKSx3aW5kb3cubm9iaWQuYmlkV29uVG90YWx9fTtPYmplY3Qoby5yZWdpc3RlckJpZGRlcikoZyl9fSxbNjUxXSk7CnVwYmpzQ2h1bmsoWzQxXSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBuPW8oZVtyXSxyKTtuJiZ0LnB1c2gobil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChuLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChuLmRlZXBBY2Nlc3MpKGkscisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTppW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgbj1yKDApLGk9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qobi5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIG8oZSx0KXt2YXIgcj1pW3RdO2lmKHImJmUpe3ZhciBvPXt9O28uc291cmNlPXIuc291cmNlO3ZhciBhPU9iamVjdChuLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3Qobi5pc1N0cikoYSkpe3ZhciBkPXtpZDphLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChuLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIGM9ci5nZXRVaWRFeHQoZSk7YyYmKGQuZXh0PWMpfWlmKG8udWlkcz1bZF0sT2JqZWN0KG4uaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgcz1yLmdldEVpZEV4dChlKTtzJiYoby5leHQ9cyl9cmV0dXJuIG99fXJldHVybiBudWxsfX0sNjU5OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig2NjApfSw2NjA6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5oYXNUeXBlVmlkZW89aCx0LmlzVmFsaWQ9YixyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHh9KSk7dmFyIG49cigyKSxpPXIoMjIpLG89cigxMyksYT1yKDExKSxkPXIubihhKSxjPXIoNykscz1yKDEpLHU9cigxNykscD1yKDApO2Z1bmN0aW9uIGwoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIGYoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/bChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2coZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmwoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gZyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9dmFyIG09Imh0dHBzOi8vb25ldGFnLXN5cy5jb20vdXN5bmMvIix5PU9iamVjdChjLmIpKDI0MSk7ZnVuY3Rpb24gaChlKXtyZXR1cm4gdm9pZCAwIT09ZS5tZWRpYVR5cGVzJiZ2b2lkIDAhPT1lLm1lZGlhVHlwZXMudmlkZW99ZnVuY3Rpb24gYihlLHQpe2lmKGU9PT1uLmIpcmV0dXJuIGoodCkubGVuZ3RoPjA7aWYoZT09PW4uZCYmaCh0KSl7dmFyIHI9dC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ7aWYoIm91dHN0cmVhbSI9PT1yfHwiaW5zdHJlYW0iPT09cilyZXR1cm4gdyh0KS5sZW5ndGg+MH1yZXR1cm4hMX1mdW5jdGlvbiB2KGUpe3RyeXtyZXR1cm4gdm9pZCAwIT09ZS5kb2N1bWVudC5oaWRkZW4/ZS5kb2N1bWVudC5oaWRkZW46dm9pZCAwIT09ZS5kb2N1bWVudC5tc0hpZGRlbj9lLmRvY3VtZW50Lm1zSGlkZGVuOnZvaWQgMCE9PWUuZG9jdW1lbnQud2Via2l0SGlkZGVuP2UuZG9jdW1lbnQud2Via2l0SGlkZGVuOm51bGx9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIEkoZSl7dmFyIHQ9ZS5wYXJhbXM7dGhpcy5hZFVuaXRDb2RlPWUuYWRVbml0Q29kZSx0aGlzLmJpZElkPWUuYmlkSWQsdGhpcy5iaWRkZXJSZXF1ZXN0SWQ9ZS5iaWRkZXJSZXF1ZXN0SWQsdGhpcy5hdWN0aW9uSWQ9ZS5hdWN0aW9uSWQsdGhpcy50cmFuc2FjdGlvbklkPWUudHJhbnNhY3Rpb25JZCx0aGlzLnB1YklkPXQucHViSWQsdGhpcy5leHQ9dC5leHQsdC5wdWJDbGljayYmKHRoaXMuY2xpY2s9dC5wdWJDbGljayksdC5kZWFsSWQmJih0aGlzLmRlYWxJZD10LmRlYWxJZCk7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSk7dHJ5e2Zvcih2YXIgcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49ci50b3AsaT1yLmxlZnQsbz1yLndpZHRoLGE9ci5oZWlnaHQsZD10Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcsYz17dG9wOm4rZC5wYWdlWU9mZnNldCxsZWZ0OmkrZC5wYWdlWE9mZnNldCx3aWR0aDpvLGhlaWdodDphfSxzPWQuZnJhbWVFbGVtZW50O251bGwhPXM7KXt2YXIgdT1zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHA9dS50b3AsbD11LmxlZnQ7Yy50b3ArPXArZC5wYWdlWU9mZnNldCxjLmxlZnQrPWwrZC5wYWdlWE9mZnNldCxzPShkPWQucGFyZW50KS5mcmFtZUVsZW1lbnR9cmV0dXJuIGN9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fShlLmFkVW5pdENvZGUpO3ImJih0aGlzLmNvb3Jkcz1yKX1mdW5jdGlvbiBPKCl7dHJ5e2lmKG51bGwhPXdpbmRvdy5wZXJmb3JtYW5jZSYmbnVsbCE9d2luZG93LnBlcmZvcm1hbmNlLnRpbWluZyl7dmFyIGU9e30sdD13aW5kb3cucGVyZm9ybWFuY2UudGltaW5nO3JldHVybiBlLnBhZ2VMb2FkVGltZT10LmxvYWRFdmVudEVuZC10Lm5hdmlnYXRpb25TdGFydCxlLmNvbm5lY3RUaW1lPXQucmVzcG9uc2VFbmQtdC5yZXF1ZXN0U3RhcnQsZS5yZW5kZXJUaW1lPXQuZG9tQ29tcGxldGUtdC5kb21Mb2FkaW5nLGV9fWNhdGNoKGUpe3JldHVybiBudWxsfXJldHVybiBudWxsfWZ1bmN0aW9uIHcoZSl7dmFyIHQ9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemU7cmV0dXJuIHZvaWQgMCE9PXQmJkFycmF5LmlzQXJyYXkodCkmJnQubGVuZ3RoPjA/VCh0KTpbXX1mdW5jdGlvbiBqKGUpe3JldHVybiB2b2lkIDAhPT1lLm1lZGlhVHlwZXMmJnZvaWQgMCE9PWUubWVkaWFUeXBlcy5iYW5uZXImJnZvaWQgMCE9PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMmJkFycmF5LmlzQXJyYXkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcykmJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoPjA/VChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTohaChlKSYmZS5zaXplcyYmQXJyYXkuaXNBcnJheShlLnNpemVzKT9UKGUuc2l6ZXMpOltdfWZ1bmN0aW9uIFQoZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIG49ZVtyXTt0LnB1c2goe3dpZHRoOm5bMF0saGVpZ2h0Om5bMV19KX1yZXR1cm4gdH12YXIgeD17Y29kZToib25ldGFnIixndmxpZDoyNDEsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iLG4uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUmJnZvaWQgMCE9PWUucGFyYW1zJiYic3RyaW5nIj09dHlwZW9mIGUucGFyYW1zLnB1YklkJiYoYihuLmIsZSl8fGIobi5kLGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByLGksbyxhLGQsYyxzPWYoe2JpZHM6KGE9ZSxkPWEuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gaChlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBJLmNhbGwodCxlKSx0LmNvbnRleHQ9ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQsdC5wbGF5ZXJTaXplPXcoZSksdC5tZWRpYVR5cGVJbmZvPU9iamVjdChwLmRlZXBDbG9uZSkoZS5tZWRpYVR5cGVzLnZpZGVvKSx0LnR5cGU9bi5kLHR9KSksYz1hLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGIobi5iLGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIEkuY2FsbCh0LGUpLHQuc2l6ZXM9aihlKSx0LnR5cGU9bi5iLHQubWVkaWFUeXBlSW5mbz1PYmplY3QocC5kZWVwQ2xvbmUpKGUubWVkaWFUeXBlcy5iYW5uZXIpLHR9KSksZC5jb25jYXQoYykpfSwocj1mdW5jdGlvbigpe3ZhciBlPXdpbmRvdyx0PXdpbmRvdy5wYXJlbnQscj0wO3RyeXtmb3IoO2UhPT1lLnBhcmVudDspKHQ9ZS5wYXJlbnQpLmxvY2F0aW9uLmhyZWYsZT1lLnBhcmVudH1jYXRjaChuKXtyPXQ9PT1lLnRvcD8xOjJ9cmV0dXJue3RvcG1vc3RGcmFtZTplLGN1cnJlbnRGcmFtZU5lc3Rpbmc6cn19KCksaT1yLnRvcG1vc3RGcmFtZSxvPXIuY3VycmVudEZyYW1lTmVzdGluZyx7bG9jYXRpb246aS5sb2NhdGlvbi5ocmVmLHJlZmVycmVyOiIiIT09aS5kb2N1bWVudC5yZWZlcnJlcj9pLmRvY3VtZW50LnJlZmVycmVyOm51bGwsYW5jZXN0b3JPcmlnaW46d2luZG93LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucyYmd2luZG93LmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2lucy5sZW5ndGg+MD93aW5kb3cubG9jYXRpb24uYW5jZXN0b3JPcmlnaW5zW3dpbmRvdy5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMubGVuZ3RoLTFdOm51bGwsbWFza2VkOm8sd1dpZHRoOmkuaW5uZXJXaWR0aCx3SGVpZ2h0OmkuaW5uZXJIZWlnaHQsb1dpZHRoOmkub3V0ZXJXaWR0aCxvSGVpZ2h0Omkub3V0ZXJIZWlnaHQsc1dpZHRoOmkuc2NyZWVuLndpZHRoLHNIZWlnaHQ6aS5zY3JlZW4uaGVpZ2h0LGFXaWR0aDppLnNjcmVlbi5hdmFpbFdpZHRoLGFIZWlnaHQ6aS5zY3JlZW4uYXZhaWxIZWlnaHQsc0xlZnQ6InNjcmVlbkxlZnQiaW4gaT9pLnNjcmVlbkxlZnQ6aS5zY3JlZW5YLHNUb3A6InNjcmVlblRvcCJpbiBpP2kuc2NyZWVuVG9wOmkuc2NyZWVuWSx4T2Zmc2V0OmkucGFnZVhPZmZzZXQseU9mZnNldDppLnBhZ2VZT2Zmc2V0LGRvY0hpZGRlbjp2KGkpLGRvY0hlaWdodDppLmRvY3VtZW50LmJvZHk/aS5kb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodDpudWxsLGhMZW5ndGg6aGlzdG9yeS5sZW5ndGgsdGltaW5nOk8oKSx2ZXJzaW9uOntwcmViaWQ6IjUuMjAuMiIsYWRhcHRlcjoiMS4xLjAifX0pKTt0JiZ0LmdkcHJDb25zZW50JiYocy5nZHByQ29uc2VudD17Y29uc2VudFN0cmluZzp0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudFJlcXVpcmVkOnQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN9KSx0JiZ0LnVzcENvbnNlbnQmJihzLnVzUHJpdmFjeT10LnVzcENvbnNlbnQpLGUmJjAhPT1lLmxlbmd0aCYmZVswXS51c2VySWQmJihzLnVzZXJJZD1PYmplY3QodS5iKShlWzBdLnVzZXJJZCkpO3RyeXt5Lmhhc0xvY2FsU3RvcmFnZSgpJiYocy5vbmV0YWdTaWQ9eS5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgib25ldGFnX3NpZCIpKX1jYXRjaChlKXt9cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL29uZXRhZy1zeXMuY29tL3ByZWJpZC1yZXF1ZXN0IixkYXRhOkpTT04uc3RyaW5naWZ5KHMpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHksYT1bXSxjPUpTT04ucGFyc2UodC5kYXRhKTtyZXR1cm4hcnx8ci5ub2JpZCYmITA9PT1yLm5vYmlkP2E6ci5iaWRzJiZBcnJheS5pc0FycmF5KHIuYmlkcykmJjAhPT1yLmJpZHMubGVuZ3RoPyhyLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9e3JlcXVlc3RJZDplLnJlcXVlc3RJZCxjcG06ZS5jcG0sd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsY3JlYXRpdmVJZDplLmNyZWF0aXZlSWQsZGVhbElkOm51bGw9PWUuZGVhbElkP2UuZGVhbElkOiIiLGN1cnJlbmN5OmUuY3VycmVuY3ksbmV0UmV2ZW51ZTplLm5ldFJldmVudWV8fCExLG1lZGlhVHlwZTplLm1lZGlhVHlwZSxtZXRhOnttZWRpYVR5cGU6ZS5tZWRpYVR5cGUsYWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufSx0dGw6ZS50dGx8fDMwMH07aWYoZS5tZWRpYVR5cGU9PT1uLmIpdC5hZD1lLmFkO2Vsc2UgaWYoZS5tZWRpYVR5cGU9PT1uLmQpe3ZhciByPWQoKShjLmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmJpZElkPT09ZS5yZXF1ZXN0SWQmJnQudHlwZT09PW4uZH0pKSxzPXIuY29udGV4dCx1PXIuYWRVbml0Q29kZTtzPT09aS5hPyh0LnZhc3RVcmw9ZS52YXN0VXJsLHQudmlkZW9DYWNoZUtleT1lLnZpZGVvQ2FjaGVLZXkpOnM9PT1pLmImJih0LnZhc3RYbWw9ZS5hZCx0LnZhc3RVcmw9ZS52YXN0VXJsLGUucmVuZGVyZXJVcmwmJih0LnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPW8uYS5pbnN0YWxsKHtpZDplLnJlcXVlc3RJZCx1cmw6ZS5yZW5kZXJlclVybCxjb25maWc6dCxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZSxsb2FkZWQ6ITF9KTt0cnl7ci5zZXRSZW5kZXIoKGZ1bmN0aW9uKHQpe3ZhciByPXQucmVuZGVyZXIsbj10LndpZHRoLGk9dC5oZWlnaHQsbz10LnZhc3RYbWwsYT10LmFkVW5pdENvZGU7ci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5vbmV0YWcuUGxheWVyLmluaXQoZihmKHt9LGUpLHt9LHt3aWR0aDpuLGhlaWdodDppLHZhc3RYbWw6byxub2RlSWQ6YSxjb25maWc6ci5nZXRDb25maWcoKX0pKX0pKX0pKX1jYXRjaChlKXt9cmV0dXJuIHJ9KGYoZih7fSxlKSx7fSx7YWRVbml0Q29kZTp1fSkpKSl9YS5wdXNoKHQpfSkpLGEpOmF9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1bXSxvPSIiO3JldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKG8rPSImZ2Rwcl9jb25zZW50PSIrci5jb25zZW50U3RyaW5nLCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXMmJihvKz0iJmdkcHI9Iisoci5nZHByQXBwbGllcz8xOjApKSksbiYmInN0cmluZyI9PXR5cGVvZiBuJiYobys9IiZ1c19wcml2YWN5PSIrbiksZS5pZnJhbWVFbmFibGVkJiZpLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOm0rIj9jYj0iKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK299KSxlLnBpeGVsRW5hYmxlZCYmaS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOm0rIj90YWc9aW1nIitvfSksaX19O09iamVjdChzLnJlZ2lzdGVyQmlkZGVyKSh4KX19LFs2NTldKTsKdXBianNDaHVuayhbMTc3XSx7NjY5OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big2NzApfSw2NzA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsIlVTRVJfSURfQ09ERV9UT19RVUVSWV9BUkciLChmdW5jdGlvbigpe3JldHVybiBifSkpLG4uZCh0LCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgcj1uKDApLGE9bigzKSxpPW4oMSksbz1uKDIpLGM9bigxMiksZD1uLm4oYyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4ocz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIG49bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1uKXJldHVybjt2YXIgcixhLGk9W10sbz0hMCxjPSExO3RyeXtmb3Iobj1uLmNhbGwoZSk7IShvPShyPW4ubmV4dCgpKS5kb25lKSYmKGkucHVzaChyLnZhbHVlKSwhdHx8aS5sZW5ndGghPT10KTtvPSEwKTt9Y2F0Y2goZSl7Yz0hMCxhPWV9ZmluYWxseXt0cnl7b3x8bnVsbD09bi5yZXR1cm58fG4ucmV0dXJuKCl9ZmluYWxseXtpZihjKXRocm93IGF9fXJldHVybiBpfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHAoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIHAoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHAoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgbT1bby5iLG8uZF0sbD1bInN0YXJ0ZGVsYXkiLCJtaW1lcyIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJzdGFydGRlbGF5Iiwic2tpcHBhYmxlIiwicGxheWJhY2ttZXRob2QiLCJhcGkiLCJwcm90b2NvbHMiLCJib3hpbmdhbGxvd2VkIiwibGluZWFyaXR5IiwiZGVsaXZlcnkiLCJwcm90b2NvbCIsInBsYWNlbWVudCIsIm1pbmJpdHJhdGUiLCJtYXhiaXRyYXRlIl0sYj17YnJpdGVwb29saWQ6ImJyaXRlcG9vbGlkIixjcml0ZW9JZDoiY3JpdGVvaWQiLGZhYnJpY2tJZDoibnVlc3RhcmlkIixoYWxvSWQ6ImF1ZGlnZW50aWQiLGlkNWlkOiJpZDVpZCIsaWRsX2VudjoibHJlIixJRFA6Inplb3RhcGlkIixpZHhJZDoiaWR4aWQiLGludGVudElxSWQ6ImludGVudGlxaWQiLGxpcGI6ImxpcGJpZCIsbG90YW1lUGFub3JhbWFJZDoibG90YW1laWQiLG1lcmtsZUlkOiJtZXJrbGVpZCIsbmV0SWQ6Im5ldGlkIixwYXJyYWJsZUlkOiJwYXJyYWJsZWlkIixwdWJjaWQ6InB1YmNpZCIscXVhbnRjYXN0SWQ6InF1YW50Y2FzdGlkIix0YXBhZElkOiJ0YXBhZGlkIix0ZGlkOiJ0dGR1dWlkIix1aWQyOiJ1aWQyIixmbG9jSWQ6ImZsb2MiLGFkbWl4ZXJJZDoiYWRtaXhlcmlkIixkZWVwaW50ZW50SWQ6ImRlZXBpbnRlbnRpZCIsZG1kSWQ6ImRtZGlkIixuZXh0cm9sbElkOiJuZXh0cm9sbGlkIixub3ZhdGlxOiJub3ZhdGlxaWQiLG13T3BlbkxpbmtJZDoibXdvcGVubGlua2lkIixkYXBJZDoiZGFwaWQiLGFteElkOiJhbXhpZCJ9LGY9e2NvZGU6Im9wZW54IixndmxpZDo2OSxzdXBwb3J0ZWRNZWRpYVR5cGVzOm0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMuZGVsRG9tYWlufHxlLnBhcmFtcy5wbGF0Zm9ybTtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSYmdD8hIWUucGFyYW1zLnVuaXR8fE9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aCIpPjA6ISghZS5wYXJhbXMudW5pdHx8IXQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoMD09PWUubGVuZ3RoKXJldHVybltdO3ZhciBuPVtdLGk9dShmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIG47cmV0dXJuIG49dCxPYmplY3Qoci5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvIikmJiFPYmplY3Qoci5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLmJhbm5lciIpfHxuLm1lZGlhVHlwZT09PW8uZD9lWzBdLnB1c2godCk6ZVsxXS5wdXNoKHQpLGV9KSxbW10sW11dKX0oZSksMiksYz1pWzBdLHM9aVsxXTtyZXR1cm4gcy5sZW5ndGg+MCYmbi5wdXNoKGZ1bmN0aW9uKGUsdCl7dmFyIG49W10saT0hMSxjPXYoZSx0KSxkPU9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy51bml0fSkpO2MuYXVzPU9iamVjdChyLl9tYXApKGUsKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5wYXJzZVNpemVzSW5wdXQpKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLmpvaW4oIiwiKX0pKS5qb2luKCJ8IiksYy5kaXZpZHM9T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlLmFkVW5pdENvZGUpfSkpLmpvaW4oIiwiKSxjLmF1Y3M9T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHR8fCIiKX0pKS5qb2luKCIsIiksZC5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSYmKGMuYXVpZD1kLmpvaW4oIiwiKSk7ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuZG9Ob3RUcmFja30pKSYmKGMubnM9MSk7KCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKXx8ZS5zb21lKChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuY29wcGF9KSkpJiYoYy50ZmNkPTEpO2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuY3VzdG9tUGFyYW1zKXt2YXIgdD1PYmplY3Qoci5fbWFwKShPYmplY3Qua2V5cyhlLnBhcmFtcy5jdXN0b21QYXJhbXMpLChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbj10W2VdO09iamVjdChyLmlzQXJyYXkpKG4pJiYobj1uLmpvaW4oIiwiKSk7cmV0dXJuKGUudG9Mb3dlckNhc2UoKSsiPSIrbi50b0xvd2VyQ2FzZSgpKS5yZXBsYWNlKCIrIiwiLiIpLnJlcGxhY2UoIi8iLCJfIil9KHQsZS5wYXJhbXMuY3VzdG9tUGFyYW1zKX0pKSxhPXdpbmRvdy5idG9hKHQuam9pbigiJiIpKTtpPSEwLG4ucHVzaChhKX1lbHNlIG4ucHVzaCgiIil9KSksaSYmKGMudHBzPW4uam9pbigiLCIpKTtyZXR1cm4gZyhjLG8uYixlKSx7bWV0aG9kOiJHRVQiLHVybDpjLnBoPyJodHRwczovL3Uub3BlbngubmV0L3cvMS4wL2FyaiI6Imh0dHBzOi8vIi5jb25jYXQoZVswXS5wYXJhbXMuZGVsRG9tYWluLCIvdy8xLjAvYXJqIiksZGF0YTpjLHBheWxvYWQ6e2JpZHM6ZSxzdGFydFRpbWU6bmV3IERhdGV9fX0ocyx0KSksYy5sZW5ndGg+MCYmYy5mb3JFYWNoKChmdW5jdGlvbihlKXtuLnB1c2goZnVuY3Rpb24oZSx0KXt2YXIgbj1mdW5jdGlvbihlLHQpe3ZhciBuLGEsaT1PYmplY3Qoci5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIiksYz12KFtlXSx0KSxzPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpfHx7fSx1PU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLHA9T2JqZWN0KHIuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIik7T2JqZWN0KHIuaXNBcnJheSkoZS5zaXplcykmJjI9PT1lLnNpemVzLmxlbmd0aCYmIU9iamVjdChyLmlzQXJyYXkpKGUuc2l6ZXNbMF0pPyhuPXBhcnNlSW50KGUuc2l6ZXNbMF0sMTApLGE9cGFyc2VJbnQoZS5zaXplc1sxXSwxMCkpOk9iamVjdChyLmlzQXJyYXkpKGUuc2l6ZXMpJiZPYmplY3Qoci5pc0FycmF5KShlLnNpemVzWzBdKSYmMj09PWUuc2l6ZXNbMF0ubGVuZ3RoPyhuPXBhcnNlSW50KGUuc2l6ZXNbMF1bMF0sMTApLGE9cGFyc2VJbnQoZS5zaXplc1swXVsxXSwxMCkpOk9iamVjdChyLmlzQXJyYXkpKHApJiYyPT09cC5sZW5ndGgmJihuPXBhcnNlSW50KHBbMF0sMTApLGE9cGFyc2VJbnQocFsxXSwxMCkpO3ZhciBtPXt3Om4saDphfSxiPWUucGFyYW1zLnZpZGVvfHxlLnBhcmFtcy5vcGVucnRifHx7fTtiLm9wZW5ydGImJihiPWIub3BlbnJ0Yik7T2JqZWN0KHIuaXNBcnJheSkoYi5pbXApJiYoYj1iLmltcFswXS52aWRlbyk7T2JqZWN0LmtleXMoYikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZCgpKGwsZSl9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIG1bZV09YltlXX0pKSxPYmplY3Qua2V5cyhpKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBkKCkobCxlKX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbVtlXT1pW2VdfSkpO3ZhciBmPXtpbXA6W3t2aWRlbzptfV19O2Mub3BlbnJ0Yj1KU09OLnN0cmluZ2lmeShmKSxjLmF1aWQ9ZS5wYXJhbXMudW5pdCxjLnZ3ZD1ufHxzLnZ3ZCxjLnZodD1hfHxzLnZodCwib3V0c3RyZWFtIj09PXUmJihjLnZvcz0iMTAxIik7cy5taW1lcyYmKGMudm1pbWVzPXMubWltZXMpO2UucGFyYW1zLnRlc3QmJihjLnZ0ZXN0PTEpO3ZhciBoPU9iamVjdChyLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90Iik7aCYmKGMuYXVjcz1lbmNvZGVVUklDb21wb25lbnQoaCkpO3JldHVybiBnKGMsby5kLFtlXSksY30oZSx0KTtyZXR1cm57bWV0aG9kOiJHRVQiLHVybDpuLnBoPyJodHRwczovL3Uub3BlbngubmV0L3YvMS4wL2F2anAiOiJodHRwczovLyIuY29uY2F0KGUucGFyYW1zLmRlbERvbWFpbiwiL3YvMS4wL2F2anAiKSxkYXRhOm4scGF5bG9hZDp7YmlkOmUsc3RhcnRUaW1lOm5ldyBEYXRlfX19KGUsdCkpfSkpLG59LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5ib2R5O3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4vYXZqcCQvLnRlc3QoZS51cmwpP28uZDpvLmJ9KHQpPT09by5kP2Z1bmN0aW9uKGUsdCl7dmFyIG49dC5iaWQsYT0odC5zdGFydFRpbWUsW10pO2lmKHZvaWQgMCE9PWUmJiIiIT09ZS52YXN0VXJsJiZlLnB1Yl9yZXY+MCl7dmFyIGk9T2JqZWN0KHIucGFyc2VVcmwpKGUudmFzdFVybCkuc2VhcmNofHx7fSxjPXt9O2MucmVxdWVzdElkPW4uYmlkSWQsZS5kZWFsX2lkJiYoYy5kZWFsSWQ9ZS5kZWFsX2lkKSxjLnR0bD0zMDAsYy5uZXRSZXZlbnVlPSEwLGMuY3VycmVuY3k9ZS5jdXJyZW5jeSxjLmNwbT1wYXJzZUludChlLnB1Yl9yZXYsMTApLzFlMyxjLndpZHRoPXBhcnNlSW50KGUud2lkdGgsMTApLGMuaGVpZ2h0PXBhcnNlSW50KGUuaGVpZ2h0LDEwKSxjLmNyZWF0aXZlSWQ9ZS5hZGlkLGMudmFzdFVybD1lLnZhc3RVcmwsYy5tZWRpYVR5cGU9by5kLGUucGg9aS5waCxlLmNvbG89aS5jb2xvLGUudHM9aS50cyxhLnB1c2goYyl9cmV0dXJuIGF9KG4sdC5wYXlsb2FkKTpmdW5jdGlvbihlLHQpe2Zvcih2YXIgbj10LmJpZHMscj0odC5zdGFydFRpbWUsZS5hZHMuYWQpLGE9W10saT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgbz1yW2ldLGM9cGFyc2VJbnQoby5pZHgsMTApLGQ9e307aWYoZC5yZXF1ZXN0SWQ9bltjXS5iaWRJZCxvLnB1Yl9yZXYpe2QuY3BtPU51bWJlcihvLnB1Yl9yZXYpLzFlMzt2YXIgcz1vLmNyZWF0aXZlWzBdO3MmJihkLndpZHRoPXMud2lkdGgsZC5oZWlnaHQ9cy5oZWlnaHQpLGQuY3JlYXRpdmVJZD1zLmlkLGQuYWQ9by5odG1sLG8uZGVhbF9pZCYmKGQuZGVhbElkPW8uZGVhbF9pZCksZC50dGw9MzAwLGQubmV0UmV2ZW51ZT0hMCxkLmN1cnJlbmN5PW8uY3VycmVuY3ksby50YmQmJihkLnRiZD1vLnRiZCksZC50cz1vLnRzLGQubWV0YT17fSxvLmJyYW5kX2lkJiYoZC5tZXRhLmJyYW5kSWQ9by5icmFuZF9pZCksby5hZG9tYWluJiZsZW5ndGgoby5hZG9tYWluKT4wP2QubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1vLmFkb21haW46ZC5tZXRhLmFkdmVydGlzZXJEb21haW5zPVtdLG8uYWR2X2lkJiYoZC5tZXRhLmRzcGlkPW8uYWR2X2lkKSxhLnB1c2goZCl9fXJldHVybiBhfShuLHQucGF5bG9hZCl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQsbixhKXtpZihlLmlmcmFtZUVuYWJsZWR8fGUucGl4ZWxFbmFibGVkKXJldHVyblt7dHlwZTplLmlmcmFtZUVuYWJsZWQ/ImlmcmFtZSI6ImltYWdlIix1cmw6T2JqZWN0KHIuZGVlcEFjY2VzcykodCwiMC5ib2R5LmFkcy5waXhlbHMiKXx8T2JqZWN0KHIuZGVlcEFjY2VzcykodCwiMC5ib2R5LnBpeGVscyIpfHxmdW5jdGlvbihlLHQpe3ZhciBuPSJodHRwczovL3Uub3BlbngubmV0L3cvMS4wL3BkIixyPVtdO2UmJihyLnB1c2goImdkcHI9IisoZS5nZHByQXBwbGllcz8xOjApKSxyLnB1c2goImdkcHJfY29uc2VudD0iK2VuY29kZVVSSUNvbXBvbmVudChlLmNvbnNlbnRTdHJpbmd8fCIiKSkpO3QmJnIucHVzaCgidXNfcHJpdmFjeT0iK2VuY29kZVVSSUNvbXBvbmVudCh0KSk7cmV0dXJuIiIuY29uY2F0KG4pLmNvbmNhdChyLmxlbmd0aD4wPyI/IityLmpvaW4oIiYiKToiIil9KG4sYSl9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmNvbnZlcnRUeXBlcykoe3VuaXQ6InN0cmluZyIsY3VzdG9tRmxvb3I6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gaChlKXt2YXIgdCxuLHIsYT13aW5kb3csaT1kb2N1bWVudCxvPWkuZG9jdW1lbnRFbGVtZW50O2lmKGUpe3RyeXthPXdpbmRvdy50b3AsaT13aW5kb3cudG9wLmRvY3VtZW50fWNhdGNoKGUpe3JldHVybn1vPWkuZG9jdW1lbnRFbGVtZW50LHI9aS5ib2R5LHQ9YS5pbm5lcldpZHRofHxvLmNsaWVudFdpZHRofHxyLmNsaWVudFdpZHRoLG49YS5pbm5lckhlaWdodHx8by5jbGllbnRIZWlnaHR8fHIuY2xpZW50SGVpZ2h0fWVsc2Ugbz1pLmRvY3VtZW50RWxlbWVudCx0PWEuaW5uZXJXaWR0aHx8by5jbGllbnRXaWR0aCxuPWEuaW5uZXJIZWlnaHR8fG8uY2xpZW50SGVpZ2h0O3JldHVybiIiLmNvbmNhdCh0LCJ4IikuY29uY2F0KG4pfWZ1bmN0aW9uIHYoZSx0KXt2YXIgbixpPU9iamVjdChyLmluSWZyYW1lKSgpO249e2p1OmEuYi5nZXRDb25maWcoInBhZ2VVcmwiKXx8dC5yZWZlcmVySW5mby5yZWZlcmVyLGNoOmRvY3VtZW50LmNoYXJTZXR8fGRvY3VtZW50LmNoYXJhY3RlclNldCxyZXM6IiIuY29uY2F0KHNjcmVlbi53aWR0aCwieCIpLmNvbmNhdChzY3JlZW4uaGVpZ2h0LCJ4IikuY29uY2F0KHNjcmVlbi5jb2xvckRlcHRoKSxpZnI6aSx0ejoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksdHdzOmgoaSksYmU6MSxiYzplWzBdLnBhcmFtcy5iY3x8IiIuY29uY2F0KCJoYl9wYiIsIl8iKS5jb25jYXQoIjMuMC4zIiksZGRkaWQ6T2JqZWN0KHIuX21hcCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJhbnNhY3Rpb25JZH0pKS5qb2luKCIsIiksbm9jYWNoZToobmV3IERhdGUpLmdldFRpbWUoKX07dmFyIG89eSgib3J0YjIudXNlci5kYXRhIik7by5sZW5ndGg+MCYmKG4uc209byk7dmFyIGMsZCxzLHUscCxtPXkoIm9ydGIyLnNpdGUuY29udGVudC5kYXRhIik7aWYobS5sZW5ndGg+MCYmKG4uc2NzbT1tKSxlWzBdLnBhcmFtcy5wbGF0Zm9ybSYmKG4ucGg9ZVswXS5wYXJhbXMucGxhdGZvcm0pLHQuZ2RwckNvbnNlbnQpe3ZhciBsPXQuZ2RwckNvbnNlbnQ7dm9pZCAwIT09bC5jb25zZW50U3RyaW5nJiYobi5nZHByX2NvbnNlbnQ9bC5jb25zZW50U3RyaW5nKSx2b2lkIDAhPT1sLmdkcHJBcHBsaWVzJiYobi5nZHByPWwuZ2RwckFwcGxpZXM/MTowKSwiaWFiIj09PWEuYi5nZXRDb25maWcoImNvbnNlbnRNYW5hZ2VtZW50LmNtcEFwaSIpJiYobi54X2dkcHJfZj0xKX1yZXR1cm4gdCYmdC51c3BDb25zZW50JiYobi51c19wcml2YWN5PXQudXNwQ29uc2VudCksT2JqZWN0KHIuZGVlcEFjY2VzcykoZVswXSwiY3J1bWJzLnB1YmNpZCIpJiZPYmplY3Qoci5kZWVwU2V0VmFsdWUpKGVbMF0sInVzZXJJZC5wdWJjaWQiLE9iamVjdChyLmRlZXBBY2Nlc3MpKGVbMF0sImNydW1icy5wdWJjaWQiKSksYz1uLGQ9ZVswXS51c2VySWQsT2JqZWN0KHIuX2VhY2gpKGQsKGZ1bmN0aW9uKGUsdCl7dmFyIG49Ylt0XTtpZihiLmhhc093blByb3BlcnR5KHQpKXN3aXRjaCh0KXtjYXNlIm1lcmtsZUlkIjpjYXNlImZsb2NJZCI6Y2FzZSJ1aWQyIjpjW25dPWUuaWQ7YnJlYWs7Y2FzZSJsaXBiIjppZihjW25dPWUubGlwYmlkLEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoPjApe3ZhciByPSJsaXZlaW50ZW50OiIrZS5zZWdtZW50cy5qb2luKCJ8Iik7Yy5zbT0iIi5jb25jYXQoYy5zbT9jLnNtKyIsIjoiIikuY29uY2F0KHIpfWJyZWFrO2Nhc2UicGFycmFibGVJZCI6Y1tuXT1lLmVpZDticmVhaztjYXNlImlkNWlkIjpjW25dPWUudWlkO2JyZWFrO2Nhc2Uibm92YXRpcSI6Y1tuXT1lLnNub3dmbGFrZTticmVhaztkZWZhdWx0OmNbbl09ZX19KSksbj1jLGVbMF0uc2NoYWluJiYobi5zY2hhaW49KHM9ZVswXS5zY2hhaW4sIiIuY29uY2F0KHMudmVyLCIsIikuY29uY2F0KHMuY29tcGxldGUsIiEiKS5jb25jYXQoKHU9cy5ub2RlcyxwPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl0sdS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBwLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF18fCIifSkpLmpvaW4oIiwiKX0pKS5qb2luKCIhIikpKSkpLG59ZnVuY3Rpb24geShlKXt2YXIgdD1hLmIuZ2V0Q29uZmlnKGUpO2lmKCFBcnJheS5pc0FycmF5KHQpfHwhdC5sZW5ndGgpcmV0dXJuIiI7dmFyIG49dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUuc2VnbWVudCkmJmUuc2VnbWVudC5sZW5ndGg+MCYmdm9pZCAwIT09ZS5uYW1lJiZlLm5hbWUubGVuZ3RoPjB9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBuPSJvYmplY3QiPT09cyh0LmV4dCkmJnQuZXh0LnNlZ3RheD8iIi5jb25jYXQodC5uYW1lLCIvIikuY29uY2F0KHQuZXh0LnNlZ3RheCk6dC5uYW1lO3JldHVybiBlW25dPShlW25dfHxbXSkuY29uY2F0KHQuc2VnbWVudC5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSkpKSxlfSkse30pO3JldHVybiBPYmplY3Qua2V5cyhuKS5tYXAoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIjoiK25bZV0uam9pbigifCIpfSkpLmpvaW4oIiwiKX1mdW5jdGlvbiBnKGUsdCxuKXt2YXIgcj1bXSxpPSExO24uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgbj17fSxyPWEuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKXx8IlVTRCI7ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJihuPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OnIsbWVkaWFUeXBlOnQsc2l6ZToiKiJ9KSk7dmFyIGk9bi5mbG9vcnx8ZS5wYXJhbXMuY3VzdG9tRmxvb3J8fDA7cmV0dXJuIE1hdGgucm91bmQoMWUzKmkpfShlLHQpO24/KHIucHVzaChuKSxpPSEwKTpyLnB1c2goMCl9KSksaSYmKGUuYXVtZnM9ci5qb2luKCIsIikpfU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs2NjldKTsKdXBianNDaHVuayhbMzddLHs2OTU6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDY5Nil9LDY5NjpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LnJlc2V0U3luY2VkU3RhdHVzPWZ1bmN0aW9uKCl7VT0wfSx0LnJlc2V0V3VybE1hcD1mdW5jdGlvbigpe1g9e319LHQuUHJlYmlkU2VydmVyPSQ7dmFyIG49cig4MyksaT1yKDQzKSxjPXIoMCkscz1yKDUpLG89ci5uKHMpLGE9cig4KSxkPXIoMykscD1yKDIpLGI9cigzOCksdT1yKDEpLGw9cigxMCksZj1yLm4obCksdj1yKDEyKSxnPXIubih2KSx5PXIoNjk3KSxtPXIoNCksTz1yKDExKSxqPXIubihPKTtmdW5jdGlvbiBoKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBDKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2goT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtTKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpoKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIFMoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIHgoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLGM9W10scz0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShzPShuPXIubmV4dCgpKS5kb25lKSYmKGMucHVzaChuLnZhbHVlKSwhdHx8Yy5sZW5ndGghPT10KTtzPSEwKTt9Y2F0Y2goZSl7bz0hMCxpPWV9ZmluYWxseXt0cnl7c3x8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBjfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIEEoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIEEoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIEEoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBFKCl7cmV0dXJuKEU9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiB3KGUpe3JldHVybih3PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIFAsayxfPWQuYi5nZXRDb25maWcsST1vLmEuUzJTLlNSQyxVPTAsQj17dGltZW91dDoxZTMsbWF4QmlkczoxLGFkYXB0ZXI6InByZWJpZFNlcnZlciIsYWRhcHRlck9wdGlvbnM6e30sc3luY1VybE1vZGlmaWVyOnt9LGJpZGRlcnM6W119O2Z1bmN0aW9uIFQoZSl7aWYoZSl7dmFyIHQ9QXJyYXkuaXNBcnJheShlKT9lOltlXSxyPVtdO3JldHVybiB0LmV2ZXJ5KChmdW5jdGlvbih0LG4saSl7aWYoKGZ1bmN0aW9uKGUpe1siZW5kcG9pbnQiLCJzeW5jRW5kcG9pbnQiXS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZihPYmplY3QoYy5pc1N0cikoZVt0XSkpe3ZhciByPWVbdF07ZVt0XT17cDFDb25zZW50OnIsbm9QMUNvbnNlbnQ6cn19IU9iamVjdChjLmlzUGxhaW5PYmplY3QpKGVbdF0pfHxlW3RdLnAxQ29uc2VudCYmZVt0XS5ub1AxQ29uc2VudHx8WyJwMUNvbnNlbnQiLCJub1AxQ29uc2VudCJdLmZvckVhY2goKGZ1bmN0aW9uKHIpe2VbdF1bcl18fE9iamVjdChjLmxvZ1dhcm4pKCJzMnNDb25maWcuIi5jb25jYXQodCwiLiIpLmNvbmNhdChyLCIgbm90IGRlZmluZWQuICBQQlMgcmVxdWVzdCB3aWxsIGJlIHNraXBwZWQgaW4gc29tZSBQMSBzY2VuYXJpb3MuIikpfSkpfSkpfShlKSwhMSE9PWZ1bmN0aW9uKGUpe2lmKGUuZGVmYXVsdFZlbmRvcil7dmFyIHQ9ZS5kZWZhdWx0VmVuZG9yLHI9T2JqZWN0LmtleXMoZSk7aWYoIXkuYVt0XSlyZXR1cm4gT2JqZWN0KGMubG9nRXJyb3IpKCJJbmNvcnJlY3Qgb3IgdW5hdmFpbGFibGUgcHJlYmlkIHNlcnZlciBkZWZhdWx0IHZlbmRvciBvcHRpb246ICIrdCksITE7T2JqZWN0LmtleXMoeS5hW3RdKS5mb3JFYWNoKChmdW5jdGlvbihuKXtCW25dIT09ZVtuXSYmZygpKHIsbil8fChlW25dPXkuYVt0XVtuXSl9KSl9cmV0dXJuIGUuZW5hYmxlZD0iYm9vbGVhbiI9PXR5cGVvZiBlLmVuYWJsZWQmJmUuZW5hYmxlZH0odCkpJiYhMSE9PWZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKFsiYWNjb3VudElkIiwiYmlkZGVycyIsImVuZHBvaW50Il0uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hZygpKHQsZSkmJihPYmplY3QoYy5sb2dFcnJvcikoZSsiIG1pc3NpbmcgaW4gc2VydmVyIHRvIHNlcnZlciBjb25maWciKSwhMCl9KSkubGVuZ3RoPjApcmV0dXJuITF9KHQpKXJldHVybiBBcnJheS5pc0FycmF5KHQuYmlkZGVycykmJihpW25dLmJpZGRlcnM9dC5iaWRkZXJzLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1yLmluZGV4T2YoZSkmJihyLnB1c2goZSksITApfSkpKSwhMDtyZXR1cm4gT2JqZWN0KGMubG9nV2FybikoInByZWJpZFNlcnZlcjogczJzIGNvbmZpZyBpcyBkaXNhYmxlZCIpLCExfSkpP1A9dDp2b2lkIDB9fWZ1bmN0aW9uIFIoZSx0LHIsbil7aWYoUC5sZW5ndGghPT1VKXtVKys7dmFyIGk9e3V1aWQ6T2JqZWN0KGMuZ2VuZXJhdGVVVUlEKSgpLGJpZGRlcnM6ZSxhY2NvdW50Om4uYWNjb3VudElkfSxzPW4udXNlclN5bmNMaW1pdDtPYmplY3QoYy5pc051bWJlcikocykmJnM+MCYmKGkubGltaXQ9cyksdCYmKGkuZ2Rwcj10LmdkcHJBcHBsaWVzPzE6MCwhMSE9PXQuZ2RwckFwcGxpZXMmJihpLmdkcHJfY29uc2VudD10LmNvbnNlbnRTdHJpbmcpKSxyJiYoaS51c19wcml2YWN5PXIpLCJib29sZWFuIj09dHlwZW9mIG4uY29vcFN5bmMmJihpLmNvb3BTeW5jPW4uY29vcFN5bmMpO3ZhciBvPUpTT04uc3RyaW5naWZ5KGkpO09iamVjdChtLmEpKEsobi5zeW5jRW5kcG9pbnQsdCksKGZ1bmN0aW9uKGUpe3RyeXtEKChlPUpTT04ucGFyc2UoZSkpLmJpZGRlcl9zdGF0dXMsbil9Y2F0Y2goZSl7T2JqZWN0KGMubG9nRXJyb3IpKGUpfX0pLG8se2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KX19ZnVuY3Rpb24gRChlLHQpe2lmKDAhPT1lLmxlbmd0aCl7dmFyIHI9ZS5zaGlmdCgpO3Iubm9fY29va2llP2Z1bmN0aW9uKGUsdCxyLG4saSl7aWYoaS5zeW5jVXJsTW9kaWZpZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBpLnN5bmNVcmxNb2RpZmllcltyXSl7cShlLGkuc3luY1VybE1vZGlmaWVyW3JdKGUsdCxyKSxyLG4pfWVsc2UgcShlLHQscixuKX0oci51c2Vyc3luYy50eXBlLHIudXNlcnN5bmMudXJsLHIuYmlkZGVyLGMuYmluZC5jYWxsKEQsbnVsbCxlLHQpLHQpOkQoZSx0KX19ZnVuY3Rpb24gcShlLHQscixuKXt0PyJpbWFnZSI9PT1lfHwicmVkaXJlY3QiPT09ZT8oT2JqZWN0KGMubG9nTWVzc2FnZSkoJ0ludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiJy5jb25jYXQociwnIicpKSxPYmplY3QoYy50cmlnZ2VyUGl4ZWwpKHQsbikpOiJpZnJhbWUiPT1lPyhPYmplY3QoYy5sb2dNZXNzYWdlKSgnSW52b2tpbmcgaWZyYW1lIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiJy5jb25jYXQociwnIicpKSxPYmplY3QoYy5pbnNlcnRVc2VyU3luY0lmcmFtZSkodCxuKSk6KE9iamVjdChjLmxvZ0Vycm9yKSgnVXNlciBzeW5jIHR5cGUgIicuY29uY2F0KGUsJyIgbm90IHN1cHBvcnRlZCBmb3IgYmlkZGVyOiAiJykuY29uY2F0KHIsJyInKSksbigpKTooT2JqZWN0KGMubG9nRXJyb3IpKCdObyBzeW5jIHVybCBmb3IgYmlkZGVyICInLmNvbmNhdChyLCciOiAnKS5jb25jYXQodCkpLG4oKSl9ZC5iLnNldERlZmF1bHRzKHtzMnNDb25maWc6Qn0pLF8oInMyc0NvbmZpZyIsKGZ1bmN0aW9uKGUpe3JldHVybiBUKGUuczJzQ29uZmlnKX0pKTt2YXIgVj17c3BvbnNvcmVkQnk6MSxib2R5OjIscmF0aW5nOjMsbGlrZXM6NCxkb3dubG9hZHM6NSxwcmljZTo2LHNhbGVQcmljZTo3LHBob25lOjgsYWRkcmVzczo5LGJvZHkyOjEwLGN0YToxMn0sTj1PYmplY3Qua2V5cyhWKSx6PXtpY29uOjEsaW1hZ2U6M30sTT17aW1nOjEsanM6Mn07W1Yseix7aW1wcmVzc2lvbjoxLCJ2aWV3YWJsZS1tcmM1MCI6Miwidmlld2FibGUtbXJjMTAwIjozLCJ2aWV3YWJsZS12aWRlbzUwIjo0fSxNXS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChmdW5jdGlvbih0KXtlW2VbdF1dPXR9KSl9KSk7dmFyIFc9e30sSj17fSxYPXt9O3ZhciBGPWZ1bmN0aW9uKGUsdCxyLG4saSl7dmFyIHM9W10sbz17fSxwPXRbMF0sdT1uZXcgU2V0O2lmKHIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Zm9yKHZhciByPWUuY29kZSxpPTE7dS5oYXMocik7KWkrKyxyPSIiLmNvbmNhdChlLmNvZGUsIi0iKS5jb25jYXQoaSk7dS5hZGQocik7dmFyIGwsZj1PYmplY3QoYi5oKShPYmplY3QoYy5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZSIpKTtpZihmKXRyeXtsPUpbcl09T2JqZWN0LmtleXMoZikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciByPWZbdF07ZnVuY3Rpb24gbihlKXtyZXR1cm4gRSh7cmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjB9LGU/T2JqZWN0KGMuY2xlYW5PYmopKGUpOnt9KX1zd2l0Y2godCl7Y2FzZSJpbWFnZSI6Y2FzZSJpY29uIjp2YXIgaT16W3RdLHM9T2JqZWN0KGMuY2xlYW5PYmopKHt0eXBlOmksdzpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJzaXplcy4wIiksaDpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJzaXplcy4xIiksd21pbjpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJhc3BlY3RfcmF0aW9zLjAubWluX3dpZHRoIiksaG1pbjpPYmplY3QoYy5kZWVwQWNjZXNzKShyLCJhc3BlY3RfcmF0aW9zLjAubWluX2hlaWdodCIpfSk7aWYoIShzLncmJnMuaHx8cy5obWluJiZzLndtaW4pKXRocm93ImludmFsaWQgaW1nIHNpemVzIChtdXN0IHByb3ZpZGUgc2l6ZXMgb3IgbWluX2hlaWdodCAmIG1pbl93aWR0aCBpZiB1c2luZyBhc3BlY3RfcmF0aW9zKSI7QXJyYXkuaXNBcnJheShyLmFzcGVjdF9yYXRpb3MpJiYocy5leHQ9e2FzcGVjdHJhdGlvczpyLmFzcGVjdF9yYXRpb3MubWFwKChmdW5jdGlvbihlKXtyZXR1cm4iIi5jb25jYXQoZS5yYXRpb193aWR0aCwiOiIpLmNvbmNhdChlLnJhdGlvX2hlaWdodCl9KSl9KSxlLnB1c2gobih7aW1nOnN9KSk7YnJlYWs7Y2FzZSJ0aXRsZSI6aWYoIXIubGVuKXRocm93ImludmFsaWQgdGl0bGUubGVuIjtlLnB1c2gobih7dGl0bGU6e2xlbjpyLmxlbn19KSk7YnJlYWs7ZGVmYXVsdDp2YXIgbz1WW3RdO28mJmUucHVzaChuKHtkYXRhOnt0eXBlOm8sbGVuOnIubGVufX0pKX1yZXR1cm4gZX0pLFtdKX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoImVycm9yIGNyZWF0aW5nIG5hdGl2ZSByZXF1ZXN0OiAiK1N0cmluZyhlKSl9dmFyIHY9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpLGc9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKTtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoV1siIi5jb25jYXQocikuY29uY2F0KGUuYmlkZGVyKV09ZS5iaWRfaWQsYS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZS5iaWRkZXJdKXt2YXIgdD1hLmRlZmF1bHQuYmlkZGVyUmVnaXN0cnlbZS5iaWRkZXJdO3QmJiF0LmdldFNwZWMoKS5za2lwUGJzQWxpYXNpbmcmJihvW2UuYmlkZGVyXT1hLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlcl0pfX0pKTt2YXIgeT17fTtpZihnJiZnLnNpemVzKXt2YXIgbT1PYmplY3QoYy5wYXJzZVNpemVzSW5wdXQpKGcuc2l6ZXMpLm1hcCgoZnVuY3Rpb24oZSl7dmFyIHQ9eChlLnNwbGl0KCJ4IiksMikscj10WzBdLG49dFsxXTtyZXR1cm57dzpwYXJzZUludChyLDEwKSxoOnBhcnNlSW50KG4sMTApfX0pKTt5LmJhbm5lcj17Zm9ybWF0Om19LGcucG9zJiYoeS5iYW5uZXIucG9zPWcucG9zKX1pZihPYmplY3QoYy5pc0VtcHR5KSh2KXx8KCJvdXRzdHJlYW0iIT09di5jb250ZXh0fHx2LnJlbmRlcmVyfHxlLnJlbmRlcmVyPygiaW5zdHJlYW0iIT09di5jb250ZXh0fHx2Lmhhc093blByb3BlcnR5KCJwbGFjZW1lbnQiKXx8KHYucGxhY2VtZW50PTEpLHkudmlkZW89T2JqZWN0LmtleXModikuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4iY29udGV4dCIhPT1lfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4icGxheWVyU2l6ZSI9PT10PyhlLnc9T2JqZWN0KGMuZGVlcEFjY2VzcykodiwiIi5jb25jYXQodCwiLjAuMCIpKSxlLmg9T2JqZWN0KGMuZGVlcEFjY2VzcykodiwiIi5jb25jYXQodCwiLjAuMSIpKSk6ZVt0XT12W3RdLGV9KSx7fSkpOk9iamVjdChjLmxvZ0Vycm9yKSgiT3V0c3RyZWFtIGJpZCB3aXRob3V0IHJlbmRlcmVyIGNhbm5vdCBiZSBzZW50IHRvIFByZWJpZCBTZXJ2ZXIuIikpLGwpdHJ5e3kubmF0aXZlPXtyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHtjb250ZXh0OjEscGxjbXR0eXBlOjEsZXZlbnR0cmFja2Vyczpbe2V2ZW50OjEsbWV0aG9kczpbMV19XSxhc3NldHM6bH0pLHZlcjoiMS4yIn19Y2F0Y2goZSl7T2JqZWN0KGMubG9nRXJyb3IpKCJlcnJvciBjcmVhdGluZyBuYXRpdmUgcmVxdWVzdDogIitTdHJpbmcoZSkpfXZhciBPPWUuYmlkcy5yZWR1Y2UoKGZ1bmN0aW9uKHIsaSl7dmFyIGM9YS5kZWZhdWx0LmJpZGRlclJlZ2lzdHJ5W2kuYmlkZGVyXTtyZXR1cm4gYyYmYy5nZXRTcGVjKCkudHJhbnNmb3JtQmlkUGFyYW1zJiYoaS5wYXJhbXM9Yy5nZXRTcGVjKCkudHJhbnNmb3JtQmlkUGFyYW1zKGkucGFyYW1zLCEwLGUsdCkpLHJbaS5iaWRkZXJdPW4uYWRhcHRlck9wdGlvbnMmJm4uYWRhcHRlck9wdGlvbnNbaS5iaWRkZXJdP0Uoe30saS5wYXJhbXMsbi5hZGFwdGVyT3B0aW9uc1tpLmJpZGRlcl0pOmkucGFyYW1zLHJ9KSxDKHt9LE9iamVjdChjLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dCIpKSksaD17aWQ6cixleHQ6TyxzZWN1cmU6bi5zZWN1cmV9LFM9Qyh7fSxPYmplY3QoYy5kZWVwQWNjZXNzKShlLCJvcnRiMkltcC5leHQuZGF0YSIpKTtPYmplY3Qua2V5cyhTKS5mb3JFYWNoKChmdW5jdGlvbihlKXsicGJhZHNsb3QiPT09ZT8ic3RyaW5nIj09dHlwZW9mIFNbZV0mJlNbZV0/T2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQuZGF0YS5wYmFkc2xvdCIsU1tlXSk6ZGVsZXRlIGguZXh0LmRhdGEucGJhZHNsb3Q6ImFkc2VydmVyIj09PWU/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KGMuZGVlcEFjY2VzcykoUywiYWRzZXJ2ZXIuIi5jb25jYXQoZSkpOyJzdHJpbmciPT10eXBlb2YgdCYmdCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShoLCJleHQuZGF0YS5hZHNlcnZlci4iLmNvbmNhdChlLnRvTG93ZXJDYXNlKCkpLHQpfSkpOk9iamVjdChjLmRlZXBTZXRWYWx1ZSkoaCwiZXh0LmRhdGEuIi5jb25jYXQoZSksU1tlXSl9KSksRShoLHkpO3ZhciBBPWooKShwLmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmNvZGUmJnQuc3RvcmVkQXVjdGlvblJlc3BvbnNlfSkpO0EmJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkoaCwiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLEEuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpO3ZhciB3PWooKShwLmJpZHMsKGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmNvZGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yfSkpO2lmKHcpe3ZhciBQO3RyeXtQPXcuZ2V0Rmxvb3Ioe2N1cnJlbmN5OmQuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKXx8IlVTRCJ9KX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoIlBCUzogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9UCYmUC5jdXJyZW5jeSYmIWlzTmFOKHBhcnNlRmxvYXQoUC5mbG9vcikpJiYoaC5iaWRmbG9vcj1wYXJzZUZsb2F0KFAuZmxvb3IpLGguYmlkZmxvb3JjdXI9UC5jdXJyZW5jeSl9KGguYmFubmVyfHxoLnZpZGVvfHxoLm5hdGl2ZSkmJnMucHVzaChoKX0pKSxzLmxlbmd0aCl7dmFyIGw9e2lkOmUudGlkLHNvdXJjZTp7dGlkOmUudGlkfSx0bWF4Om4udGltZW91dCxpbXA6cyx0ZXN0Om4udGVzdHx8MCxleHQ6e3ByZWJpZDp7YXVjdGlvbnRpbWVzdGFtcDpwLmF1Y3Rpb25TdGFydCx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExfX19fTtsLmV4dC5wcmViaWQ9RShsLmV4dC5wcmViaWQse2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn19KSxfKCJkZWJ1ZyIpJiYobC5leHQucHJlYmlkPUUobC5leHQucHJlYmlkLHtkZWJ1ZzohMH0pKSxuLmV4dFByZWJpZCYmIm9iamVjdCI9PT13KG4uZXh0UHJlYmlkKSYmKGwuZXh0LnByZWJpZD1FKGwuZXh0LnByZWJpZCxuLmV4dFByZWJpZCkpO3ZhciBmPWQuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtmJiYic3RyaW5nIj09dHlwZW9mIGY/bC5jdXI9W2ZdOkFycmF5LmlzQXJyYXkoZikmJmYubGVuZ3RoJiYobC5jdXI9W2ZbMF1dKSxmdW5jdGlvbihlLHQscil7ZSYmKCJvYmplY3QiPT09dyhkLmIuZ2V0Q29uZmlnKCJhcHAiKSk/KGUuYXBwPWQuYi5nZXRDb25maWcoImFwcCIpLGUuYXBwLnB1Ymxpc2hlcj17aWQ6cn0pOihlLnNpdGU9e30sT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoZC5iLmdldENvbmZpZygic2l0ZSIpKSYmKGUuc2l0ZT1kLmIuZ2V0Q29uZmlnKCJzaXRlIikpLE9iamVjdChjLmRlZXBBY2Nlc3MpKGUuc2l0ZSwicHVibGlzaGVyLmlkIil8fE9iamVjdChjLmRlZXBTZXRWYWx1ZSkoZS5zaXRlLCJwdWJsaXNoZXIuaWQiLHIpLGUuc2l0ZS5wYWdlfHwoZS5zaXRlLnBhZ2U9dCkpLCJvYmplY3QiPT09dyhkLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihlLmRldmljZT1kLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSksZS5kZXZpY2V8fChlLmRldmljZT17fSksZS5kZXZpY2Uud3x8KGUuZGV2aWNlLnc9d2luZG93LmlubmVyV2lkdGgpLGUuZGV2aWNlLmh8fChlLmRldmljZS5oPXdpbmRvdy5pbm5lckhlaWdodCkpfShsLHRbMF0ucmVmZXJlckluZm8ucmVmZXJlcixuLmFjY291bnRJZCk7dmFyIHY9T2JqZWN0KGMuZGVlcEFjY2VzcykodCwiMC5iaWRzLjAuc2NoYWluIik7diYmKGwuc291cmNlLmV4dD17c2NoYWluOnZ9KSxPYmplY3QoYy5pc0VtcHR5KShvKXx8KGwuZXh0LnByZWJpZC5hbGlhc2VzPUMoQyh7fSxsLmV4dC5wcmViaWQuYWxpYXNlcyksbykpO3ZhciB5PU9iamVjdChjLmRlZXBBY2Nlc3MpKHQsIjAuYmlkcy4wLnVzZXJJZEFzRWlkcyIpO09iamVjdChjLmlzQXJyYXkpKHkpJiZ5Lmxlbmd0aD4wJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInVzZXIuZXh0LmVpZHMiLHkpLE9iamVjdChjLmlzQXJyYXkpKGspJiZrLmxlbmd0aD4wJiYoaSYmT2JqZWN0KGMuaXNBcnJheSkoaSkmJmsuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWRkZXJzJiYoZS5iaWRkZXJzPWUuYmlkZGVycy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBnKCkoaSxlKX0pKSl9KSksT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJleHQucHJlYmlkLmRhdGEuZWlkcGVybWlzc2lvbnMiLGspKTt2YXIgbT1kLmIuZ2V0Q29uZmlnKCJtdWx0aWJpZCIpO2lmKG0mJk9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwiZXh0LnByZWJpZC5tdWx0aWJpZCIsbS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZS50b0xvd2VyQ2FzZSgpXT10W2VdfSkpLGUucHVzaChyKSxlfSksW10pKSx0KXt2YXIgTztpZihwLmdkcHJDb25zZW50KSJib29sZWFuIj09dHlwZW9mIHAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihPPXAuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowKSxPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInJlZ3MuZXh0LmdkcHIiLE8pLE9iamVjdChjLmRlZXBTZXRWYWx1ZSkobCwidXNlci5leHQuY29uc2VudCIscC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmInN0cmluZyI9PXR5cGVvZiBwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShsLCJ1c2VyLmV4dC5Db25zZW50ZWRQcm92aWRlcnNTZXR0aW5ncy5jb25zZW50ZWRfcHJvdmlkZXJzIixwLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCk7cC51c3BDb25zZW50JiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHAudXNwQ29uc2VudCl9ITA9PT1fKCJjb3BwYSIpJiZPYmplY3QoYy5kZWVwU2V0VmFsdWUpKGwsInJlZ3MuY29wcGEiLDEpO3ZhciBoPV8oIm9ydGIyIil8fHt9O3JldHVybiBPYmplY3QoYy5tZXJnZURlZXApKGwsaCksZnVuY3Rpb24oZSl7dmFyIHQ9ZC5iLmdldEJpZGRlckNvbmZpZygpLHI9T2JqZWN0LmtleXModCkucmVkdWNlKChmdW5jdGlvbihlLHIpe3ZhciBuPXRbcl07aWYobi5vcnRiMil7dmFyIGk9T2JqZWN0KGMubWVyZ2VEZWVwKSh7fSxuLm9ydGIyKTtlLnB1c2goe2JpZGRlcnM6W3JdLGNvbmZpZzp7b3J0YjI6aX19KX1yZXR1cm4gZX0pLFtdKTtyLmxlbmd0aCYmT2JqZWN0KGMuZGVlcFNldFZhbHVlKShlLCJleHQucHJlYmlkLmJpZGRlcmNvbmZpZyIscil9KGwpLGx9T2JqZWN0KGMubG9nRXJyb3IpKCJSZXF1ZXN0IHRvIFByZWJpZCBTZXJ2ZXIgcmVqZWN0ZWQgZHVlIHRvIGludmFsaWQgbWVkaWEgdHlwZShzKSBpbiBhZFVuaXQuIil9LEg9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVtdLHM9T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcyIpLGE9dC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpO3JldHVybiBhJiZzJiZPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgcj1PYmplY3QoYy5kZWVwQ2xvbmUpKGEpO3IuaXNEeW5hbWljPSEwLHIuYmlkZGVyQ29kZT1lLHIuYmlkZGVyUmVxdWVzdElkPU9iamVjdChjLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksci5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKHQpe3QuYmlkZGVyPWUsdC5iaWRkZXJSZXF1ZXN0SWQ9ci5iaWRkZXJSZXF1ZXN0SWQsdC5iaWRfaWQ9T2JqZWN0KGMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cikoKSx0LmJpZElkPXQuYmlkX2lkLFdbIiIuY29uY2F0KHQuYWRVbml0Q29kZSkuY29uY2F0KGUpXT10LmJpZF9pZH0pKSx0LnB1c2gocil9KSksW1siZXJyb3JzIiwic2VydmVyRXJyb3JzIl0sWyJyZXNwb25zZXRpbWVtaWxsaXMiLCJzZXJ2ZXJSZXNwb25zZVRpbWVNcyJdXS5mb3JFYWNoKChmdW5jdGlvbihyKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbil7dmFyIGk9T2JqZWN0KGMuZGVlcEFjY2VzcykodCwiZXh0LiIuY29uY2F0KHIpKTtpJiZPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChmdW5jdGlvbih0KXt2YXIgcj1qKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZT09PXR9KSk7ciYmKHJbbl09aVt0XSl9KSl9KHQsZSxyWzBdLHJbMV0pfSkpLGUuc2VhdGJpZCYmZS5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKHMpeyhzLmJpZHx8W10pLmZvckVhY2goKGZ1bmN0aW9uKGEpe3ZhciBkLGI9IiIuY29uY2F0KGEuaW1waWQpLmNvbmNhdChzLnNlYXQpO1dbYl0mJihkPU9iamVjdChjLmdldEJpZFJlcXVlc3QpKFdbYl0sdCkpO3ZhciB1PWEucHJpY2UsbD0wIT09dT9vLmEuU1RBVFVTLkdPT0Q6by5hLlNUQVRVUy5OT19CSUQsZj1PYmplY3QoaS5hKShsLGR8fHtiaWRkZXI6cy5zZWF0LHNyYzpJfSk7Zi5jcG09dTt2YXIgdj1PYmplY3QoYy5kZWVwQWNjZXNzKShlLFsiZXh0IiwicmVzcG9uc2V0aW1lbWlsbGlzIixzLnNlYXRdLmpvaW4oIi4iKSk7ZCYmdiYmKGQuc2VydmVyUmVzcG9uc2VUaW1lTXM9dik7dmFyIGcseSxtLE89T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5iaWRpZCIpO09iamVjdChjLmlzU3RyKShPKSYmKGYucGJzQmlkSWQ9TyksT2JqZWN0KGMuaXNTdHIpKE9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQuZXZlbnRzLndpbiIpKSYmKGc9ZC5hdWN0aW9uSWQseT1mLmFkSWQsbT1PYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLmV2ZW50cy53aW4iKSxbZyx5XS5ldmVyeShjLmlzU3RyKSYmKFhbIiIuY29uY2F0KGcpLmNvbmNhdCh5KV09bSkpO3ZhciBqPU9iamVjdChjLmRlZXBBY2Nlc3MpKGEsImV4dC5wcmViaWQudGFyZ2V0aW5nIik7aWYoT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoaikmJihPYmplY3QoYy5pc1N0cikoT2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5ldmVudHMud2luIikpJiYoaj1PYmplY3QoYy5nZXREZWZpbmVkUGFyYW1zKShqLE9iamVjdC5rZXlzKGopLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuLTE9PT1lLmluZGV4T2YoImhiX3dpbnVybCIpJiYtMT09PWUuaW5kZXhPZigiaGJfYmlkaWQiKX0pKSkpLGYuYWRzZXJ2ZXJUYXJnZXRpbmc9aiksZi5zZWF0QmlkSWQ9YS5pZCxPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLnR5cGUiKT09PXAuZCl7Zi5tZWRpYVR5cGU9cC5kO3ZhciBoPWQuc2l6ZXMmJmQuc2l6ZXNbMF07Zi5wbGF5ZXJXaWR0aD1oWzBdLGYucGxheWVySGVpZ2h0PWhbMV0sYS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PXcoYS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZhLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZhLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KGYudmlkZW9DYWNoZUtleT1hLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLGYudmFzdFVybD1hLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOmomJmouaGJfdXVpZCYmai5oYl9jYWNoZV9ob3N0JiZqLmhiX2NhY2hlX3BhdGgmJihmLnZpZGVvQ2FjaGVLZXk9ai5oYl91dWlkLGYudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdChqLmhiX2NhY2hlX2hvc3QpLmNvbmNhdChqLmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdChqLmhiX3V1aWQpKSxhLmFkbSYmKGYudmFzdFhtbD1hLmFkbSksIWYudmFzdFVybCYmYS5udXJsJiYoZi52YXN0VXJsPWEubnVybCl9ZWxzZSBpZihPYmplY3QoYy5kZWVwQWNjZXNzKShhLCJleHQucHJlYmlkLnR5cGUiKT09PXAuYyl7dmFyIEMseDtmLm1lZGlhVHlwZT1wLmMseD0ic3RyaW5nIj09dHlwZW9mIGEuYWRtP2YuYWRtPUpTT04ucGFyc2UoYS5hZG0pOmYuYWRtPWEuYWRtO3ZhciBBPShTKEM9e30sTS5pbWcseC5pbXB0cmFja2Vyc3x8W10pLFMoQyxNLmpzLHguanN0cmFja2VyP1t4LmpzdHJhY2tlcl06W10pLEMpO2lmKHguZXZlbnR0cmFja2VycyYmeC5ldmVudHRyYWNrZXJzLmZvckVhY2goKGZ1bmN0aW9uKGUpe3N3aXRjaChlLm1ldGhvZCl7Y2FzZSBNLmltZzpBW00uaW1nXS5wdXNoKGUudXJsKTticmVhaztjYXNlIE0uanM6QVtNLmpzXS5wdXNoKGUudXJsKX19KSksT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoeCkmJkFycmF5LmlzQXJyYXkoeC5hc3NldHMpKXt2YXIgRT1KW2EuaW1waWRdO2YubmF0aXZlPU9iamVjdChjLmNsZWFuT2JqKSh4LmFzc2V0cy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9RVt0LmlkXTtyZXR1cm4gT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkodC5pbWcpP2Vbci5pbWcudHlwZT96W3IuaW1nLnR5cGVdOiJpbWFnZSJdPU9iamVjdChjLnBpY2spKHQuaW1nLFsidXJsIiwidyBhcyB3aWR0aCIsImggYXMgaGVpZ2h0Il0pOk9iamVjdChjLmlzUGxhaW5PYmplY3QpKHQudGl0bGUpP2UudGl0bGU9dC50aXRsZS50ZXh0Ok9iamVjdChjLmlzUGxhaW5PYmplY3QpKHQuZGF0YSkmJk4uZm9yRWFjaCgoZnVuY3Rpb24obil7VltuXT09PXIuZGF0YS50eXBlJiYoZVtuXT10LmRhdGEudmFsdWUpfSkpLGV9KSxPYmplY3QoYy5jbGVhbk9iaikoe2NsaWNrVXJsOngubGluayxjbGlja1RyYWNrZXJzOk9iamVjdChjLmRlZXBBY2Nlc3MpKHgsImxpbmsuY2xpY2t0cmFja2VycyIpLGltcHJlc3Npb25UcmFja2VyczpBW00uaW1nXSxqYXZhc2NyaXB0VHJhY2tlcnM6QVtNLmpzXX0pKSl9ZWxzZSBPYmplY3QoYy5sb2dFcnJvcikoInByZWJpZCBzZXJ2ZXIgbmF0aXZlIHJlc3BvbnNlIGNvbnRhaW5lZCBubyBhc3NldHMiKX1lbHNlIGEuYWRtJiZhLm51cmw/KGYuYWQ9YS5hZG0sZi5hZCs9T2JqZWN0KGMuY3JlYXRlVHJhY2tQaXhlbEh0bWwpKGRlY29kZVVSSUNvbXBvbmVudChhLm51cmwpKSk6YS5hZG0/Zi5hZD1hLmFkbTphLm51cmwmJihmLmFkVXJsPWEubnVybCk7Zi53aWR0aD1hLncsZi5oZWlnaHQ9YS5oLGEuZGVhbGlkJiYoZi5kZWFsSWQ9YS5kZWFsaWQpLGYucmVxdWVzdElkPWQuYmlkSWR8fGQuYmlkX0lkLGYuY3JlYXRpdmVfaWQ9YS5jcmlkLGYuY3JlYXRpdmVJZD1hLmNyaWQsYS5idXJsJiYoZi5idXJsPWEuYnVybCksZi5jdXJyZW5jeT1lLmN1cj9lLmN1cjoiVVNEIixmLm1ldGE9e307dmFyIFA9T2JqZWN0KGMuZGVlcEFjY2VzcykoYSwiZXh0LnByZWJpZC5tZXRhIik7UCYmT2JqZWN0KGMuaXNQbGFpbk9iamVjdCkoUCkmJihmLm1ldGE9T2JqZWN0KGMuZGVlcENsb25lKShQKSksYS5hZG9tYWluJiYoZi5tZXRhLmFkdmVydGlzZXJEb21haW5zPWEuYWRvbWFpbik7dmFyIGs9ci5kZWZhdWx0VHRsfHw2MDtmLnR0bD1hLmV4cD9hLmV4cDprLGYubmV0UmV2ZW51ZT0hYS5uZXRSZXZlbnVlfHxhLm5ldFJldmVudWUsbi5wdXNoKHthZFVuaXQ6ZC5hZFVuaXRDb2RlLGJpZDpmfSl9KSl9KSksbn07ZnVuY3Rpb24gTChlKXt2YXIgdCxyLG49ZnVuY3Rpb24oZSx0KXtpZihbZSx0XS5ldmVyeShjLmlzU3RyKSlyZXR1cm4gWFsiIi5jb25jYXQoZSkuY29uY2F0KHQpXX0oZS5hdWN0aW9uSWQsZS5hZElkKTtPYmplY3QoYy5pc1N0cikobikmJihPYmplY3QoYy5sb2dNZXNzYWdlKSgnSW52b2tpbmcgaW1hZ2UgcGl4ZWwgZm9yIHd1cmwgb24gQklEX1dJTjogIicuY29uY2F0KG4sJyInKSksT2JqZWN0KGMudHJpZ2dlclBpeGVsKShuKSx0PWUuYXVjdGlvbklkLHI9ZS5hZElkLFt0LHJdLmV2ZXJ5KGMuaXNTdHIpJiYoWFsiIi5jb25jYXQodCkuY29uY2F0KHIpXT12b2lkIDApKX1mdW5jdGlvbiBLKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciB0PSEwO3JldHVybiBlJiZlLmdkcHJBcHBsaWVzJiYyPT09ZS5hcGlWZXJzaW9uJiYodD0hKCEwIT09T2JqZWN0KGMuZGVlcEFjY2VzcykoZSwidmVuZG9yRGF0YS5wdXJwb3NlLmNvbnNlbnRzLjEiKSkpLHR9KHQpP2UucDFDb25zZW50OmUubm9QMUNvbnNlbnR9ZnVuY3Rpb24gRyhlKXt2YXIgdCxyO3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aD4wJiYodD1lWzBdLmdkcHJDb25zZW50LHI9ZVswXS51c3BDb25zZW50KSx7Z2RwckNvbnNlbnQ6dCx1c3BDb25zZW50OnJ9fWZ1bmN0aW9uICQoKXt2YXIgZT1uZXcgbi5hKCJwcmViaWRTZXJ2ZXIiKTtyZXR1cm4gZS5jYWxsQmlkcz1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBzPU9iamVjdChjLmRlZXBDbG9uZSkoZS5hZF91bml0cykscD1HKHQpLGI9cC5nZHByQ29uc2VudCxsPXAudXNwQ29uc2VudCx2PXMuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5tZWRpYVR5cGVzJiYoZS5tZWRpYVR5cGVzLm5hdGl2ZXx8ZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSl9KSkseT12Lm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pKS5maWx0ZXIoYy51bmlxdWVzKX0pKS5yZWR1Y2UoYy5mbGF0dGVuKS5maWx0ZXIoYy51bmlxdWVzKTtpZihBcnJheS5pc0FycmF5KFApKXtpZighdC5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpJiZlLnMyc0NvbmZpZyYmZS5zMnNDb25maWcuc3luY0VuZHBvaW50JiZLKGUuczJzQ29uZmlnLnN5bmNFbmRwb2ludCxiKSlSKGUuczJzQ29uZmlnLmJpZGRlcnMubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gYS5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbZV18fGV9KSkuZmlsdGVyKChmdW5jdGlvbihlLHQscil7cmV0dXJuIHIuaW5kZXhPZihlKT09PXR9KSksYixsLGUuczJzQ29uZmlnKTt2YXIgbT1GKGUsdCx2LGUuczJzQ29uZmlnLHkpLE89bSYmSlNPTi5zdHJpbmdpZnkobSk7T2JqZWN0KGMubG9nSW5mbykoIkJpZFJlcXVlc3Q6ICIrTyk7dmFyIGo9SyhlLnMyc0NvbmZpZy5lbmRwb2ludCxiKTttJiZPJiZqP2koaix7c3VjY2VzczpmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24oZSx0LHIsbixpLHMpe3ZhciBwLGI9W10sbD1HKHIpLHY9bC5nZHByQ29uc2VudCx5PWwudXNwQ29uc2VudDt0cnl7aWYocD1KU09OLnBhcnNlKGUpLGI9SChwLHIscyksdD10LmNvbmNhdChyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyQ29kZX0pKSkuZmlsdGVyKGMudW5pcXVlcyksci5maW5kKChmdW5jdGlvbihlKXtyZXR1cm4iczJzQmlkZGVyUGxhY2Vob2xkZXIiPT09ZS5iaWRkZXJDb2RlfSkpKWlmKHMmJnMuc3luY0VuZHBvaW50JiZLKHMuc3luY0VuZHBvaW50LHYpKVIoci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBhLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVtlLmJpZGRlckNvZGVdfHxlLmJpZGRlckNvZGV9KSkuZmlsdGVyKChmdW5jdGlvbihlLHQscil7cmV0dXJuIHIuaW5kZXhPZihlKT09PXR9KSksdix5LHMpO3IuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pc0R5bmFtaWN9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7bihudWxsLHtiaWRkZXJDb2RlOmUuYmlkZGVyQ29kZSxhZGRSZXF1ZXN0T25seTohMH0pfSkpLGIuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXQsaT1lLmJpZDtPYmplY3QodS5pc1ZhbGlkKSh0LGkscikmJm4odCxpKX0pKSxyLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInMyc0JpZGRlclBsYWNlaG9sZGVyIiE9PWUuYmlkZGVyQ29kZX0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gZi5hLmVtaXQoby5hLkVWRU5UUy5CSURERVJfRE9ORSxlKX0pKX1jYXRjaChlKXtPYmplY3QoYy5sb2dFcnJvcikoZSl9KCFwfHxwLnN0YXR1cyYmZygpKHAuc3RhdHVzLCJFcnJvciIpKSYmT2JqZWN0KGMubG9nRXJyb3IpKCJlcnJvciBwYXJzaW5nIHJlc3BvbnNlOiAiLHAuc3RhdHVzKTtpKCksZnVuY3Rpb24oZSx0LHIpe2UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG49YS5kZWZhdWx0LmdldEJpZEFkYXB0ZXIoZSk7biYmbi5yZWdpc3RlclN5bmNzJiZkLmIucnVuV2l0aEJpZGRlcihlLGMuYmluZC5jYWxsKG4ucmVnaXN0ZXJTeW5jcyxuLFtdLHQscikpfSkpfSh0LHYseSl9KGkseSx0LHIsbixlLnMyc0NvbmZpZyl9LGVycm9yOm59LE8se2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9KTpPYmplY3QoYy5sb2dFcnJvcikoIlBCUyByZXF1ZXN0IG5vdCBtYWRlLiAgQ2hlY2sgZW5kcG9pbnRzLiIpfX0sZi5hLm9uKG8uYS5FVkVOVFMuQklEX1dPTixMKSxFKHRoaXMse2NhbGxCaWRzOmUuY2FsbEJpZHMsc2V0QmlkZGVyQ29kZTplLnNldEJpZGRlckNvZGUsdHlwZTpJfSl9T2JqZWN0KGMuZ2V0UHJlYmlkSW50ZXJuYWwpKCkuc2V0RWlkUGVybWlzc2lvbnM9ZnVuY3Rpb24oZSl7az1lfSxhLmRlZmF1bHQucmVnaXN0ZXJCaWRBZGFwdGVyKG5ldyAkLCJwcmViaWRTZXJ2ZXIiKX0sNjk3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5kKHQsImEiLChmdW5jdGlvbigpe3JldHVybiBufSkpO3ZhciBuPXthcHBuZXh1czp7YWRhcHRlcjoicHJlYmlkU2VydmVyIixlbmFibGVkOiEwLGVuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLXNpbXBsZS5jb20vcGJzL3YxL29wZW5ydGIyL2F1Y3Rpb24ifSxzeW5jRW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQuYWRueHMuY29tL3Bicy92MS9jb29raWVfc3luYyIsbm9QMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLXNpbXBsZS5jb20vcGJzL3YxL2Nvb2tpZV9zeW5jIn0sdGltZW91dDoxZTN9LGFwcG5leHVzcHNwOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9pYi5hZG54cy5jb20vb3BlbnJ0YjIvcHJlYmlkIixub1AxQ29uc2VudDoiaHR0cHM6Ly9pYi5hZG54cy1zaW1wbGUuY29tL29wZW5ydGIyL3ByZWJpZCJ9LHRpbWVvdXQ6MWUzfSxydWJpY29uOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQtc2VydmVyLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vcHJlYmlkLXNlcnZlci5ydWJpY29ucHJvamVjdC5jb20vY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC1zZXJ2ZXIucnViaWNvbnByb2plY3QuY29tL2Nvb2tpZV9zeW5jIn0sdGltZW91dDo1MDB9LG9wZW54OnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9wcmViaWQub3BlbngubmV0L29wZW5ydGIyL2F1Y3Rpb24iLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvb3BlbnJ0YjIvYXVjdGlvbiJ9LHN5bmNFbmRwb2ludDp7cDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL3ByZWJpZC5vcGVueC5uZXQvY29va2llX3N5bmMifSx0aW1lb3V0OjFlM30sc25pZ2VsOnthZGFwdGVyOiJwcmViaWRTZXJ2ZXIiLGVuYWJsZWQ6ITAsZW5kcG9pbnQ6e3AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9vcGVucnRiMi9hdWN0aW9uIixub1AxQ29uc2VudDoiaHR0cHM6Ly9hZHNlcnYuc25pZ2Vsd2ViLmNvbS9icC92MS9vcGVucnRiMi9hdWN0aW9uIn0sc3luY0VuZHBvaW50OntwMUNvbnNlbnQ6Imh0dHBzOi8vYWRzZXJ2LnNuaWdlbHdlYi5jb20vYnAvdjEvY29va2llX3N5bmMiLG5vUDFDb25zZW50OiJodHRwczovL2Fkc2Vydi5zbmlnZWx3ZWIuY29tL2JwL3YxL2Nvb2tpZV9zeW5jIn0sdGltZW91dDo0MDB9fX19LFs2OTVdKTsKdXBianNDaHVuayhbMTY1XSx7NzAwOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3MDEpfSw3MDE6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsImFsbG93ZWRGaWVsZHMiLChmdW5jdGlvbigpe3JldHVybiBrfSkpLHIuZCh0LCJfZmxvb3JEYXRhRm9yQXVjdGlvbiIsKGZ1bmN0aW9uKCl7cmV0dXJuIEV9KSksci5kKHQsImZpZWxkTWF0Y2hpbmdGdW5jdGlvbnMiLChmdW5jdGlvbigpe3JldHVybiBJfSkpLHQuZ2V0Rmlyc3RNYXRjaGluZ0Zsb29yPU0sdC5nZXRCaWRkZXJzQ3BtQWRqdXN0bWVudD14LHQuY2FsY3VsYXRlQWRqdXN0ZWRGbG9vcj1WLHQuZ2V0Rmxvb3I9Vyx0LmdldEZsb29yc0RhdGFGb3JBdWN0aW9uPUcsdC5nZXRGbG9vckRhdGFGcm9tQWRVbml0cz1OLHQudXBkYXRlQWRVbml0c0ZvckF1Y3Rpb249Xyx0LnBpY2tSYW5kb21Nb2RlbD1ILHQuY3JlYXRlRmxvb3JzRGF0YUZvckF1Y3Rpb249Six0LmNvbnRpbnVlQXVjdGlvbj1MLHQuaXNGbG9vcnNEYXRhVmFsaWQ9USx0LnBhcnNlRmxvb3JEYXRhPVgsdC5yZXF1ZXN0Qmlkc0hvb2s9Wix0LmhhbmRsZUZldGNoUmVzcG9uc2U9ZWUsdC5nZW5lcmF0ZUFuZEhhbmRsZUZldGNoPXJlLHQuaGFuZGxlU2V0Rmxvb3JzQ29uZmlnPW9lLHQuYWRkQmlkUmVzcG9uc2VIb29rPW5lO3ZhciBvPXIoMCksbj1yKDE0KSxjPXIoMyksYT1yKDQpLGk9cigxMCksdT1yLm4oaSkscz1yKDUpLGQ9ci5uKHMpLGw9cig5KSxmPXIoNDMpLHA9cigxMSksbT1yLm4ocCksYj1yKDE5KSxoPVsibW9kZWxHcm91cHMiXTtmdW5jdGlvbiBnKGUpe3JldHVybihnPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24geShlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIHIsbyxuPWZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgcixvLG49e30sYz1PYmplY3Qua2V5cyhlKTtmb3Iobz0wO288Yy5sZW5ndGg7bysrKXI9Y1tvXSx0LmluZGV4T2Yocik+PTB8fChuW3JdPWVbcl0pO3JldHVybiBufShlLHQpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7Zm9yKG89MDtvPGMubGVuZ3RoO28rKylyPWNbb10sdC5pbmRleE9mKHIpPj0wfHxPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSxyKSYmKG5bcl09ZVtyXSl9cmV0dXJuIG59ZnVuY3Rpb24gTygpe3JldHVybihPPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG8gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gaihlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBvPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG89by5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbyl9cmV0dXJuIHJ9ZnVuY3Rpb24gdihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9qKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7RihlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6aihPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBGKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgQSxTPSJQcmljZSBGbG9vcnMiLEM9T2JqZWN0KGEuYikoMWU0KSxrPVsiZ3B0U2xvdCIsImFkVW5pdENvZGUiLCJzaXplIiwiZG9tYWluIiwibWVkaWFUeXBlIl0sVD0hMSxEPSExLFI9e30sVT1bXSxFPXt9O2Z1bmN0aW9uIHcoZSx0KXtyZXR1cm4gTWF0aC5jZWlsKChwYXJzZUZsb2F0KGUpKk1hdGgucG93KDEwLHQpKS50b0ZpeGVkKDEpKS9NYXRoLnBvdygxMCx0KX12YXIgST17c2l6ZTpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoby5wYXJzZUdQVFNpbmdsZVNpemVBcnJheSkodC5zaXplKXx8IioifSxtZWRpYVR5cGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5tZWRpYVR5cGV8fCJiYW5uZXIifSxncHRTbG90OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiJnYW0iPT09T2JqZWN0KG8uZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEuYWRzZXJ2ZXIubmFtZSIpJiZlLm9ydGIySW1wLmV4dC5kYXRhLmFkc2VydmVyLmFkc2xvdH0oZSl8fE9iamVjdChvLmdldEdwdFNsb3RJbmZvRm9yQWRVbml0Q29kZSkoZS5hZFVuaXRDb2RlKS5ncHRTbG90fSxkb21haW46ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQXx8KHI9T2JqZWN0KGIuYSkoKS5yZWZlcmVyLEE9T2JqZWN0KG8ucGFyc2VVcmwpKHIse25vRGVjb2RlV2hvbGVVUkw6ITB9KS5ob3N0bmFtZSk7dmFyIHJ9LGFkVW5pdENvZGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5hZFVuaXRDb2RlfX07ZnVuY3Rpb24gUChlLHQscil7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLG8pe3ZhciBuPUlbb10odCxyKXx8IioiO3JldHVybiBlLnB1c2goIioiPT09bj9bIioiXTpbbi50b0xvd2VyQ2FzZSgpLCIqIl0pLGV9KSxbXSl9ZnVuY3Rpb24gTShlLHQpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPVAoT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwic2NoZW1hLmZpZWxkcyIpfHxbXSx0LHIpO2lmKCFuLmxlbmd0aClyZXR1cm57bWF0Y2hpbmdGbG9vcjplLmRlZmF1bHR9O3ZhciBjPW4ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZVswXX0pKS5qb2luKCItIiksYT1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtYXRjaGluZ0lucHV0cy4iLmNvbmNhdChjKSk7aWYoYSlyZXR1cm4gdih7fSxhKTt2YXIgaT1CKG4sT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwic2NoZW1hLmRlbGltaXRlciIpfHwifCIpLHU9bSgpKGksKGZ1bmN0aW9uKHQpe3JldHVybiBlLnZhbHVlcy5oYXNPd25Qcm9wZXJ0eSh0KX0pKSxzPXtmbG9vck1pbjplLmZsb29yTWlufHwwLGZsb29yUnVsZVZhbHVlOmUudmFsdWVzW3VdfHxlLmRlZmF1bHQsbWF0Y2hpbmdEYXRhOmlbMF0sbWF0Y2hpbmdSdWxlOnV9O3JldHVybiBzLm1hdGNoaW5nRmxvb3I9TWF0aC5tYXgocy5mbG9vck1pbixzLmZsb29yUnVsZVZhbHVlKSxPYmplY3Qoby5kZWVwU2V0VmFsdWUpKGUsIm1hdGNoaW5nSW5wdXRzLiIuY29uY2F0KGMpLHYoe30scykpLHN9ZnVuY3Rpb24gQihlLHQpe3JldHVybiBlLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgbz1bXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3IubWFwKChmdW5jdGlvbihyKXtvLnB1c2goZSt0K3IpfSkpfSkpLG99KSkuc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5zcGxpdCgiKiIpLmxlbmd0aC10LnNwbGl0KCIqIikubGVuZ3RofSkpfWZ1bmN0aW9uIHgoZSx0KXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sYz1PYmplY3Qoby5kZWVwQWNjZXNzKShPYmplY3Qobi5hKSgpLCJiaWRkZXJTZXR0aW5ncy4iLmNvbmNhdChlLCIuYmlkQ3BtQWRqdXN0bWVudCIpKXx8T2JqZWN0KG8uZGVlcEFjY2VzcykoT2JqZWN0KG4uYSkoKSwiYmlkZGVyU2V0dGluZ3Muc3RhbmRhcmQuYmlkQ3BtQWRqdXN0bWVudCIpO3JldHVybiBjJiZwYXJzZUZsb2F0KGModCx2KHYoe30scikse30se2NwbTp0fSkpKXx8cGFyc2VGbG9hdCh0KX1mdW5jdGlvbiBWKGUsdCl7dmFyIHI9TWF0aC5wb3coMTAsMTApO3JldHVybiBlKnIvKHQqcikqKGUqcikvcn12YXIgcT17YmFubmVyOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHxbXX0sdmlkZW86ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChvLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpfHxbXX0sbmF0aXZlOmZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyIpP1tPYmplY3Qoby5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLm5hdGl2ZS5pbWFnZS5zaXplcyIpXTpbXX19O2Z1bmN0aW9uIHooZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlLm1lZGlhVHlwZXN8fHt9KTtyZXR1cm4iKiI9PT10Lm1lZGlhVHlwZSYmMT09PXIubGVuZ3RoJiYodC5tZWRpYVR5cGU9clswXSksIioiPT09dC5zaXplJiYtMSE9PXIuaW5kZXhPZih0Lm1lZGlhVHlwZSkmJnFbdC5tZWRpYVR5cGVdJiYxPT09cVt0Lm1lZGlhVHlwZV0oZSkubGVuZ3RoJiYodC5zaXplPXFbdC5tZWRpYVR5cGVdKGUpWzBdKSx0fWZ1bmN0aW9uIFcoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToiKiIsc2l6ZToiKiJ9LHQ9dGhpcyxyPUVbdC5hdWN0aW9uSWRdO2lmKCFyfHxyLnNraXBwZWQpcmV0dXJue307ZT16KHQsZSk7dmFyIGM9TShyLmRhdGEsdih7fSx0KSx7bWVkaWFUeXBlOmUubWVkaWFUeXBlLHNpemU6ZS5zaXplfSksYT1lLmN1cnJlbmN5fHxyLmRhdGEuY3VycmVuY3k7aWYoYy5tYXRjaGluZ0Zsb29yJiZhIT09ci5kYXRhLmN1cnJlbmN5KXRyeXtjLm1hdGNoaW5nRmxvb3I9T2JqZWN0KG4uYSkoKS5jb252ZXJ0Q3VycmVuY3koYy5tYXRjaGluZ0Zsb29yLHIuZGF0YS5jdXJyZW5jeSxhKX1jYXRjaChlKXtPYmplY3Qoby5sb2dXYXJuKSgiIi5jb25jYXQoUywiOiBVbmFibGUgdG8gZ2V0IGN1cnJlbmN5IGNvbnZlcnNpb24gZm9yIGdldEZsb29yIGZvciBiaWRkZXIgIikuY29uY2F0KHQuYmlkZGVyLCIuIFlvdSBtdXN0IGhhdmUgY3VycmVuY3kgbW9kdWxlIGVuYWJsZWQgd2l0aCBkZWZhdWx0UmF0ZXMgaW4geW91ciBjdXJyZW5jeSBjb25maWciKSksYT1yLmRhdGEuY3VycmVuY3l9aWYoci5lbmZvcmNlbWVudC5iaWRBZGp1c3RtZW50JiZjLm1hdGNoaW5nRmxvb3Ipe3ZhciBpPXgodC5iaWRkZXIsYy5tYXRjaGluZ0Zsb29yKTtjLm1hdGNoaW5nRmxvb3I9aT9WKGMubWF0Y2hpbmdGbG9vcixpKTpjLm1hdGNoaW5nRmxvb3J9cmV0dXJuIGMubWF0Y2hpbmdGbG9vcj97Zmxvb3I6dyhjLm1hdGNoaW5nRmxvb3IsNCksY3VycmVuY3k6YX06e319ZnVuY3Rpb24gRyhlLHQpe3ZhciByPU9iamVjdChvLmRlZXBDbG9uZSkoZSk7cmV0dXJuIHIuc2NoZW1hLmRlbGltaXRlcj1lLnNjaGVtYS5kZWxpbWl0ZXJ8fCJ8IixyLnZhbHVlcz1mdW5jdGlvbihlLHQpe3ZhciByPWUuc2NoZW1hLmZpZWxkcyxvPWUuc2NoZW1hLmRlbGltaXRlcixuPXQmJi0xPT09ci5pbmRleE9mKCJhZFVuaXRDb2RlIikmJnIudW5zaGlmdCgiYWRVbml0Q29kZSIpO3JldHVybiBPYmplY3Qua2V5cyhlLnZhbHVlcykucmVkdWNlKChmdW5jdGlvbihyLGMpe3JldHVybiByWyhuPyIiLmNvbmNhdCh0KS5jb25jYXQobykuY29uY2F0KGMpOmMpLnRvTG93ZXJDYXNlKCldPWUudmFsdWVzW2NdLHJ9KSx7fSl9KHIsdCksci5jdXJyZW5jeT1yLmN1cnJlbmN5fHwiVVNEIixyfWZ1bmN0aW9uIE4oZSl7cmV0dXJuIGUucmVkdWNlKChmdW5jdGlvbihlLHQpe2lmKFEodC5mbG9vcnMpKWlmKGUudmFsdWVzKXt2YXIgcj1HKHQuZmxvb3JzLHQuY29kZSkudmFsdWVzO08oZS52YWx1ZXMscil9ZWxzZShlPUcodC5mbG9vcnMsdC5jb2RlKSkubG9jYXRpb249ImFkVW5pdCI7cmV0dXJuIGV9KSx7fSl9ZnVuY3Rpb24gXyhlLHQscil7ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dC5za2lwcGVkP2RlbGV0ZSBlLmdldEZsb29yOmUuZ2V0Rmxvb3I9VyxlLmF1Y3Rpb25JZD1yLGUuZmxvb3JEYXRhPXtza2lwcGVkOnQuc2tpcHBlZCxza2lwUmF0ZTp0LnNraXBSYXRlLGZsb29yTWluOnQuZmxvb3JNaW4sbW9kZWxWZXJzaW9uOk9iamVjdChvLmRlZXBBY2Nlc3MpKHQsImRhdGEubW9kZWxWZXJzaW9uIiksbW9kZWxXZWlnaHQ6T2JqZWN0KG8uZGVlcEFjY2VzcykodCwiZGF0YS5tb2RlbFdlaWdodCIpLG1vZGVsVGltZXN0YW1wOk9iamVjdChvLmRlZXBBY2Nlc3MpKHQsImRhdGEubW9kZWxUaW1lc3RhbXAiKSxsb2NhdGlvbjpPYmplY3Qoby5kZWVwQWNjZXNzKSh0LCJkYXRhLmxvY2F0aW9uIiwibm9EYXRhIiksZmxvb3JQcm92aWRlcjp0LmZsb29yUHJvdmlkZXIsZmV0Y2hTdGF0dXM6Ui5mZXRjaFN0YXR1c319KSl9KSl9ZnVuY3Rpb24gSChlLHQpe2Zvcih2YXIgcj1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqdCsxKSxvPTA7bzxlLmxlbmd0aDtvKyspaWYoKHItPWVbb10ubW9kZWxXZWlnaHQpPD0wKXJldHVybiBlW29dfWZ1bmN0aW9uIEooZSx0KXt2YXIgcj1PYmplY3Qoby5kZWVwQ2xvbmUpKFIpO2lmKDI9PT1PYmplY3Qoby5kZWVwQWNjZXNzKShyLCJkYXRhLmZsb29yc1NjaGVtYVZlcnNpb24iKSl7dmFyIG49ci5kYXRhLGM9bi5tb2RlbEdyb3VwcyxhPXkobixoKTtyLmRhdGE9TyhhLEgoYyxhLm1vZGVsV2VpZ2h0U3VtKSl9dmFyIGk9MD09PU9iamVjdC5rZXlzKE9iamVjdChvLmRlZXBBY2Nlc3MpKHIsImRhdGEudmFsdWVzIil8fHt9KS5sZW5ndGg7aWYoci5kYXRhPWk/TihlKTpHKHIuZGF0YSksMD09PU9iamVjdC5rZXlzKE9iamVjdChvLmRlZXBBY2Nlc3MpKHIsImRhdGEudmFsdWVzIil8fHt9KS5sZW5ndGgpci5za2lwcGVkPSEwO2Vsc2V7dmFyIHU9T2JqZWN0KG8uZ2V0UGFyYW1ldGVyQnlOYW1lKSgicGJqc19za2lwUmF0ZSIpfHxyLnNraXBSYXRlLHM9MTAwKk1hdGgucmFuZG9tKCk8cGFyc2VGbG9hdCh1KTtyLnNraXBwZWQ9c31yZXR1cm4gci5oYXNPd25Qcm9wZXJ0eSgiZmxvb3JNaW4iKSYmKHIuZGF0YS5mbG9vck1pbj1yLmZsb29yTWluKSxfKGUscix0KSxyfWZ1bmN0aW9uIEwoZSl7ZS5oYXNFeGl0ZWR8fChVPVUuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gdC50aW1lciE9PWUudGltZXJ9KSksZS5yZXFCaWRzQ29uZmlnT2JqLmF1Y3Rpb25JZD1lLnJlcUJpZHNDb25maWdPYmouYXVjdGlvbklkfHxPYmplY3Qoby5nZW5lcmF0ZVVVSUQpKCksRVtlLnJlcUJpZHNDb25maWdPYmouYXVjdGlvbklkXT1KKGUucmVxQmlkc0NvbmZpZ09iai5hZFVuaXRzfHxPYmplY3Qobi5hKSgpLmFkVW5pdHMsZS5yZXFCaWRzQ29uZmlnT2JqLmF1Y3Rpb25JZCksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LFtlLnJlcUJpZHNDb25maWdPYmpdKSxlLmhhc0V4aXRlZD0hMCl9ZnVuY3Rpb24gWShlKXtyZXR1cm4gdD1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJzY2hlbWEuZmllbGRzIiksISEoQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MCYmdC5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1rLmluZGV4T2YoZSl9KSl8fChPYmplY3Qoby5sb2dFcnJvcikoIiIuY29uY2F0KFMsIjogRmllbGRzIHJlY2lldmVkIGRvIG5vdCBtYXRjaCBhbGxvd2VkIGZpZWxkcyIpKSwwKSkmJihyPWUsbj1lLnNjaGVtYS5maWVsZHMubGVuZ3RoLGM9ZS5zY2hlbWEuZGVsaW1pdGVyfHwifCIsIm9iamVjdCI9PT1nKHIudmFsdWVzKSYmKHIudmFsdWVzPU9iamVjdC5rZXlzKHIudmFsdWVzKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCxyLG8pe3JldHVybiJzdHJpbmciPT10eXBlb2YgZSYmZS5zcGxpdChvKS5sZW5ndGg9PT1yJiYibnVtYmVyIj09dHlwZW9mIHR9KHQsci52YWx1ZXNbdF0sbixjKSYmKGVbdF09ci52YWx1ZXNbdF0pLGV9KSx7fSksT2JqZWN0LmtleXMoci52YWx1ZXMpLmxlbmd0aD4wKSk7dmFyIHQscixuLGN9dmFyIEs9ezE6ZnVuY3Rpb24oZSl7cmV0dXJuIFkoZSl9LDI6ZnVuY3Rpb24oZSl7cmV0dXJuISghQXJyYXkuaXNBcnJheShlLm1vZGVsR3JvdXBzKXx8MD09PWUubW9kZWxHcm91cHMubGVuZ3RoKSYmKGUubW9kZWxXZWlnaHRTdW09MCxlLm1vZGVsR3JvdXBzLmV2ZXJ5KChmdW5jdGlvbih0KXtyZXR1cm4hKCJudW1iZXIiIT10eXBlb2YgdC5tb2RlbFdlaWdodHx8IVkodCkpJiYoZS5tb2RlbFdlaWdodFN1bSs9dC5tb2RlbFdlaWdodCwhMCl9KSkpfX07ZnVuY3Rpb24gUShlKXtyZXR1cm4ib2JqZWN0Ij09PWcoZSkmJihlLmZsb29yc1NjaGVtYVZlcnNpb249ZS5mbG9vcnNTY2hlbWFWZXJzaW9ufHwxLCJmdW5jdGlvbiIhPXR5cGVvZiBLW2UuZmxvb3JzU2NoZW1hVmVyc2lvbl0/KE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoUywiOiBVbmtub3duIGZsb29yc1NjaGVtYVZlcnNpb246ICIpLGUuZmxvb3JzU2NoZW1hVmVyc2lvbiksITEpOktbZS5mbG9vcnNTY2hlbWFWZXJzaW9uXShlKSl9ZnVuY3Rpb24gWChlLHQpe2lmKGUmJiJvYmplY3QiPT09ZyhlKSYmUShlKSlyZXR1cm4gT2JqZWN0KG8ubG9nSW5mbykoIiIuY29uY2F0KFMsIjogQSAiKS5jb25jYXQodCwiIHNldCB0aGUgYXVjdGlvbiBmbG9vciBkYXRhIHNldCB0byAiKSxlKSx2KHYoe30sZSkse30se2xvY2F0aW9uOnR9KTtPYmplY3Qoby5sb2dFcnJvcikoIiIuY29uY2F0KFMsIjogVGhlIGZsb29ycyBkYXRhIGRpZCBub3QgY29udGFpbiBjb3JyZWN0IHZhbHVlcyIpLGUpfWZ1bmN0aW9uIFooZSx0KXt2YXIgcj17cmVxQmlkc0NvbmZpZ09iajp0LGNvbnRleHQ6dGhpcyxuZXh0Rm46ZSxoYXZlRXhpdGVkOiExLHRpbWVyOm51bGx9O1IuYXVjdGlvbkRlbGF5PjAmJlQ/KHIudGltZXI9c2V0VGltZW91dCgoZnVuY3Rpb24oKXtPYmplY3Qoby5sb2dXYXJuKSgiIi5jb25jYXQoUywiOiBGZXRjaCBhdHRlbXB0IGRpZCBub3QgcmV0dXJuIGluIHRpbWUgZm9yIGF1Y3Rpb24iKSksUi5mZXRjaFN0YXR1cz0idGltZW91dCIsTChyKX0pLFIuYXVjdGlvbkRlbGF5KSxVLnB1c2gocikpOkwocil9ZnVuY3Rpb24gJCgpe1UuZm9yRWFjaCgoZnVuY3Rpb24oZSl7Y2xlYXJUaW1lb3V0KGUudGltZXIpLEwoZSl9KSksVT1bXX1mdW5jdGlvbiBlZShlKXt2YXIgdDtUPSExLFIuZmV0Y2hTdGF0dXM9InN1Y2Nlc3MiO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2gocil7dD1lfXZhciByPVgodCwiZmV0Y2giKTtyJiYoUi5kYXRhPXIsUi5za2lwUmF0ZT1PYmplY3Qoby5pc051bWJlcikoci5za2lwUmF0ZSk/ci5za2lwUmF0ZTpSLnNraXBSYXRlLFIuZmxvb3JQcm92aWRlcj1yLmZsb29yUHJvdmlkZXJ8fFIuZmxvb3JQcm92aWRlciksJCgpfWZ1bmN0aW9uIHRlKGUpe1Q9ITEsUi5mZXRjaFN0YXR1cz0iZXJyb3IiLE9iamVjdChvLmxvZ0Vycm9yKSgiIi5jb25jYXQoUywiOiBGZXRjaCBlcnJvcmVkIHdpdGg6ICIpLGUpLCQoKX1mdW5jdGlvbiByZShlKXtlLnVybCYmIVQ/IkdFVCIhPT0oZS5tZXRob2R8fCJHRVQiKT9PYmplY3Qoby5sb2dFcnJvcikoIiIuY29uY2F0KFMsIjogJ0dFVCcgaXMgdGhlIG9ubHkgcmVxdWVzdCBtZXRob2Qgc3VwcG9ydGVkIGF0IHRoaXMgdGltZSEiKSk6KEMoZS51cmwse3N1Y2Nlc3M6ZWUsZXJyb3I6dGV9LG51bGwse21ldGhvZDoiR0VUIn0pLFQ9ITApOlQmJk9iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChTLCI6IEEgZmV0Y2ggaXMgYWxyZWFkeSBvY2N1cmluZy4gU2tpcHBpbmcuIikpfWZ1bmN0aW9uIG9lKGUpeyhSPU9iamVjdChvLnBpY2spKGUsWyJmbG9vck1pbiIsImVuYWJsZWQiLGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZX0sImF1Y3Rpb25EZWxheSIsZnVuY3Rpb24oZSl7cmV0dXJuIGV8fDB9LCJmbG9vclByb3ZpZGVyIixmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwiZGF0YS5mbG9vclByb3ZpZGVyIix0KX0sImVuZHBvaW50IixmdW5jdGlvbihlKXtyZXR1cm4gZXx8e319LCJza2lwUmF0ZSIsZnVuY3Rpb24oKXtyZXR1cm4gaXNOYU4oT2JqZWN0KG8uZGVlcEFjY2VzcykoZSwiZGF0YS5za2lwUmF0ZSIpKT9lLnNraXBSYXRlfHwwOmUuZGF0YS5za2lwUmF0ZX0sImVuZm9yY2VtZW50IixmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG8ucGljaykoZXx8e30sWyJlbmZvcmNlSlMiLGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZX0sImVuZm9yY2VQQlMiLGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZX0sImZsb29yRGVhbHMiLGZ1bmN0aW9uKGUpe3JldHVybiEwPT09ZX0sImJpZEFkanVzdG1lbnQiLGZ1bmN0aW9uKGUpe3JldHVybiExIT09ZX1dKX0sImFkZGl0aW9uYWxTY2hlbWFGaWVsZHMiLGZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT09ZyhlKSYmT2JqZWN0LmtleXMoZSkubGVuZ3RoPjA/KHQ9ZSx2b2lkIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpey0xPT09ay5pbmRleE9mKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YgdFtlXSYmKGsucHVzaChlKSxJW2VdPXRbZV0pfSkpKTp2b2lkIDA7dmFyIHR9LCJkYXRhIixmdW5jdGlvbihlKXtyZXR1cm4gZSYmWChlLCJzZXRDb25maWciKXx8Ui5kYXRhfV0pKS5lbmFibGVkPyhyZShSLmVuZHBvaW50KSxEfHwodS5hLm9uKGQuYS5FVkVOVFMuQVVDVElPTl9FTkQsKGZ1bmN0aW9uKGUpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7cmV0dXJuIGRlbGV0ZSBFW2UuYXVjdGlvbklkXX0pLDNlMyl9KSksT2JqZWN0KG4uYSkoKS5yZXF1ZXN0Qmlkcy5iZWZvcmUoWiw1MCksT2JqZWN0KGwuYSkoImFkZEJpZFJlc3BvbnNlIikuYmVmb3JlKG5lLE9iamVjdChvLmRlYnVnVHVybmVkT24pKCk/NDo1MCksRD0hMCkpOihPYmplY3Qoby5sb2dJbmZvKSgiIi5jb25jYXQoUywiOiBUdXJuaW5nIG9mZiBtb2R1bGUiKSksUj17fSxFPXt9LE9iamVjdChsLmEpKCJhZGRCaWRSZXNwb25zZSIpLmdldEhvb2tzKHtob29rOm5lfSkucmVtb3ZlKCksT2JqZWN0KG4uYSkoKS5yZXF1ZXN0Qmlkcy5nZXRIb29rcyh7aG9vazpafSkucmVtb3ZlKCksRD0hMSl9ZnVuY3Rpb24gbmUoZSx0LHIpe3ZhciBjPUVbdGhpcy5iaWRkZXJSZXF1ZXN0LmF1Y3Rpb25JZF0sYT1tKCkodGhpcy5iaWRkZXJSZXF1ZXN0LmJpZHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZElkJiZlLmJpZElkPT09ci5yZXF1ZXN0SWR9KSk7aWYoIWN8fCFyfHxjLnNraXBwZWR8fCFhKXJldHVybiBlLmNhbGwodGhpcyx0LHIpO3ZhciBpLHU9TShjLmRhdGEsdih7fSxhKSx2KHYoe30scikse30se3NpemU6W3Iud2lkdGgsci5oZWlnaHRdfSkpO2lmKCF1Lm1hdGNoaW5nRmxvb3IpcmV0dXJuIE9iamVjdChvLmxvZ1dhcm4pKCIiLmNvbmNhdChTLCI6IHVuYWJsZSB0byBkZXRlcm1pbmUgYSBtYXRjaGluZyBwcmljZSBmbG9vciBmb3IgYmlkUmVzcG9uc2UiKSxyKSxlLmNhbGwodGhpcyx0LHIpO3ZhciBzPWMuZGF0YS5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpLGw9ci5jdXJyZW5jeXx8IlVTRCI7aWYocz09PWwudG9VcHBlckNhc2UoKSlpPXIuY3BtO2Vsc2UgaWYoci5vcmlnaW5hbEN1cnJlbmN5JiZzPT09ci5vcmlnaW5hbEN1cnJlbmN5LnRvVXBwZXJDYXNlKCkpaT1yLm9yaWdpbmFsQ3BtO2Vsc2UgdHJ5e2k9T2JqZWN0KG4uYSkoKS5jb252ZXJ0Q3VycmVuY3koci5jcG0sbC50b1VwcGVyQ2FzZSgpLHMpfWNhdGNoKG4pe3JldHVybiBPYmplY3Qoby5sb2dFcnJvcikoIiIuY29uY2F0KFMsIjogVW5hYmxlIGRvIGdldCBjdXJyZW5jeSBjb252ZXJzaW9uIGZvciBiaWRSZXNwb25zZSB0byBGbG9vciBDdXJyZW5jeS4gRG8geW91IGhhdmUgQ3VycmVuY3kgbW9kdWxlIGVuYWJsZWQ/ICIpLmNvbmNhdChyKSksZS5jYWxsKHRoaXMsdCxyKX1pZihpPXgoci5iaWRkZXJDb2RlLGksciksZnVuY3Rpb24oZSx0LHIsbyl7ci5mbG9vckRhdGE9e2Zsb29yVmFsdWU6dC5tYXRjaGluZ0Zsb29yLGZsb29yUnVsZTp0Lm1hdGNoaW5nUnVsZSxmbG9vclJ1bGVWYWx1ZTp0LmZsb29yUnVsZVZhbHVlLGZsb29yQ3VycmVuY3k6ZS5kYXRhLmN1cnJlbmN5LGNwbUFmdGVyQWRqdXN0bWVudHM6byxlbmZvcmNlbWVudHM6dih7fSxlLmVuZm9yY2VtZW50KSxtYXRjaGVkRmllbGRzOnt9fSxlLmRhdGEuc2NoZW1hLmZpZWxkcy5mb3JFYWNoKChmdW5jdGlvbihvLG4pe3ZhciBjPXQubWF0Y2hpbmdEYXRhLnNwbGl0KGUuZGF0YS5zY2hlbWEuZGVsaW1pdGVyKVtuXTtyLmZsb29yRGF0YS5tYXRjaGVkRmllbGRzW29dPWN9KSl9KGMsdSxyLGkpLGZ1bmN0aW9uKGUsdCxyKXt2YXIgbj0hMSE9PU9iamVjdChvLmRlZXBBY2Nlc3MpKGUsImVuZm9yY2VtZW50LmVuZm9yY2VKUyIpLGM9ITA9PT1PYmplY3Qoby5kZWVwQWNjZXNzKShlLCJlbmZvcmNlbWVudC5mbG9vckRlYWxzIil8fCFyLmRlYWxJZCxhPXIuZmxvb3JEYXRhLmNwbUFmdGVyQWRqdXN0bWVudHM8dC5tYXRjaGluZ0Zsb29yO3JldHVybiBuJiZhJiZjfShjLHUscikpe3ZhciBwPU9iamVjdChmLmEpKGQuYS5TVEFUVVMuTk9fQklELGEpO3JldHVybiBPKHAsT2JqZWN0KG8ucGljaykocixbImZsb29yRGF0YSIsIndpZHRoIiwiaGVpZ2h0IiwibWVkaWFUeXBlIiwiY3VycmVuY3kiLCJvcmlnaW5hbENwbSIsIm9yaWdpbmFsQ3VycmVuY3kiLCJnZXRDcG1Jbk5ld0N1cnJlbmN5Il0pKSxwLnN0YXR1cz1kLmEuQklEX1NUQVRVUy5CSURfUkVKRUNURUQscC5jcG09MCxPYmplY3Qoby5sb2dXYXJuKSgiIi5jb25jYXQoUywiOiAiKS5jb25jYXQocC5iaWRkZXJDb2RlLCIncyBCaWQgUmVzcG9uc2UgZm9yICIpLmNvbmNhdCh0LCIgd2FzIHJlamVjdGVkIGR1ZSB0byBmbG9vciBub3QgbWV0IiksciksZS5jYWxsKHRoaXMsdCxwKX1yZXR1cm4gZS5jYWxsKHRoaXMsdCxyKX1jLmIuZ2V0Q29uZmlnKCJmbG9vcnMiLChmdW5jdGlvbihlKXtyZXR1cm4gb2UoZS5mbG9vcnMpfSkpfX0sWzcwMF0pOwp1cGJqc0NodW5rKFsxNjJdLHs3MDY6ZnVuY3Rpb24oZSxkLG4pe2UuZXhwb3J0cz1uKDcwNyl9LDcwNzpmdW5jdGlvbihlLGQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShkLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQoZCwicHViUHJvdmlkZWRJZFN1Ym1vZHVsZSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSk7dmFyIG89big5KSx0PW4oMCksdT17bmFtZToicHViUHJvdmlkZWRJZCIsZGVjb2RlOmZ1bmN0aW9uKGUpe3ZhciBkPWU/e3B1YlByb3ZpZGVkSWQ6ZX06dm9pZCAwO3JldHVybiBPYmplY3QodC5sb2dJbmZvKSgiUHViUHJvdmlkZWRJZDogRGVjb2RlZCB2YWx1ZSAiK0pTT04uc3RyaW5naWZ5KGQpKSxkfSxnZXRJZDpmdW5jdGlvbihlKXt2YXIgZD1lJiZlLnBhcmFtc3x8e30sbj1bXTtyZXR1cm4gT2JqZWN0KHQuaXNBcnJheSkoZC5laWRzKSYmKG49bi5jb25jYXQoZC5laWRzKSksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWlkc0Z1bmN0aW9uJiYobj1uLmNvbmNhdChkLmVpZHNGdW5jdGlvbigpKSkse2lkOm59fX07T2JqZWN0KG8uZSkoInVzZXJJZCIsdSl9fSxbNzA2XSk7CnVwYmpzQ2h1bmsoWzE1OV0sezcxNDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzE1KX0sNzE1OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuY2hlY2tWaWRlb1BsYWNlbWVudD1fLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gWH0pKTt2YXIgYT10KDApLGk9dCgxKSxuPXQoMikscz10KDMpLG89dCgxMyk7ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciB0PWFyZ3VtZW50c1tyXTtmb3IodmFyIGEgaW4gdClPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxhKSYmKGVbYV09dFthXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlLHIpe3ZhciB0PU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7ciYmKGE9YS5maWx0ZXIoKGZ1bmN0aW9uKHIpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUscikuZW51bWVyYWJsZX0pKSksdC5wdXNoLmFwcGx5KHQsYSl9cmV0dXJuIHR9ZnVuY3Rpb24gcChlLHIsdCl7cmV0dXJuIHIgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLHt2YWx1ZTp0LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVtyXT10LGV9ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBsPSJwdWJtYXRpYyIsbT0iUHViTWF0aWM6ICIsYj0iVVNEIixnPXZvaWQgMCxmPSJodHRwczovL3B1Ym1hdGljLmJidm1zLmNvbS9yLyIuY29uY2F0KCIkUkVOREVSRVIiLCIuanMiKSxoPXtrYWRwYWdldXJsOiIiLGdlbmRlcjoiIix5b2I6IiIsbGF0OiIiLGxvbjoiIix3aWlkOiIiLHByb2ZJZDoiIix2ZXJJZDoiIn0seT0ibnVtYmVyIix2PSJzdHJpbmciLE89ImJvb2xlYW4iLEU9ImFycmF5IixJPXttaW1lczpFLG1pbmR1cmF0aW9uOnksbWF4ZHVyYXRpb246eSxzdGFydGRlbGF5OnkscGxheWJhY2ttZXRob2Q6RSxhcGk6RSxwcm90b2NvbHM6RSx3OnksaDp5LGJhdHRyOkUsbGluZWFyaXR5OnkscGxhY2VtZW50OnksbWluYml0cmF0ZTp5LG1heGJpdHJhdGU6eSxza2lwOnl9LHc9e1RJVExFOntJRDoxLEtFWToidGl0bGUiLFRZUEU6MH0sSU1BR0U6e0lEOjIsS0VZOiJpbWFnZSIsVFlQRTowfSxJQ09OOntJRDozLEtFWToiaWNvbiIsVFlQRTowfSxTUE9OU09SRURCWTp7SUQ6NCxLRVk6InNwb25zb3JlZEJ5IixUWVBFOjF9LEJPRFk6e0lEOjUsS0VZOiJib2R5IixUWVBFOjJ9LENMSUNLVVJMOntJRDo2LEtFWToiY2xpY2tVcmwiLFRZUEU6MH0sVklERU86e0lEOjcsS0VZOiJ2aWRlbyIsVFlQRTowfSxFWFQ6e0lEOjgsS0VZOiJleHQiLFRZUEU6MH0sREFUQTp7SUQ6OSxLRVk6ImRhdGEiLFRZUEU6MH0sTE9HTzp7SUQ6MTAsS0VZOiJsb2dvIixUWVBFOjB9LFNQT05TT1JFRDp7SUQ6MTEsS0VZOiJzcG9uc29yZWQiLFRZUEU6MX0sREVTQzp7SUQ6MTIsS0VZOiJkYXRhIixUWVBFOjJ9LFJBVElORzp7SUQ6MTMsS0VZOiJyYXRpbmciLFRZUEU6M30sTElLRVM6e0lEOjE0LEtFWToibGlrZXMiLFRZUEU6NH0sRE9XTkxPQURTOntJRDoxNSxLRVk6ImRvd25sb2FkcyIsVFlQRTo1fSxQUklDRTp7SUQ6MTYsS0VZOiJwcmljZSIsVFlQRTo2fSxTQUxFUFJJQ0U6e0lEOjE3LEtFWToic2FsZXByaWNlIixUWVBFOjd9LFBIT05FOntJRDoxOCxLRVk6InBob25lIixUWVBFOjh9LEFERFJFU1M6e0lEOjE5LEtFWToiYWRkcmVzcyIsVFlQRTo5fSxERVNDMjp7SUQ6MjAsS0VZOiJkZXNjMiIsVFlQRToxMH0sRElTUExBWVVSTDp7SUQ6MjEsS0VZOiJkaXNwbGF5dXJsIixUWVBFOjExfSxDVEE6e0lEOjIyLEtFWToiY3RhIixUWVBFOjEyfX0saj0xLFA9MixUPTMsUz1be2lkOncuU1BPTlNPUkVEQlkuSUQscmVxdWlyZWQ6ITAsZGF0YTp7dHlwZToxfX0se2lkOncuVElUTEUuSUQscmVxdWlyZWQ6ITB9LHtpZDp3LklNQUdFLklELHJlcXVpcmVkOiEwfV0sRD17MToiUE1QIiw1OiJQUkVGIiw2OiJQTVBHIn0seD0xLFk9MixrPXtib290c3RyYXBQbGF5ZXI6ZnVuY3Rpb24oZSl7dmFyIHI9e2NvZGU6ZS5hZFVuaXRDb2RlfTtpZihlLnZhc3RYbWw/ci52YXN0WG1sPWUudmFzdFhtbDplLnZhc3RVcmwmJihyLnZhc3RVcmw9ZS52YXN0VXJsKSxlLnZhc3RYbWx8fGUudmFzdFVybCl7Zm9yKHZhciB0LGk9ay5nZXRSZW5kZXJlcklkKCJwdWJtYXRpYyIsZS5yZW5kZXJlckNvZGUpLG49ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKSxzPTA7czx3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVycy5sZW5ndGg7cysrKWlmKHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdLl9pZD09PWkpe3Q9d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc107YnJlYWt9dD90LmJvb3RzdHJhcChyLG4pOk9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCI6IENvdWxkbid0IGZpbmQgYSByZW5kZXJlciB3aXRoICIpLmNvbmNhdChpKSl9ZWxzZSBPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQobSwiOiBObyB2YXN0WG1sIG9yIHZhc3RVcmwgb24gYmlkLCBiYWlsaW5nLi4uIikpfSxuZXdSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciB0PWYucmVwbGFjZSgiJFJFTkRFUkVSIixlKSxpPW8uYS5pbnN0YWxsKHt1cmw6dCxsb2FkZWQ6ITEsYWRVbml0Q29kZTpyfSk7dHJ5e2kuc2V0UmVuZGVyKGsub3V0c3RyZWFtUmVuZGVyKX1jYXRjaChlKXtPYmplY3QoYS5sb2dXYXJuKSgiIi5jb25jYXQobSwiOiBFcnJvciB0eWluZyB0byBzZXRSZW5kZXIgb24gcmVuZGVyZXIiKSxlKX1yZXR1cm4gaX0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaCgoZnVuY3Rpb24oKXtrLmJvb3RzdHJhcFBsYXllcihlKX0pKX0sZ2V0UmVuZGVyZXJJZDpmdW5jdGlvbihlLHIpe3JldHVybiIiLmNvbmNhdChlLCItIikuY29uY2F0KHIpfX0sUj1bbi5iLG4uZCxuLmNdLEE9MCxDPSExLHo9e30sSz17fTtmdW5jdGlvbiBOKGUscil7aWYoIU9iamVjdChhLmlzU3RyKShyKSlyZXR1cm4gciYmT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KHIpKSxnO3N3aXRjaChlKXtjYXNlInBtem9uZWlkIjpyZXR1cm4gci5zcGxpdCgiLCIpLnNsaWNlKDAsNTApLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmpvaW4oKTtjYXNlImthZGZsb29yIjpjYXNlImxhdCI6Y2FzZSJsb24iOnJldHVybiBwYXJzZUZsb2F0KHIpfHxnO2Nhc2UieW9iIjpyZXR1cm4gcGFyc2VJbnQocil8fGc7ZGVmYXVsdDpyZXR1cm4gcn19ZnVuY3Rpb24gVShlKXt2YXIgcjtlLnBhcmFtcy5hZFVuaXQ9IiIsZS5wYXJhbXMuYWRVbml0SW5kZXg9IjAiLGUucGFyYW1zLndpZHRoPTAsZS5wYXJhbXMuaGVpZ2h0PTAsZS5wYXJhbXMuYWRTbG90PShyPWUucGFyYW1zLmFkU2xvdCxPYmplY3QoYS5pc1N0cikocik/ci5yZXBsYWNlKC9eXHMrL2csIiIpLnJlcGxhY2UoL1xzKyQvZywiIik6KHImJk9iamVjdChhLmxvZ1dhcm4pKCJwdWJtYXRpYzogYWRTbG90IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIGFkU2xvdCIpLCIiKSk7dmFyIHQ9ZS5wYXJhbXMuYWRTbG90LGk9dC5zcGxpdCgiOiIpO2lmKHQ9aVswXSwyPT1pLmxlbmd0aCYmKGUucGFyYW1zLmFkVW5pdEluZGV4PWlbMV0pLGk9dC5zcGxpdCgiQCIpLGUucGFyYW1zLmFkVW5pdD1pWzBdLGkubGVuZ3RoPjEpe2lmKDIhPShpPWlbMV0uc3BsaXQoIngiKSkubGVuZ3RoKXJldHVybiB2b2lkIE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogQWRTbG90IEVycm9yOiBhZFNsb3Qgbm90IGluIHJlcXVpcmVkIGZvcm1hdCIpO2UucGFyYW1zLndpZHRoPXBhcnNlSW50KGlbMF0sMTApLGUucGFyYW1zLmhlaWdodD1wYXJzZUludChpWzFdLDEwKX1lbHNlIGlmKGUuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmZS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYikmJmUubWVkaWFUeXBlcy5iYW5uZXIuaGFzT3duUHJvcGVydHkoInNpemVzIikpe2Zvcih2YXIgcz0wLG89W107czxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aDtzKyspMj09PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXNbc10ubGVuZ3RoJiZvLnB1c2goZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tzXSk7ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz1vLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoPj0xJiYoZS5wYXJhbXMud2lkdGg9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVswXSxlLnBhcmFtcy5oZWlnaHQ9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1swXVsxXSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMuc3BsaWNlKDEsZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgtMSkpfX1mdW5jdGlvbiBNKGUscix0KXt2YXIgaSxuPSJJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzICIrdCsiLCBmb3VuZCAiK3Uocik7c3dpdGNoKHQpe2Nhc2UgTzppPWEuaXNCb29sZWFuO2JyZWFrO2Nhc2UgeTppPWEuaXNOdW1iZXI7YnJlYWs7Y2FzZSB2Omk9YS5pc1N0cjticmVhaztjYXNlIEU6aT1hLmlzQXJyYXl9cmV0dXJuIGkocik/cjooT2JqZWN0KGEubG9nV2FybikobStuKSxnKX1mdW5jdGlvbiBxKGUscil7dmFyIHQ9ZS5LRVk7cmV0dXJue2lkOmUuSUQscmVxdWlyZWQ6clt0XS5yZXF1aXJlZD8xOjAsZGF0YTp7dHlwZTplLlRZUEUsbGVuOnJbdF0ubGVuLGV4dDpyW3RdLmV4dH19fWZ1bmN0aW9uIEwoZSl7dmFyIHI9e2Fzc2V0czpbXX07Zm9yKHZhciB0IGluIGUpe2lmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBpPXt9O2lmKCEoci5hc3NldHMmJnIuYXNzZXRzLmxlbmd0aD4wJiZyLmFzc2V0cy5oYXNPd25Qcm9wZXJ0eSh0KSkpc3dpdGNoKHQpe2Nhc2Ugdy5USVRMRS5LRVk6ZVt0XS5sZW58fGVbdF0ubGVuZ3RoP2k9e2lkOncuVElUTEUuSUQscmVxdWlyZWQ6ZVt0XS5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjplW3RdLmxlbnx8ZVt0XS5sZW5ndGgsZXh0OmVbdF0uZXh0fX06T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogVGl0bGUgTGVuZ3RoIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5JTUFHRS5LRVk6ZVt0XS5zaXplcyYmZVt0XS5zaXplcy5sZW5ndGg+MD9pPXtpZDp3LklNQUdFLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpULHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKSx3bWluOmVbdF0ud21pbnx8ZVt0XS5taW5pbXVtV2lkdGh8fChlW3RdLm1pbnNpemVzP2VbdF0ubWluc2l6ZXNbMF06ZyksaG1pbjplW3RdLmhtaW58fGVbdF0ubWluaW11bUhlaWdodHx8KGVbdF0ubWluc2l6ZXM/ZVt0XS5taW5zaXplc1sxXTpnKSxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19Ok9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IEltYWdlIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5JQ09OLktFWTplW3RdLnNpemVzJiZlW3RdLnNpemVzLmxlbmd0aD4wP2k9e2lkOncuSUNPTi5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6aix3OmVbdF0ud3x8ZVt0XS53aWR0aHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1swXTpnKSxoOmVbdF0uaHx8ZVt0XS5oZWlnaHR8fChlW3RdLnNpemVzP2VbdF0uc2l6ZXNbMV06Zyl9fTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2Ugdy5WSURFTy5LRVk6aT17aWQ6dy5WSURFTy5JRCxyZXF1aXJlZDplW3RdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVt0XS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW3RdLm1heGR1cmF0aW9uLHByb3RvY29sczplW3RdLnByb3RvY29scyxtaW1lczplW3RdLm1pbWVzLGV4dDplW3RdLmV4dH19O2JyZWFrO2Nhc2Ugdy5FWFQuS0VZOmk9e2lkOncuRVhULklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIHcuTE9HTy5LRVk6aT17aWQ6dy5MT0dPLklELHJlcXVpcmVkOmVbdF0ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpQLHc6ZVt0XS53fHxlW3RdLndpZHRofHwoZVt0XS5zaXplcz9lW3RdLnNpemVzWzBdOmcpLGg6ZVt0XS5ofHxlW3RdLmhlaWdodHx8KGVbdF0uc2l6ZXM/ZVt0XS5zaXplc1sxXTpnKX19O2JyZWFrO2Nhc2Ugdy5TUE9OU09SRURCWS5LRVk6Y2FzZSB3LkJPRFkuS0VZOmNhc2Ugdy5SQVRJTkcuS0VZOmNhc2Ugdy5MSUtFUy5LRVk6Y2FzZSB3LkRPV05MT0FEUy5LRVk6Y2FzZSB3LlBSSUNFLktFWTpjYXNlIHcuU0FMRVBSSUNFLktFWTpjYXNlIHcuUEhPTkUuS0VZOmNhc2Ugdy5BRERSRVNTLktFWTpjYXNlIHcuREVTQzIuS0VZOmNhc2Ugdy5ESVNQTEFZVVJMLktFWTpjYXNlIHcuQ1RBLktFWTppPXEoS1t0XSxlKX19aSYmaS5pZCYmKHIuYXNzZXRzW3IuYXNzZXRzLmxlbmd0aF09aSl9dmFyIG49Uy5sZW5ndGgscz0wO3JldHVybiBTLmZvckVhY2goKGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1yLmFzc2V0cy5sZW5ndGgsYT0wO2E8dDthKyspaWYoZS5pZD09ci5hc3NldHNbYV0uaWQpe3MrKzticmVha319KSksQz1uIT1zLHJ9ZnVuY3Rpb24gVyhlKXt2YXIgcix0PWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMsaT1bXTtpZih0IT09ZyYmT2JqZWN0KGEuaXNBcnJheSkodCkpe2lmKHI9e30sZS5wYXJhbXMud2lkdGh8fGUucGFyYW1zLmhlaWdodClyLnc9ZS5wYXJhbXMud2lkdGgsci5oPWUucGFyYW1zLmhlaWdodDtlbHNle2lmKDA9PT10Lmxlbmd0aClyZXR1cm4gcj1nLE9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IG1lZGlhVHlwZXMuYmFubmVyLnNpemUgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYmFubmVyIGltcHJlc3Npb24gaW4gdGhlIGFkdW5pdC4iKSxyO3Iudz1wYXJzZUludCh0WzBdWzBdLDEwKSxyLmg9cGFyc2VJbnQodFswXVsxXSwxMCksdD10LnNwbGljZSgxLHQubGVuZ3RoLTEpfXQubGVuZ3RoPjAmJihpPVtdLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5sZW5ndGg+MSYmaS5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSksaS5sZW5ndGg+MCYmKHIuZm9ybWF0PWkpKSxyLnBvcz0wLHIudG9wZnJhbWU9T2JqZWN0KGEuaW5JZnJhbWUpKCk/MDoxfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogbWVkaWFUeXBlcy5iYW5uZXIuc2l6ZSBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBiYW5uZXIgaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpLHI9ZztyZXR1cm4gcn1mdW5jdGlvbiBfKGUscil7T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGxhY2VtZW50Iil8fE9iamVjdChhLmxvZ1dhcm4pKCJWaWRlby5QbGFjZW1lbnQgcGFyYW0gbWlzc2luZyBmb3IgIityKX1mdW5jdGlvbiBWKGUpe3ZhciByLHQ9T2JqZWN0KGEubWVyZ2VEZWVwKShPYmplY3QoYS5kZWVwQWNjZXNzKShlLm1lZGlhVHlwZXMsInZpZGVvIiksZS5wYXJhbXMudmlkZW8pO2lmKHQhPT1nKXtmb3IodmFyIGkgaW4gcj17fSxfKHQsZS5hZFVuaXRDb2RlKSxJKXQuaGFzT3duUHJvcGVydHkoaSkmJihyW2ldPU0oaSx0W2ldLElbaV0pKTtPYmplY3QoYS5pc0FycmF5KShlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSk/KHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzFdLDEwKSk6T2JqZWN0KGEuaXNOdW1iZXIpKGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHIudz1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSwxMCksci5oPXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzFdLDEwKSl9ZWxzZSByPWcsT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogVmlkZW8gY29uZmlnIHBhcmFtcyBtaXNzaW5nIGZvciBhZHVuaXQ6ICIrZS5wYXJhbXMuYWRVbml0KyIgd2l0aCBtZWRpYVR5cGUgc2V0IGFzIHZpZGVvLiBJZ25vcmluZyB2aWRlbyBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIik7cmV0dXJuIHJ9ZnVuY3Rpb24gQihlLHIsdCl7dmFyIGE9ci5ydGQmJnIucnRkLmp3cGxheWVyJiZyLnJ0ZC5qd3BsYXllci50YXJnZXRpbmd8fHZvaWQgMCxpPSIiO2lmKHZvaWQgMCE9PWEmJiIiIT09YSYmYS5oYXNPd25Qcm9wZXJ0eSgic2VnbWVudHMiKSl7dmFyIG4scz1hLnNlZ21lbnRzLmxlbmd0aDtpKz0ianctaWQ9IithLmNvbnRlbnQuaWQ7Zm9yKHZhciBvPTA7bzxzO28rKylpKz0ifGp3LSIrYS5zZWdtZW50c1tvXSsiPTEiO3Q/dm9pZCAwPT09ZS5kY3RyfHwwPT1lLmRjdHIubGVuZ3RoP2UuZGN0cj1pOmUuZGN0cis9InwiK2k6KG49ZS5leHQpJiZ2b2lkIDA9PT1uLmtleV92YWw/bi5rZXlfdmFsPWk6bi5rZXlfdmFsKz0ifCIraX19ZnVuY3Rpb24gRyhlLHIpe3ZhciB0LGksbz17fSxkPXt9LGw9ZS5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKT9lLnNpemVzOltdLGY9IiIsaD1bXTtpZihmdW5jdGlvbihlLHIpe3IucGFyYW1zLmRlYWxzJiYoT2JqZWN0KGEuaXNBcnJheSkoci5wYXJhbXMuZGVhbHMpP3IucGFyYW1zLmRlYWxzLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmlzU3RyKShyKSYmci5sZW5ndGg+Mz8oZS5wbXB8fChlLnBtcD17cHJpdmF0ZV9hdWN0aW9uOjAsZGVhbHM6W119KSxlLnBtcC5kZWFscy5wdXNoKHtpZDpyfSkpOk9iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IGRlYWwtaWQgcHJlc2VudCBpbiBhcnJheSBiaWQucGFyYW1zLmRlYWxzIHNob3VsZCBiZSBhIHN0cmluZ3Mgd2l0aCBtb3JlIHRoYW4gMyBjaGFyYXRlcnMgbGVuZ3RoLCBkZWFsLWlkIGlnbm9yZWQ6ICIrcil9KSk6T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogYmlkLnBhcmFtcy5kZWFscyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKSl9KG89e2lkOmUuYmlkSWQsdGFnaWQ6ZS5wYXJhbXMuYWRVbml0fHx2b2lkIDAsYmlkZmxvb3I6Tigia2FkZmxvb3IiLGUucGFyYW1zLmthZGZsb29yKSxzZWN1cmU6MSxleHQ6e3BtWm9uZUlkOk4oInBtem9uZWlkIixlLnBhcmFtcy5wbXpvbmVpZCl9LGJpZGZsb29yY3VyOmUucGFyYW1zLmN1cnJlbmN5P04oImN1cnJlbmN5IixlLnBhcmFtcy5jdXJyZW5jeSk6Yn0sZSksZnVuY3Rpb24oZSxyKXt2YXIgdCxpPSIiO2lmKHIucGFyYW1zLmRjdHIpaWYoaT1yLnBhcmFtcy5kY3RyLE9iamVjdChhLmlzU3RyKShpKSYmaS5sZW5ndGg+MCl7dmFyIG49aS5zcGxpdCgifCIpO2k9IiIsbi5mb3JFYWNoKChmdW5jdGlvbihlKXtpKz1lLmxlbmd0aD4wP2UudHJpbSgpKyJ8IjoiIn0pKSx0PWkubGVuZ3RoLCJ8Ij09PWkuc3Vic3RyaW5nKHQsdC0xKSYmKGk9aS5zdWJzdHJpbmcoMCx0LTEpKSxlLmV4dC5rZXlfdmFsPWkudHJpbSgpfWVsc2UgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBJZ25vcmluZyBwYXJhbSA6IGRjdHIgd2l0aCB2YWx1ZSA6ICIraSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgZW1wdHkgb3Igbm9uLXN0cmluZyB2YWx1ZSIpfShvLGUpLEIobyxlKSxlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikpZm9yKGYgaW4gZS5tZWRpYVR5cGVzKXN3aXRjaChmKXtjYXNlIG4uYjoodD1XKGUpKSE9PWcmJihvLmJhbm5lcj10KTticmVhaztjYXNlIG4uYzpkLnJlcXVlc3Q9SlNPTi5zdHJpbmdpZnkoTChlLm5hdGl2ZVBhcmFtcykpLEM/T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogRXJyb3IgaW4gTmF0aXZlIGFkdW5pdCAiK2UucGFyYW1zLmFkVW5pdCsiLiBJZ25vcmluZyB0aGUgYWR1bml0LiBSZWZlciB0byBodHRwOi8vcHJlYmlkLm9yZy9kZXYtZG9jcy9zaG93LW5hdGl2ZS1hZHMuaHRtbCBmb3IgbW9yZSBkZXRhaWxzLiIpOm8ubmF0aXZlPWQ7YnJlYWs7Y2FzZSBuLmQ6KGk9VihlKSkhPT1nJiYoby52aWRlbz1pKX1lbHNlIHQ9e3BvczowLHc6ZS5wYXJhbXMud2lkdGgsaDplLnBhcmFtcy5oZWlnaHQsdG9wZnJhbWU6T2JqZWN0KGEuaW5JZnJhbWUpKCk/MDoxfSxPYmplY3QoYS5pc0FycmF5KShsKSYmbC5sZW5ndGg+MSYmKChsPWwuc3BsaWNlKDEsbC5sZW5ndGgtMSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2gucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSkpLHQuZm9ybWF0PWgpLG8uYmFubmVyPXQ7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9bnVsbCE9YXJndW1lbnRzW3JdP2FyZ3VtZW50c1tyXTp7fTtyJTI/YyhPYmplY3QodCksITApLmZvckVhY2goKGZ1bmN0aW9uKHIpe3AoZSxyLHRbcl0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpOmMoT2JqZWN0KHQpKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKSl9KSl9cmV0dXJuIGV9KHt9LE9iamVjdChhLmRlZXBBY2Nlc3MpKHIsIm9ydGIySW1wLmV4dC5kYXRhIikpO09iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKHIpeyJwYmFkc2xvdCI9PT1yPyJzdHJpbmciPT10eXBlb2YgdFtyXSYmdFtyXSYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShlLCJleHQuZGF0YS5wYmFkc2xvdCIsdFtyXSk6ImFkc2VydmVyIj09PXI/WyJuYW1lIiwiYWRzbG90Il0uZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9T2JqZWN0KGEuZGVlcEFjY2VzcykodCwiYWRzZXJ2ZXIuIi5jb25jYXQocikpOyJzdHJpbmciPT10eXBlb2YgaSYmaSYmKE9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoci50b0xvd2VyQ2FzZSgpKSxpKSwiYWRzbG90Ij09PXImJk9iamVjdChhLmRlZXBTZXRWYWx1ZSkoZSwiZXh0LmRmcF9hZF91bml0X2NvZGUiLGkpKX0pKTpPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsImV4dC5kYXRhLiIuY29uY2F0KHIpLHRbcl0pfSkpfShvLGUpLGZ1bmN0aW9uKGUscil7dmFyIHQ9LTE7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuZ2V0Rmxvb3J8fHMuYi5nZXRDb25maWcoInB1Ym1hdGljLmRpc2FibGVGbG9vcnMiKXx8W24uYixuLmQsbi5jXS5mb3JFYWNoKChmdW5jdGlvbihpKXtpZihlLmhhc093blByb3BlcnR5KGkpKXt2YXIgbj1bXTsiYmFubmVyIj09PWkmJihlW2ldLncmJmVbaV0uaCYmbi5wdXNoKFtlW2ldLncsZVtpXS5oXSksT2JqZWN0KGEuaXNBcnJheSkoZVtpXS5mb3JtYXQpJiZlW2ldLmZvcm1hdC5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gbi5wdXNoKFtlLncsZS5oXSl9KSkpLDA9PT1uLmxlbmd0aCYmbi5wdXNoKCIqIiksbi5mb3JFYWNoKChmdW5jdGlvbihuKXt2YXIgcz1yLmdldEZsb29yKHtjdXJyZW5jeTplLmJpZGZsb29yY3VyLG1lZGlhVHlwZTppLHNpemU6bn0pO2lmKE9iamVjdChhLmxvZ0luZm8pKG0sImZsb29yIGZyb20gZmxvb3IgbW9kdWxlIHJldHVybmVkIGZvciBtZWRpYXR5cGU6IixpLCIgYW5kIHNpemU6IixuLCIgaXM6IGN1cnJlbmN5IixzLmN1cnJlbmN5LCJmbG9vciIscy5mbG9vciksIm9iamVjdCI9PT11KHMpJiZzLmN1cnJlbmN5PT09ZS5iaWRmbG9vcmN1ciYmIWlzTmFOKHBhcnNlSW50KHMuZmxvb3IpKSl7dmFyIG89cGFyc2VGbG9hdChzLmZsb29yKTtPYmplY3QoYS5sb2dJbmZvKShtLCJmbG9vciBmcm9tIGZsb29yIG1vZHVsZToiLG8sInByZXZpb3VzIGZsb29yIHZhbHVlIix0LCJNaW46IixNYXRoLm1pbihvLHQpKSx0PS0xPT09dD9vOk1hdGgubWluKG8sdCksT2JqZWN0KGEubG9nSW5mbykobSwibmV3IGZsb29yIHZhbHVlOiIsdCl9fSkpfX0pKTtlLmJpZGZsb29yJiYoT2JqZWN0KGEubG9nSW5mbykobSwiZmxvb3IgZnJvbSBmbG9vciBtb2R1bGU6Iix0LCJpbXBPYmouYmlkZmxvb3IiLGUuYmlkZmxvb3IsIk1heDoiLE1hdGgubWF4KHQsZS5iaWRmbG9vcikpLHQ9TWF0aC5tYXgodCxlLmJpZGZsb29yKSk7ZS5iaWRmbG9vcj0haXNOYU4odCkmJnQ+MD90OmcsT2JqZWN0KGEubG9nSW5mbykobSwibmV3IGltcE9iai5iaWRmbG9vciB2YWx1ZToiLGUuYmlkZmxvb3IpfShvLGUpLG8uaGFzT3duUHJvcGVydHkobi5iKXx8by5oYXNPd25Qcm9wZXJ0eShuLmMpfHxvLmhhc093blByb3BlcnR5KG4uZCk/bzpnfWZ1bmN0aW9uIEYoZSxyKXt2YXIgdD1udWxsLGk9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwiMC51c2VySWQuZmxvY0lkIik7aWYoaSYmaS5pZClzd2l0Y2gocil7Y2FzZSBZOnQ9e2lkOiJGTE9DIixuYW1lOiJGTE9DIixleHQ6e3ZlcjppLnZlcnNpb259LHNlZ21lbnQ6W3tpZDppLmlkLG5hbWU6ImNocm9tZS5jb20iLHZhbHVlOmkuaWQudG9TdHJpbmcoKX1dfTticmVhaztjYXNlIHg6ZGVmYXVsdDp0PXtzb3VyY2U6ImNocm9tZS5jb20iLHVpZHM6W3thdHlwZToxLGlkOmkuaWQsZXh0Ont2ZXI6aS52ZXJzaW9ufX1dfX1yZXR1cm4gdH1mdW5jdGlvbiBKKGUpe3JldHVybiEwPT09T2JqZWN0KGEuaXNBcnJheSkoZSkmJmUubGVuZ3RoPjB9T2JqZWN0KGEuX2VhY2gpKHcsKGZ1bmN0aW9uKGUpe3pbZS5JRF09ZS5LRVl9KSksT2JqZWN0KGEuX2VhY2gpKHcsKGZ1bmN0aW9uKGUpe0tbZS5LRVldPWV9KSk7dmFyIFg9e2NvZGU6bCxndmxpZDo3NixzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmIsbi5kLG4uY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoZSYmZS5wYXJhbXMpe2lmKCFPYmplY3QoYS5pc1N0cikoZS5wYXJhbXMucHVibGlzaGVySWQpKXJldHVybiBPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEVycm9yOiBwdWJsaXNoZXJJZCBpcyBtYW5kYXRvcnkgYW5kIGNhbm5vdCBiZSBudW1lcmljICh3cmFwIGl0IGluIHF1b3RlcyBpbiB5b3VyIGNvbmZpZykuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiAiK0pTT04uc3RyaW5naWZ5KGUpKSwhMTtpZihlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIikmJmUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmQpKXt2YXIgcj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLm1lZGlhVHlwZXMsInZpZGVvLm1pbWVzIiksdD1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWltZXMiKTtpZighMT09PUoocikmJiExPT09Sih0KSlyZXR1cm4gT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogRm9yIHZpZGVvIGFkcywgYmlkLm1lZGlhVHlwZXMudmlkZW8ubWltZXMgT1IgYmlkLnBhcmFtcy52aWRlby5taW1lcyBzaG91bGQgYmUgcHJlc2VudCBhbmQgbXVzdCBiZSBhIG5vbi1lbXB0eSBhcnJheS4gQ2FsbCB0byBPcGVuQmlkIHdpbGwgbm90IGJlIHNlbnQgZm9yIGFkIHVuaXQ6IitKU09OLnN0cmluZ2lmeShlKSksITE7aWYoIWUubWVkaWFUeXBlc1tuLmRdLmhhc093blByb3BlcnR5KCJjb250ZXh0IikpcmV0dXJuIE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQobSwiOiBubyBjb250ZXh0IHNwZWNpZmllZCBpbiBiaWQuIFJlamVjdGluZyBiaWQ6ICIpLGUpLCExO2lmKCJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzW24uZF0uY29udGV4dCYmIU9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5vdXRzdHJlYW1BVSkmJiFlLmhhc093blByb3BlcnR5KCJyZW5kZXJlciIpJiYhZS5tZWRpYVR5cGVzW24uZF0uaGFzT3duUHJvcGVydHkoInJlbmRlcmVyIikpcmV0dXJuIGUubWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eShuLmIpfHxlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkobi5jKT8oZGVsZXRlIGUubWVkaWFUeXBlc1tuLmRdLE9iamVjdChhLmxvZ1dhcm4pKCIiLmNvbmNhdChtLCc6IGZvciAib3V0c3RyZWFtIiBiaWRzIGVpdGhlciBvdXRzdHJlYW1BVSBwYXJhbWV0ZXIgbXVzdCBiZSBwcm92aWRlZCBvciBhZCB1bml0IHN1cHBsaWVkIHJlbmRlcmVyIGlzIHJlcXVpcmVkLiBSZWplY3RpbmcgbWVkaWF0eXBlIFZpZGVvIG9mIGJpZDogJyksZSksITApOihPYmplY3QoYS5sb2dFcnJvcikoIiIuY29uY2F0KG0sJzogZm9yICJvdXRzdHJlYW0iIGJpZHMgZWl0aGVyIG91dHN0cmVhbUFVIHBhcmFtZXRlciBtdXN0IGJlIHByb3ZpZGVkIG9yIGFkIHVuaXQgc3VwcGxpZWQgcmVuZGVyZXIgaXMgcmVxdWlyZWQuIFJlamVjdGluZyBiaWQ6ICcpLGUpLCExKX1yZXR1cm4hMH1yZXR1cm4hMX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciB0O3ImJnIucmVmZXJlckluZm8mJih0PXIucmVmZXJlckluZm8pO3ZhciBpLG89ZnVuY3Rpb24oZSl7cmV0dXJue3BhZ2VVUkw6ZSYmZS5yZWZlcmVyP2UucmVmZXJlcjp3aW5kb3cubG9jYXRpb24uaHJlZixyZWZVUkw6d2luZG93LmRvY3VtZW50LnJlZmVycmVyfX0odCksYz1mdW5jdGlvbihlKXtyZXR1cm57aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W2JdLGltcDpbXSxzaXRlOntwYWdlOmUucGFnZVVSTCxyZWY6ZS5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fX0obykscD0iIixsPVtdLG09W107aWYoZS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZigoaT1PYmplY3QoYS5kZWVwQ2xvbmUpKGUpKS5wYXJhbXMuYWRTbG90PWkucGFyYW1zLmFkU2xvdHx8IiIsVShpKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSk7ZWxzZSBpZighKGkuaGFzT3duUHJvcGVydHkoIm1lZGlhVHlwZXMiKSYmaS5tZWRpYVR5cGVzLmhhc093blByb3BlcnR5KG4uYyl8fDAhPT1pLnBhcmFtcy53aWR0aHx8MCE9PWkucGFyYW1zLmhlaWdodCkpcmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBTa2lwcGluZyB0aGUgbm9uLXN0YW5kYXJkIGFkc2xvdDogIixpLnBhcmFtcy5hZFNsb3QsSlNPTi5zdHJpbmdpZnkoaSkpO28ucHViSWQ9by5wdWJJZHx8aS5wYXJhbXMucHVibGlzaGVySWQsKG89ZnVuY3Rpb24oZSxyKXt2YXIgdCxpLG47Zm9yKHQgaW4gci5rYWRwYWdldXJsfHwoci5rYWRwYWdldXJsPXIucGFnZVVSTCksaCloLmhhc093blByb3BlcnR5KHQpJiYoaT1lW3RdKSYmKCJvYmplY3QiPT09dShuPWhbdF0pJiYoaT1uLmYoaSxyKSksT2JqZWN0KGEuaXNTdHIpKGkpP3JbdF09aTpPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IElnbm9yaW5nIHBhcmFtIDogIit0KyIgd2l0aCB2YWx1ZSA6ICIraFt0XSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIit1KGkpKSk7cmV0dXJuIHJ9KGkucGFyYW1zLG8pKS50cmFuc2FjdGlvbklkPWkudHJhbnNhY3Rpb25JZCwiIj09PXA/cD1pLnBhcmFtcy5jdXJyZW5jeXx8ZzppLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiY3VycmVuY3kiKSYmcCE9PWkucGFyYW1zLmN1cnJlbmN5JiZPYmplY3QoYS5sb2dXYXJuKSgiUHViTWF0aWM6IEN1cnJlbmN5IHNwZWNpZmllciBpZ25vcmVkLiBPbmx5IG9uZSBjdXJyZW5jeSBwZXJtaXR0ZWQuIiksaS5wYXJhbXMuY3VycmVuY3k9cCxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiZGN0ciIpJiZPYmplY3QoYS5pc1N0cikoaS5wYXJhbXMuZGN0cikmJmwucHVzaChpLnBhcmFtcy5kY3RyKSxpLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmNhdCIpJiZPYmplY3QoYS5pc0FycmF5KShpLnBhcmFtcy5iY2F0KSYmKG09bS5jb25jYXQoaS5wYXJhbXMuYmNhdCkpO3ZhciByPUcoaSk7ciYmYy5pbXAucHVzaChyKX0pKSwwIT1jLmltcC5sZW5ndGgpe3ZhciBmLHk7Yy5zaXRlLnB1Ymxpc2hlci5pZD1vLnB1YklkLnRyaW0oKSxBPW8ucHViSWQudHJpbSgpLGMuZXh0LndyYXBwZXI9e30sYy5leHQud3JhcHBlci5wcm9maWxlPXBhcnNlSW50KG8ucHJvZklkKXx8ZyxjLmV4dC53cmFwcGVyLnZlcnNpb249cGFyc2VJbnQoby52ZXJJZCl8fGcsYy5leHQud3JhcHBlci53aWlkPW8ud2lpZHx8ci5hdWN0aW9uSWQsYy5leHQud3JhcHBlci53dj0icHJlYmlkX3ByZWJpZF81LjIwLjIiLGMuZXh0LndyYXBwZXIudHJhbnNhY3Rpb25JZD1vLnRyYW5zYWN0aW9uSWQsYy5leHQud3JhcHBlci53cD0icGJqcyIsYy51c2VyLmdlbmRlcj1vLmdlbmRlcj9vLmdlbmRlci50cmltKCk6ZyxjLnVzZXIuZ2VvPXt9LGMudXNlci5nZW8ubGF0PU4oImxhdCIsby5sYXQpLGMudXNlci5nZW8ubG9uPU4oImxvbiIsby5sb24pLGMudXNlci55b2I9TigieW9iIixvLnlvYiksYy5kZXZpY2UuZ2VvPWMudXNlci5nZW8sYy5zaXRlLnBhZ2U9by5rYWRwYWdldXJsLnRyaW0oKXx8Yy5zaXRlLnBhZ2UudHJpbSgpLGMuc2l0ZS5kb21haW49KGY9Yy5zaXRlLnBhZ2UsKHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPWYseS5ob3N0bmFtZSksIm9iamVjdCI9PT11KHMuYi5nZXRDb25maWcoImNvbnRlbnQiKSkmJihjLnNpdGUuY29udGVudD1zLmIuZ2V0Q29uZmlnKCJjb250ZW50IikpLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihjLmRldmljZT1kKGMuZGV2aWNlLHMuYi5nZXRDb25maWcoImRldmljZSIpKSksT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJzb3VyY2UudGlkIixvLnRyYW5zYWN0aW9uSWQpLC0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigicHVibWF0aWNUZXN0PXRydWUiKSYmKGMudGVzdD0xKSxlWzBdLnNjaGFpbiYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJzb3VyY2UuZXh0LnNjaGFpbiIsZVswXS5zY2hhaW4pLHImJnIuZ2RwckNvbnNlbnQmJihPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGMsInVzZXIuZXh0LmNvbnNlbnQiLHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHImJnIudXNwQ29uc2VudCYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmV4dC51c19wcml2YWN5IixyLnVzcENvbnNlbnQpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmT2JqZWN0KGEuZGVlcFNldFZhbHVlKShjLCJyZWdzLmNvcHBhIiwxKSxmdW5jdGlvbihlLHIpe3ZhciB0PU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsIjAudXNlcklkQXNFaWRzIiksaT1GKHIseCk7aSYmKHR8fCh0PVtdKSx0LnB1c2goaSkpLE9iamVjdChhLmlzQXJyYXkpKHQpJiZ0Lmxlbmd0aD4wJiZPYmplY3QoYS5kZWVwU2V0VmFsdWUpKGUsInVzZXIuZWlkcyIsdCl9KGMsZSksZnVuY3Rpb24oZSxyKXsocj1yLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfHwoT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBiZSBhIHN0cmluZywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSksITEpfSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHJpbSgpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSxyLHQpe2lmKGUubGVuZ3RoPjMpcmV0dXJuIHQuaW5kZXhPZihlKT09PXI7T2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkpLmxlbmd0aD4wJiYoT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBiY2F0OiBTZWxlY3RlZDogIixyKSxlLmJjYXQ9cil9KGMsbSksZnVuY3Rpb24oZSxyKXt2YXIgdD1GKHIsWSk7dCYmKGUudXNlcnx8KGUudXNlcj17fSksZS51c2VyLmRhdGF8fChlLnVzZXIuZGF0YT1bXSksZS51c2VyLmRhdGEucHVzaCh0KSl9KGMsZSk7dmFyIHY9cy5iLmdldENvbmZpZygib3J0YjIiKXx8e307cmV0dXJuIHYuc2l0ZSYmT2JqZWN0KGEubWVyZ2VEZWVwKShjLHtzaXRlOnYuc2l0ZX0pLHYudXNlciYmT2JqZWN0KGEubWVyZ2VEZWVwKShjLHt1c2VyOnYudXNlcn0pLCJvYmplY3QiPT09dShzLmIuZ2V0Q29uZmlnKCJhcHAiKSkmJihjLmFwcD1zLmIuZ2V0Q29uZmlnKCJhcHAiKSxjLmFwcC5wdWJsaXNoZXI9Yy5zaXRlLnB1Ymxpc2hlcixjLmFwcC5leHQ9Yy5zaXRlLmV4dHx8Zywib2JqZWN0IiE9PXUoYy5hcHAuY29udGVudCkmJihjLmFwcC5jb250ZW50PWMuc2l0ZS5jb250ZW50fHxnKSxkZWxldGUgYy5zaXRlKSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vaGJvcGVuYmlkLnB1Ym1hdGljLmNvbS90cmFuc2xhdG9yP3NvdXJjZT1wcmViaWQtY2xpZW50IixkYXRhOkpTT04uc3RyaW5naWZ5KGMpLGJpZGRlclJlcXVlc3Q6cn19fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PVtdLGk9YixzPUpTT04ucGFyc2Uoci5kYXRhKSxvPXMuc2l0ZSYmcy5zaXRlLnJlZj9zLnNpdGUucmVmOiIiO3RyeXtlLmJvZHkmJmUuYm9keS5zZWF0YmlkJiZPYmplY3QoYS5pc0FycmF5KShlLmJvZHkuc2VhdGJpZCkmJihpPWUuYm9keS5jdXJ8fGksZS5ib2R5LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZS5iaWQmJk9iamVjdChhLmlzQXJyYXkpKGUuYmlkKSYmZS5iaWQuZm9yRWFjaCgoZnVuY3Rpb24oZCl7dmFyIGM9e3JlcXVlc3RJZDpkLmltcGlkLGNwbToocGFyc2VGbG9hdChkLnByaWNlKXx8MCkudG9GaXhlZCgyKSx3aWR0aDpkLncsaGVpZ2h0OmQuaCxjcmVhdGl2ZUlkOmQuY3JpZHx8ZC5pZCxkZWFsSWQ6ZC5kZWFsaWQsY3VycmVuY3k6aSxuZXRSZXZlbnVlOnRydWUsdHRsOjMwMCxyZWZlcnJlcjpvLGFkOmQuYWRtLHBtX3NlYXQ6ZS5zZWF0fHxudWxsLHBtX2RzcGlkOmQuZXh0JiZkLmV4dC5kc3BpZD9kLmV4dC5kc3BpZDpudWxsLHBhcnRuZXJJbXBJZDpkLmlkfHwiIn07cy5pbXAmJnMuaW1wLmxlbmd0aD4wJiZzLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihkLmltcGlkPT09ZS5pZClzd2l0Y2goZnVuY3Rpb24oZSxyKXtpZihlLmV4dCYmbnVsbCE9ZS5leHQuQmlkVHlwZSlyLm1lZGlhVHlwZT1SW2UuZXh0LkJpZFR5cGVdO2Vsc2V7T2JqZWN0KGEubG9nSW5mbykoIlB1Yk1hdGljOiBiaWQuZXh0LkJpZFR5cGUgZG9lcyBub3QgZXhpc3QsIGNoZWNraW5nIGFsdGVybmF0aXZlbHkgZm9yIG1lZGlhVHlwZSIpO3ZhciB0PWUuYWRtLGk9IiIscz1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKHQuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJyk+PTApci5tZWRpYVR5cGU9bi5iO2Vsc2UgaWYocy50ZXN0KHQpKXIubWVkaWFUeXBlPW4uZDtlbHNlIHRyeXsoaT1KU09OLnBhcnNlKHQucmVwbGFjZSgvXFwvZywiIikpKSYmaS5uYXRpdmUmJihyLm1lZGlhVHlwZT1uLmMpfWNhdGNoKGUpe09iamVjdChhLmxvZ1dhcm4pKCJQdWJNYXRpYzogRXJyb3I6IENhbm5vdCBwYXJzZSBuYXRpdmUgcmVwb25zZSBmb3IgYWQgcmVzcG9uc2U6ICIrdCl9fX0oZCxjKSxjLm1lZGlhVHlwZSl7Y2FzZSBuLmI6YnJlYWs7Y2FzZSBuLmQ6Yy53aWR0aD1kLmhhc093blByb3BlcnR5KCJ3Iik/ZC53OmUudmlkZW8udyxjLmhlaWdodD1kLmhhc093blByb3BlcnR5KCJoIik/ZC5oOmUudmlkZW8uaCxjLnZhc3RYbWw9ZC5hZG0sZnVuY3Rpb24oZSxyKXt2YXIgdCxhLGk7aWYoci5iaWRkZXJSZXF1ZXN0JiZyLmJpZGRlclJlcXVlc3QuYmlkcyl7Zm9yKHZhciBzPTA7czxyLmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGg7cysrKXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLmJpZElkPT09ZS5yZXF1ZXN0SWQmJih0PXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLnBhcmFtcyxhPXIuYmlkZGVyUmVxdWVzdC5iaWRzW3NdLm1lZGlhVHlwZXNbbi5kXS5jb250ZXh0LGk9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYWRVbml0Q29kZSk7YSYmIm91dHN0cmVhbSI9PT1hJiZ0JiZ0Lm91dHN0cmVhbUFVJiZpJiYoZS5yZW5kZXJlckNvZGU9dC5vdXRzdHJlYW1BVSxlLnJlbmRlcmVyPWsubmV3UmVuZGVyZXIoZS5yZW5kZXJlckNvZGUsaSkpfX0oYyxyKTticmVhaztjYXNlIG4uYzohZnVuY3Rpb24oZSxyKXtpZihyLm5hdGl2ZT17fSxlLmhhc093blByb3BlcnR5KCJhZG0iKSl7dmFyIHQ9IiI7dHJ5e3Q9SlNPTi5wYXJzZShlLmFkbS5yZXBsYWNlKC9cXC9nLCIiKSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgT2JqZWN0KGEubG9nV2FybikoIlB1Yk1hdGljOiBFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityLmFkbSl9aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cyYmdC5uYXRpdmUuYXNzZXRzLmxlbmd0aD4wKXtyLm1lZGlhVHlwZT1uLmM7Zm9yKHZhciBpPTAscz10Lm5hdGl2ZS5hc3NldHMubGVuZ3RoO2k8cztpKyspc3dpdGNoKHQubmF0aXZlLmFzc2V0c1tpXS5pZCl7Y2FzZSB3LlRJVExFLklEOnIubmF0aXZlLnRpdGxlPXQubmF0aXZlLmFzc2V0c1tpXS50aXRsZSYmdC5uYXRpdmUuYXNzZXRzW2ldLnRpdGxlLnRleHQ7YnJlYWs7Y2FzZSB3LklNQUdFLklEOnIubmF0aXZlLmltYWdlPXt1cmw6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy51cmwsaGVpZ2h0OnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcuaCx3aWR0aDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnd9O2JyZWFrO2Nhc2Ugdy5JQ09OLklEOnIubmF0aXZlLmljb249e3VybDp0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nJiZ0Lm5hdGl2ZS5hc3NldHNbaV0uaW1nLnVybCxoZWlnaHQ6dC5uYXRpdmUuYXNzZXRzW2ldLmltZyYmdC5uYXRpdmUuYXNzZXRzW2ldLmltZy5oLHdpZHRoOnQubmF0aXZlLmFzc2V0c1tpXS5pbWcmJnQubmF0aXZlLmFzc2V0c1tpXS5pbWcud307YnJlYWs7Y2FzZSB3LlNQT05TT1JFREJZLklEOmNhc2Ugdy5CT0RZLklEOmNhc2Ugdy5MSUtFUy5JRDpjYXNlIHcuRE9XTkxPQURTLklEOmNhc2Ugdy5QUklDRTpjYXNlIHcuU0FMRVBSSUNFLklEOmNhc2Ugdy5QSE9ORS5JRDpjYXNlIHcuQUREUkVTUy5JRDpjYXNlIHcuREVTQzIuSUQ6Y2FzZSB3LkNUQS5JRDpjYXNlIHcuUkFUSU5HLklEOmNhc2Ugdy5ESVNQTEFZVVJMLklEOnIubmF0aXZlW3pbdC5uYXRpdmUuYXNzZXRzW2ldLmlkXV09dC5uYXRpdmUuYXNzZXRzW2ldLmRhdGEmJnQubmF0aXZlLmFzc2V0c1tpXS5kYXRhLnZhbHVlfXIubmF0aXZlLmNsaWNrVXJsPXQubmF0aXZlLmxpbmsmJnQubmF0aXZlLmxpbmsudXJsLHIubmF0aXZlLmNsaWNrVHJhY2tlcnM9dC5uYXRpdmUubGluayYmdC5uYXRpdmUubGluay5jbGlja3RyYWNrZXJzfHxbXSxyLm5hdGl2ZS5pbXByZXNzaW9uVHJhY2tlcnM9dC5uYXRpdmUuaW1wdHJhY2tlcnN8fFtdLHIubmF0aXZlLmpzdHJhY2tlcj10Lm5hdGl2ZS5qc3RyYWNrZXJ8fFtdLHIud2lkdGh8fChyLndpZHRoPTApLHIuaGVpZ2h0fHwoci5oZWlnaHQ9MCl9fX0oZCxjKX19KSksZC5leHQmJmQuZXh0LmRlYWxfY2hhbm5lbCYmKGMuZGVhbENoYW5uZWw9RFtkLmV4dC5kZWFsX2NoYW5uZWxdfHxudWxsKSxjLm1ldGE9e30sZC5leHQmJmQuZXh0LmRzcGlkJiYoYy5tZXRhLm5ldHdvcmtJZD1kLmV4dC5kc3BpZCksZC5leHQmJmQuZXh0LmFkdmlkJiYoYy5tZXRhLmJ1eWVySWQ9ZC5leHQuYWR2aWQpLGQuYWRvbWFpbiYmZC5hZG9tYWluLmxlbmd0aD4wJiYoYy5tZXRhLmFkdmVydGlzZXJEb21haW5zPWQuYWRvbWFpbixjLm1ldGEuY2xpY2tVcmw9ZC5hZG9tYWluWzBdKSxlLmV4dCYmZS5leHQuYnV5aWQmJihjLmFkc2VydmVyVGFyZ2V0aW5nPXtoYl9idXlpZF9wdWJtYXRpYzplLmV4dC5idXlpZH0pLHQucHVzaChjKX0pKX0pKSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKGUpfXJldHVybiB0fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsYSl7dmFyIGk9IiIrQTtyZXR1cm4gdCYmKGkrPSImZ2Rwcj0iKyh0LmdkcHJBcHBsaWVzPzE6MCksaSs9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQodC5jb25zZW50U3RyaW5nfHwiIikpLGEmJihpKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQoYSkpLCEwPT09cy5iLmdldENvbmZpZygiY29wcGEiKSYmKGkrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvdXNlcl9zeW5jLmh0bWw/a2RudHVpZD0xJnA9IitpfV06W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL2ltYWdlOC5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvSW1nU3luYz9wPSIraX1dfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSxyLHQsaSl7cmV0dXJuIEIoZSx0LmJpZHNbMF0sITApLE9iamVjdChhLmNvbnZlcnRUeXBlcykoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoWCl9fSxbNzE0XSk7CnVwYmpzQ2h1bmsoWzMzXSx7NjpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO24uYT1mdW5jdGlvbihlKXt2YXIgbix0PWUudXJsLHI9ZS5hbmFseXRpY3NUeXBlLHU9ZS5nbG9iYWwsbD1lLmhhbmRsZXIsUz1bXSxqPTAsbT0hMDsoZnVuY3Rpb24oKXtpZihtKXtmb3IodmFyIGU9MDtlPFMubGVuZ3RoO2UrKylTW2VdKCk7Uy5wdXNoPWZ1bmN0aW9uKGUpe2UoKX0sbT0hMX1PYmplY3Qoby5sb2dNZXNzYWdlKSgiZXZlbnQgY291bnQgc2VudCB0byAiLmNvbmNhdCh1LCI6ICIpLmNvbmNhdChqKSl9KSgpO3JldHVybnt0cmFjazpmdW5jdGlvbihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJnczt0aGlzLmdldEFkYXB0ZXJUeXBlKCk9PT1OJiZ3aW5kb3dbdV0obCxuLHQpO3RoaXMuZ2V0QWRhcHRlclR5cGUoKT09PXEmJlUuYXBwbHkodm9pZCAwLGFyZ3VtZW50cyl9LGVucXVldWU6QixlbmFibGVBbmFseXRpY3M6UixkaXNhYmxlQW5hbHl0aWNzOmZ1bmN0aW9uKCl7T2JqZWN0KG8uX2VhY2gpKG4sKGZ1bmN0aW9uKGUsbil7cy5vZmYobixlKX0pKSx0aGlzLmVuYWJsZUFuYWx5dGljcz10aGlzLl9vbGRFbmFibGU/dGhpcy5fb2xkRW5hYmxlOlJ9LGdldEFkYXB0ZXJUeXBlOmZ1bmN0aW9uKCl7cmV0dXJuIHJ9LGdldEdsb2JhbDpmdW5jdGlvbigpe3JldHVybiB1fSxnZXRIYW5kbGVyOmZ1bmN0aW9uKCl7cmV0dXJuIGx9LGdldFVybDpmdW5jdGlvbigpe3JldHVybiB0fX07ZnVuY3Rpb24gVShlKXt2YXIgbj1lLmV2ZW50VHlwZSxyPWUuYXJncyx1PWUuY2FsbGJhY2s7T2JqZWN0KGEuYSkodCx1LEpTT04uc3RyaW5naWZ5KHtldmVudFR5cGU6bixhcmdzOnJ9KSl9ZnVuY3Rpb24gQihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncyxyPXRoaXM7dSYmd2luZG93W3VdJiZuJiZ0P3RoaXMudHJhY2soe2V2ZW50VHlwZTpuLGFyZ3M6dH0pOlMucHVzaCgoZnVuY3Rpb24oKXtqKyssci50cmFjayh7ZXZlbnRUeXBlOm4sYXJnczp0fSl9KSl9ZnVuY3Rpb24gUihlKXt2YXIgdCxyPXRoaXMsYT10aGlzOyJvYmplY3QiIT09aShlKXx8Im9iamVjdCIhPT1pKGUub3B0aW9ucyl8fCh2b2lkIDA9PT1lLm9wdGlvbnMuc2FtcGxpbmd8fE1hdGgucmFuZG9tKCk8cGFyc2VGbG9hdChlLm9wdGlvbnMuc2FtcGxpbmcpKT8ocy5nZXRFdmVudHMoKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihlKXt2YXIgbj1lLmV2ZW50VHlwZSx0PWUuYXJncztuIT09YiYmQi5jYWxsKGEse2V2ZW50VHlwZTpuLGFyZ3M6dH0pfX0pKSxjKHQ9e30seSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnksYXJnczplfSl9KSksYyh0LGcsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpnLGFyZ3M6ZX0pfSkpLGModCxULChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6VCxhcmdzOmV9KX0pKSxjKHQsdiwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnYsYXJnczplfSl9KSksYyh0LGIsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpiLGFyZ3M6ZX0pfSkpLGModCxkLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6ZCxhcmdzOmV9KX0pKSxjKHQsRSwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOkUsYXJnczplfSl9KSksYyh0LF8sKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpfLGFyZ3M6ZX0pfSkpLGModCxBLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6QSxhcmdzOmV9KX0pKSxjKHQscCwoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOnAsYXJnczplfSl9KSksYyh0LEQsKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpELGFyZ3M6ZX0pfSkpLGModCxoLChmdW5jdGlvbihlKXtyZXR1cm4gci5lbnF1ZXVlKHtldmVudFR5cGU6aCxhcmdzOmV9KX0pKSxjKHQsTywoZnVuY3Rpb24oZSl7cmV0dXJuIHIuZW5xdWV1ZSh7ZXZlbnRUeXBlOk8sYXJnczplfSl9KSksYyh0LEksKGZ1bmN0aW9uKGUpe3JldHVybiByLmVucXVldWUoe2V2ZW50VHlwZTpJLGFyZ3M6ZX0pfSkpLGModCxmLChmdW5jdGlvbihuKXtuLmNvbmZpZz0ib2JqZWN0Ij09PWkoZSkmJmUub3B0aW9uc3x8e30sci5lbnF1ZXVlKHtldmVudFR5cGU6ZixhcmdzOm59KX0pKSxuPXQsT2JqZWN0KG8uX2VhY2gpKG4sKGZ1bmN0aW9uKGUsbil7cy5vbihuLGUpfSkpKTpPYmplY3Qoby5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGRpc2FibGVkIGJ5IHNhbXBsaW5nJykpO3RoaXMuX29sZEVuYWJsZT10aGlzLmVuYWJsZUFuYWx5dGljcyx0aGlzLmVuYWJsZUFuYWx5dGljcz1mdW5jdGlvbigpe3JldHVybiBPYmplY3Qoby5sb2dNZXNzYWdlKSgnQW5hbHl0aWNzIGFkYXB0ZXIgZm9yICInLmNvbmNhdCh1LCciIGFscmVhZHkgZW5hYmxlZCwgdW5uZWNlc3NhcnkgY2FsbCB0byBgZW5hYmxlQW5hbHl0aWNzYC4nKSl9fX07dmFyIHI9dCg1KSx1PXQubihyKSxhPXQoNCksbz10KDApO2Z1bmN0aW9uIGMoZSxuLHQpe3JldHVybiBuIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsbix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbbl09dCxlfWZ1bmN0aW9uIGkoZSl7cmV0dXJuKGk9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgcz10KDEwKSxsPXUuYS5FVkVOVFMsZj1sLkFVQ1RJT05fSU5JVCxwPWwuQVVDVElPTl9FTkQseT1sLlJFUVVFU1RfQklEUyxnPWwuQklEX1JFUVVFU1RFRCxiPWwuQklEX1RJTUVPVVQsVD1sLkJJRF9SRVNQT05TRSx2PWwuTk9fQklELGQ9bC5CSURfV09OLEU9bC5CSURfQURKVVNUTUVOVCxfPWwuQklEREVSX0RPTkUsQT1sLlNFVF9UQVJHRVRJTkcsRD1sLkFEX1JFTkRFUl9GQUlMRUQsaD1sLkFEX1JFTkRFUl9TVUNDRUVERUQsTz1sLkFVQ1RJT05fREVCVUcsST1sLkFERF9BRF9VTklUUyxxPSJlbmRwb2ludCIsTj0iYnVuZGxlIn0sNzE4OmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg3MTkpfSw3MTk6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHI9dCg2KSx1PXQoOCksYT1PYmplY3Qoci5hKSh7Z2xvYmFsOiJQdWJzdGFja0FuYWx5dGljcyIsaGFuZGxlcjoib24iLGFuYWx5dGljc1R5cGU6ImJ1bmRsZSJ9KTt1LmRlZmF1bHQucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKHthZGFwdGVyOmEsY29kZToicHVic3RhY2sifSksbi5kZWZhdWx0PWF9fSxbNzE4XSk7CnVwYmpzQ2h1bmsoWzE1Nl0sezczMDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzMxKX0sNzMxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZn0pKTt2YXIgbj10KDApLGk9dCgxKSxhPXQoMTMpO2Z1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBzPTEwMCx1PTIwMCxvPTUwLGM9MTUwLHA9NTAsbD0iVVNEIixtPVsiY3AiLCJjdCIsImNmIiwidmlkZW8iLCJiYXR0ciIsImJjYXQiLCJiYWR2IiwiYmlkZmxvb3IiXSxmPXtjb2RlOiJwdWxzZXBvaW50IixndmxpZDo4MSxhbGlhc2VzOlsicHVsc2VMaXRlIiwicHVsc2Vwb2ludExpdGUiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlsiYmFubmVyIiwibmF0aXZlIiwidmlkZW8iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmZS5wYXJhbXMuY3AmJmUucGFyYW1zLmN0KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9iaWQuY29udGV4dHdlYi5jb20vaGVhZGVyL29ydGI/c3JjPXByZWJpZCIsZGF0YTp7aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmUubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJue2lkOmUuYmlkSWQsYmFubmVyOmIoZSksbmF0aXZlOmgoZSksdGFnaWQ6ZS5wYXJhbXMuY3QudG9TdHJpbmcoKSx2aWRlbzp2KGUpLGJpZGZsb29yOlIoZSksZXh0OmcoZSl9fShlKX0pKSxzaXRlOmooZSxyKSxhcHA6dyhlKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdCxiYWR2OmVbMF0ucGFyYW1zLmJhZHYsdXNlcjprKGVbMF0scikscmVnczp4KHIpLHNvdXJjZTpQKGVbMF0uc2NoYWluKX0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgdD17fSxpPXt9LGQ9e30scz1yLmJvZHk7ZS5kYXRhLmltcC5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2UuaWRdPWV9KSkscyYmcy5zZWF0YmlkLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5mb3JFYWNoKChmdW5jdGlvbihlKXtpW2UuaW1waWRdPWV9KSl9KSk7ZS5iaWRkZXJSZXF1ZXN0JiZlLmJpZGRlclJlcXVlc3QuYmlkcyYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZFtlLmJpZElkXT1lfSkpO3ZhciB1PVtdO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihpW2VdKXt2YXIgcj17cmVxdWVzdElkOmUsY3BtOmlbZV0ucHJpY2UsY3JlYXRpdmVfaWQ6aVtlXS5jcmlkLGNyZWF0aXZlSWQ6aVtlXS5jcmlkLGFkSWQ6ZSx0dGw6aVtlXS5leHB8fDIwLG5ldFJldmVudWU6dHJ1ZSxjdXJyZW5jeTpzLmN1cnx8bCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczppW2VdLmFkb21haW58fFtdfX07dFtlXS52aWRlbz8oZFtlXSYmIm91dHN0cmVhbSI9PT1PYmplY3Qobi5kZWVwQWNjZXNzKShkW2VdLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHIucmVuZGVyZXI9KG89T2JqZWN0KG4uZGVlcEFjY2VzcykoZFtlXSwicmVuZGVyZXIub3B0aW9ucyIpLGM9T2JqZWN0KG4uZGVlcEFjY2VzcykoaVtlXSwiZXh0Lm91dHN0cmVhbSIpLChwPWEuYS5pbnN0YWxsKHt1cmw6Yy5yZW5kZXJlclVybCxjb25maWc6e2RlZmF1bHRPcHRpb25zOmMuY29uZmlnLHJlbmRlcmVyT3B0aW9uczpvLHR5cGU6Yy50eXBlfSxsb2FkZWQ6ITF9KSkuc2V0UmVuZGVyKChmdW5jdGlvbihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHI9ZS5yZW5kZXJlci5nZXRDb25maWcoKTsobmV3IHdpbmRvdy5QdWxzZVBvaW50T3V0c3RyZWFtUmVuZGVyZXIpLnJlbmRlcih7YWRVbml0Q29kZTplLmFkVW5pdENvZGUsdmFzdFhtbDplLnZhc3RYbWwsdHlwZTpyLnR5cGUsZGVmYXVsdE9wdGlvbnM6ci5kZWZhdWx0T3B0aW9ucyxyZW5kZXJlck9wdGlvbnM6b30pfSkpfSkpLHApKSxyLnZhc3RYbWw9aVtlXS5hZG0sci5tZWRpYVR5cGU9InZpZGVvIixyLndpZHRoPWlbZV0udyxyLmhlaWdodD1pW2VdLmgpOnRbZV0uYmFubmVyPyhyLmFkPWlbZV0uYWRtLHIud2lkdGg9aVtlXS53fHx0W2VdLmJhbm5lci53LHIuaGVpZ2h0PWlbZV0uaHx8dFtlXS5iYW5uZXIuaCk6dFtlXS5uYXRpdmUmJihyLm5hdGl2ZT1mdW5jdGlvbihlLHIpe2lmKGUubmF0aXZlKXt2YXIgdD1mdW5jdGlvbihlKXt0cnl7aWYoZSlyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoInB1bHNlcG9pbnRMaXRlLnNhZmVQYXJzZSIsIkVSUk9SIixlKX1yZXR1cm4gbnVsbH0oci5hZG0pLGk9e307aWYodCYmdC5uYXRpdmUmJnQubmF0aXZlLmFzc2V0cylyZXR1cm4gdC5uYXRpdmUuYXNzZXRzLmZvckVhY2goKGZ1bmN0aW9uKGUpe2kudGl0bGU9ZS50aXRsZT9lLnRpdGxlLnRleHQ6aS50aXRsZSxpLmJvZHk9ZS5kYXRhJiYyPT09ZS5kYXRhLnR5cGU/ZS5kYXRhLnZhbHVlOmkuYm9keSxpLnNwb25zb3JlZEJ5PWUuZGF0YSYmMT09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTppLnNwb25zb3JlZEJ5LGkuaW1hZ2U9ZS5pbWcmJjM9PT1lLmltZy50eXBlP2UuaW1nLnVybDppLmltYWdlLGkuaWNvbj1lLmltZyYmMT09PWUuaW1nLnR5cGU/ZS5pbWcudXJsOmkuaWNvbn0pKSx0Lm5hdGl2ZS5saW5rJiYoaS5jbGlja1VybD1lbmNvZGVVUklDb21wb25lbnQodC5uYXRpdmUubGluay51cmwpKSxpLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2VycyxpfXJldHVybiBudWxsfSh0W2VdLGlbZV0pLHIubWVkaWFUeXBlPSJuYXRpdmUiKSx1LnB1c2gocil9dmFyIG8sYyxwfSkpLHV9KHIsZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoIn1dOmUucGl4ZWxFbmFibGVkP1t7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9iaC5jb250ZXh0d2ViLmNvbS92aXNpdG9ybWF0Y2gvcHJlYmlkIn1dOnZvaWQgMH0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdChuLmNvbnZlcnRUeXBlcykoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIGIoZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKTtpZihyJiZPYmplY3Qobi5pc0FycmF5KShyKSlyZXR1cm4gci5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RofSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpO3JldHVybiBudWxsfShlKSx0PWZ1bmN0aW9uKGUscil7aWYoZS5wYXJhbXMuY2Ype3ZhciB0PWUucGFyYW1zLmNmLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKTtyZXR1cm5bcGFyc2VJbnQoZS5wYXJhbXMuY3d8fHRbMF0sMTApLHBhcnNlSW50KGUucGFyYW1zLmNofHx0WzFdLDEwKV19aWYociYmci5sZW5ndGg+MClyZXR1cm5bclswXS53LHJbMF0uaF07cmV0dXJuWzEsMV19KGUscik7cmV0dXJuIGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcj97dzp0WzBdLGg6dFsxXSxiYXR0cjplLnBhcmFtcy5iYXR0cixmb3JtYXQ6cn06bnVsbH1mdW5jdGlvbiB2KGUpe3JldHVybiBlLnBhcmFtcy52aWRlbz9kKHt9LGUucGFyYW1zLnZpZGVvLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvP2UubWVkaWFUeXBlcy52aWRlbzp7fSx7YmF0dHI6ZS5wYXJhbXMuYmF0dHJ9KTpudWxsfWZ1bmN0aW9uIGcoZSl7dmFyIHI9e30sdD17fTtyZXR1cm4gbS5mb3JFYWNoKChmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT0xfSkpLE9iamVjdC5rZXlzKGUucGFyYW1zKS5mb3JFYWNoKChmdW5jdGlvbihuKXt0W25dfHwocltuXT1lLnBhcmFtc1tuXSl9KSksT2JqZWN0LmtleXMocikubGVuZ3RoPjA/e3ByZWJpZDpyfTpudWxsfWZ1bmN0aW9uIGgoZSl7aWYoZS5uYXRpdmVQYXJhbXMpe3ZhciByPVtdO3JldHVybiB5KHIsZnVuY3Rpb24oZSxyLHQpe2lmKHIpcmV0dXJue2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19O3JldHVybiBudWxsfShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLnRpdGxlLHMpKSx5KHIsTyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMix1KSkseShyLE8oci5sZW5ndGgrMSxlLm5hdGl2ZVBhcmFtcy5zcG9uc29yZWRCeSwxLG8pKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxwLHApKSx5KHIsSShyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMsYyxjKSkse3JlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe2Fzc2V0czpyfSksdmVyOiIxLjEiLGJhdHRyOmUucGFyYW1zLmJhdHRyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiB5KGUscil7ciYmZS5wdXNoKHIpfWZ1bmN0aW9uIEkoZSxyLHQsbixpKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxpbWc6e3R5cGU6dCx3bWluOnIud21pbnx8bixobWluOnIuaG1pbnx8aX19Om51bGx9ZnVuY3Rpb24gTyhlLHIsdCxuKXtyZXR1cm4gcj97aWQ6ZSxyZXF1aXJlZDpyLnJlcXVpcmVkPzE6MCxkYXRhOnt0eXBlOnQsbGVuOnIubGVufHxufX06bnVsbH1mdW5jdGlvbiBqKGUscil7dmFyIHQ9ZSYmZS5sZW5ndGg+MD9lWzBdLnBhcmFtcy5jcDoiMCI7cmV0dXJuIGVbMF0ucGFyYW1zLmFwcD9udWxsOntwdWJsaXNoZXI6e2lkOnQudG9TdHJpbmcoKX0scmVmOlQoKSxwYWdlOnImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIifX1mdW5jdGlvbiB3KGUpe3ZhciByPWUmJmUubGVuZ3RoPjA/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO3JldHVybiB0P3twdWJsaXNoZXI6e2lkOnIudG9TdHJpbmcoKX0sYnVuZGxlOnQuYnVuZGxlLHN0b3JldXJsOnQuc3RvcmVVcmwsZG9tYWluOnQuZG9tYWlufTpudWxsfWZ1bmN0aW9uIFQoKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX1mdW5jdGlvbiBrKGUscil7dmFyIHQ9e307aWYociYmci5nZHByQ29uc2VudCYmKHQuY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLGUmJmUudXNlcklkKXt0LmVpZHM9W10scSh0LmVpZHMsZS51c2VySWQucHViY2lkLCJwdWJjaWQub3JnIikscSh0LmVpZHMsZS51c2VySWQuYnJpdGVwb29saWQsImJyaXRlcG9vbC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5jcml0ZW9JZCwiY3JpdGVvLmNvbSIpLHEodC5laWRzLGUudXNlcklkLmlkbF9lbnYsImxpdmVyYW1wLmNvbSIpLHEodC5laWRzLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5pZDVpZC51aWQiKSwiaWQ1LXN5bmMuY29tIixPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQuaWQ1aWQuZXh0IikpLHEodC5laWRzLE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInVzZXJJZC5wYXJyYWJsZUlkLmVpZCIpLCJwYXJyYWJsZS5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5mYWJyaWNrSWQsIm5ldXN0YXIuYml6IikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmhhbG9JZC5oYWxvSWQiKSwiYXVkaWdlbnQuY29tIikscSh0LmVpZHMsZS51c2VySWQubWVya2xlSWQsIm1lcmtsZWluYy5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC5sb3RhbWVQYW5vcmFtYUlkLCJjcndkY250cmwubmV0IikscSh0LmVpZHMsZS51c2VySWQuY29ubmVjdGlkLCJ2ZXJpem9ubWVkaWEuY29tIikscSh0LmVpZHMsT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLnVpZDIuaWQiKSwidWlkYXBpLmNvbSIpLGUudXNlcklkLmxpcGImJmUudXNlcklkLmxpcGIubGlwYmlkJiZxKHQuZWlkcyxlLnVzZXJJZC5saXBiLmxpcGJpZCwibGl2ZWludGVudC5jb20iKSxxKHQuZWlkcyxlLnVzZXJJZC50ZGlkLCJhZHNlcnZlci5vcmciLHtydGlQYXJ0bmVyOiJURElEIn0pO3ZhciBpPWUudXNlcklkLmRpZ2l0cnVzdGlkO2lmKGkmJmkuZGF0YSl7dmFyIGE9e307aS5kYXRhLmlkJiYoYS5pZD1pLmRhdGEuaWQpLGkuZGF0YS5rZXl2JiYoYS5rZXl2PWkuZGF0YS5rZXl2KSx0LmRpZ2l0cnVzdD1hfX1yZXR1cm57ZXh0OnR9fWZ1bmN0aW9uIHEoZSxyLHQsbil7aWYocil7dmFyIGk9e2lkOnJ9O24mJihpLmV4dD1uKSxlLnB1c2goe3NvdXJjZTp0LHVpZHM6W2ldfSl9fWZ1bmN0aW9uIHgoZSl7aWYoZS5nZHByQ29uc2VudHx8ZS51c3BDb25zZW50KXt2YXIgcj17fTtyZXR1cm4gZS5nZHByQ29uc2VudCYmKHIuZ2Rwcj1lLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCksZS51c3BDb25zZW50JiYoci51c19wcml2YWN5PWUudXNwQ29uc2VudCkse2V4dDpyfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBQKGUpe3JldHVybiBlP3tleHQ6e3NjaGFpbjplfX06bnVsbH1mdW5jdGlvbiBSKGUpe3ZhciByPWUucGFyYW1zLmJpZGZsb29yO2lmKE9iamVjdChuLmlzRm4pKGUuZ2V0Rmxvb3IpKXt2YXIgdD1lLmdldEZsb29yKHttZWRpYVR5cGU6ZS5tZWRpYVR5cGVzLmJhbm5lcj8iYmFubmVyIjplLm1lZGlhVHlwZXMudmlkZW8/InZpZGVvIjoiTmF0aXZlIixzaXplOiIqIixjdXJyZW5jeTpsfSk7dCYmdC5mbG9vciYmKHI9dC5mbG9vcil9cmV0dXJuIHJ9T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGYpfX0sWzczMF0pOwp1cGJqc0NodW5rKFsxNDZdLHs3NTI6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc1Myl9LDc1MzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGZ9KSk7dmFyIG49cigwKSxhPXIoMykscz1yKDEpO2Z1bmN0aW9uIGkoKXtyZXR1cm4oaT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIG8oZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixhLHM9W10saT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShpPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTtpPSEwKTt9Y2F0Y2goZSl7bz0hMCxhPWV9ZmluYWxseXt0cnl7aXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGF9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgYz0iaHR0cHM6Ly8iLmNvbmNhdCgiZS5yZWxheS5iaWQiLCIvcC9vcGVucnRiMiIpLGQ9ZnVuY3Rpb24oZSl7cmV0dXJue2ZkOjEsdGlkOmUudHJhbnNhY3Rpb25JZCxleHQ6e3NjaGFpbjplLnNjaGFpbn19fSxsPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkSWQscj1lLnBhcmFtcyxhPWUubWVkaWFUeXBlcyxzPWUuYWRVbml0Q29kZTtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlSW1wIixiaWRJZDp0LHBhcmFtczpyfSk7dmFyIGk9W107Zm9yKHZhciB1IGluIGEpe3ZhciBjPXtpZDp0LHRhZ2lkOnMsZXh0OnthMHg6e2JpZGRlcnM6cn19fSxkPWFbdV0uc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD1vKGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpO2NbdV09e2Zvcm1hdDpkfSxpLnB1c2goYyl9cmV0dXJuIGl9LGc9ZnVuY3Rpb24oZSx0KXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlVXNlciIsdmFsaWRCaWRSZXF1ZXN0OmV9KTt2YXIgcj17ZXh0Ontjb25zZW50Oih0LmdkcHJDb25zZW50fHx7fSkuY29uc2VudFN0cmluZ3x8IiJ9fTtyZXR1cm4gZS51c2VySWRBc0VpZHMmJihyLmV4dC5laWRzPWUudXNlcklkQXNFaWRzKSxyfSxwPWZ1bmN0aW9uKGUpe3JldHVybntjb3BwYTphLmIuZ2V0Q29uZmlnKCJjb3BwYSIpfHwhMT8xOjAsZXh0OntnZHByOihlLmdkcHJDb25zZW50fHx7fSkuZ2RwckFwcGxpZXN8fCExPzE6MH19fSxmPXtjb2RlOiJyZWxheSIsaXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiaXNCaWRSZXF1ZXN0VmFsaWQiLGJpZDplfSk7dHJ5e3JldHVybiBlLnBhcmFtcyYmZS5zaXplcy5sZW5ndGg+MH1jYXRjaChlKXtyZXR1cm4gbi5sb2dNZXNzYWdlKHt0cmFjZToiaXNCaWRSZXF1ZXN0VmFsaWQ6OmV4Y2VwdGlvbiIsZXhjZXB0aW9uOmV9KSwhMX19LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgcj1hLmIuZ2V0Q29uZmlnKCJyZWxheUFjY291bnRJZCIpO3JldHVybiByfHxuLmxvZ1dhcm4oe3RyYWNlOiJidWlsZFJlcXVlc3RzIixtZXNzYWdlOiJGYWlsZWQgdG8gYnVpbGQgcmVxdWVzdDogeW91ciBhY2NvdW50SWQgaXMgbm90IHNldC4gUGxlYXNlIHNldCBwYmpzLnNldENvbmZpZyh7YWNjb3VudElkOiBBQ0NPVU5UX0lELCAuLi59KS4ifSksbi5sb2dNZXNzYWdlKHt0cmFjZToiYnVpbGRSZXF1ZXN0cyIsdmFsaWRCaWRSZXF1ZXN0czplLGJpZGRlclJlcXVlc3Q6dCxhY2NvdW50SWQ6cn0pLGUubWFwKChmdW5jdGlvbihlKXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJidWlsZFJlcXVlc3RzOjptYXAifSk7dmFyIHM9ZnVuY3Rpb24oZSx0KXtuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJtYWtlUmVsYXlSZXF1ZXN0Iix2YWxpZEJpZFJlcXVlc3Q6ZX0pO3ZhciByLHMsbyx1LGMsZixiLG0seT17aWQ6ZS5hdWN0aW9uSWQsc291cmNlOmQoZSksaW1wOmwoZSksYmFkdjpbXSxkZXZpY2U6KGM9KHdpbmRvd3x8e30pLm5hdmlnYXRvcnx8e30sZj1jLnBsYXRmb3JtfHwiIixiPWMudXNlckFnZW50fHwiIixzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuaW5kZXhPZih0KT4tMX0sbz1mLnRvTG93ZXJDYXNlKCksdT1zKG8sIndpbiIpfHxzKG8sIm1hYyIpfHxzKG8sIngxMSIpfHxzKG8sImxpbnV4IiksbT17bW9iaWxlOjEscGM6MixwaG9uZTo0fVsocyhvLCJpcGhvbmUiKXx8cyhvLCJhbmRyb2lkIik/InBob25lIjp1JiYicGMiKXx8Im1vYmlsZSJdLHt1YTpiLGxhbmd1YWdlOihjLmxhbmd1YWdlc1sxXXx8IiIpLnRvVXBwZXJDYXNlKCksZGV2aWNldHlwZTptLGpzOjF9KSxzaXRlOihyPW5ldyBVUkwoYS5iLmdldENvbmZpZygicHVibGlzaGVyRG9tYWluIil8fCIiKSx7aWQ6IjAiLHBhZ2U6cixkb21haW46KHJ8fHt9KS5ob3N0fSksdXNlcjpnKGUsdCkscmVnczpwKHQpLGF0OjEsZXh0Ontzc2w6MX19O3JldHVybiBpKHksYS5iLmdldENvbmZpZygib3J0YjIiKXx8e30sZS5vcnRiMkltcHx8e30pfShlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQoYywiP2E9IikuY29uY2F0KHIpLGRhdGE6c319KSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7aWYobi5sb2dNZXNzYWdlKHt0cmFjZToiaW50ZXJwcmV0UmVzcG9uc2UiLHNlcnZlclJlc3BvbnNlOmUscmVxdWVzdDp0fSksIWUpcmV0dXJuW107dmFyIHI9KChlfHx7fSkuYm9keXx8e30pLnNlYXRiaWR8fFtdO3JldHVybiBuLmxvZ01lc3NhZ2Uoe3NlYXRCaWRzOnJ9KSxyLmxlbmd0aD9yLmZsYXRNYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5tYXAoKGZ1bmN0aW9uKHQpe24ubG9nTWVzc2FnZSh7dHJhY2U6ImludGVycHJldFJlc3BvbnNlOjpzZWF0LmJpZDo6bWFwIixiaWQ6dH0pLHQuYnRCaWRkZXJDb2RlPWUuc2VhdDt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gbi5sb2dNZXNzYWdlKHt0cmFjZToibmV3QmlkUmVzcG9uc2UiLGJpZDplfSkse3JlcXVlc3RJZDplLmltcGlkLGNwbTplLnByaWNlLGN1cnJlbmN5OmUuY3VycmVuY3l8fCJVU0QiLHdpZHRoOmUud3x8MzUwLGhlaWdodDplLmh8fDIwMCxhZDplLmFkbSx0dGw6ZS50dGx8fDM2MCxjcmVhdGl2ZUlkOmUuY3JpZCxuZXRSZXZlbnVlOiEwLGJ0QmlkZGVyQ29kZTplLmJ0QmlkZGVyQ29kZX19KHQpO3JldHVybiBuLmxvZ01lc3NhZ2Uoe2JpZFJlc3BvbnNlOnJ9KSxyfSkpfSkpOltdfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsYSl7bi5sb2dNZXNzYWdlKHt0cmFjZToiZ2V0VXNlclN5bmNzIixzZXJ2ZXJSZXNwb25zZXM6dH0pO3ZhciBzPSgoKHRbMF18fHt9KS5ib2R5fHx7fSkuZXh0fHx7fSkudXNlcl9zeW5jc3x8W107cmV0dXJuIGUucGl4ZWxFbmFibGVkJiZzPyhuLmxvZ01lc3NhZ2Uoe3RyYWNlOiJnZXRVc2VyU3luY3M6OnN5bmNzRm91bmQiLHN5bmNzOnN9KSxzKTpbXX0sb25UaW1lb3V0OmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uVGltZW91dCIsc3RhdHVzOiJOb3QgaW1wbGVtZW50ZWQuIix0aW1lb3V0RGF0YTplfSl9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uQmlkV29uIixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4ifSl9LG9uU2V0VGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe24ubG9nTWVzc2FnZSh7dHJhY2U6Im9uU2V0VGFyZ2V0aW5nIixzdGF0dXM6Ik5vdCBpbXBsZW1lbnRlZC4ifSl9fTtPYmplY3Qocy5yZWdpc3RlckJpZGRlcikoZil9fSxbNzUyXSk7CnVwYmpzQ2h1bmsoWzE0M10sezc2MDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzYxKX0sNzYxOmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbn0pKTt2YXIgYT10KDApLGk9dCgxKSxzPXQoMik7dmFyIG49bmV3IGZ1bmN0aW9uKCl7dGhpcy5jb2RlPSJyaHl0aG1vbmUiLHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcz1bcy5kLHMuYl07dmFyIGU9WzIsMyw1LDZdLHI9WyJ2aWRlby9tcDQiXSx0PVsxLDIsMyw0XSxpPVsxXSxuPVsxLDIsNV0sZD17fSxwPXRoaXM7ZnVuY3Rpb24gYyhlLHIpe3ZhciB0LGk9W10scz0wO2lmKHImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8uc3RhY2subGVuZ3RoKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7bi5ocmVmPXIucmVmZXJlckluZm8uc3RhY2tbMF0scz0iaHR0cHM6Ij09bi5wcm90b2NvbD8xOjB9Zm9yKHZhciBwPTA7cDxlLmxlbmd0aDtwKyspe2RbZVtwXS5hZFVuaXRDb2RlXT1lW3BdO3ZhciBjPXt9O2lmKGMuaWQ9ZVtwXS5hZFVuaXRDb2RlLGMuYmlkZmxvb3I9MCxjLnNlY3VyZT1zLE9iamVjdChhLmRlZXBBY2Nlc3MpKGVbcF0sIm1lZGlhVHlwZXMuYmFubmVyIil8fCJiYW5uZXIiPT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZVtwXSwibWVkaWFUeXBlIikpe3ZhciBvPXYoZVtwXSk7byYmKGMuYmFubmVyPW8pfShPYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGVzLnZpZGVvIil8fCJ2aWRlbyI9PT1PYmplY3QoYS5kZWVwQWNjZXNzKShlW3BdLCJtZWRpYVR5cGUiKSkmJihjLnZpZGVvPXUoZVtwXSkpLChjLmJhbm5lcnx8Yy52aWRlbykmJihjLmV4dD17YmlkZGVyOntwbGFjZW1lbnRJZDoodD1lW3BdKS5wYXJhbXMucGxhY2VtZW50SWQsem9uZTp0LnBhcmFtcyYmdC5wYXJhbXMuem9uZT90LnBhcmFtcy56b25lOiIxciIscGF0aDp0LnBhcmFtcyYmdC5wYXJhbXMucGF0aD90LnBhcmFtcy5wYXRoOiJtdm8ifX0saS5wdXNoKGMpKX1yZXR1cm4gaX1mdW5jdGlvbiBvKGUpe3ZhciByPXtkb21haW46IiIscGFnZToiIixyZWY6IiJ9O2lmKGUmJmUucmVmZXJlckluZm8pe3ZhciB0PWUucmVmZXJlckluZm87aWYoci5yZWY9dC5yZWZlcmVyLHQuc3RhY2subGVuZ3RoKXtyLnBhZ2U9dC5zdGFja1t0LnN0YWNrLmxlbmd0aC0xXTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7YS5ocmVmPXQuc3RhY2tbMF0sci5kb21haW49YS5ob3N0bmFtZX19cmV0dXJuIHJ9ZnVuY3Rpb24gbShlKXt2YXIgcj1wYXJzZUludChlWzBdKSx0PXBhcnNlSW50KGVbMV0pO3JldHVybiByPT1yJiZ0PT10JiZbcix0XX1mdW5jdGlvbiB2KGUpe3ZhciByPWUuc2l6ZXM7ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiYocj1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKTt2YXIgdD1PYmplY3QoYS5wYXJzZVNpemVzSW5wdXQpKHIpLGk9W107cmV0dXJuIHQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoZSl7dmFyIHI9bShlLnNwbGl0KCJ4IikpO3ImJmkucHVzaCh7dzpyWzBdLGg6clsxXX0pfX0pKSwhIWkubGVuZ3RoJiZ7Zm9ybWF0Oml9fWZ1bmN0aW9uIHUocyl7dmFyIGQ9W107aWYoT2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpe3ZhciBwPXMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplO09iamVjdChhLmlzQXJyYXkpKHMubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKHA9cy5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pO3ZhciBjPW0ocCk7YyYmKGQ9Yyl9cmV0dXJue21pbWVzOk9iamVjdChhLmRlZXBBY2Nlc3MpKHMsIm1lZGlhVHlwZXMudmlkZW8ubWltZXMiKXx8cixwcm90b2NvbHM6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5wcm90b2NvbHMiKXx8ZSx3OmRbMF0saDpkWzFdLHN0YXJ0ZGVsYXk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5Iil8fDAsc2tpcDpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnNraXAiKXx8MCxwbGF5YmFja21ldGhvZDpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXliYWNrbWV0aG9kIil8fHQsZGVsaXZlcnk6T2JqZWN0KGEuZGVlcEFjY2VzcykocywibWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeSIpfHxpLGFwaTpPYmplY3QoYS5kZWVwQWNjZXNzKShzLCJtZWRpYVR5cGVzLnZpZGVvLmFwaSIpfHxufX1mdW5jdGlvbiBsKGUscil7Zm9yKHZhciB0PTA7dDxyLmxlbmd0aDt0KyspaWYoclt0XS5wYXJhbXMmJnJbdF0ucGFyYW1zW2VdKXJldHVybiByW3RdLnBhcmFtc1tlXX10aGlzLmlzQmlkUmVxdWVzdFZhbGlkPWZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMucGxhY2VtZW50SWQpfSx0aGlzLmdldFVzZXJTeW5jcz1mdW5jdGlvbihlLHIsdCl7cmV0dXJuW119LHRoaXMuYnVpbGRSZXF1ZXN0cz1mdW5jdGlvbihlLHIpe3ZhciB0PWwoInBsYWNlbWVudElkIixlKTtpZih2b2lkIDA9PT10fHxlLmxlbmd0aDwxKXJldHVybltdO3ZhciBpPWwoImVuZHBvaW50IixlKXx8Imh0dHBzOi8vdGFnLjFyeC5pby9ybXAve3BsYWNlbWVudElkfS8wL3twYXRofT96PXt6b25lfSIscz1sKCJ6b25lIixlKXx8IjFyIixuPWwoInBhdGgiLGUpfHwibXZvIjtpPShpPShpPWkucmVwbGFjZSgvXHtwbGFjZW1lbnRJZFx9L2ksdCkpLnJlcGxhY2UoL1x7em9uZVx9L2kscykpLnJlcGxhY2UoL1x7cGF0aFx9L2ksbik7dmFyIGQ9LyhednwoXC4wKSskKS9naTtpKz0iJmhidj0iKyI1LjIwLjIiLnJlcGxhY2UoZCwiIikrIiwiKyIyLjEiLnJlcGxhY2UoZCwiIik7dmFyIHA9ZnVuY3Rpb24oZSxyKXt2YXIgdD17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmMoZSxyKSxzaXRlOm8ociksZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOiIiLGRudDpPYmplY3QoYS5nZXRETlQpKCk/MTowfSx1c2VyOntleHQ6e2NvbnNlbnQ6T2JqZWN0KGEuZGVlcEFjY2VzcykociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKT9yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmc6IiJ9fSxhdDoxLHRtYXg6MWUzLHJlZ3M6e2V4dDp7Z2RwcjohIU9iamVjdChhLmRlZXBBY2Nlc3MpKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIikmJkJvb2xlYW4oMSZyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKX19fTtyZXR1cm4gZVswXS5zY2hhaW4mJih0LnNvdXJjZT17ZXh0OntzY2hhaW46ZVswXS5zY2hhaW59fSksdH0oZSxyKTtyZXR1cm4gcC5pbXAubGVuZ3RoP3ttZXRob2Q6IlBPU1QiLHVybDppLGRhdGE6SlNPTi5zdHJpbmdpZnkocCl9Ont9fSx0aGlzLmludGVycHJldFJlc3BvbnNlPWZ1bmN0aW9uKGUpe3ZhciByPWUuYm9keXx8W10sdD1bXSxhPTA7aWYoci5zZWF0YmlkKXt2YXIgaT1bXTtmb3IoYT0wO2E8ci5zZWF0YmlkLmxlbmd0aDthKyspZm9yKHZhciBzPTA7czxyLnNlYXRiaWRbYV0uYmlkLmxlbmd0aDtzKyspaS5wdXNoKHIuc2VhdGJpZFthXS5iaWRbc10pO3I9aX1mb3IoYT0wO2E8ci5sZW5ndGg7YSsrKXt2YXIgbj1yW2FdLGM9ZFtuLmltcGlkXSxvPXtyZXF1ZXN0SWQ6Yy5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLnByaWNlKSx3aWR0aDpuLncsaGVpZ2h0Om4uaCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczpuLmFkb21haW59LGNyZWF0aXZlSWQ6bi5jcmlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM1MH07Yy5tZWRpYVR5cGVzJiZjLm1lZGlhVHlwZXMudmlkZW8/KG8udmFzdFVybD1uLm51cmwsby5tZWRpYVR5cGU9InZpZGVvIixvLnR0bD02MDApOm8uYWQ9bi5hZG0sdC5wdXNoKG8pfXJldHVybiB0fX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKG4pfX0sWzc2MF0pOwp1cGJqc0NodW5rKFsxMzddLHs3Nzg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc3OSl9LDc3OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGp9KSksdC5oYXNWaWRlb01lZGlhVHlwZT1JLHIuZCh0LCJyZXNldFJ1YmlDb25mIiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0Lm1hc1NpemVPcmRlcmluZz1SLHQuZGV0ZXJtaW5lUnViaWNvblZpZGVvU2l6ZUlkPXosdC5nZXRQcmljZUdyYW51bGFyaXR5PVQsdC5oYXNWYWxpZFZpZGVvUGFyYW1zPUUsdC5oYXNWYWxpZFN1cHBseUNoYWluUGFyYW1zPVUsdC5lbmNvZGVQYXJhbT1QLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe049ITF9O3ZhciBuPXIoMCksaT1yKDEpLG89cigzKSxhPXIoMiksYz1yKDExKSxzPXIubihjKSxkPXIoMTMpLHU9cigxNCk7ZnVuY3Rpb24gcChlLHQpe3ZhciByPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksci5wdXNoLmFwcGx5KHIsbil9cmV0dXJuIHJ9ZnVuY3Rpb24gbChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9wKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZyhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6cChPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBiKCl7cmV0dXJuKGI9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBmKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIG4saSxvPVtdLGE9ITAsYz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYT0obj1yLm5leHQoKSkuZG9uZSkmJihvLnB1c2gobi52YWx1ZSksIXR8fG8ubGVuZ3RoIT09dCk7YT0hMCk7fWNhdGNoKGUpe2M9ITAsaT1lfWZpbmFsbHl7dHJ5e2F8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBpfX1yZXR1cm4gb30oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBtKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBtKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBtKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsbj1uZXcgQXJyYXkodCk7cjx0O3IrKyluW3JdPWVbcl07cmV0dXJuIG59ZnVuY3Rpb24gZyhlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gdihlKXtyZXR1cm4odj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB5PSJodHRwczovL3ZpZGVvLW91dHN0cmVhbS5ydWJpY29ucHJvamVjdC5jb20vYXBleC0yLjAuMC5qcyIseD17fTtvLmIuZ2V0Q29uZmlnKCJydWJpY29uIiwoZnVuY3Rpb24oZSl7T2JqZWN0KG4ubWVyZ2VEZWVwKSh4LGUucnViaWNvbil9KSk7dmFyIGg9ezE6IjQ2OHg2MCIsMjoiNzI4eDkwIiw1OiIxMjB4OTAiLDc6IjEyNXgxMjUiLDg6IjEyMHg2MDAiLDk6IjE2MHg2MDAiLDEwOiIzMDB4NjAwIiwxMzoiMjAweDIwMCIsMTQ6IjI1MHgyNTAiLDE1OiIzMDB4MjUwIiwxNjoiMzM2eDI4MCIsMTc6IjI0MHg0MDAiLDE5OiIzMDB4MTAwIiwzMToiOTgweDEyMCIsMzI6IjI1MHgzNjAiLDMzOiIxODB4NTAwIiwzNToiOTgweDE1MCIsMzc6IjQ2OHg0MDAiLDM4OiI5MzB4MTgwIiwzOToiNzUweDEwMCIsNDA6Ijc1MHgyMDAiLDQxOiI3NTB4MzAwIiw0MjoiMng0Iiw0MzoiMzIweDUwIiw0NDoiMzAweDUwIiw0ODoiMzAweDMwMCIsNTM6IjEwMjR4NzY4Iiw1NDoiMzAweDEwNTAiLDU1OiI5NzB4OTAiLDU3OiI5NzB4MjUwIiw1ODoiMTAwMHg5MCIsNTk6IjMyMHg4MCIsNjA6IjMyMHgxNTAiLDYxOiIxMDAweDEwMDAiLDY0OiI1ODB4NTAwIiw2NToiNjQweDQ4MCIsNjY6IjkzMHg2MDAiLDY3OiIzMjB4NDgwIiw2ODoiMTgwMHgxMDAwIiw3MjoiMzIweDMyMCIsNzM6IjMyMHgxNjAiLDc4OiI5ODB4MjQwIiw3OToiOTgweDMwMCIsODA6Ijk4MHg0MDAiLDgzOiI0ODB4MzAwIiw4NToiMzAweDEyMCIsOTA6IjU0OHgxNTAiLDk0OiI5NzB4MzEwIiw5NToiOTcweDEwMCIsOTY6Ijk3MHgyMTAiLDEwMToiNDgweDMyMCIsMTAyOiI3Njh4MTAyNCIsMTAzOiI0ODB4MjgwIiwxMDU6IjI1MHg4MDAiLDEwODoiMzIweDI0MCIsMTEzOiIxMDAweDMwMCIsMTE3OiIzMjB4MTAwIiwxMjU6IjgwMHgyNTAiLDEyNjoiMjAweDYwMCIsMTQ0OiI5ODB4NjAwIiwxNDU6Ijk4MHgxNTAiLDE1MjoiMTAwMHgyNTAiLDE1NjoiNjQweDMyMCIsMTU5OiIzMjB4MjUwIiwxNzk6IjI1MHg2MDAiLDE5NToiNjAweDMwMCIsMTk4OiI2NDB4MzYwIiwxOTk6IjY0MHgyMDAiLDIxMzoiMTAzMHg1OTAiLDIxNDoiOTgweDM2MCIsMjIxOiIxeDEiLDIyOToiMzIweDE4MCIsMjMwOiIyMDAweDE0MDAiLDIzMjoiNTgweDQwMCIsMjM0OiI2eDYiLDI1MToiMngyIiwyNTY6IjQ4MHg4MjAiLDI1NzoiNDAweDYwMCIsMjU4OiI1MDB4MjAwIiwyNTk6Ijk5OHgyMDAiLDI2NDoiOTcweDEwMDAiLDI2NToiMTkyMHgxMDgwIiwyNzQ6IjE4MDB4MjAwIiwyNzg6IjMyMHg1MDAiLDI4MjoiMzIweDQwMCIsMjg4OiI2NDB4MzgwIiw1NDg6IjUwMHgxMDAwIiw1NTA6Ijk4MHg0ODAiLDU1MjoiMzAweDIwMCIsNTU4OiI2NDB4NjQwIiw1NjI6IjMwMHg0MzEiLDU2NDoiMzIweDQzMSIsNTY2OiIzMjB4MzAwIiw1Njg6IjMwMHgxNTAiLDU3MDoiMzAweDEyNSIsNTcyOiIyNTB4MzUwIiw1NzQ6IjYyMHg4OTEiLDU3NjoiNjEweDg3NyIsNTc4OiI5ODB4NTUyIiw1ODA6IjUwNXg2NTYifTtPYmplY3Qobi5fZWFjaCkoaCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gaFtlXT10fSkpO3ZhciBqPXtjb2RlOiJydWJpY29uIixndmxpZDo1MixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZigib2JqZWN0IiE9PXYoZS5wYXJhbXMpKXJldHVybiExO2Zvcih2YXIgdD0wLHI9WyJhY2NvdW50SWQiLCJzaXRlSWQiLCJ6b25lSWQiXTt0PHIubGVuZ3RoO3QrKylpZihlLnBhcmFtc1tyW3RdXT1wYXJzZUludChlLnBhcmFtc1tyW3RdXSksaXNOYU4oZS5wYXJhbXNbclt0XV0pKXJldHVybiBPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT13KGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxFKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPVtdLGk9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJ2aWRlbyI9PT13KGUpfSkpLm1hcCgoZnVuY3Rpb24oZSl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9e2lkOmUudHJhbnNhY3Rpb25JZCx0ZXN0Om8uYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOmUudHJhbnNhY3Rpb25JZH0sdG1heDp0LnRpbWVvdXQsaW1wOlt7ZXhwOm8uYi5nZXRDb25maWcoInMyc0NvbmZpZy5kZWZhdWx0VHRsIiksaWQ6ZS5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDpnKHt9LGUuYmlkZGVyLGUucGFyYW1zKSx2aWRlbzpPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIil8fHt9fV0sZXh0OntwcmViaWQ6e2NoYW5uZWw6e25hbWU6InBianMiLHZlcnNpb246dXBianMudmVyc2lvbn0sY2FjaGU6e3Zhc3R4bWw6e3JldHVybkNyZWF0aXZlOiEwPT09eC5yZXR1cm5WYXN0fX0sdGFyZ2V0aW5nOntpbmNsdWRld2lubmVyczohMCxpbmNsdWRlYmlkZGVya2V5czohMSxwcmljZWdyYW51bGFyaXR5OlQoby5iKX0sYmlkZGVyczp7cnViaWNvbjp7aW50ZWdyYXRpb246eC5pbnRfdHlwZXx8InBianMifX19fX07InJ1Ymljb24iIT09ZS5iaWRkZXImJihyLmV4dC5wcmViaWQuYWxpYXNlcz1nKHt9LGUuYmlkZGVyLCJydWJpY29uIikpO3ZhciBpLGMscz1PYmplY3QodS5hKSgpLmluc3RhbGxlZE1vZHVsZXM7aWYoIXN8fHMubGVuZ3RoJiYtMT09PXMuaW5kZXhPZigicnViaWNvbkFuYWx5dGljc0FkYXB0ZXIiKXx8T2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJleHQucHJlYmlkLmFuYWx5dGljcyIse3J1Ymljb246eyJjbGllbnQtYW5hbHl0aWNzIjohMH19KSwiZnVuY3Rpb24iIT10eXBlb2YgZS5nZXRGbG9vcnx8eC5kaXNhYmxlRmxvb3JzKWk9cGFyc2VGbG9hdChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJwYXJhbXMuZmxvb3IiKSk7ZWxzZXt2YXIgZDt0cnl7ZD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6InZpZGVvIixzaXplOkEoZSwidmlkZW8iKX0pfWNhdGNoKGUpe09iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9aT0ib2JqZWN0IiE9PXYoZCl8fCJVU0QiIT09ZC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQoZC5mbG9vcikpP3ZvaWQgMDpwYXJzZUZsb2F0KGQuZmxvb3IpfShpc05hTihpKXx8KHIuaW1wWzBdLmJpZGZsb29yPWkpLHIuaW1wWzBdLmV4dFtlLmJpZGRlcl0udmlkZW8uc2l6ZV9pZD16KGUpLGZ1bmN0aW9uKGUsdCxyKXtpZighZSlyZXR1cm47Im9iamVjdCI9PT12KG8uYi5nZXRDb25maWcoImFwcCIpKT9lLmFwcD1vLmIuZ2V0Q29uZmlnKCJhcHAiKTplLnNpdGU9e3BhZ2U6Tyh0LHIpfTsib2JqZWN0Ij09PXYoby5iLmdldENvbmZpZygiZGV2aWNlIikpJiYoZS5kZXZpY2U9by5iLmdldENvbmZpZygiZGV2aWNlIikpO3QucGFyYW1zLnZpZGVvLmxhbmd1YWdlJiZbInNpdGUiLCJkZXZpY2UiXS5mb3JFYWNoKChmdW5jdGlvbihyKXtlW3JdJiYoInNpdGUiPT09cj9lW3JdLmNvbnRlbnQ9Yih7bGFuZ3VhZ2U6dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2V9LGVbcl0uY29udGVudCk6ZVtyXT1iKHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0sZVtyXSkpfSkpfShyLGUsdCksZnVuY3Rpb24oZSx0KXsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwJiYoZS5pbXBbMF0udmlkZW8uc2tpcD10LnBhcmFtcy52aWRlby5za2lwKTsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5za2lwYWZ0ZXImJihlLmltcFswXS52aWRlby5za2lwYWZ0ZXI9dC5wYXJhbXMudmlkZW8uc2tpcGRlbGF5KTsib2JqZWN0Ij09PXYoZS5pbXBbMF0udmlkZW8pJiZ2b2lkIDA9PT1lLmltcFswXS52aWRlby5wb3MmJigiYXRmIj09PXQucGFyYW1zLnBvc2l0aW9uP2UuaW1wWzBdLnZpZGVvLnBvcz0xOiJidGYiPT09dC5wYXJhbXMucG9zaXRpb24mJihlLmltcFswXS52aWRlby5wb3M9MykpO3ZhciByPUEodCwidmlkZW8iKTtlLmltcFswXS52aWRlby53PXJbMF0sZS5pbXBbMF0udmlkZW8uaD1yWzFdfShyLGUpLHQuZ2RwckNvbnNlbnQpJiYoImJvb2xlYW4iPT10eXBlb2YgdC5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKGM9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLE9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQuZ2RwciIsYyksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTt0LnVzcENvbnNlbnQmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwicmVncy5leHQudXNfcHJpdmFjeSIsdC51c3BDb25zZW50KTt2YXIgcD1PYmplY3Qobi5kZWVwQWNjZXNzKSh0LCJiaWRzLjAudXNlcklkQXNFaWRzIik7cCYmcC5sZW5ndGgmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5leHQuZWlkcyIscCk7dmFyIGw9by5iLmdldENvbmZpZygidXNlci5pZCIpO2wmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwidXNlci5pZCIsbCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIsInJlZ3MuY29wcGEiLDEpLGUuc2NoYWluJiZVKGUuc2NoYWluKSYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLCJzb3VyY2UuZXh0LnNjaGFpbiIsZS5zY2hhaW4pO3ZhciBmPW8uYi5nZXRDb25maWcoIm11bHRpYmlkIik7cmV0dXJuIGYmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkociwiZXh0LnByZWJpZC5tdWx0aWJpZCIsZi5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e307cmV0dXJuIE9iamVjdC5rZXlzKHQpLmZvckVhY2goKGZ1bmN0aW9uKGUpe3JbZS50b0xvd2VyQ2FzZSgpXT10W2VdfSkpLGUucHVzaChyKSxlfSksW10pKSxTKGUsYS5kLHIpLGUuc3RvcmVkQXVjdGlvblJlc3BvbnNlJiZPYmplY3Qobi5kZWVwU2V0VmFsdWUpKHIuaW1wWzBdLCJleHQucHJlYmlkLnN0b3JlZGF1Y3Rpb25yZXNwb25zZS5pZCIsZS5zdG9yZWRBdWN0aW9uUmVzcG9uc2UudG9TdHJpbmcoKSksT2JqZWN0KG4uZGVlcFNldFZhbHVlKShyLmltcFswXSwiZXh0LnByZWJpZC5hdWN0aW9udGltZXN0YW1wIix0LmF1Y3Rpb25TdGFydCkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHgudmlkZW9Ib3N0fHwicHJlYmlkLXNlcnZlciIsIi5ydWJpY29ucHJvamVjdC5jb20vb3BlbnJ0YjIvYXVjdGlvbiIpLGRhdGE6cixiaWRSZXF1ZXN0OmV9fSkpO2lmKCEwIT09eC5zaW5nbGVSZXF1ZXN0KXI9aS5jb25jYXQoZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09dyhlKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciByPWouY3JlYXRlU2xvdFBhcmFtcyhlLHQpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovLyIuY29uY2F0KHguYmFubmVySG9zdHx8ImZhc3RsYW5lIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9hL2FwaS9mYXN0bGFuZS5qc29uIiksZGF0YTpqLmdldE9yZGVyZWRQYXJhbXMocikucmVkdWNlKChmdW5jdGlvbihlLHQpe3ZhciBpPXJbdF07cmV0dXJuIE9iamVjdChuLmlzU3RyKShpKSYmIiIhPT1pfHxPYmplY3Qobi5pc051bWJlcikoaSk/IiIuY29uY2F0KGUpLmNvbmNhdChQKHQsaSksIiYiKTplfSksIiIpKyJzbG90cz0xJnJhbmQ9Ii5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDplfX0pKSk7ZWxzZXt2YXIgYz1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuImJhbm5lciI9PT13KGUpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4oZVt0LnBhcmFtcy5zaXRlSWRdPWVbdC5wYXJhbXMuc2l0ZUlkXXx8W10pLnB1c2godCksZX0pLHt9KTtyPWkuY29uY2F0KE9iamVjdC5rZXlzKGMpLnJlZHVjZSgoZnVuY3Rpb24oZSxyKXt2YXIgaSxvO3JldHVybihpPWNbcl0sbz0xMCxpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdCVvPT0wP2kuc2xpY2UodCx0K28pOm51bGx9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSkuZm9yRWFjaCgoZnVuY3Rpb24ocil7dmFyIGk9ai5jb21iaW5lU2xvdFVybFBhcmFtcyhyLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGouY3JlYXRlU2xvdFBhcmFtcyhlLHQpfSkpKTtlLnB1c2goe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoeC5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOmouZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9aVt0XTtyZXR1cm4gT2JqZWN0KG4uaXNTdHIpKHIpJiYiIiE9PXJ8fE9iamVjdChuLmlzTnVtYmVyKShyKT8iIi5jb25jYXQoZSkuY29uY2F0KFAodCxyKSwiJiIpOmV9KSwiIikrInNsb3RzPSIuY29uY2F0KHIubGVuZ3RoLCImcmFuZD0iKS5jb25jYXQoTWF0aC5yYW5kb20oKSksYmlkUmVxdWVzdDpyfSl9KSksZX0pLFtdKSl9cmV0dXJuIHJ9LGdldE9yZGVyZWRQYXJhbXM6ZnVuY3Rpb24oZSl7dmFyIHQ9L150Z192LyxyPS9edGdfaS8sbj0vXmVpZF98XnRwaWRfLyxpPVsiYWNjb3VudF9pZCIsInNpdGVfaWQiLCJ6b25lX2lkIiwic2l6ZV9pZCIsImFsdF9zaXplX2lkcyIsInBfcG9zIiwiZ2RwciIsImdkcHJfY29uc2VudCIsInVzX3ByaXZhY3kiLCJycF9zY2hhaW4iXS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gbi50ZXN0KGUpfSkpKS5jb25jYXQoWyJ4X2xpdmVyYW1waWRsIiwicHB1aWQiLCJyZiIsInBfZ2VvLmxhdGl0dWRlIiwicF9nZW8ubG9uZ2l0dWRlIiwia3ciXSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHQudGVzdChlKX0pKSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIHIudGVzdChlKX0pKSkuY29uY2F0KFsidGtfZmxpbnQiLCJ4X3NvdXJjZS50aWQiLCJ4X3NvdXJjZS5wY2hhaW4iLCJwX3NjcmVlbl9yZXMiLCJycF9mbG9vciIsInJwX3NlY3VyZSIsInRrX3VzZXJfa2V5Il0pO3JldHVybiBpLmNvbmNhdChPYmplY3Qua2V5cyhlKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09aS5pbmRleE9mKGUpfSkpKX0sY29tYmluZVNsb3RVcmxQYXJhbXM6ZnVuY3Rpb24oZSl7aWYoMT09PWUubGVuZ3RoKXJldHVybiBlWzBdO3ZhciB0PWUucmVkdWNlKChmdW5jdGlvbih0LHIsbil7cmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKGZ1bmN0aW9uKGkpe3QuaGFzT3duUHJvcGVydHkoaSl8fCh0W2ldPW5ldyBBcnJheShlLmxlbmd0aCkpLHRbaV0uc3BsaWNlKG4sMSxyW2ldKX0pKSx0fSkse30pLHI9bmV3IFJlZ0V4cCgiXihbXjtdKikoO1xcMSkrJCIpO3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj10W2VdLmpvaW4oIjsiKSxpPW4ubWF0Y2gocik7dFtlXT1pP2lbMV06bn0pKSx0fSxjcmVhdGVTbG90UGFyYW1zOmZ1bmN0aW9uKGUsdCl7ZS5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIHI9ZS5wYXJhbXMsaT1BKGUsImJhbm5lciIpLGM9ZihyLmxhdExvbmd8fFtdLDIpLGQ9Y1swXSx1PWNbMV0scD17YWNjb3VudF9pZDpyLmFjY291bnRJZCxzaXRlX2lkOnIuc2l0ZUlkLHpvbmVfaWQ6ci56b25lSWQsc2l6ZV9pZDppWzBdLGFsdF9zaXplX2lkczppLnNsaWNlKDEpLmpvaW4oIiwiKXx8dm9pZCAwLHJwX2Zsb29yOihyLmZsb29yPXBhcnNlRmxvYXQoci5mbG9vcikpPj0uMDE/ci5mbG9vcjp2b2lkIDAscnBfc2VjdXJlOiIxIix0a19mbGludDoiIi5jb25jYXQoeC5pbnRfdHlwZXx8InBianNfbGl0ZSIsIl92NS4yMC4yIiksInhfc291cmNlLnRpZCI6ZS50cmFuc2FjdGlvbklkLCJ4X3NvdXJjZS5wY2hhaW4iOnIucGNoYWluLHBfc2NyZWVuX3Jlczpbd2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodF0uam9pbigieCIpLHRrX3VzZXJfa2V5OnIudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChkKSk/dm9pZCAwOnBhcnNlRmxvYXQoZCkudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KHUpKT92b2lkIDA6cGFyc2VGbG9hdCh1KS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpPKGUsdCl9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYheC5kaXNhYmxlRmxvb3JzKXt2YXIgbDt0cnl7bD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KX1jYXRjaChlKXtPYmplY3Qobi5sb2dFcnJvcikoIlJ1Ymljb246IGdldEZsb29yIHRocmV3IGFuIGVycm9yOiAiLGUpfXAucnBfaGFyZF9mbG9vcj0ib2JqZWN0IiE9PXYobCl8fCJVU0QiIT09bC5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQobC5mbG9vcikpP3ZvaWQgMDpsLmZsb29yfXZhciBiPXsxOiJhdGYiLDM6ImJ0ZiJ9W09iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIpXXx8IiI7cC5wX3Bvcz0iYXRmIj09PXIucG9zaXRpb258fCJidGYiPT09ci5wb3NpdGlvbj9yLnBvc2l0aW9uOmI7dmFyIG09by5iLmdldENvbmZpZygidXNlci5pZCIpO3JldHVybiBtJiYocC5wcHVpZD1tKSxlLnVzZXJJZEFzRWlkcyYmZS51c2VySWRBc0VpZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dHJ5e2lmKCJhZHNlcnZlci5vcmciPT09ZS5zb3VyY2U/KHAudHBpZF90ZGlkPWUudWlkc1swXS5pZCxwWyJlaWRfYWRzZXJ2ZXIub3JnIl09ZS51aWRzWzBdLmlkKToibGl2ZWludGVudC5jb20iPT09ZS5zb3VyY2U/KHBbInRwaWRfbGl2ZWludGVudC5jb20iXT1lLnVpZHNbMF0uaWQscFsiZWlkX2xpdmVpbnRlbnQuY29tIl09ZS51aWRzWzBdLmlkLGUuZXh0JiZBcnJheS5pc0FycmF5KGUuZXh0LnNlZ21lbnRzKSYmZS5leHQuc2VnbWVudHMubGVuZ3RoJiYocFsidGdfdi5MSXNlZyJdPWUuZXh0LnNlZ21lbnRzLmpvaW4oIiwiKSkpOiJsaXZlcmFtcC5jb20iPT09ZS5zb3VyY2U/cC54X2xpdmVyYW1waWRsPWUudWlkc1swXS5pZDoiaWQ1LXN5bmMuY29tIj09PWUuc291cmNlP3BbImVpZF9pZDUtc3luYy5jb20iXT0iIi5jb25jYXQoZS51aWRzWzBdLmlkLCJeIikuY29uY2F0KGUudWlkc1swXS5hdHlwZSwiXiIpLmNvbmNhdChlLnVpZHNbMF0uZXh0JiZlLnVpZHNbMF0uZXh0LmxpbmtUeXBlfHwiIik6cFsiZWlkXyIuY29uY2F0KGUuc291cmNlKV09IiIuY29uY2F0KGUudWlkc1swXS5pZCwiXiIpLmNvbmNhdChlLnVpZHNbMF0uYXR5cGV8fCIiKSwhcC5wcHVpZCl7dmFyIHQ9cygpKGUudWlkcywoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXh0JiYicHB1aWQiPT09ZS5leHQuc3R5cGV9KSk7dCYmdC5pZCYmKHAucHB1aWQ9dC5pZCl9fWNhdGNoKHQpe09iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBlcnJvciByZWFkaW5nIGVpZDoiLGUsdCl9fSkpLHQuZ2RwckNvbnNlbnQmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYocC5nZHByPU51bWJlcih0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSkscC5nZHByX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSx0LnVzcENvbnNlbnQmJihwLnVzX3ByaXZhY3k9ZW5jb2RlVVJJQ29tcG9uZW50KHQudXNwQ29uc2VudCkpLHAucnBfbWF4Ymlkcz10LmJpZExpbWl0fHwxLFMoZSxhLmIscCksITA9PT1vLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYocC5jb3BwYT0xKSxlLnNjaGFpbiYmVShlLnNjaGFpbikmJihwLnJwX3NjaGFpbj1qLnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKSkscH0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIVUoZSkpcmV0dXJuIiI7dmFyIHQ9ZS52ZXIscj1lLmNvbXBsZXRlLG49ZS5ub2RlcztyZXR1cm4iIi5jb25jYXQodCwiLCIpLmNvbmNhdChyLCIhIikuY29uY2F0KGouc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlcyhuKSl9LHNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXM6ZnVuY3Rpb24oZSl7dmFyIHQ9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiB0Lm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlW3RdfHwiIil9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZFJlcXVlc3Q7aWYoIShlPWUuYm9keSl8fCJvYmplY3QiIT09dihlKSlyZXR1cm5bXTtpZihlLnNlYXRiaWQpe3ZhciBpPU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5lcnJvcnMucnViaWNvbiIpO0FycmF5LmlzQXJyYXkoaSkmJmkubGVuZ3RoPjAmJk9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBFcnJvciBpbiB2aWRlbyByZXNwb25zZSIpO3ZhciBvPVtdO3JldHVybiBlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24odCl7KHQuYmlkfHxbXSkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7dmFyIGM9e3JlcXVlc3RJZDpyLmJpZElkLGN1cnJlbmN5OmUuY3VyfHwiVVNEIixjcmVhdGl2ZUlkOmkuY3JpZCxjcG06aS5wcmljZXx8MCxiaWRkZXJDb2RlOnQuc2VhdCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUsd2lkdGg6aS53fHxPYmplY3Qobi5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLnciKXx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwicGFyYW1zLnZpZGVvLnBsYXllcldpZHRoIiksaGVpZ2h0OmkuaHx8T2JqZWN0KG4uZGVlcEFjY2VzcykociwibWVkaWFUeXBlcy52aWRlby5oIil8fE9iamVjdChuLmRlZXBBY2Nlc3MpKHIsInBhcmFtcy52aWRlby5wbGF5ZXJIZWlnaHQiKX07aS5pZCYmKGMuc2VhdEJpZElkPWkuaWQpLGkuZGVhbGlkJiYoYy5kZWFsSWQ9aS5kZWFsaWQpLGkuYWRvbWFpbiYmT2JqZWN0KG4uZGVlcFNldFZhbHVlKShjLCJtZXRhLmFkdmVydGlzZXJEb21haW5zIixBcnJheS5pc0FycmF5KGkuYWRvbWFpbik/aS5hZG9tYWluOltpLmFkb21haW5dKSxPYmplY3Qobi5kZWVwQWNjZXNzKShpLCJleHQuYmlkZGVyLnJwLmFkdmlkIikmJk9iamVjdChuLmRlZXBTZXRWYWx1ZSkoYywibWV0YS5hZHZlcnRpc2VySWQiLGkuZXh0LmJpZGRlci5ycC5hZHZpZCk7dmFyIHM9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwiZXh0LnJlc3BvbnNldGltZW1pbGxpcy5ydWJpY29uIik7aWYociYmcyYmKHIuc2VydmVyUmVzcG9uc2VUaW1lTXM9cyksT2JqZWN0KG4uZGVlcEFjY2VzcykoaSwiZXh0LnByZWJpZC50eXBlIik9PT1hLmQpe2MubWVkaWFUeXBlPWEuZCxPYmplY3Qobi5kZWVwU2V0VmFsdWUpKGMsIm1ldGEubWVkaWFUeXBlIixhLmQpO3ZhciB1PU9iamVjdChuLmRlZXBBY2Nlc3MpKGksImV4dC5wcmViaWQudGFyZ2V0aW5nIik7dSYmIm9iamVjdCI9PT12KHUpJiYoYy5hZHNlcnZlclRhcmdldGluZz11KSxpLmV4dC5wcmViaWQuY2FjaGUmJiJvYmplY3QiPT09dihpLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbCkmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQmJmkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybD8oYy52aWRlb0NhY2hlS2V5PWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLmNhY2hlSWQsYy52YXN0VXJsPWkuZXh0LnByZWJpZC5jYWNoZS52YXN0WG1sLnVybCk6dSYmdS5oYl91dWlkJiZ1LmhiX2NhY2hlX2hvc3QmJnUuaGJfY2FjaGVfcGF0aCYmKGMudmlkZW9DYWNoZUtleT11LmhiX3V1aWQsYy52YXN0VXJsPSJodHRwczovLyIuY29uY2F0KHUuaGJfY2FjaGVfaG9zdCkuY29uY2F0KHUuaGJfY2FjaGVfcGF0aCwiP3V1aWQ9IikuY29uY2F0KHUuaGJfdXVpZCkpLGkuYWRtJiYoYy52YXN0WG1sPWkuYWRtKSxpLm51cmwmJihjLnZhc3RVcmw9aS5udXJsKSwhYy52YXN0VXJsJiZpLm51cmwmJihjLnZhc3RVcmw9aS5udXJsKSwib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKHIsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLnRvTG93ZXJDYXNlKCkmJihjLnJlbmRlcmVyPWZ1bmN0aW9uKGUpe3ZhciB0PWQuYS5pbnN0YWxsKHtpZDplLmFkSWQsdXJsOngucmVuZGVyZXJVcmx8fHksY29uZmlnOngucmVuZGVyZXJDb25maWd8fHt9LGxvYWRlZDohMSxhZFVuaXRDb2RlOmUuYWRVbml0Q29kZX0pO3RyeXt0LnNldFJlbmRlcihfKX1jYXRjaChlKXtPYmplY3Qobi5sb2dXYXJuKSgiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gdH0oYykpfWVsc2UgT2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IHZpZGVvIHJlc3BvbnNlIHJlY2VpdmVkIG5vbi12aWRlbyBtZWRpYSB0eXBlIik7by5wdXNoKGMpfSkpfSkpLG99dmFyIGMscz1lLmFkcyx1PTA7cmV0dXJuIm9iamVjdCIhPT12KHIpfHxBcnJheS5pc0FycmF5KHIpfHwidmlkZW8iIT09dyhyKXx8Im9iamVjdCIhPT12KHMpfHwocz1zW3IuYWRVbml0Q29kZV0pLCFBcnJheS5pc0FycmF5KHMpfHxzLmxlbmd0aDwxP1tdOnMucmVkdWNlKChmdW5jdGlvbih0LGksbyl7aWYoaS5pbXByZXNzaW9uX2lkJiZjPT09aS5pbXByZXNzaW9uX2lkP3UrKzpjPWkuaW1wcmVzc2lvbl9pZCwib2siIT09aS5zdGF0dXMpcmV0dXJuIHQ7dmFyIHMsZCxwPUFycmF5LmlzQXJyYXkocik/cltvLXVdOnI7aWYocCYmIm9iamVjdCI9PT12KHApKXt2YXIgbD17cmVxdWVzdElkOnAuYmlkSWQsY3VycmVuY3k6IlVTRCIsY3JlYXRpdmVJZDppLmNyZWF0aXZlX2lkfHwiIi5jb25jYXQoaS5uZXR3b3JrfHwiIiwiLSIpLmNvbmNhdChpLmFkdmVydGlzZXJ8fCIiKSxjcG06aS5jcG18fDAsZGVhbElkOmkuZGVhbCx0dGw6MzAwLG5ldFJldmVudWU6ITEhPT14Lm5ldFJldmVudWUscnViaWNvbjp7YWR2ZXJ0aXNlcklkOmkuYWR2ZXJ0aXNlcixuZXR3b3JrSWQ6aS5uZXR3b3JrfSxtZXRhOnthZHZlcnRpc2VySWQ6aS5hZHZlcnRpc2VyLG5ldHdvcmtJZDppLm5ldHdvcmssbWVkaWFUeXBlOmEuYn19O2lmKGkuY3JlYXRpdmVfdHlwZSYmKGwubWVkaWFUeXBlPWkuY3JlYXRpdmVfdHlwZSksaS5hZG9tYWluJiYobC5tZXRhLmFkdmVydGlzZXJEb21haW5zPUFycmF5LmlzQXJyYXkoaS5hZG9tYWluKT9pLmFkb21haW46W2kuYWRvbWFpbl0pLGkuY3JlYXRpdmVfdHlwZT09PWEuZClsLndpZHRoPXAucGFyYW1zLnZpZGVvLnBsYXllcldpZHRoLGwuaGVpZ2h0PXAucGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCxsLnZhc3RVcmw9aS5jcmVhdGl2ZV9kZXBvdF91cmwsbC5pbXByZXNzaW9uX2lkPWkuaW1wcmVzc2lvbl9pZCxsLnZpZGVvQ2FjaGVLZXk9aS5pbXByZXNzaW9uX2lkO2Vsc2V7bC5hZD0ocz1pLnNjcmlwdCxkPWkuaW1wcmVzc2lvbl9pZCwiPGh0bWw+XG48aGVhZD48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+aW5EYXBJRj10cnVlOzxcL3NjcmlwdD48L2hlYWQ+XG48Ym9keSBzdHlsZT0nbWFyZ2luIDogMDsgcGFkZGluZzogMDsnPlxuXHgzYyEtLSBSdWJpY29uIFByb2plY3QgQWQgVGFnIC0tXHgzZVxuPGRpdiBkYXRhLXJwLWltcHJlc3Npb24taWQ9JyIuY29uY2F0KGQsIic+XG48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+IikuY29uY2F0KHMsIjxcL3NjcmlwdD5cbjwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPiIpKTt2YXIgYj1mKGhbaS5zaXplX2lkXS5zcGxpdCgieCIpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIE51bWJlcihlKX0pKSwyKTtsLndpZHRoPWJbMF0sbC5oZWlnaHQ9YlsxXX1sLnJ1Ymljb25UYXJnZXRpbmc9KEFycmF5LmlzQXJyYXkoaS50YXJnZXRpbmcpP2kudGFyZ2V0aW5nOltdKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGVbdC5rZXldPXQudmFsdWVzWzBdLGV9KSx7cnBmbF9lbGVtaWQ6cC5hZFVuaXRDb2RlfSksdC5wdXNoKGwpfWVsc2UgT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBiaWRSZXF1ZXN0IHVuZGVmaW5lZCBhdCBpbmRleCBwb3NpdGlvbjoiLmNvbmNhdChvKSxyLGUpO3JldHVybiB0fSksW10pLnNvcnQoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQuY3BtfHwwKS0oZS5jcG18fDApfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIU4mJmUuaWZyYW1lRW5hYmxlZCl7dmFyIGk9IiI7cmV0dXJuIHImJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQXBwbGllcz9pKz0iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKHIuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpOmkrPSI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpLG4mJihpKz0iIi5jb25jYXQoaT8iJiI6Ij8iLCJ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobikpKSxOPSEwLHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCh4LnN5bmNIb3N0fHwiZXVzIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS91c3luYy5odG1sIikraX19fSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gT2JqZWN0KG4uY29udmVydFR5cGVzKSh7YWNjb3VudElkOiJudW1iZXIiLHNpdGVJZDoibnVtYmVyIix6b25lSWQ6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gTyhlLHQpe3ZhciByPW8uYi5nZXRDb25maWcoInBhZ2VVcmwiKTtyZXR1cm4gZS5wYXJhbXMucmVmZXJyZXI/cj1lLnBhcmFtcy5yZWZlcnJlcjpyfHwocj10LnJlZmVyZXJJbmZvLnJlZmVyZXIpLGUucGFyYW1zLnNlY3VyZT9yLnJlcGxhY2UoL15odHRwOi9pLCJodHRwczoiKTpyfWZ1bmN0aW9uIF8oZSl7dmFyIHQscj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlLmFkVW5pdENvZGUpOyh0PXIucXVlcnlTZWxlY3RvcigiZGl2W2lkXj0nZ29vZ2xlX2FkcyddIikpJiZ0LnN0eWxlLnNldFByb3BlcnR5KCJkaXNwbGF5Iiwibm9uZSIpLGZ1bmN0aW9uKGUpe3ZhciB0PWUucXVlcnlTZWxlY3Rvcigic2NyaXB0W2lkXj0nc2FzX3NjcmlwdCddIikscj10JiZ0Lm5leHRTaWJsaW5nO3ImJiJpZnJhbWUiPT09ci5sb2NhbE5hbWUmJnIuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIil9KHIpO3ZhciBuPWUucmVuZGVyZXIuZ2V0Q29uZmlnKCk7ZS5yZW5kZXJlci5wdXNoKChmdW5jdGlvbigpe3dpbmRvdy5NYWduaXRlQXBleC5yZW5kZXJBZCh7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsdmFzdFVybDplLnZhc3RVcmwscGxhY2VtZW50OnthdHRhY2hUbzoiIyIuY29uY2F0KGUuYWRVbml0Q29kZSksYWxpZ246bi5hbGlnbnx8ImNlbnRlciIscG9zaXRpb246bi5wb3NpdGlvbnx8ImFwcGVuZCJ9LGNsb3NlQnV0dG9uOm4uY2xvc2VCdXR0b258fCExLGxhYmVsOm4ubGFiZWx8fHZvaWQgMCxjb2xsYXBzZTpuLmNvbGxhcHNlfHwhMH0pfSkpfWZ1bmN0aW9uIEEoZSx0KXt2YXIgcj1lLnBhcmFtcztpZigidmlkZW8iPT09dCl7dmFyIGk9W107cmV0dXJuIHIudmlkZW8mJnIudmlkZW8ucGxheWVyV2lkdGgmJnIudmlkZW8ucGxheWVySGVpZ2h0P2k9W3IudmlkZW8ucGxheWVyV2lkdGgsci52aWRlby5wbGF5ZXJIZWlnaHRdOkFycmF5LmlzQXJyYXkoT2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpJiYxPT09ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUubGVuZ3RoP2k9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF06QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MCYmQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKSYmZS5zaXplc1swXS5sZW5ndGg+MSYmKGk9ZS5zaXplc1swXSksaX12YXIgbz1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheShyLnNpemVzKT9vPXIuc2l6ZXM6dm9pZCAwIT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9vPUMoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk6QXJyYXkuaXNBcnJheShlLnNpemVzKSYmZS5zaXplcy5sZW5ndGg+MD9vPUMoZS5zaXplcyk6T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IG5vIHNpemVzIGFyZSBzZXR1cCBvciBmb3VuZCIpLFIobyl9ZnVuY3Rpb24gUyhlLHQscil7dmFyIGk9e3VzZXI6e2V4dDp7ZGF0YTpsKHt9LGUucGFyYW1zLnZpc2l0b3IpfX0sc2l0ZTp7ZXh0OntkYXRhOmwoe30sZS5wYXJhbXMuaW52ZW50b3J5KX19fTtlLnBhcmFtcy5rZXl3b3JkcyYmKGkuc2l0ZS5rZXl3b3Jkcz1PYmplY3Qobi5pc0FycmF5KShlLnBhcmFtcy5rZXl3b3Jkcyk/ZS5wYXJhbXMua2V5d29yZHMuam9pbigiLCIpOmUucGFyYW1zLmtleXdvcmRzKTt2YXIgYz1PYmplY3Qobi5tZXJnZURlZXApKHt9LG8uYi5nZXRDb25maWcoIm9ydGIyIil8fHt9LGkpLHM9T2JqZWN0KG4uZGVlcEFjY2VzcykoZS5vcnRiMkltcCwiZXh0LmRhdGEiKXx8e30sZD17dXNlcjpbNF0sc2l0ZTpbMSwyLDUsNl19LHU9e3VzZXI6InRnX3YuIixzaXRlOiJ0Z19pLiIsYWRzZXJ2ZXI6InRnX2kuZGZwX2FkX3VuaXRfY29kZSIscGJhZHNsb3Q6InRnX2kucGJhZHNsb3QiLGtleXdvcmRzOiJrdyJ9LHA9ZnVuY3Rpb24oZSx0LHIpe2lmKCJkYXRhIj09PXQmJkFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWdtZW50JiZPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJleHQuc2VndGF4IikmJmRbcl0mJi0xIT09ZFtyXS5pbmRleE9mKE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsImV4dC5zZWd0YXgiKSl9KSkubWFwKChmdW5jdGlvbihlKXt2YXIgdD1lLnNlZ21lbnQuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUucHVzaCh0LmlkKSxlfSksW10pO2lmKHQubGVuZ3RoPjApcmV0dXJuIHQudG9TdHJpbmcoKX0pKS50b1N0cmluZygpO2lmKCJvYmplY3QiIT09dihlKXx8QXJyYXkuaXNBcnJheShlKSl7aWYodm9pZCAwIT09ZSlyZXR1cm4gQXJyYXkuaXNBcnJheShlKT9lLmZpbHRlcigoZnVuY3Rpb24oZSl7aWYoIm9iamVjdCIhPT12KGUpJiZ2b2lkIDAhPT1lKXJldHVybiBlLnRvU3RyaW5nKCk7T2JqZWN0KG4ubG9nV2FybikoIlJ1Ymljb246IEZpbHRlcmVkIHZhbHVlOiAiLGUsImZvciBrZXkiLHQsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0pKS50b1N0cmluZygpOmUudG9TdHJpbmcoKX1lbHNlIE9iamVjdChuLmxvZ1dhcm4pKCJSdWJpY29uOiBGaWx0ZXJlZCBGUEQga2V5OiAiLHQsIjogRXhwZWN0ZWQgdmFsdWUgdG8gYmUgc3RyaW5nLCBpbnRlZ2VyLCBvciBhbiBhcnJheSBvZiBzdHJpbmdzL2ludHMiKX0sYj1mdW5jdGlvbihlLHQsbil7dmFyIGk9IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXSxvPXAoZSxuLHQpLGE9dVtuXSYmaT8iIi5jb25jYXQodVtuXSk6ImRhdGEiPT09bj8iIi5jb25jYXQodVt0XSwiaWFiIik6IiIuY29uY2F0KHVbdF0pLmNvbmNhdChuKTtyW2FdPXJbYV0/clthXS5jb25jYXQoIiwiLG8pOm99O09iamVjdC5rZXlzKHMpLmZvckVhY2goKGZ1bmN0aW9uKGUpeyJhZHNlcnZlciI9PT1lP1sibmFtZSIsImFkc2xvdCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe3NbZV1bdF0mJihzW2VdW3RdPXNbZV1bdF0udG9TdHJpbmcoKS5yZXBsYWNlKC9eXC8rLywiIikpfSkpOiJwYmFkc2xvdCI9PT1lJiYoc1tlXT1zW2VdLnRvU3RyaW5nKCkucmVwbGFjZSgvXlwvKy8sIiIpKX0pKSx0PT09YS5iPyhbInNpdGUiLCJ1c2VyIl0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoY1tlXSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7InNpdGUiPT09ZSYmImNvbnRlbnQiPT09dCYmY1tlXVt0XS5kYXRhP2IoY1tlXVt0XS5kYXRhLGUsImRhdGEiKToiZXh0IiE9PXQ/YihjW2VdW3RdLGUsdCk6Y1tlXVt0XS5kYXRhJiZPYmplY3Qua2V5cyhjW2VdLmV4dC5kYXRhKS5mb3JFYWNoKChmdW5jdGlvbih0KXtiKGNbZV0uZXh0LmRhdGFbdF0sZSx0LCExKX0pKX0pKX0pKSxPYmplY3Qua2V5cyhzKS5mb3JFYWNoKChmdW5jdGlvbihlKXsiYWRzZXJ2ZXIiPT09ZT9iKHNbZV0uYWRzbG90LG5hbWUsZSk6YihzW2VdLCJzaXRlIixlKX0pKSk6KE9iamVjdC5rZXlzKHMpLmxlbmd0aCYmT2JqZWN0KG4ubWVyZ2VEZWVwKShyLmltcFswXS5leHQse2RhdGE6c30pLE9iamVjdChuLm1lcmdlRGVlcCkocixjKSl9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gT2JqZWN0KG4ucGFyc2VTaXplc0lucHV0KShlKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9cGFyc2VJbnQoaFt0XSwxMCk7cmV0dXJuIHImJmUucHVzaChyKSxlfSksW10pfWZ1bmN0aW9uIEkoZSl7cmV0dXJuIm9iamVjdCI9PT12KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlbyIpKSYmdm9pZCAwIT09T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChhLmQpKX1mdW5jdGlvbiB3KGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07cmV0dXJuIEkoZSk/LTE9PT1bIm91dHN0cmVhbSIsImluc3RyZWFtIl0uaW5kZXhPZihPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGEuZCwiLmNvbnRleHQiKSkpP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQgbXVzdCBiZSBvdXRzdHJlYW0gb3IgaW5zdHJlYW0iKSk6QShlLCJ2aWRlbyIpLmxlbmd0aDwyP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBwbGF5ZXJTaXplIG9mIHRoZSB2aWRlbyIpKToodCYmT2JqZWN0KG4ubG9nTWVzc2FnZSkoIlJ1Ymljb246IG1ha2luZyB2aWRlbyByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksInZpZGVvIik6MD09PUEoZSwiYmFubmVyIikubGVuZ3RoP3ZvaWQodCYmT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBzaXplcyBmb3IgYmFubmVyIHJlcXVlc3QiKSk6KHQmJk9iamVjdChuLmxvZ01lc3NhZ2UpKCJSdWJpY29uOiBtYWtpbmcgYmFubmVyIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwiYmFubmVyIil9dmFyIGs9ZnVuY3Rpb24oKXtyZXR1cm4geD17fX07ZnVuY3Rpb24gUihlKXt2YXIgdD1bMTUsMiw5XTtyZXR1cm4gZS5zb3J0KChmdW5jdGlvbihlLHIpe3ZhciBuPXQuaW5kZXhPZihlKSxpPXQuaW5kZXhPZihyKTtyZXR1cm4gbj4tMXx8aT4tMT8tMT09PW4/MTotMT09PWk/LTE6bi1pOmUtcn0pKX1mdW5jdGlvbiB6KGUpe3ZhciB0PXBhcnNlSW50KE9iamVjdChuLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy52aWRlby5zaXplX2lkIikpO3JldHVybiBpc05hTih0KT8ib3V0c3RyZWFtIj09PU9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYS5kLCIuY29udGV4dCIpKT8yMDM6MjAxOnR9ZnVuY3Rpb24gVChlKXtyZXR1cm57cmFuZ2VzOntsb3c6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XSxtZWRpdW06W3ttYXg6MjAsaW5jcmVtZW50Oi4xfV0saGlnaDpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV0sYXV0bzpbe21heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxkZW5zZTpbe21heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dLGN1c3RvbTplLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSYmZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikuYnVja2V0c31bZS5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKV19fWZ1bmN0aW9uIEUoZSl7dmFyIHQ9ITAscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pLGk9e21pbWVzOnIscHJvdG9jb2xzOnIsbGluZWFyaXR5Ok9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCgwKSxhcGk6cn07cmV0dXJuIE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLiIrcikpIT09aVtyXSYmKHQ9ITEsT2JqZWN0KG4ubG9nRXJyb3IpKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLiIrcisiIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIG9mIHR5cGU6ICIraVtyXSkpfSkpLHR9ZnVuY3Rpb24gVShlKXt2YXIgdD0hMSxyPVsiYXNpIiwic2lkIiwiaHAiXTtyZXR1cm4gZS5ub2Rlcz8oKHQ9ZS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/ci5ldmVyeSgoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaGFzT3duUHJvcGVydHkoZSl9KSk6ZX0pLCEwKSl8fE9iamVjdChuLmxvZ0Vycm9yKSgiUnViaWNvbjogcmVxdWlyZWQgc2NoYWluIHBhcmFtcyBtaXNzaW5nIiksdCk6dH1mdW5jdGlvbiBQKGUsdCl7cmV0dXJuInJwX3NjaGFpbiI9PT1lPyJycF9zY2hhaW49Ii5jb25jYXQodCk6IiIuY29uY2F0KGUsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHQpKX12YXIgTj0hMTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoail9fSxbNzc4XSk7CnVwYmpzQ2h1bmsoWzEzNV0sezc4NDpmdW5jdGlvbihuLGksZSl7bi5leHBvcnRzPWUoNzg1KX0sNzg1OmZ1bmN0aW9uKG4saSxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGkuaXNTY2hhaW5PYmplY3RWYWxpZD1oLGkuaXNWYWxpZFNjaGFpbkNvbmZpZz11LGkubWFrZUJpZFJlcXVlc3RzSG9vaz1PLGkuaW5pdD1sO3ZhciB0PWUoMyksYz1lKDgpLG89ZSgwKSxhPSJJbnZhbGlkIHNjaGFpbiBvYmplY3QgZm91bmQ6ICIscz0iIHNob3VsZCBiZSBhIHN0cmluZyIscj0iIHNob3VsZCBiZSBhbiBJbnRlZ2VyIixmPSIgc2hvdWxkIGJlIGFuIG9iamVjdCIsZD17U1RSSUNUOiJzdHJpY3QiLFJFTEFYRUQ6InJlbGF4ZWQiLE9GRjoib2ZmIn0sYj1bXTtmdW5jdGlvbiBoKG4saSl7dmFyIGU9IkRldGVjdGVkIHNvbWV0aGluZyB3cm9uZyB3aXRoaW4gYW4gc2NoYWluIGNvbmZpZzoiLHQ9IiI7ZnVuY3Rpb24gYyhuKXt0Kz0iXG4iK259ZnVuY3Rpb24gYSgpeyEwPT09aT9PYmplY3Qoby5sb2dFcnJvcikoZSxuLHQpOk9iamVjdChvLmxvZ1dhcm4pKGUsbix0KX1pZighT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobikmJihjKCJzY2hhaW4uY29uZmlnIitmKSxhKCksaSkpcmV0dXJuITE7aWYoT2JqZWN0KG8uaXNOdW1iZXIpKG4uY29tcGxldGUpJiZPYmplY3Qoby5pc0ludGVnZXIpKG4uY29tcGxldGUpfHxjKCJzY2hhaW4uY29uZmlnLmNvbXBsZXRlIityKSxPYmplY3Qoby5pc1N0cikobi52ZXIpfHxjKCJzY2hhaW4uY29uZmlnLnZlciIrcyksT2JqZWN0KG8uaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChvLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5leHQiK2YpKSxPYmplY3Qoby5pc0FycmF5KShuLm5vZGVzKSluLm5vZGVzLmZvckVhY2goKGZ1bmN0aW9uKG4saSl7T2JqZWN0KG8uaXNTdHIpKG4uYXNpKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmFzaSIpK3MpLE9iamVjdChvLmlzU3RyKShuLnNpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5zaWQiKStzKSxPYmplY3Qoby5pc051bWJlcikobi5ocCkmJk9iamVjdChvLmlzSW50ZWdlcikobi5ocCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5ocCIpK3IpLE9iamVjdChvLmhhc093bikobiwicmlkIikmJihPYmplY3Qoby5pc1N0cikobi5yaWQpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0ucmlkIikrcykpLE9iamVjdChvLmhhc093bikobiwibmFtZSIpJiYoT2JqZWN0KG8uaXNTdHIpKG4ubmFtZSl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5uYW1lIikrcykpLE9iamVjdChvLmhhc093bikobiwiZG9tYWluIikmJihPYmplY3Qoby5pc1N0cikobi5kb21haW4pfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uZG9tYWluIikrcykpLE9iamVjdChvLmhhc093bikobiwiZXh0IikmJihPYmplY3Qoby5pc1BsYWluT2JqZWN0KShuLmV4dCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5leHQiKStmKSl9KSk7ZWxzZSBpZihjKCJzY2hhaW4uY29uZmlnLm5vZGVzIHNob3VsZCBiZSBhbiBBcnJheSIpLGEoKSxpKXJldHVybiExO3JldHVybiEodC5sZW5ndGg+MCYmKGEoKSxpKSl9ZnVuY3Rpb24gdShuKXtyZXR1cm4gdm9pZCAwIT09biYmKCEhT2JqZWN0KG8uaXNQbGFpbk9iamVjdCkobil8fChPYmplY3Qoby5sb2dFcnJvcikoYSsidGhlIGZvbGxvd2luZyBzY2hhaW4gY29uZmlnIHdpbGwgbm90IGJlIHVzZWQgYXMgc2NoYWluIGlzIG5vdCBhbiBvYmplY3QuIixuKSwhMSkpfWZ1bmN0aW9uIE8obixpKXt2YXIgZT10LmIuZ2V0Q29uZmlnKCJzY2hhaW4iKSxjPXQuYi5nZXRCaWRkZXJDb25maWcoKTtpLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBpPW4uYmlkZGVyQ29kZSx0PWZ1bmN0aW9uKG4pe3JldHVybiBjW25dJiZjW25dLnNjaGFpbnx8ZX0oaSk7bi5iaWRzLmZvckVhY2goKGZ1bmN0aW9uKG4pe3ZhciBlPWZ1bmN0aW9uKG4saSl7dmFyIGU9ZC5TVFJJQ1Q7aWYodShuKSl7aWYoT2JqZWN0KG8uaXNTdHIpKG4udmFsaWRhdGlvbikmJi0xIT1iLmluZGV4T2Yobi52YWxpZGF0aW9uKSYmKGU9bi52YWxpZGF0aW9uKSxlPT09ZC5PRkYpcmV0dXJuIG4uY29uZmlnO2lmKGgobi5jb25maWcsIShlIT09ZC5TVFJJQ1QpKSlyZXR1cm4gbi5jb25maWc7T2JqZWN0KG8ubG9nRXJyb3IpKGErImR1ZSB0byB0aGUgJ3N0cmljdCcgdmFsaWRhdGlvbiBzZXR0aW5nLCB0aGlzIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgcGFzc2VkIHRvIGJpZGRlciAnIi5jb25jYXQoaSwiJy4gIFNlZSBhYm92ZSBlcnJvciBmb3IgZGV0YWlscy4iKSl9cmV0dXJuIG51bGx9KHQsaSk7ZSYmKG4uc2NoYWluPWUpfSkpfSkpLG4oaSl9ZnVuY3Rpb24gbCgpe2MuZGVmYXVsdC5tYWtlQmlkUmVxdWVzdHMuYWZ0ZXIoTyl9T2JqZWN0KG8uX2VhY2gpKGQsKGZ1bmN0aW9uKG4pe3JldHVybiBiLnB1c2gobil9KSksbCgpfX0sWzc4NF0pOwp1cGJqc0NodW5rKFsyMl0sezE3OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dC5iPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkocikpaWYoInB1YlByb3ZpZGVkSWQiPT09cil0PXQuY29uY2F0KGUucHViUHJvdmlkZWRJZCk7ZWxzZXt2YXIgbj1pKGVbcl0scik7biYmdC5wdXNoKG4pfXJldHVybiB0fSx0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107cmV0dXJuIGUuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KG4uaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5mb3JFYWNoKChmdW5jdGlvbihlKXtPYmplY3Qua2V5cyhlLmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihyKXtPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJjb25maWcuYmlkZGVycyIpJiZBcnJheS5pc0FycmF5KGUuY29uZmlnLmJpZGRlcnMpJiZPYmplY3Qobi5kZWVwQWNjZXNzKShvLHIrIi5zb3VyY2UiKSYmdC5wdXNoKHtzb3VyY2U6b1tyXS5zb3VyY2UsYmlkZGVyczplLmNvbmZpZy5iaWRkZXJzfSl9KSl9KSksdH07dmFyIG49cigwKSxvPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0sbmF2ZWdnSWQ6e3NvdXJjZToibmF2ZWdnLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0KG4ucGljaykoZSxbImliYU9wdG91dCIsImNjcGFPcHRvdXQiXSk7aWYoT2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiB0fX0saWRsX2Vudjp7c291cmNlOiJsaXZlcmFtcC5jb20iLGF0eXBlOjN9LGxpcGI6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmxpcGJpZH0sc291cmNlOiJsaXZlaW50ZW50LmNvbSIsYXR5cGU6MyxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlLnNlZ21lbnRzKSYmZS5zZWdtZW50cy5sZW5ndGgpcmV0dXJue3NlZ21lbnRzOmUuc2VnbWVudHN9fX0sYnJpdGVwb29saWQ6e3NvdXJjZToiYnJpdGVwb29sLmNvbSIsYXR5cGU6M30sZG1kSWQ6e3NvdXJjZToiaGNuLmhlYWx0aCIsYXR5cGU6M30sbG90YW1lUGFub3JhbWFJZDp7c291cmNlOiJjcndkY250cmwubmV0IixhdHlwZToxfSxjcml0ZW9JZDp7c291cmNlOiJjcml0ZW8uY29tIixhdHlwZToxfSxtZXJrbGVJZDp7c291cmNlOiJtZXJrbGVpbmMuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUua2V5SUQ/e2tleUlEOmUua2V5SUR9OnZvaWQgMH19LG5ldElkOntzb3VyY2U6Im5ldGlkLmRlIixhdHlwZToxfSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0sbmV4dHJvbGxJZDp7c291cmNlOiJuZXh0cm9sbC5jb20iLGF0eXBlOjF9LGlkeDp7c291cmNlOiJpZHgubGF0IixhdHlwZToxfSxjb25uZWN0aWQ6e3NvdXJjZToidmVyaXpvbm1lZGlhLmNvbSIsYXR5cGU6M30sZmFicmlja0lkOntzb3VyY2U6Im5ldXN0YXIuYml6IixhdHlwZToxfSxtd09wZW5MaW5rSWQ6e3NvdXJjZToibWVkaWF3YWxsYWhzY3JpcHQuY29tIixhdHlwZToxfSx0YXBhZElkOntzb3VyY2U6InRhcGFkLmNvbSIsYXR5cGU6MX0sbm92YXRpcTp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc25vd2ZsYWtlfSxzb3VyY2U6Im5vdmF0aXEuY29tIixhdHlwZToxfSx1aWQyOntzb3VyY2U6InVpZGFwaS5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9fSxkYXBJZDp7c291cmNlOiJha2FtYWkuY29tIixhdHlwZToxfSxkZWVwaW50ZW50SWQ6e3NvdXJjZToiZGVlcGludGVudC5jb20iLGF0eXBlOjN9LGFkbWl4ZXJJZDp7c291cmNlOiJhZG1peGVyLm5ldCIsYXR5cGU6M30sYWR0ZWxsaWdlbnRJZDp7c291cmNlOiJhZHRlbGxpZ2VudC5jb20iLGF0eXBlOjN9LGFteElkOntzb3VyY2U6ImFteHJ0Yi5jb20iLGF0eXBlOjF9LHB1YmxpbmtJZDp7c291cmNlOiJlcHNpbG9uLmNvbSIsYXR5cGU6M30sa3B1aWQ6e3NvdXJjZToia3B1aWQuY29tIixhdHlwZTozfSxpbXVpZDp7c291cmNlOiJpbnRpbWF0ZW1lcmdlci5jb20iLGF0eXBlOjF9LGNvbm5lY3RJZDp7c291cmNlOiJ5YWhvby5jb20iLGF0eXBlOjN9fTtmdW5jdGlvbiBpKGUsdCl7dmFyIHI9b1t0XTtpZihyJiZlKXt2YXIgaT17fTtpLnNvdXJjZT1yLnNvdXJjZTt2YXIgYT1PYmplY3Qobi5pc0ZuKShyLmdldFZhbHVlKT9yLmdldFZhbHVlKGUpOmU7aWYoT2JqZWN0KG4uaXNTdHIpKGEpKXt2YXIgYz17aWQ6YSxhdHlwZTpyLmF0eXBlfTtpZihPYmplY3Qobi5pc0ZuKShyLmdldFVpZEV4dCkpe3ZhciB1PXIuZ2V0VWlkRXh0KGUpO3UmJihjLmV4dD11KX1pZihpLnVpZHM9W2NdLE9iamVjdChuLmlzRm4pKHIuZ2V0RWlkRXh0KSl7dmFyIGQ9ci5nZXRFaWRFeHQoZSk7ZCYmKGkuZXh0PWQpfXJldHVybiBpfX1yZXR1cm4gbnVsbH19LDc5NDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNzk1KX0sNzk1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzaGFyZXRocm91Z2hJbnRlcm5hbCIsKGZ1bmN0aW9uKCl7cmV0dXJuIGJ9KSksci5kKHQsInNoYXJldGhyb3VnaEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gZ30pKTt2YXIgbj1yKDApLG89cigxKSxpPXIoMyksYT1yKDIpLGM9cigxNyk7ZnVuY3Rpb24gdShlKXtyZXR1cm4odT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGQoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLG4pfXJldHVybiByfWZ1bmN0aW9uIHMoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/ZChPYmplY3QociksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe3AoZSx0LHJbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMocikpOmQoT2JqZWN0KHIpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KSl9KSl9cmV0dXJuIGV9ZnVuY3Rpb24gcChlLHQscil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1yLGV9ZnVuY3Rpb24gbChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXt2YXIgcj1udWxsPT1lP251bGw6InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmVbU3ltYm9sLml0ZXJhdG9yXXx8ZVsiQEBpdGVyYXRvciJdO2lmKG51bGw9PXIpcmV0dXJuO3ZhciBuLG8saT1bXSxhPSEwLGM9ITE7dHJ5e2ZvcihyPXIuY2FsbChlKTshKGE9KG49ci5uZXh0KCkpLmRvbmUpJiYoaS5wdXNoKG4udmFsdWUpLCF0fHxpLmxlbmd0aCE9PXQpO2E9ITApO31jYXRjaChlKXtjPSEwLG89ZX1maW5hbGx5e3RyeXthfHxudWxsPT1yLnJldHVybnx8ci5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgb319cmV0dXJuIGl9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4geShlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4geShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24geShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciBmPSJzaGFyZXRocm91Z2giLG09Imh0dHBzOi8vYnRsci5zaGFyZXRocm91Z2guY29tL3VuaXZlcnNhbC92MT9zdXBwbHlfaWQ9Ii5jb25jYXQoIldZdTJCWHYxIiksYj17Z2V0UHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2F0aW9uLnByb3RvY29sfX0sZz17Y29kZTpmLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuZCxhLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMucGtleSYmZS5iaWRkZXI9PT1mfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9aS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLG89Yi5nZXRQcm90b2NvbCgpLmluZGV4T2YoImh0dHAiKTwwfHxiLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cHMiKT4tMSxhPXtpZDpPYmplY3Qobi5nZW5lcmF0ZVVVSUQpKCksYXQ6MSxjdXI6WyJVU0QiXSx0bWF4OnIsc2l0ZTp7ZG9tYWluOndpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSxwYWdlOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZjp0LnJlZmVyZXJJbmZvJiZ0LnJlZmVyZXJJbmZvLnJlZmVyZXJ8fG51bGx9LHVzZXI6e2V4dDp7ZWlkczpJKGVbMF0pfX0sZGV2aWNlOnt1YTpuYXZpZ2F0b3IudXNlckFnZW50LGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZSxqczoxLGRudDoiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFjaz8xOjAsaDp3aW5kb3cuc2NyZWVuLmhlaWdodCx3OndpbmRvdy5zY3JlZW4ud2lkdGh9LHJlZ3M6e2NvcHBhOiEwPT09aS5iLmdldENvbmZpZygiY29wcGEiKT8xOjAsZXh0Ont9fSxzb3VyY2U6e2V4dDp7dmVyc2lvbjoiNS4yMC4yIixzdHI6IjQuMC4xIixzY2hhaW46ZVswXS5zY2hhaW59fSxiY2F0OmVbMF0ucGFyYW1zLmJjYXR8fFtdLGJhZHY6ZVswXS5wYXJhbXMuYmFkdnx8W10sdGVzdDowfTtpZih0LmdkcHJDb25zZW50KXt2YXIgYz0hMD09PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM7YS5yZWdzLmV4dC5nZHByPWM/MTowLGMmJihhLnVzZXIuZXh0LmNvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKX1yZXR1cm4gdC51c3BDb25zZW50JiYoYS5yZWdzLmV4dC51c19wcml2YWN5PXQudXNwQ29uc2VudCksZS5tYXAoKGZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKTtpZihyJiYodC5leHQ9e2dwaWQ6cn0pLGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiYib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0KXJldHVybiBudWxsO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXt2YXIgaT1lLm1lZGlhVHlwZXMudmlkZW8sYT02NDAsYz0zNjA7aWYoaS5wbGF5ZXJTaXplJiZpLnBsYXllclNpemVbMF0mJmkucGxheWVyU2l6ZVsxXSl7dmFyIHU9bChpLnBsYXllclNpemUsMik7YT11WzBdLGM9dVsxXX10LnZpZGVvPXtwb3M6aihpLnBvcywwKSx0b3BmcmFtZTpPYmplY3Qobi5pbklmcmFtZSkoKT8wOjEsc2tpcDpqKGkuc2tpcCwwKSxsaW5lYXJpdHk6aihpLmxpbmVhcml0eSwxKSxtaW5kdXJhdGlvbjpqKGkubWluZHVyYXRpb24sNSksbWF4ZHVyYXRpb246aihpLm1heGR1cmF0aW9uLDYwKSxwbGF5YmFja21ldGhvZDppLnBsYXliYWNrbWV0aG9kfHxbMl0sYXBpOnYoaSksbWltZXM6aS5taW1lc3x8WyJ2aWRlby9tcDQiXSxwcm90b2NvbHM6aChpKSx3OmEsaDpjLHN0YXJ0ZGVsYXk6aihpLnN0YXJ0ZGVsYXksMCksc2tpcG1pbjpqKGkuc2tpcG1pbiwwKSxza2lwYWZ0ZXI6aihpLnNraXBhZnRlciwwKX0saS5wbGFjZW1lbnQmJih0LnZpZGVvLnBsYWNlbWVudD1pLnBsYWNlbWVudCksaS5kZWxpdmVyeSYmKHQudmlkZW8uZGVsaXZlcnk9aS5kZWxpdmVyeSksaS5jb21wYW5pb250eXBlJiYodC52aWRlby5jb21wYW5pb250eXBlPWkuY29tcGFuaW9udHlwZSksaS5jb21wYW5pb25hZCYmKHQudmlkZW8uY29tcGFuaW9uYWQ9aS5jb21wYW5pb25hZCl9ZWxzZSB0LmJhbm5lcj17cG9zOk9iamVjdChuLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnBvcyIsMCksdG9wZnJhbWU6T2JqZWN0KG4uaW5JZnJhbWUpKCk/MDoxLGZvcm1hdDplLnNpemVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6K2VbMF0saDorZVsxXX19KSl9O3JldHVybiBzKHtpZDplLmJpZElkLHRhZ2lkOlN0cmluZyhlLnBhcmFtcy5wa2V5KSxzZWN1cmU6bz8xOjAsYmlkZmxvb3I6TyhlKX0sdCl9KSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bWV0aG9kOiJQT1NUIix1cmw6bSxkYXRhOnMocyh7fSxhKSx7fSx7aW1wOltlXX0pfX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7cmV0dXJuIHImJnIuc2VhdGJpZCYmMCE9PXIuc2VhdGJpZC5sZW5ndGgmJnIuc2VhdGJpZFswXS5iaWQmJjAhPT1yLnNlYXRiaWRbMF0uYmlkLmxlbmd0aD9yLnNlYXRiaWRbMF0uYmlkLm1hcCgoZnVuY3Rpb24oZSl7dmFyIG49e3JlcXVlc3RJZDplLmltcGlkLHdpZHRoOitlLncsaGVpZ2h0OitlLmgsY3BtOitlLnByaWNlLGNyZWF0aXZlSWQ6ZS5jcmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxtZWRpYVR5cGU6dC5kYXRhLmltcFswXS52aWRlbz9hLmQ6YS5iLGN1cnJlbmN5OnIuY3VyfHwiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDozNjAsYWQ6ZS5hZG0sbnVybDplLm51cmwsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O3JldHVybiBuLm1lZGlhVHlwZT09PWEuZCYmKG4udHRsPTM2MDAsbi52YXN0WG1sPWUuYWRtKSxufSkpOltdfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsbil7dmFyIG89bj8iJnVzX3ByaXZhY3k9Ii5jb25jYXQobik6IiIsaT1bXTtyZXR1cm4gZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnRbMF0uYm9keSYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzJiZ0WzBdLmJvZHkuY29va2llU3luY1VybHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmUrb30pfSkpLGl9LG9uVGltZW91dDpmdW5jdGlvbihlKXt9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oZSl7fX07ZnVuY3Rpb24gdihlKXt2YXIgdD1lLmFwaTtyZXR1cm4gdCYmQXJyYXkuaXNBcnJheSh0KSYmdC5sZW5ndGg+MD90OlsyXX1mdW5jdGlvbiBoKGUpe3ZhciB0PWUucHJvdG9jb2xzO3JldHVybiB0JiZBcnJheS5pc0FycmF5KHQpJiZ0Lmxlbmd0aD4wP3Q6WzIsMyw1LDYsNyw4XX1mdW5jdGlvbiBPKGUpe3ZhciB0PW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTplLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbz8idmlkZW8iOiJiYW5uZXIiLHNpemU6ZS5zaXplcy5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0pOyJvYmplY3QiIT09dShyKXx8IlVTRCIhPT1yLmN1cnJlbmN5fHxpc05hTihwYXJzZUZsb2F0KHIuZmxvb3IpKXx8KHQ9cGFyc2VGbG9hdChyLmZsb29yKSl9cmV0dXJuIG51bGwhPT10P3Q6ZS5wYXJhbXMuZmxvb3J9ZnVuY3Rpb24gSShlKXt2YXIgdD1PYmplY3QoYy5iKShPYmplY3Qobi5kZWVwQWNjZXNzKShlLCJ1c2VySWQiKSl8fFtdLHI9T2JqZWN0KG4uZGVlcEFjY2VzcykoZSwidXNlcklkLmZsb2NJZCIpO3JldHVybiByJiZyLmlkJiZyLnZlcnNpb24mJnQucHVzaCh7c291cmNlOiJjaHJvbWUuY29tIix1aWRzOlt7aWQ6ci5pZCxhdHlwZToxLGV4dDp7dmVyOnIudmVyc2lvbn19XX0pLHR9ZnVuY3Rpb24gaihlLHQpe3JldHVybiBudWxsPT1lP3Q6ZX1PYmplY3Qoby5yZWdpc3RlckJpZGRlcikoZyl9fSxbNzk0XSk7CnVwYmpzQ2h1bmsoWzIwXSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPW8oZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChhLmRlZXBBY2Nlc3MpKGkscisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTppW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLGk9e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIG8oZSx0KXt2YXIgcj1pW3RdO2lmKHImJmUpe3ZhciBvPXt9O28uc291cmNlPXIuc291cmNlO3ZhciBuPU9iamVjdChhLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoYS5pc1N0cikobikpe3ZhciBkPXtpZDpuLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChhLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHM9ci5nZXRVaWRFeHQoZSk7cyYmKGQuZXh0PXMpfWlmKG8udWlkcz1bZF0sT2JqZWN0KGEuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgYz1yLmdldEVpZEV4dChlKTtjJiYoby5leHQ9Yyl9cmV0dXJuIG99fXJldHVybiBudWxsfX0sODA4OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MDkpfSw4MDk6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBzfSkpO3ZhciBhPXIoMCksaT1yKDIpLG89cigzKSxuPXIoMTcpLGQ9cigxKSxzPXtjb2RlOiJzbWFydGFkc2VydmVyIixndmxpZDo0NSxhbGlhc2VzOlsic21hcnQiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy5wYWdlSWQmJmUucGFyYW1zLmZvcm1hdElkKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLm5vZGVzKXJldHVybiBudWxsO3ZhciB0PVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIiIuY29uY2F0KGUudmVyLCIsIikuY29uY2F0KGUuY29tcGxldGUsIiEiKStlLm5vZGVzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XT9lbmNvZGVVUklDb21wb25lbnQoZVt0XSk6IiJ9KSkuam9pbigiLCIpfSkpLmpvaW4oIiEiKX0sYWRhcHRCYW5uZXJTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pKX0sZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3Q6ZnVuY3Rpb24oZSx0LHIpe3ZhciBhPXQucGxheWVyU2l6ZVswXTtlLmlzVmlkZW89Imluc3RyZWFtIj09PXQuY29udGV4dCxlLm1lZGlhVHlwZT1pLmQsZS52aWRlb0RhdGE9e3ZpZGVvUHJvdG9jb2w6dGhpcy5nZXRQcm90b2NvbEZvclZpZGVvQmlkUmVxdWVzdCh0LHIpLHBsYXllcldpZHRoOmFbMF0scGxheWVySGVpZ2h0OmFbMV0sYWRCcmVhazp0aGlzLmdldFN0YXJ0RGVsYXlGb3JWaWRlb0JpZFJlcXVlc3QodCxyKX19LGdldFByb3RvY29sRm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMCE9PXQmJnQucHJvdG9jb2w/dC5wcm90b2NvbDp2b2lkIDAhPT1lJiZBcnJheS5pc0FycmF5KGUucHJvdG9jb2xzKT9NYXRoLm1heC5hcHBseShNYXRoLGUucHJvdG9jb2xzKTpudWxsfSxnZXRTdGFydERlbGF5Rm9yVmlkZW9CaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwIT09dCYmdC5zdGFydERlbGF5KXJldHVybiB0LnN0YXJ0RGVsYXk7aWYodm9pZCAwIT09ZSl7aWYoMD09ZS5zdGFydGRlbGF5KXJldHVybiAxO2lmKC0xPT1lLnN0YXJ0ZGVsYXkpcmV0dXJuIDI7aWYoLTI9PWUuc3RhcnRkZWxheSlyZXR1cm4gM31yZXR1cm4gMn0sY3JlYXRlU2VydmVyUmVxdWVzdDpmdW5jdGlvbihlLHQpe3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoodm9pZCAwIT09dD90OiJodHRwczovL3ByZy5zbWFydGFkc2VydmVyLmNvbSIpKyIvcHJlYmlkL3YxIixkYXRhOkpTT04uc3RyaW5naWZ5KGUpfX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPW8uYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKTtyZXR1cm4gZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsaSl7dmFyIGQ9e3NpdGVpZDppLnBhcmFtcy5zaXRlSWQscGFnZWlkOmkucGFyYW1zLnBhZ2VJZCxmb3JtYXRpZDppLnBhcmFtcy5mb3JtYXRJZCxjdXJyZW5jeUNvZGU6cixiaWRmbG9vcjppLnBhcmFtcy5iaWRmbG9vcnx8cy5nZXRCaWRGbG9vcihpLHIpLHRhcmdldGluZzppLnBhcmFtcy50YXJnZXQmJiIiIT09aS5wYXJhbXMudGFyZ2V0P2kucGFyYW1zLnRhcmdldDp2b2lkIDAsYnVpZDppLnBhcmFtcy5idUlkJiYiIiE9PWkucGFyYW1zLmJ1SWQ/aS5wYXJhbXMuYnVJZDp2b2lkIDAsYXBwbmFtZTppLnBhcmFtcy5hcHBOYW1lJiYiIiE9PWkucGFyYW1zLmFwcE5hbWU/aS5wYXJhbXMuYXBwTmFtZTp2b2lkIDAsY2tpZDppLnBhcmFtcy5ja0lkfHwwLHRhZ0lkOmkuYWRVbml0Q29kZSxwYWdlRG9tYWluOnQmJnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcj90LnJlZmVyZXJJbmZvLnJlZmVyZXI6dm9pZCAwLHRyYW5zYWN0aW9uSWQ6aS50cmFuc2FjdGlvbklkLHRpbWVvdXQ6by5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLGJpZElkOmkuYmlkSWQscHJlYmlkVmVyc2lvbjoiNS4yMC4yIixzY2hhaW46cy5zZXJpYWxpemVTdXBwbHlDaGFpbihpLnNjaGFpbil9O3QmJnQuZ2RwckNvbnNlbnQmJihkLmFkZHRsX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5hZGR0bENvbnNlbnQsZC5nZHByX2NvbnNlbnQ9dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLGQuZ2Rwcj10LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxpJiZpLnVzZXJJZCYmKGQuZWlkcz1PYmplY3Qobi5iKShpLnVzZXJJZCkpLHQmJnQudXNwQ29uc2VudCYmKGQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpO3ZhciBjPU9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMudmlkZW8iKSx1PU9iamVjdChhLmRlZXBBY2Nlc3MpKGksIm1lZGlhVHlwZXMuYmFubmVyIikscD1jJiYoImluc3RyZWFtIj09PWMuY29udGV4dHx8Im91dHN0cmVhbSI9PT1jLmNvbnRleHQpO2lmKCFwJiZ1KWQuc2l6ZXM9cy5hZGFwdEJhbm5lclNpemVzKHUuc2l6ZXMpLGUucHVzaChzLmNyZWF0ZVNlcnZlclJlcXVlc3QoZCxpLnBhcmFtcy5kb21haW4pKTtlbHNlIGlmKHAmJiF1KXMuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QoZCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGQsaS5wYXJhbXMuZG9tYWluKSk7ZWxzZSBpZihwJiZ1KXt2YXIgbD1PYmplY3QoYS5kZWVwQ2xvbmUpKGQpO3MuZmlsbFBheWxvYWRGb3JWaWRlb0JpZFJlcXVlc3QobCxjLGkucGFyYW1zLnZpZGVvKSxlLnB1c2gocy5jcmVhdGVTZXJ2ZXJSZXF1ZXN0KGwsaS5wYXJhbXMuZG9tYWluKSksZC5zaXplcz1zLmFkYXB0QmFubmVyU2l6ZXModS5zaXplcyksZS5wdXNoKHMuY3JlYXRlU2VydmVyUmVxdWVzdChkLGkucGFyYW1zLmRvbWFpbikpfWVsc2UgZS5wdXNoKHt9KTtyZXR1cm4gZX0pLFtdKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1bXSxvPWUuYm9keTt0cnl7aWYobyYmIW8uaXNOb0FkKXt2YXIgbj1KU09OLnBhcnNlKHQuZGF0YSksZD17cmVxdWVzdElkOm4uYmlkSWQsY3BtOm8uY3BtLHdpZHRoOm8ud2lkdGgsaGVpZ2h0Om8uaGVpZ2h0LGNyZWF0aXZlSWQ6by5jcmVhdGl2ZUlkLGRlYWxJZDpvLmRlYWxJZCxjdXJyZW5jeTpvLmN1cnJlbmN5LG5ldFJldmVudWU6by5pc05ldENwbSx0dGw6by50dGwsZHNwUGl4ZWxzOm8uZHNwUGl4ZWxzLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOm8uYWRvbWFpbj9vLmFkb21haW46W119fTtuLm1lZGlhVHlwZT09PWkuZD8oZC5tZWRpYVR5cGU9aS5kLGQudmFzdFVybD1vLmFkVXJsLGQudmFzdFhtbD1vLmFkLGQuY29udGVudD1vLmFkKTooZC5hZFVybD1vLmFkVXJsLGQuYWQ9by5hZCksci5wdXNoKGQpfX1jYXRjaChlKXtPYmplY3QoYS5sb2dFcnJvcikoIkVycm9yIHdoaWxlIHBhcnNpbmcgc21hcnQgc2VydmVyIHJlc3BvbnNlIixlKX1yZXR1cm4gcn0sZ2V0QmlkRmxvb3I6ZnVuY3Rpb24oZSx0KXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIDA7dmFyIHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6dHx8IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShyKSYmIWlzTmFOKHIuZmxvb3IpP3IuZmxvb3I6MH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmdC5sZW5ndGg+MCYmbnVsbCE9dFswXS5ib2R5LmNTeW5jVXJsP3IucHVzaCh7dHlwZToiaWZyYW1lIix1cmw6dFswXS5ib2R5LmNTeW5jVXJsfSk6ZS5waXhlbEVuYWJsZWQmJnQubGVuZ3RoPjAmJnZvaWQgMCE9PXRbMF0uYm9keS5kc3BQaXhlbHMmJnRbMF0uYm9keS5kc3BQaXhlbHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ci5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxyfX07T2JqZWN0KGQucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzgwOF0pOwp1cGJqc0NodW5rKFsxMjJdLHs4MjA6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyMSl9LDgyMTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSksci5kKHQsIl9pc0luYm91bmRzIiwoZnVuY3Rpb24oKXtyZXR1cm4gT30pKSx0Ll9nZXRQbGF0Zm9ybT1fO3ZhciBuPXIoMSksaT1yKDApLHM9cigyKSxhPXIoMyksbz1yKDEzKSxjPXIoNjEpO2Z1bmN0aW9uIGQoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLHM9W10sYT0hMCxvPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKHMucHVzaChuLnZhbHVlKSwhdHx8cy5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7bz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiBzfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHUoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIHUoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIHUoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn1mdW5jdGlvbiBwKCl7cmV0dXJuKHA9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBsKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgYj0ic29ub2JpIixmPU9iamVjdChpLmdlbmVyYXRlVVVJRCkoKSxtPSJodHRwczovL210cnguZ28uc29ub2JpLmNvbS9zYmlfb3V0c3RyZWFtX3JlbmRlcmVyLmpzIix2PXtjb2RlOmIsc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWUucGFyYW1zKXJldHVybiExO2lmKCFlLnBhcmFtcy5hZF91bml0JiYhZS5wYXJhbXMucGxhY2VtZW50X2lkKXJldHVybiExO2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYhT2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlbyIpKXJldHVybiExO2lmKE9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikpe2lmKCFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpJiYhZS5wYXJhbXMuc2l6ZXMpcmV0dXJuITF9ZWxzZSBpZihPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpe2lmKCJvdXRzdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMTtpZigiaW5zdHJlYW0iPT09T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0IikmJiFPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSlyZXR1cm4hMX1yZXR1cm4hMH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWUubWFwKChmdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlKXtpZihlLnBhcmFtcy5hZF91bml0KXJldHVybiBlLnBhcmFtcy5hZF91bml0O3JldHVybiBlLnBhcmFtcy5wbGFjZW1lbnRfaWR9KGUpO3JldHVybi9eW1wvXT9bXGRdK1tbXC9dLitbXC9dP10/JC8udGVzdCh0KT8odD0iLyI9PT10LmNoYXJBdCgwKT90OiIvIit0LGwoe30sIiIuY29uY2F0KHQsInwiKS5jb25jYXQoZS5iaWRJZCksIiIuY29uY2F0KGcoZSkpLmNvbmNhdCh5KGUpKS5jb25jYXQoaChlKSkpKTovXlswLTlhLWZBLUZdezIwfSQvLnRlc3QodCkmJjIwPT09dC5sZW5ndGg/bCh7fSxlLmJpZElkLCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGcoZSkpLmNvbmNhdCh5KGUpKS5jb25jYXQoaChlKSkpOnZvaWQgT2JqZWN0KGkubG9nRXJyb3IpKCJUaGUgYWQgdW5pdCBjb2RlIG9yIFNvbm9iaSBQbGFjZW1lbnQgaWQgZm9yIHNsb3QgIi5jb25jYXQoZS5iaWRJZCwiIGlzIGludmFsaWQiKSl9KSksbj17fTtyLmZvckVhY2goKGZ1bmN0aW9uKGUpe3AobixlKX0pKTt2YXIgcz17a2V5X21ha2VyOkpTT04uc3RyaW5naWZ5KG4pLHJlZjp0LnJlZmVyZXJJbmZvLnJlZmVyZXIsczpPYmplY3QoaS5nZW5lcmF0ZVVVSUQpKCkscHY6Zix2cDpfKCksbGliX25hbWU6InByZWJpZCIsbGliX3Y6IjUuMjAuMiIsdXM6MH0sbz1hLmIuZ2V0Q29uZmlnKCJvcnRiMiIpO2lmKG8mJihzLmZwZD1KU09OLnN0cmluZ2lmeShvKSksYS5iLmdldENvbmZpZygidXNlclN5bmMiKSYmYS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciYmKHMudXM9YS5iLmdldENvbmZpZygidXNlclN5bmMiKS5zeW5jc1BlckJpZGRlciksYy5hLmNhbkJpZGRlclJlZ2lzdGVyU3luYygiaWZyYW1lIixiKT9zLml1cz0xOnMuaXVzPTAsT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpJiYocy5oZmE9T2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmhmYSIpKSxlWzBdLnBhcmFtcy5yZWZlcnJlciYmKHMucmVmPWVbMF0ucGFyYW1zLnJlZmVycmVyKSx0JiZ0LmdkcHJDb25zZW50JiYocy5nZHByPXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/InRydWUiOiJmYWxzZSIsdC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYocy5jb25zZW50X3N0cmluZz10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxlWzBdLnNjaGFpbiYmKHMuc2NoYWluPUpTT04uc3RyaW5naWZ5KGVbMF0uc2NoYWluKSksT2JqZWN0KGkuZGVlcEFjY2VzcykoZVswXSwidXNlcklkIikmJk9iamVjdC5rZXlzKGVbMF0udXNlcklkKS5sZW5ndGg+MCl7dmFyIGQ9T2JqZWN0KGkuZGVlcENsb25lKShlWzBdLnVzZXJJZCk7ZC5pZDVpZCYmKGQuaWQ1aWQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZCwiaWQ1aWQudWlkIikpLHMudXNlcmlkPUpTT04uc3RyaW5naWZ5KGQpfXZhciB1PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInVzZXJJZEFzRWlkcyIpO0FycmF5LmlzQXJyYXkodSkmJnUubGVuZ3RoPjAmJihzLmVpZHM9SlNPTi5zdHJpbmdpZnkodSkpO3ZhciBtPWVbMF0ucGFyYW1zLmtleXdvcmRzO2lmKG0mJihzLmt3PW0pLHQmJnQudXNwQ29uc2VudCYmKHMudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKT9zLmNvcHBhPTE6cy5jb3BwYT0wLE9iamVjdChpLmlzRW1wdHkpKG4pKXJldHVybiBudWxsO3ZhciB2PSJodHRwczovL2FwZXguZ28uc29ub2JpLmNvbS90cmluaXR5Lmpzb24iO3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikmJih2PU9iamVjdChpLmRlZXBBY2Nlc3MpKGVbMF0sInBhcmFtcy5iaWRfcmVxdWVzdF91cmwiKSkse21ldGhvZDoiR0VUIix1cmw6dix3aXRoQ3JlZGVudGlhbHM6ITAsZGF0YTpzLGJpZGRlclJlcXVlc3RzOmV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keSxuPVtdLHM9dC5kYXRhLnJlZjtyZXR1cm4gMD09PU9iamVjdC5rZXlzKHIuc2xvdHMpLmxlbmd0aHx8T2JqZWN0LmtleXMoci5zbG90cykuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIGE9ci5zbG90c1tlXSxjPWUuc3BsaXQoInwiKS5zbGljZSgtMSlbMF0sdT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYmlkSWQ9PT10KXJldHVybiBlW3JdfSh0LmJpZGRlclJlcXVlc3RzLGMpLHA9bnVsbDsidmlkZW8iPT09YS5zYmlfY3QmJihwPSJ2aWRlbyIsIm91dHN0cmVhbSI9PT1PYmplY3QoaS5kZWVwQWNjZXNzKSh1LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHA9Im91dHN0cmVhbSIpKTt2YXIgbD1qKHAscyk7aWYoYS5zYmlfYWlkJiZhLnNiaV9tb3VzZSYmYS5zYmlfc2l6ZSl7dmFyIGI9ZChhLnNiaV9zaXplLnNwbGl0KCJ4IiksMiksZj1iWzBdLHY9dm9pZCAwPT09Zj8xOmYsZz1iWzFdLHk9dm9pZCAwPT09Zz8xOmcsaD1bXTthLnNiaV9hZG9tYWluJiYoaD1bYS5zYmlfYWRvbWFpbl0pO3ZhciBPPXtyZXF1ZXN0SWQ6YyxjcG06TnVtYmVyKGEuc2JpX21vdXNlKSx3aWR0aDpOdW1iZXIodiksaGVpZ2h0Ok51bWJlcih5KSxhZDpsKHIuc2JpX2RjLGEuc2JpX2FpZCksdHRsOjUwMCxjcmVhdGl2ZUlkOmEuc2JpX2NyaWR8fGEuc2JpX2FpZCxhaWQ6YS5zYmlfYWlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCIsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6aH19O2lmKGEuc2JpX2RvemVyJiYoTy5kZWFsSWQ9YS5zYmlfZG96ZXIpLCJ2aWRlbyI9PT1wKU8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxkZWxldGUgTy5hZCxkZWxldGUgTy53aWR0aCxkZWxldGUgTy5oZWlnaHQ7ZWxzZSBpZigib3V0c3RyZWFtIj09PXAmJnUpe2RlbGV0ZSBPLmFkLE8ubWVkaWFUeXBlPSJ2aWRlbyIsTy52YXN0VXJsPWwoci5zYmlfZGMsYS5zYmlfYWlkKSxPLnJlbmRlcmVyPWZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49by5hLmluc3RhbGwoe2lkOnQuYWlkLHVybDptLGNvbmZpZzpyLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7bi5zZXRSZW5kZXIoQSl9Y2F0Y2goZSl7T2JqZWN0KGkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIG4uc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoaS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpfX0pLG59KHUuYWRVbml0Q29kZSxPLE9iamVjdChpLmRlZXBBY2Nlc3MpKHUsInJlbmRlcmVyLm9wdGlvbnMiKSk7dmFyIF89T2JqZWN0KGkuZGVlcEFjY2VzcykodSwicGFyYW1zLnNpemVzIik7QXJyYXkuaXNBcnJheShfKSYmQXJyYXkuaXNBcnJheShfWzBdKSYmKF89X1swXSksXyYmKE8ud2lkdGg9X1swXSxPLmhlaWdodD1fWzFdKX1uLnB1c2goTyl9fSkpLG59LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXt2YXIgaT1bXTt0cnl7ZS5waXhlbEVuYWJsZWQmJnRbMF0uYm9keS5zYmlfcHguZm9yRWFjaCgoZnVuY3Rpb24oZSl7aS5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pKX1jYXRjaChlKXt9cmV0dXJuIGl9fTtmdW5jdGlvbiBnKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIik/IiI6ZS5wYXJhbXMuc2l6ZXM/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShlLnBhcmFtcy5zaXplcykuam9pbigiLCIpOk9iamVjdChpLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/T2JqZWN0KGkucGFyc2VTaXplc0lucHV0KShPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpKS5qb2luKCIsIik6ZS5zaXplcz9PYmplY3QoaS5wYXJzZVNpemVzSW5wdXQpKGUuc2l6ZXMpLmpvaW4oIiwiKTp2b2lkIDB9ZnVuY3Rpb24geShlKXt2YXIgdD1mdW5jdGlvbihlKXtpZighT2JqZWN0KGkuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO2lmKE9iamVjdChpLmlzUGxhaW5PYmplY3QpKHQpJiYhaXNOYU4odC5mbG9vcikmJiJVU0QiPT09dC5jdXJyZW5jeSlyZXR1cm4gdC5mbG9vcjtyZXR1cm4iIn0oZSk7cmV0dXJuIHQ/InxmPSIuY29uY2F0KHQpOiIifWZ1bmN0aW9uIGgoZSl7dmFyIHQ9T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEucGJhZHNsb3QiKXx8T2JqZWN0KGkuZGVlcEFjY2VzcykoT2JqZWN0KGkuZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKShlLmFkVW5pdENvZGUpLCJncHRTbG90Iil8fGUucGFyYW1zLmFkX3VuaXQ7cmV0dXJuIHQ/InxncGlkPSIuY29uY2F0KHQpOiIifXZhciBqPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuInZpZGVvIj09PWV8fCJvdXRzdHJlYW0iPT09ZT9mdW5jdGlvbihlLHQscil7cmV0dXJuImh0dHBzOi8vIi5jb25jYXQoZSwiYXBleC5nby5zb25vYmkuY29tL3Zhc3QueG1sP3ZpZD0iKS5jb25jYXQodCwiJnJlZj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KHIpKX0ocixuLHQpOic8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInKyJodHRwczovLyIuY29uY2F0KHIsImFwZXguZ28uc29ub2JpLmNvbS9zYmkuanM/YWlkPSIpLmNvbmNhdChuLCImYXM9bnVsbCZyZWY9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0KSkrJyI+PFwvc2NyaXB0Pid9fTt2YXIgTz1mdW5jdGlvbigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp3aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIGUuaW5uZXJXaWR0aD49dCYmZS5pbm5lcldpZHRoPHJ9fTtmdW5jdGlvbiBfKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdyx0PU8oZSkscj17bHQ6NzY4fSxuPXtsdDo5OTIsZ2U6NzY4fTtyZXR1cm4gdCgwLHIubHQpPyJtb2JpbGUiOnQobi5nZSxuLmx0KT8idGFibGV0IjoiZGVza3RvcCJ9ZnVuY3Rpb24gQShlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7dmFyIHQ9ZChlLmdldFNpemUoKS5zcGxpdCgieCIpLDIpLHI9dFswXSxuPXRbMV0saT1uZXcgd2luZG93LlNiaU91dHN0cmVhbVJlbmRlcmVyO2kuaW5pdCh7dmFzdFVybDplLnZhc3RVcmwsaGVpZ2h0Om4sd2lkdGg6cn0pLGkuc2V0Um9vdEVsZW1lbnQoZS5hZFVuaXRDb2RlKX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikodil9fSxbODIwXSk7CnVwYmpzQ2h1bmsoWzE3XSx7MTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShyKSlpZigicHViUHJvdmlkZWRJZCI9PT1yKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciBhPWkoZVtyXSxyKTthJiZ0LnB1c2goYSl9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKHIpe09iamVjdChhLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChhLmRlZXBBY2Nlc3MpKG4scisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpuW3JdLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgYT1yKDApLG49e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3QoYS5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj1uW3RdO2lmKHImJmUpe3ZhciBpPXt9O2kuc291cmNlPXIuc291cmNlO3ZhciBjPU9iamVjdChhLmlzRm4pKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3QoYS5pc1N0cikoYykpe3ZhciBvPXtpZDpjLGF0eXBlOnIuYXR5cGV9O2lmKE9iamVjdChhLmlzRm4pKHIuZ2V0VWlkRXh0KSl7dmFyIHM9ci5nZXRVaWRFeHQoZSk7cyYmKG8uZXh0PXMpfWlmKGkudWlkcz1bb10sT2JqZWN0KGEuaXNGbikoci5nZXRFaWRFeHQpKXt2YXIgZD1yLmdldEVpZEV4dChlKTtkJiYoaS5leHQ9ZCl9cmV0dXJuIGl9fXJldHVybiBudWxsfX0sODI0OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4MjUpfSw4MjU6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLChmdW5jdGlvbigpe3JldHVybiBmfSkpO3ZhciBhPXIoMCksbj1yKDEpLGk9cigzKSxjPXIoMiksbz1yKDE3KTtmdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe3ZhciByPW51bGw9PWU/bnVsbDoidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmZVtTeW1ib2wuaXRlcmF0b3JdfHxlWyJAQGl0ZXJhdG9yIl07aWYobnVsbD09cilyZXR1cm47dmFyIGEsbixpPVtdLGM9ITAsbz0hMTt0cnl7Zm9yKHI9ci5jYWxsKGUpOyEoYz0oYT1yLm5leHQoKSkuZG9uZSkmJihpLnB1c2goYS52YWx1ZSksIXR8fGkubGVuZ3RoIT09dCk7Yz0hMCk7fWNhdGNoKGUpe289ITAsbj1lfWZpbmFsbHl7dHJ5e2N8fG51bGw9PXIucmV0dXJufHxyLnJldHVybigpfWZpbmFsbHl7aWYobyl0aHJvdyBufX1yZXR1cm4gaX0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBkKGUsdCk7dmFyIHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09ciYmZS5jb25zdHJ1Y3RvciYmKHI9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXJ8fCJTZXQiPT09cilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpKXJldHVybiBkKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciByPTAsYT1uZXcgQXJyYXkodCk7cjx0O3IrKylhW3JdPWVbcl07cmV0dXJuIGF9dmFyIHU9InNvcnRhYmxlIixwPSJodHRwczovL2MuZGVwbG95YWRzLmNvbSI7ZnVuY3Rpb24gbChlLHQpe3JldHVybiBlLnJlcXVpcmVkJiYodC5yZXF1aXJlZD0xKSx0fWZ1bmN0aW9uIG0oZSl7cmV0dXJuIGUud3x8ZS5oP3t1cmw6ZS51cmwsd2lkdGg6ZS53LGhlaWdodDplLmh9OmUudXJsfWZ1bmN0aW9uIGIoZSx0LHIpe09iamVjdChhLl9lYWNoKShlLChmdW5jdGlvbihlKXtlLmJvZHkmJmUuYm9keS5leHQmJmUuYm9keS5leHQuc3luY19kc3BzJiZlLmJvZHkuZXh0LnN5bmNfZHNwcy5sZW5ndGgmJk9iamVjdChhLl9lYWNoKShlLmJvZHkuZXh0LnN5bmNfZHNwcywoZnVuY3Rpb24oZSl7ZVswXT09PXQmJmVbMV0mJnIucHVzaCh7dHlwZTp0LHVybDplWzFdfSl9KSl9KSl9ZnVuY3Rpb24geShlKXtpZighT2JqZWN0KGEuaXNGbikoZS5nZXRGbG9vcikpcmV0dXJuIGUucGFyYW1zLmZsb29yP2UucGFyYW1zLmZsb29yOm51bGw7dmFyIHQ9ZS5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOiIqIixzaXplOiIqIn0pO3JldHVybiBPYmplY3QoYS5pc1BsYWluT2JqZWN0KSh0KSYmIWlzTmFOKHQuZmxvb3IpJiYiVVNEIj09PXQuY3VycmVuY3k/dC5mbG9vcjpudWxsfXZhciBmPXtjb2RlOnUsc3VwcG9ydGVkTWVkaWFUeXBlczpbYy5iLGMuYyxjLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWkuYi5nZXRDb25maWcoInNvcnRhYmxlIikscj10JiYhIXQuc2l0ZUlkfHxlLnBhcmFtcy5zaXRlSWQsbj15KGUpLG89IW58fE9iamVjdChhLmlzTnVtYmVyKShuKSxzPSFlLnBhcmFtcy5rZXl3b3Jkc3x8T2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5wYXJhbXMua2V5d29yZHMpJiZPYmplY3Qua2V5cyhlLnBhcmFtcy5rZXl3b3JkcykuZXZlcnkoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QoYS5pc1N0cikodCkmJk9iamVjdChhLmlzU3RyKShlLnBhcmFtcy5rZXl3b3Jkc1t0XSl9KSksZD0hZS5tZWRpYVR5cGVzfHxlLm1lZGlhVHlwZXNbYy5iXXx8IShlLm1lZGlhVHlwZXNbYy5jXXx8ZS5tZWRpYVR5cGVzW2MuZF0pLHU9ZD9PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGUuIi5jb25jYXQoYy5iLCIuc2l6ZXMiKSl8fGUuc2l6ZXM6bnVsbDtyZXR1cm4hIShlLnBhcmFtcy50YWdJZCYmciYmbyYmcyYmKCFkfHx1JiZ1Lmxlbmd0aD4wJiZ1LmV2ZXJ5KChmdW5jdGlvbihlKXtyZXR1cm4gMj09ZS5sZW5ndGgmJmUuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoYS5pc051bWJlcikoZSl9KSl9KSkpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPShpLmIuZ2V0Q29uZmlnKCJzb3J0YWJsZSIpfHx7fSkuc2l0ZUlkLG49T2JqZWN0KGEucGFyc2VVcmwpKHQucmVmZXJlckluZm8ucmVmZXJlciksZD1PYmplY3QoYS5fbWFwKShlLChmdW5jdGlvbihlKXt2YXIgdD17aWQ6ZS5iaWRJZCx0YWdpZDplLnBhcmFtcy50YWdJZCxleHQ6e319LHI9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChjLmIpKSxuPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQoYy5jKSksaT1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLiIuY29uY2F0KGMuZCkpO2lmKHJ8fCFuJiYhaSl7dmFyIG89ciYmci5zaXplc3x8ZS5zaXplczt0LmJhbm5lcj17Zm9ybWF0Ok9iamVjdChhLl9tYXApKG8sKGZ1bmN0aW9uKGUpe3ZhciB0PXMoZSwyKTtyZXR1cm57dzp0WzBdLGg6dFsxXX19KSl9fWlmKG4mJih0Lm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgdD1bXSxyPWUudGl0bGU7ciYmdC5wdXNoKGwocix7dGl0bGU6e2xlbjpyLmxlbn19KSk7dmFyIG49ZS5pbWFnZTtuJiZ0LnB1c2gobChuLHtpbWc6e3R5cGU6Myx3bWluOjEsaG1pbjoxfX0pKTt2YXIgaT1lLmljb247aSYmdC5wdXNoKGwoaSx7aW1nOnt0eXBlOjEsd21pbjoxLGhtaW46MX19KSk7dmFyIGM9ZS5ib2R5O2MmJnQucHVzaChsKGMse2RhdGE6e3R5cGU6Mn19KSk7dmFyIG89ZS5jdGE7byYmdC5wdXNoKGwobyx7ZGF0YTp7dHlwZToxMn19KSk7dmFyIHM9ZS5zcG9uc29yZWRCeTtyZXR1cm4gcyYmdC5wdXNoKGwocyx7ZGF0YTp7dHlwZToxfX0pKSxPYmplY3QoYS5fZWFjaCkodCwoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5pZD10fSkpLHt2ZXI6IjEiLHJlcXVlc3Q6SlNPTi5zdHJpbmdpZnkoe3ZlcjoiMSIsYXNzZXRzOnR9KX19KG4pKSxpJiYiaW5zdHJlYW0iPT09aS5jb250ZXh0KXt2YXIgZD17cGxhY2VtZW50OjF9O2QubWltZXM9aS5taW1lc3x8W10sZC5taW5kdXJhdGlvbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWluZHVyYXRpb24iKXx8MTAsZC5tYXhkdXJhdGlvbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJwYXJhbXMudmlkZW8ubWF4ZHVyYXRpb24iKXx8NjA7dmFyIHU9T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwicGFyYW1zLnZpZGVvLnN0YXJ0ZGVsYXkiKTtpZihudWxsIT11JiYoZC5zdGFydGRlbGF5PXUpLGkucGxheWVyU2l6ZSYmaS5wbGF5ZXJTaXplLmxlbmd0aCl7dmFyIHA9aS5wbGF5ZXJTaXplWzBdO2Qudz1wWzBdLGQuaD1wWzFdfWkuYXBpJiYoZC5hcGk9aS5hcGkpLGkucHJvdG9jb2xzJiYoZC5wcm90b2NvbHM9aS5wcm90b2NvbHMpLGkucGxheWJhY2ttZXRob2QmJihkLnBsYXliYWNrbWV0aG9kPWkucGxheWJhY2ttZXRob2QpLHQudmlkZW89ZH12YXIgbT15KGUpO3JldHVybiBtJiYodC5mbG9vcj1tKSxlLnBhcmFtcy5rZXl3b3JkcyYmKHQuZXh0LmtleXdvcmRzPWUucGFyYW1zLmtleXdvcmRzKSxlLnBhcmFtcy5iaWRkZXJQYXJhbXMmJk9iamVjdChhLl9lYWNoKShlLnBhcmFtcy5iaWRkZXJQYXJhbXMsKGZ1bmN0aW9uKGUscil7dC5leHRbcl09ZX0pKSx0LmV4dC5ncGlkPU9iamVjdChhLmRlZXBBY2Nlc3MpKGUsIm9ydGIySW1wLmV4dC5kYXRhLnBiYWRzbG90IiksdH0pKSx1PXQmJnQuZ2RwckNvbnNlbnQsbT1lWzBdLnVzZXJJZCxiPU9iamVjdChvLmIpKG0pLGY9e2lkOk9iamVjdChhLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOmQsc291cmNlOntleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19LHJlZ3M6e2V4dDp7fX0sc2l0ZTp7ZG9tYWluOm4uaG9zdG5hbWUscGFnZTpuLmhyZWYscmVmOm4uaHJlZixwdWJsaXNoZXI6e2lkOnJ8fGVbMF0ucGFyYW1zLnNpdGVJZH0sZGV2aWNlOnt3OnNjcmVlbi53aWR0aCxoOnNjcmVlbi5oZWlnaHR9fSx1c2VyOntleHQ6e319fTtyZXR1cm4gdCYmdC50aW1lb3V0PjAmJihmLnRtYXg9dC50aW1lb3V0KSx1JiYoZi51c2VyPXtleHQ6e2NvbnNlbnQ6dS5jb25zZW50U3RyaW5nfX0sImJvb2xlYW4iPT10eXBlb2YgdS5nZHByQXBwbGllcyYmKGYucmVncy5leHQuZ2Rwcj11LmdkcHJBcHBsaWVzPzE6MCkpLGIubGVuZ3RoJiYoZi51c2VyLmV4dC5laWRzPWIpLHQudXNwQ29uc2VudCYmKGYucmVncy5leHQudXNfcHJpdmFjeT10LnVzcENvbnNlbnQpLHttZXRob2Q6IlBPU1QiLHVybDoiIi5jb25jYXQocCwiL29wZW5ydGIyL2F1Y3Rpb24/c3JjPXByZWJpZF9wcmViaWRfNS4yMC4yJmhvc3Q9IikuY29uY2F0KG4uaG9zdG5hbWUpLGRhdGE6SlNPTi5zdHJpbmdpZnkoZiksb3B0aW9uczp7Y29udGVudFR5cGU6InRleHQvcGxhaW4ifX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUpe3ZhciB0PWUuYm9keSxyPXQuaWQsbj10LnNlYXRiaWQsaT1bXTtyZXR1cm4gciYmbiYmT2JqZWN0KGEuX2VhY2gpKG4sKGZ1bmN0aW9uKGUpe09iamVjdChhLl9lYWNoKShlLmJpZCwoZnVuY3Rpb24oZSl7dmFyIHQ9e3JlcXVlc3RJZDplLmltcGlkLGNwbTpwYXJzZUZsb2F0KGUucHJpY2UpLHdpZHRoOnBhcnNlSW50KGUudyksaGVpZ2h0OnBhcnNlSW50KGUuaCksY3JlYXRpdmVJZDplLmNyaWR8fGUuaWQsZGVhbElkOmUuZGVhbGlkfHxudWxsLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmMuYix0dGw6NjAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZS5hZG9tYWlufHxbXX19O2lmKGUuYWRtKXt2YXIgcj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJleHQuYWRfZm9ybWF0Iik7aWYoIm5hdGl2ZSI9PT1yKXt2YXIgbj1mdW5jdGlvbihlKXt2YXIgdD1udWxsO3RyeXt0PUpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7T2JqZWN0KGEubG9nRXJyb3IpKCJTb3J0YWJsZSBiaWQgYWRhcHRlciB1bmFibGUgdG8gcGFyc2UgbmF0aXZlIGJpZCByZXNwb25zZTpcblxuIitlKX1yZXR1cm4gdCYmdC5uYXRpdmV9KGUuYWRtKTtpZighbilyZXR1cm47dC5tZWRpYVR5cGU9Yy5jLHQubmF0aXZlPWZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiBlLmxpbmsmJih0LmNsaWNrVXJsPWUubGluay51cmwpLE9iamVjdChhLl9lYWNoKShlLmFzc2V0cywoZnVuY3Rpb24oZSl7c3dpdGNoKGUuaWQpe2Nhc2UgMTp0LnRpdGxlPWUudGl0bGUudGV4dDticmVhaztjYXNlIDI6dC5pbWFnZT1tKGUuaW1nKTticmVhaztjYXNlIDM6dC5pY29uPW0oZS5pbWcpO2JyZWFrO2Nhc2UgNDp0LmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTp0LmN0YT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnQuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlfX0pKSx0fShuKX1lbHNlImluc3RyZWFtIj09PXI/KHQubWVkaWFUeXBlPWMuZCx0LnZhc3RYbWw9ZS5hZG0pOih0Lm1lZGlhVHlwZT1jLmIsdC5hZD1lLmFkbSxlLm51cmwmJih0LmFkKz1PYmplY3QoYS5jcmVhdGVUcmFja1BpeGVsSHRtbCkoZGVjb2RlVVJJQ29tcG9uZW50KGUubnVybCkpKSl9ZWxzZSBlLm51cmwmJih0LmFkVXJsPWUubnVybCk7ZS5leHQmJih0LnNvcnRhYmxlPWUuZXh0KSxpLnB1c2godCl9KSl9KSksaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmYih0LCJpZnJhbWUiLHIpLGUucGl4ZWxFbmFibGVkJiZiKHQsImltYWdlIixyKSxyfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7ZmV0Y2goIiIuY29uY2F0KHAsIi9wcmViaWQvdGltZW91dCIpLHttZXRob2Q6IlBPU1QiLGJvZHk6SlNPTi5zdHJpbmdpZnkoZSksbW9kZToibm8tY29ycyIsaGVhZGVyczpuZXcgSGVhZGVycyh7IkNvbnRlbnQtVHlwZSI6InRleHQvcGxhaW4ifSl9KX19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShmKX19LFs4MjRdKTsKdXBianNDaHVuayhbMTVdLHsxNzpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3QuYj1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHIpKWlmKCJwdWJQcm92aWRlZElkIj09PXIpdD10LmNvbmNhdChlLnB1YlByb3ZpZGVkSWQpO2Vsc2V7dmFyIGk9YShlW3JdLHIpO2kmJnQucHVzaChpKX1yZXR1cm4gdH0sdC5hPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO3JldHVybiBlLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7T2JqZWN0LmtleXMoZS5pZE9iaikuZm9yRWFjaCgoZnVuY3Rpb24ocil7T2JqZWN0KGkuZGVlcEFjY2VzcykoZSwiY29uZmlnLmJpZGRlcnMiKSYmQXJyYXkuaXNBcnJheShlLmNvbmZpZy5iaWRkZXJzKSYmT2JqZWN0KGkuZGVlcEFjY2VzcykobixyKyIuc291cmNlIikmJnQucHVzaCh7c291cmNlOm5bcl0uc291cmNlLGJpZGRlcnM6ZS5jb25maWcuYmlkZGVyc30pfSkpfSkpLHR9O3ZhciBpPXIoMCksbj17aW50ZW50SXFJZDp7c291cmNlOiJpbnRlbnRpcS5jb20iLGF0eXBlOjF9LG5hdmVnZ0lkOntzb3VyY2U6Im5hdmVnZy5jb20iLGF0eXBlOjF9LHB1YmNpZDp7c291cmNlOiJwdWJjaWQub3JnIixhdHlwZToxfSx0ZGlkOntzb3VyY2U6ImFkc2VydmVyLm9yZyIsYXR5cGU6MSxnZXRVaWRFeHQ6ZnVuY3Rpb24oKXtyZXR1cm57cnRpUGFydG5lcjoiVERJRCJ9fX0saWQ1aWQ6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnVpZH0sc291cmNlOiJpZDUtc3luYy5jb20iLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe2lmKGUuZXh0KXJldHVybiBlLmV4dH19LHBhcnJhYmxlSWQ6e3NvdXJjZToicGFycmFibGUuY29tIixhdHlwZToxLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmVpZD9lLmVpZDplLmNjcGFPcHRvdXQ/IiI6bnVsbH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChpLnBpY2spKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZTozfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjMsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjN9LGRtZElkOntzb3VyY2U6Imhjbi5oZWFsdGgiLGF0eXBlOjN9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLmtleUlEP3trZXlJRDplLmtleUlEfTp2b2lkIDB9fSxuZXRJZDp7c291cmNlOiJuZXRpZC5kZSIsYXR5cGU6MX0sSURQOntzb3VyY2U6Inplb3RhcC5jb20iLGF0eXBlOjF9LGhhbG9JZDp7c291cmNlOiJhdWRpZ2VudC5jb20iLGF0eXBlOjF9LHF1YW50Y2FzdElkOntzb3VyY2U6InF1YW50Y2FzdC5jb20iLGF0eXBlOjF9LG5leHRyb2xsSWQ6e3NvdXJjZToibmV4dHJvbGwuY29tIixhdHlwZToxfSxpZHg6e3NvdXJjZToiaWR4LmxhdCIsYXR5cGU6MX0sY29ubmVjdGlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjN9LGZhYnJpY2tJZDp7c291cmNlOiJuZXVzdGFyLmJpeiIsYXR5cGU6MX0sbXdPcGVuTGlua0lkOntzb3VyY2U6Im1lZGlhd2FsbGFoc2NyaXB0LmNvbSIsYXR5cGU6MX0sdGFwYWRJZDp7c291cmNlOiJ0YXBhZC5jb20iLGF0eXBlOjF9LG5vdmF0aXE6e2dldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLnNub3dmbGFrZX0sc291cmNlOiJub3ZhdGlxLmNvbSIsYXR5cGU6MX0sdWlkMjp7c291cmNlOiJ1aWRhcGkuY29tIixhdHlwZTozLGdldFZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmlkfX0sZGFwSWQ6e3NvdXJjZToiYWthbWFpLmNvbSIsYXR5cGU6MX0sZGVlcGludGVudElkOntzb3VyY2U6ImRlZXBpbnRlbnQuY29tIixhdHlwZTozfSxhZG1peGVySWQ6e3NvdXJjZToiYWRtaXhlci5uZXQiLGF0eXBlOjN9LGFkdGVsbGlnZW50SWQ6e3NvdXJjZToiYWR0ZWxsaWdlbnQuY29tIixhdHlwZTozfSxhbXhJZDp7c291cmNlOiJhbXhydGIuY29tIixhdHlwZToxfSxwdWJsaW5rSWQ6e3NvdXJjZToiZXBzaWxvbi5jb20iLGF0eXBlOjN9LGtwdWlkOntzb3VyY2U6ImtwdWlkLmNvbSIsYXR5cGU6M30saW11aWQ6e3NvdXJjZToiaW50aW1hdGVtZXJnZXIuY29tIixhdHlwZToxfSxjb25uZWN0SWQ6e3NvdXJjZToieWFob28uY29tIixhdHlwZTozfX07ZnVuY3Rpb24gYShlLHQpe3ZhciByPW5bdF07aWYociYmZSl7dmFyIGE9e307YS5zb3VyY2U9ci5zb3VyY2U7dmFyIGM9T2JqZWN0KGkuaXNGbikoci5nZXRWYWx1ZSk/ci5nZXRWYWx1ZShlKTplO2lmKE9iamVjdChpLmlzU3RyKShjKSl7dmFyIG89e2lkOmMsYXR5cGU6ci5hdHlwZX07aWYoT2JqZWN0KGkuaXNGbikoci5nZXRVaWRFeHQpKXt2YXIgZD1yLmdldFVpZEV4dChlKTtkJiYoby5leHQ9ZCl9aWYoYS51aWRzPVtvXSxPYmplY3QoaS5pc0ZuKShyLmdldEVpZEV4dCkpe3ZhciB1PXIuZ2V0RWlkRXh0KGUpO3UmJihhLmV4dD11KX1yZXR1cm4gYX19cmV0dXJuIG51bGx9fSw4Mjg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDgyOSl9LDgyOTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSk7dmFyIGk9cigwKSxuPXIoMSksYT1yKDIpLGM9cigxNyksbz1yKDMpLGQ9e2NvZGU6InNvdnJuIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGd2bGlkOjEzLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnRhZ2lkfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnRhZ2lkKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy50YWdpZCkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dHJ5e3ZhciByLG4sYSxkLHU9W10scz1bXTtPYmplY3QoaS5fZWFjaCkoZSwoZnVuY3Rpb24oZSl7IWEmJmUudXNlcklkJiYoYT1PYmplY3QoYy5iKShlLnVzZXJJZCkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UudWlkcyYmZS51aWRzWzBdJiYoImNyaXRlby5jb20iPT09ZS5zb3VyY2UmJihkPWUudWlkc1swXS5pZCkscy5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkOmUudWlkc1swXS5pZH0pKX0pKSxlLnNjaGFpbiYmKG49bnx8ZS5zY2hhaW4pLHI9cnx8T2JqZWN0KGkuZ2V0QmlkSWRQYXJhbWV0ZXIpKCJpdiIsZS5wYXJhbXMpO3ZhciB0PWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplcyxvPSh0PSh0PU9iamVjdChpLmlzQXJyYXkpKHQpJiZPYmplY3QoaS5pc0FycmF5KSh0WzBdKT90Olt0XSkuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGkuaXNBcnJheSkoZSl9KSkpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19KSkscD1lLmdldEZsb29yJiYiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vcj9lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KTp7fTtwLmZsb29yPXAuZmxvb3J8fE9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiYmlkZmxvb3IiLGUucGFyYW1zKTt2YXIgbD17YWR1bml0Y29kZTplLmFkVW5pdENvZGUsaWQ6ZS5iaWRJZCxiYW5uZXI6e2Zvcm1hdDpvLHc6MSxoOjF9LHRhZ2lkOlN0cmluZyhPYmplY3QoaS5nZXRCaWRJZFBhcmFtZXRlcikoInRhZ2lkIixlLnBhcmFtcykpLGJpZGZsb29yOnAuZmxvb3J9O2wuZXh0PU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgiZXh0IixlLm9ydGIySW1wKXx8dm9pZCAwO3ZhciBiPU9iamVjdChpLmdldEJpZElkUGFyYW1ldGVyKSgic2VnbWVudHMiLGUucGFyYW1zKTtiJiYobC5leHQ9bC5leHR8fHt9LGwuZXh0LmRlYWxzPWIuc3BsaXQoIiwiKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pKSksdS5wdXNoKGwpfSkpO3ZhciBwPU9iamVjdChpLmRlZXBDbG9uZSkoby5iLmdldENvbmZpZygib3J0YjIiKSksbD1wLnNpdGV8fHt9O2wucGFnZT10LnJlZmVyZXJJbmZvLnJlZmVyZXIsbC5kb21haW49T2JqZWN0KGkucGFyc2VVcmwpKGwucGFnZSkuaG9zdG5hbWU7dmFyIGI9e2lkOk9iamVjdChpLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIpKCksaW1wOnUsc2l0ZTpsLHVzZXI6cC51c2VyfHx7fX07biYmKGIuc291cmNlPXtleHQ6e3NjaGFpbjpufX0pLHQuZ2RwckNvbnNlbnQmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInJlZ3MuZXh0LmdkcHIiLCt0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LmNvbnNlbnQiLHQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHQudXNwQ29uc2VudCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJyZWdzLmV4dC51c19wcml2YWN5Iix0LnVzcENvbnNlbnQpLGEmJihPYmplY3QoaS5kZWVwU2V0VmFsdWUpKGIsInVzZXIuZXh0LmVpZHMiLGEpLE9iamVjdChpLmRlZXBTZXRWYWx1ZSkoYiwidXNlci5leHQudHBpZCIscyksZCYmT2JqZWN0KGkuZGVlcFNldFZhbHVlKShiLCJ1c2VyLmV4dC5wcmViaWRfY3JpdGVvaWQiLGQpKTt2YXIgbT0iaHR0cHM6Ly9hcC5saWppdC5jb20vcnRiL2JpZD9zcmM9cHJlYmlkX3ByZWJpZF81LjIwLjIiO3JldHVybiByJiYobSs9IiZpdj0iLmNvbmNhdChyKSkse21ldGhvZDoiUE9TVCIsdXJsOm0sZGF0YTpKU09OLnN0cmluZ2lmeShiKSxvcHRpb25zOntjb250ZW50VHlwZToidGV4dC9wbGFpbiJ9fX1jYXRjaChlKXtPYmplY3QoaS5sb2dFcnJvcikoIkNvdWxkIG5vdCBidWlsZCBiaWRyZXF1ZXN0LCBlcnJvciBkZWF0aWxzOiIsZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLG49dC5zZWF0YmlkO3RyeXt2YXIgYz1bXTtyZXR1cm4gciYmbiYmbi5sZW5ndGg+MCYmblswXS5iaWQmJm5bMF0uYmlkLmxlbmd0aD4wJiZuWzBdLmJpZC5tYXAoKGZ1bmN0aW9uKGUpe2MucHVzaCh7cmVxdWVzdElkOmUuaW1waWQsY3BtOnBhcnNlRmxvYXQoZS5wcmljZSksd2lkdGg6cGFyc2VJbnQoZS53KSxoZWlnaHQ6cGFyc2VJbnQoZS5oKSxjcmVhdGl2ZUlkOmUuY3JpZHx8ZS5pZCxkZWFsSWQ6ZS5kZWFsaWR8fG51bGwsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCxtZWRpYVR5cGU6YS5iLGFkOmRlY29kZVVSSUNvbXBvbmVudCgiIi5jb25jYXQoZS5hZG0sJzxpbWcgc3JjPSInKS5jb25jYXQoZS5udXJsLCciPicpKSx0dGw6ZS5leHQmJmUuZXh0LnR0bHx8OTAsbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6ZSYmZS5hZG9tYWluP2UuYWRvbWFpbjpbXX19KX0pKSxjfWNhdGNoKGUpe09iamVjdChpLmxvZ0Vycm9yKSgiQ291bGQgbm90IGludHJlcHJldCBiaWRyZXNwb25zZSwgZXJyb3IgZGVhdGlsczoiLGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3RyeXt2YXIgYT1bXTtpZih0JiYwIT09dC5sZW5ndGgpe2lmKGUuaWZyYW1lRW5hYmxlZCl7dmFyIGM9dC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJib2R5LmV4dC5paWQiKX0pKS5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJvZHkuZXh0LmlpZH0pKSxvPVtdO3ImJnIuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiZvLnB1c2goWyJnZHByX2NvbnNlbnQiLHIuY29uc2VudFN0cmluZ10pLG4mJm8ucHVzaChbInVzX3ByaXZhY3kiLG5dKSxjWzBdJiYoby5wdXNoKFsiaW5mb3JtZXIiLGNbMF1dKSxhLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IitvLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIGUuam9pbigiPSIpfSkpLmpvaW4oIiYiKX0pKX1lLnBpeGVsRW5hYmxlZCYmdC5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QoaS5kZWVwQWNjZXNzKShlLCJib2R5LmV4dC5zeW5jLnBpeGVscyIpfSkpLnJlZHVjZSgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5ib2R5LmV4dC5zeW5jLnBpeGVscyl9KSxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS51cmx9KSkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7cmV0dXJuIGEucHVzaCh7dHlwZToiaW1hZ2UiLHVybDplfSl9KSl9cmV0dXJuIGF9Y2F0Y2goZSl7cmV0dXJuW119fX07T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGQpfX0sWzgyOF0pOwp1cGJqc0NodW5rKFsxMDZdLHs4NjQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDg2NSl9LDg2NTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKTt2YXIgbj1yKDApLGk9cigyKSxvPXIoMSksdT1yKDMpO2Z1bmN0aW9uIGMoKXtyZXR1cm4oYz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGEoZSl7cmV0dXJuKGE9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBwKGUsdCl7dmFyIHI9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxyLnB1c2guYXBwbHkocixuKX1yZXR1cm4gcn1mdW5jdGlvbiBkKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3AoT2JqZWN0KHIpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtzKGUsdCxyW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHIpKTpwKE9iamVjdChyKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIHMoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfWZ1bmN0aW9uIGYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGwoZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmbnVsbCE9ZVtTeW1ib2wuaXRlcmF0b3JdfHxudWxsIT1lWyJAQGl0ZXJhdG9yIl0pcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGwoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGwoZSx0KX0oZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufXZhciB5PSEwLGI9bnVsbCxtPXtndmxpZDoyOCxjb2RlOiJ0cmlwbGVsaWZ0IixzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZS5wYXJhbXMuaW52ZW50b3J5Q29kZX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixpPWZ1bmN0aW9uKGUpe3ZhciB0PXt9LHI9ZVswXS5zY2hhaW4saT1mdW5jdGlvbigpe3ZhciBlPXt9LHQ9e30scj17fSxpPXUuYi5nZXRMZWdhY3lGcGQodS5iLmdldENvbmZpZygib3J0YjIiKSl8fHt9LG89Yyh7fSxpLmNvbnRleHQpLGE9Yyh7fSxpLnVzZXIpO08odCxvKSxPKHIsYSksT2JqZWN0KG4uaXNFbXB0eSkodCl8fChlLmNvbnRleHQ9dCk7T2JqZWN0KG4uaXNFbXB0eSkocil8fChlLnVzZXI9cik7cmV0dXJuIGV9KCk7dC5pbXA9ZS5tYXAoKGZ1bmN0aW9uKGUsdCl7dmFyIHI9e2lkOnQsdGFnaWQ6ZS5wYXJhbXMuaW52ZW50b3J5Q29kZSxmbG9vcjp2KGUpfTtyZXR1cm4gZyhlKT9yLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciB0PWQoZCh7fSxlLnBhcmFtcy52aWRlbyksZS5tZWRpYVR5cGVzLnZpZGVvKTt0Lnd8fCh0Lnc9dC5wbGF5ZXJTaXplWzBdWzBdKTt0Lmh8fCh0Lmg9dC5wbGF5ZXJTaXplWzBdWzFdKTsiaW5zdHJlYW0iPT09dC5jb250ZXh0JiYodC5wbGFjZW1lbnQ9MSk7cmV0dXJuIGRlbGV0ZSB0LnBsYXllclNpemUsdH0oZSk6ZS5tZWRpYVR5cGVzLmJhbm5lciYmKHIuYmFubmVyPXtmb3JtYXQ6aChlLnNpemVzKX0pLE9iamVjdChuLmlzRW1wdHkpKGUub3J0YjJJbXApfHwoci5mcGQ9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj17fTtPKHIsZS5leHQpLE9iamVjdChuLmlzRW1wdHkpKHIpfHwodC5jb250ZXh0PXIpO3JldHVybiB0fShlLm9ydGIySW1wKSkscn0pKTt2YXIgbz1bXS5jb25jYXQoZigoYT1bZVswXV0saihhLCJ0ZGlkIiwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJpZGxfZW52IiwibGl2ZXJhbXAuY29tIiwiaWRsIil9KFtlWzBdXSkpLGYoZnVuY3Rpb24oZSl7cmV0dXJuIGooZSwiY3JpdGVvSWQiLCJjcml0ZW8uY29tIiwiY3JpdGVvSWQiKX0oW2VbMF1dKSksZihmdW5jdGlvbihlKXtyZXR1cm4gaihlLCJwdWJjaWQiLCJwdWJjaWQub3JnIiwicHViY2lkIil9KFtlWzBdXSkpKTt2YXIgYTtvLmxlbmd0aD4wJiYodC51c2VyPXtleHQ6e2VpZHM6b319KTt2YXIgcD1mdW5jdGlvbihlLHQpe3ZhciByPXt9O09iamVjdChuLmlzRW1wdHkpKGUpfHwoci5zY2hhaW49ZCh7fSxlKSk7T2JqZWN0KG4uaXNFbXB0eSkodCl8fChyLmZwZD1kKHt9LHQpKTtyZXR1cm4gcn0ocixpKTtPYmplY3Qobi5pc0VtcHR5KShwKXx8KHQuZXh0PXApO3JldHVybiB0fShlKTtpZihyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJsaWIiLCJwcmViaWQiKSxyPU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKShyLCJ2IiwiNS4yMC4yIiksdCYmdC5yZWZlcmVySW5mbyl7dmFyIG89dC5yZWZlcmVySW5mby5yZWZlcmVyO3I9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInJlZmVycmVyIixvKX1yZXR1cm4gdCYmdC50aW1lb3V0JiYocj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwidG1heCIsdC50aW1lb3V0KSksdCYmdC5nZHByQ29uc2VudCYmKHZvaWQgMCE9PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJih5PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiZ2RwciIseS50b1N0cmluZygpKSksdm9pZCAwIT09dC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoYj10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcscj1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykociwiY21wX2NzIixiKSkpLHQmJnQudXNwQ29uc2VudCYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsInVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCkpLCEwPT09dS5iLmdldENvbmZpZygiY29wcGEiKSYmKHI9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHIsImNvcHBhIiwhMCkpLHIubGFzdEluZGV4T2YoIiYiKT09PXIubGVuZ3RoLTEmJihyPXIuc3Vic3RyaW5nKDAsci5sZW5ndGgtMSkpLE9iamVjdChuLmxvZ01lc3NhZ2UpKCJ0bENhbGwgcmVxdWVzdCBidWlsdDogIityKSx7bWV0aG9kOiJQT1NUIix1cmw6cixkYXRhOmksYmlkZGVyUmVxdWVzdDp0fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZGRlclJlcXVlc3Q7cmV0dXJuKGUuYm9keS5iaWRzfHxbXSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxuPXQud2lkdGh8fDEsaT10LmhlaWdodHx8MSxvPXQuZGVhbF9pZHx8IiIsdT10LmNyaWR8fCIiLGM9ZS5iaWRzW3QuaW1wX2lkXTswIT10LmNwbSYmdC5hZCYmKHI9e3JlcXVlc3RJZDpjLmJpZElkLGNwbTp0LmNwbSx3aWR0aDpuLGhlaWdodDppLG5ldFJldmVudWU6ITAsYWQ6dC5hZCxjcmVhdGl2ZUlkOnUsZGVhbElkOm8sY3VycmVuY3k6IlVTRCIsdHRsOjMwMCx0bF9zb3VyY2U6dC50bF9zb3VyY2UsbWV0YTp7fX0sZyhjKSYmKHIudmFzdFhtbD10LmFkLHIubWVkaWFUeXBlPSJ2aWRlbyIsci50dGw9MzYwMCksdC5hZHZlcnRpc2VyX25hbWUmJihyLm1ldGEuYWR2ZXJ0aXNlck5hbWU9dC5hZHZlcnRpc2VyX25hbWUpLHQuYWRvbWFpbiYmdC5hZG9tYWluLmxlbmd0aCYmKHIubWV0YS5hZHZlcnRpc2VyRG9tYWlucz10LmFkb21haW4pLHQudGxfc291cmNlJiYiaGR4Ij09dC50bF9zb3VyY2UmJihyLm1ldGEubWVkaWFUeXBlPSJiYW5uZXIiKSx0LnRsX3NvdXJjZSYmInRseCI9PXQudGxfc291cmNlJiYoci5tZXRhLm1lZGlhVHlwZT0ibmF0aXZlIikpO3JldHVybiByfShyLGUpfSkpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIsaSl7dmFyIG89ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm4iaWZyYW1lIjtpZihlLnBpeGVsRW5hYmxlZClyZXR1cm4iaW1hZ2UifShlKTtpZihvKXt2YXIgdT0iaHR0cHM6Ly9lYjIuM2xpZnQuY29tL3N5bmM/IjtyZXR1cm4iaW1hZ2UiPT09byYmKHU9T2JqZWN0KG4udHJ5QXBwZW5kUXVlcnlTdHJpbmcpKHUsInB4IiwxKSx1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJzcmMiLCJwcmViaWQiKSksbnVsbCE9PWImJih1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJnZHByIix5KSx1PU9iamVjdChuLnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKSh1LCJjbXBfY3MiLGIpKSxpJiYodT1PYmplY3Qobi50cnlBcHBlbmRRdWVyeVN0cmluZykodSwidXNfcHJpdmFjeSIsaSkpLFt7dHlwZTpvLHVybDp1fV19fX07ZnVuY3Rpb24gZyhlKXtyZXR1cm4hIWUubWVkaWFUeXBlcy52aWRlbyYmKCEhZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJiJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dC50b0xvd2VyQ2FzZSgpKX1mdW5jdGlvbiB2KGUpe3ZhciB0PW51bGw7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3Ipe3ZhciByPWUuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZTpnKGUpPyJ2aWRlbyI6ImJhbm5lciIsc2l6ZToiKiJ9KTsib2JqZWN0IiE9PWEocil8fCJVU0QiIT09ci5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChyLmZsb29yKSl8fCh0PXBhcnNlRmxvYXQoci5mbG9vcikpfXJldHVybiBudWxsIT09dD90OmUucGFyYW1zLmZsb29yfWZ1bmN0aW9uIE8oZSx0KXtPYmplY3Qobi5pc0VtcHR5KSh0KXx8T2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bnVsbCE9dFtyXSYmKGVbcl09dFtyXSl9KSl9ZnVuY3Rpb24gaihlLHQscixuKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnVzZXJJZCYmdC51c2VySWRbZV19fSh0KSkuZmlsdGVyKFModCkpLm1hcChmdW5jdGlvbihlLHQpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm57c291cmNlOmUsdWlkczpbe2lkOnIuaWQ/ci5pZDpyLGV4dDp7cnRpUGFydG5lcjp0fX1dfX19KHIsbikpfXZhciBTPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIsaSl7dmFyIG89ISF0JiYoT2JqZWN0KG4uaXNTdHIpKHQpPyEhdDpPYmplY3Qobi5pc1BsYWluT2JqZWN0KSh0KSYmIU9iamVjdChuLmlzQXJyYXkpKHQpJiYhT2JqZWN0KG4uaXNFbXB0eSkodCkmJnQuaWQmJk9iamVjdChuLmlzU3RyKSh0LmlkKSYmISF0LmlkKTtyZXR1cm4gb3x8dm9pZCAwPT09aVswXXx8T2JqZWN0KG4ubG9nV2FybikoIlRyaXBsZWxpZnQ6IGludmFsaWQgIi5jb25jYXQoZSwiIHVzZXJJZCBmb3JtYXQiKSksb319O2Z1bmN0aW9uIGgoZSl7cmV0dXJuIGUuZmlsdGVyKEEpLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpfWZ1bmN0aW9uIEEoZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV19T2JqZWN0KG8ucmVnaXN0ZXJCaWRkZXIpKG0pfX0sWzg2NF0pOwp1cGJqc0NodW5rKFsxMDRdLHs4Njg6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDg2OSl9LDg2OTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIFN9KSk7dmFyIG49cigwKSxpPXIoMSksbz1yKDEzKSxhPXIoMikscz1yKDMpO2Z1bmN0aW9uIHUoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9bnVsbD09ZT9udWxsOiJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZihudWxsPT1yKXJldHVybjt2YXIgbixpLG89W10sYT0hMCxzPSExO3RyeXtmb3Iocj1yLmNhbGwoZSk7IShhPShuPXIubmV4dCgpKS5kb25lKSYmKG8ucHVzaChuLnZhbHVlKSwhdHx8by5sZW5ndGghPT10KTthPSEwKTt9Y2F0Y2goZSl7cz0hMCxpPWV9ZmluYWxseXt0cnl7YXx8bnVsbD09ci5yZXR1cm58fHIucmV0dXJuKCl9ZmluYWxseXtpZihzKXRocm93IGl9fXJldHVybiBvfShlLHQpfHxsKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBkKGUpe3JldHVybihkPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gcChlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZudWxsIT1lW1N5bWJvbC5pdGVyYXRvcl18fG51bGwhPWVbIkBAaXRlcmF0b3IiXSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGwoZSl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbChlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcChlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1yfHwiU2V0Ij09PXI/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PXJ8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHIpP3AoZSx0KTp2b2lkIDB9fWZ1bmN0aW9uIHAoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgZj0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixtPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIseT0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLGc9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIsYj0iUmVzcG9uc2UgaXMgZW1wdHkiLGg9IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5Iix2PSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIixTPXtjb2RlOiJ0cnVzdHgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2EuYixhLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoIWUubGVuZ3RoKXJldHVybiBudWxsO3ZhciByPW51bGwsaT1udWxsLG89bnVsbCxsPW51bGwscD1udWxsLGY9bnVsbCxtPW51bGwseT1udWxsLGc9bnVsbCxiPXR8fHt9LGg9Yi5iaWRkZXJSZXF1ZXN0SWQsdj1iLmF1Y3Rpb25JZCxTPWIuZ2RwckNvbnNlbnQsaj1iLnVzcENvbnNlbnQsdz1iLnRpbWVvdXQsTz1iLnJlZmVyZXJJbmZvLHg9Tz9lbmNvZGVVUklDb21wb25lbnQoTy5yZWZlcmVyKToiIixJPVtdLEU9e307ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtofHwoaD1lLmJpZGRlclJlcXVlc3RJZCksdnx8KHY9ZS5hdWN0aW9uSWQpLHB8fChwPWUuc2NoYWluKSxmfHwoZj1lLnVzZXJJZCksbXx8KG09ZS51c2VySWRBc0VpZHMpO3ZhciB0PWUucGFyYW1zLHM9dC51aWQsYz10LmtleXdvcmRzLHk9ZS5tZWRpYVR5cGVzLGc9ZS5iaWRJZCxiPWUuYWRVbml0Q29kZSxTPWUucnRkO0VbZ109ZTt2YXIgaj1mdW5jdGlvbihlLHQpe3ZhciByPWUudmlkZW8/InZpZGVvIjoiYmFubmVyIixuPXQucGFyYW1zLmJpZEZsb29yfHwwO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0LmdldEZsb29yKXt2YXIgaT10LmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6cixzaXplOnQuc2l6ZXMubWFwKChmdW5jdGlvbihlKXt2YXIgdD11KGUsMik7cmV0dXJue3c6dFswXSxoOnRbMV19fSkpfSk7Im9iamVjdCIhPT1kKGkpfHwiVVNEIiE9PWkuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQoaS5mbG9vcikpfHwobj1NYXRoLm1heChuLHBhcnNlRmxvYXQoaS5mbG9vcikpKX1yZXR1cm4gbn0oeXx8e30sZSk7aWYoUyl7dmFyIHc9Uy5qd3BsYXllciYmUy5qd3BsYXllci50YXJnZXRpbmc7dyYmKCFpJiZ3LnNlZ21lbnRzJiYoaT13LnNlZ21lbnRzKSwhbCYmdy5jb250ZW50JiYobD13LmNvbnRlbnQpKTt2YXIgTz1TLnBfc3RhbmRhcmQmJlMucF9zdGFuZGFyZC50YXJnZXRpbmc7IW8mJk8mJk8uc2VnbWVudHMmJihvPU8uc2VnbWVudHMpfXZhciBBPXtpZDpnJiZnLnRvU3RyaW5nKCksdGFnaWQ6cy50b1N0cmluZygpLGV4dDp7ZGl2aWQ6YiYmYi50b1N0cmluZygpfX07aWYoT2JqZWN0KG4uaXNFbXB0eSkoYyl8fChyfHwocj1jKSxBLmV4dC5iaWRkZXI9e2tleXdvcmRzOmN9KSxqJiYoQS5iaWRmbG9vcj1qKSwheXx8eVthLmJdKXt2YXIgeD1mdW5jdGlvbihlLHQpe3ZhciByPXQuc2l6ZXN8fGUuc2l6ZXM7aWYoIXJ8fCFyLmxlbmd0aClyZXR1cm47dmFyIGk9ci5tYXAoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoZSl9KSksbz1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkoclswXSk7aS5sZW5ndGgmJihvLmZvcm1hdD1pKTtyZXR1cm4gb30oZSx5P3lbYS5iXTp7fSk7eCYmKEEuYmFubmVyPXgpfWlmKHkmJnlbYS5kXSl7dmFyIFI9ZnVuY3Rpb24oZSx0KXt2YXIgcj10LnBsYXllclNpemUsaT10Lm1pbWVzLG89dC5kdXJhdGlvblJhbmdlU2VjLGE9dC5wcm90b2NvbHMscz0ocnx8ZS5zaXplc3x8W10pWzBdO2lmKCFzKXJldHVybjt2YXIgdT1PYmplY3Qobi5wYXJzZUdQVFNpbmdsZVNpemVBcnJheVRvUnRiU2l6ZSkocyk7aSYmKHUubWltZXM9aSk7byYmMj09PW8ubGVuZ3RoJiYodS5taW5kdXJhdGlvbj1vWzBdLHUubWF4ZHVyYXRpb249b1sxXSk7YSYmYS5sZW5ndGgmJih1LnByb3RvY29scz1hKTtyZXR1cm4gdX0oZSx5W2EuZF0pO1ImJihBLnZpZGVvPVIpfShBLmJhbm5lcnx8QS52aWRlbykmJkkucHVzaChBKX0pKTt2YXIgUj17dGlkOnYmJnYudG9TdHJpbmcoKSxleHQ6e3dyYXBwZXI6IlByZWJpZF9qcyIsd3JhcHBlcl92ZXJzaW9uOiI1LjIwLjIifX07cCYmKFIuZXh0LnNjaGFpbj1wKTt2YXIgVD1zLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil8fHcsXz13P01hdGgubWluKFQsdyk6VCxrPXtpZDpoJiZoLnRvU3RyaW5nKCksc2l0ZTp7cGFnZTp4fSx0bWF4Ol8sc291cmNlOlIsaW1wOkl9O2wmJihrLnNpdGUuY29udGVudD1sKTt2YXIgej1bXTtBKCJpb3dfbGFic19wdWJfZGF0YSIsImp3cHNlZyIsaSx6KSxBKCJwZXJtdXRpdmUiLCJwX3N0YW5kYXJkIixvLHosInBlcm11dGl2ZS5jb20iKSx6Lmxlbmd0aCYmKHk9e2RhdGE6en0pLFMmJlMuY29uc2VudFN0cmluZyYmKGc9e2NvbnNlbnQ6Uy5jb25zZW50U3RyaW5nfSksbSYmbS5sZW5ndGgmJigoZz1nfHx7fSkuZWlkcz1jKG0pKSxnJiZPYmplY3Qua2V5cyhnKS5sZW5ndGgmJigoeT15fHx7fSkuZXh0PWcpLHkmJihrLnVzZXI9eSk7dmFyIEM9T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIudXNlciIpLCJrZXl3b3JkcyIpfHxudWxsLE49T2JqZWN0KG4uZGVlcEFjY2Vzcykocy5iLmdldENvbmZpZygib3J0YjIuc2l0ZSIpLCJrZXl3b3JkcyIpfHxudWxsO3JldHVybiBDJiYoKHI9cnx8e30pLnVzZXI9ci51c2VyfHx7fSxyLnVzZXIub3J0YjI9W3tuYW1lOiJrZXl3b3JkcyIsa2V5d29yZHM6Qy5zcGxpdCgiLCIpfV0pLE4mJigocj1yfHx7fSkuc2l0ZT1yLnNpdGV8fHt9LHIuc2l0ZS5vcnRiMj1be25hbWU6ImtleXdvcmRzIixrZXl3b3JkczpOLnNwbGl0KCIsIil9XSksciYmKHI9ZnVuY3Rpb24oZSl7dmFyIHQ9e307cmV0dXJuIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHIpe3ZhciBuPWVbcl07aWYobilpZigic2l0ZSI9PT1yfHwidXNlciI9PT1yKXt2YXIgaT17fTtPYmplY3Qua2V5cyhuKS5mb3JFYWNoKChmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KG5bZV0pKXt2YXIgdD1bXTtuW2VdLmZvckVhY2goKGZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT09ZChlKSYmZS5uYW1lKXt2YXIgcj17bmFtZTplLm5hbWUsc2VnbWVudHM6W119O09iamVjdC5rZXlzKGUpLmZvckVhY2goKGZ1bmN0aW9uKHQpe0FycmF5LmlzQXJyYXkoZVt0XSkmJmVbdF0uZm9yRWFjaCgoZnVuY3Rpb24oZSl7ZSYmKCJzdHJpbmciPT10eXBlb2YgZT9yLnNlZ21lbnRzLnB1c2goe25hbWU6dCx2YWx1ZTplfSk6InNlZ21lbnRzIj09PXQmJiJzdHJpbmciPT10eXBlb2YgZS5uYW1lJiYic3RyaW5nIj09dHlwZW9mIGUudmFsdWUmJnIuc2VnbWVudHMucHVzaChlKSl9KSl9KSksci5zZWdtZW50cy5sZW5ndGgmJnQucHVzaChyKX19KSksdC5sZW5ndGgmJihpW2VdPXQpfX0pKSx0W3JdPWl9ZWxzZSB0W3JdPW59KSksT2JqZWN0LmtleXModCkubGVuZ3RoJiZ0fShyKSkmJihrLmV4dD17a2V5d29yZHM6cn0pLFMmJlMuZ2RwckFwcGxpZXMmJihrLnJlZ3M9e2V4dDp7Z2RwcjpTLmdkcHJBcHBsaWVzPzE6MH19KSxqJiYoay5yZWdzfHwoay5yZWdzPXtleHQ6e319KSxrLnJlZ3MuZXh0LnVzX3ByaXZhY3k9aikse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2dyaWQuYmlkc3dpdGNoLm5ldC9oYmpzb24/c3A9dHJ1c3R4IixkYXRhOkpTT04uc3RyaW5naWZ5KGspLGJpZHNNYXA6RX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOm8uYTtlPWUmJmUuYm9keTt2YXIgaSxhPVtdO3JldHVybiBlP2Uuc2VhdGJpZCYmIWUuc2VhdGJpZC5sZW5ndGgmJihpPWgpOmk9YiwhaSYmZS5zZWF0YmlkJiZlLnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dyhqKGUpLHQsYSxyKX0pKSxpJiZPYmplY3Qobi5sb2dFcnJvcikoaSksYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKGUucGl4ZWxFbmFibGVkKXt2YXIgaT1zLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5zeW5jc1BlckJpZGRlciIpLG89W107ciYmInN0cmluZyI9PXR5cGVvZiByLmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiByLmdkcHJBcHBsaWVzP28ucHVzaCgiZ2Rwcj0iLmNvbmNhdChOdW1iZXIoci5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHIuY29uc2VudFN0cmluZykpOm8ucHVzaCgiZ2Rwcl9jb25zZW50PSIuY29uY2F0KHIuY29uc2VudFN0cmluZykpKSxuJiZvLnB1c2goInVzX3ByaXZhY3k9Ii5jb25jYXQobikpO3ZhciBhPW8uam9pbigiJiIpLHU9W3t0eXBlOiJpbWFnZSIsdXJsOiJodHRwczovL3NvZmlhLnRydXN0eC5vcmcvcHVzaF9zeW5jIisoYT8iPyIuY29uY2F0KGEpOiIiKX1dO3JldHVybiBpPjEmJnUucHVzaCh7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly94LmJpZHN3aXRjaC5uZXQvc3luYz9zc3A9dGhlbWVkaWFncmlkIisoYT8iJiIuY29uY2F0KGEpOiIiKX0pLHV9fX07ZnVuY3Rpb24gaihlKXtyZXR1cm4gZT9lLmJpZD9lLmJpZFswXXx8T2JqZWN0KG4ubG9nRXJyb3IpKHkpOk9iamVjdChuLmxvZ0Vycm9yKSh2K0pTT04uc3RyaW5naWZ5KGUpKTpPYmplY3Qobi5sb2dFcnJvcikoZyksZSYmZS5iaWQmJmUuYmlkWzBdfWZ1bmN0aW9uIHcoZSx0LHIsaSl7aWYoZSl7dmFyIG87aWYoZS5hdWlkfHwobz1mK0pTT04uc3RyaW5naWZ5KGUpKSxlLmFkbXx8ZS5udXJsKXt2YXIgcz10LmJpZHNNYXBbZS5pbXBpZF07aWYoIW8mJnMpe3ZhciB1PXtyZXF1ZXN0SWQ6cy5iaWRJZCxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuYXVpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDozNjAsZGVhbElkOmUuZGVhbGlkLG1ldGE6e2FkdmVydGlzZXJEb21haW5zOmUuYWRvbWFpbj9lLmFkb21haW46W119fTsidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KGUuYWRtPyh1LnZhc3RYbWw9ZS5hZG0sdS5hZFJlc3BvbnNlPXtjb250ZW50OnUudmFzdFhtbH0pOmUubnVybCYmKHUudmFzdFVybD1lLm51cmwpLHUubWVkaWFUeXBlPWEuZCxzLnJlbmRlcmVyfHxzLm1lZGlhVHlwZXMmJnMubWVkaWFUeXBlcy52aWRlbyYmIm91dHN0cmVhbSIhPT1zLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8KHUucmVuZGVyZXI9ZnVuY3Rpb24oZSx0LHIpe3ZhciBpPXIuaW5zdGFsbCh7aWQ6dC5pZCx1cmw6dC51cmwsbG9hZGVkOiExfSk7dHJ5e2kuc2V0UmVuZGVyKE8pfWNhdGNoKGUpe09iamVjdChuLmxvZ1dhcm4pKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiBpfSgwLHtpZDpzLmJpZElkLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyJ9LGkpKSk6KHUuYWQ9ZS5hZG0sdS5tZWRpYVR5cGU9YS5iKSxyLnB1c2godSl9fWVsc2Ugbz1tK0pTT04uc3RyaW5naWZ5KGUpO28mJk9iamVjdChuLmxvZ0Vycm9yKShvKX19ZnVuY3Rpb24gTyhlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhcmdldElkOmUuYWRVbml0Q29kZSxhZFJlc3BvbnNlOmUuYWRSZXNwb25zZX0pfSkpfWZ1bmN0aW9uIEEoZSx0LHIsbixpKXtpZihyJiZyLmxlbmd0aCluLnB1c2goe25hbWU6ZSxzZWdtZW50OnIubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuaWR8fGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0LHZhbHVlOmUudG9TdHJpbmcoKX19KSl9KTtlbHNlIGlmKGkpe3ZhciBvPXMuYi5nZXRDb25maWcoIm9ydGIyLnVzZXIuZGF0YSIpLGE9bnVsbDtvJiZvLnNvbWUoKGZ1bmN0aW9uKGUpe3ZhciB0PWUubmFtZSxyPWUuc2VnbWVudDtpZih0PT09aSlyZXR1cm4gYT1yLCEwfSkpLGEmJmEubGVuZ3RoJiZuLnB1c2goe25hbWU6ZSxzZWdtZW50OmEubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuaWR8fGUpfSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIGUmJigic3RyaW5nIj09dHlwZW9mIGV8fCJudW1iZXIiPT10eXBlb2YgZSl9KSkubWFwKChmdW5jdGlvbihlKXtyZXR1cm57bmFtZTp0LHZhbHVlOmUudG9TdHJpbmcoKX19KSl9KX19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKFMpfX0sWzg2OF0pOwp1cGJqc0NodW5rKFsxMDFdLHs4NzY6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDg3Nyl9LDg3NzpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtkPSExfSx0LmQobiwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIG99KSk7dmFyIHM9dCgwKSxpPXQoMykscj10KDEpLGE9IjMuNVYiLGQ9ITE7T2JqZWN0KHMubG9nTWVzc2FnZSkoIkluaXRpYWxpemluZyBVRE0gQWRhcHRlci4gUEJKUyBWZXJzaW9uOiAiLmNvbmNhdCgiNS4yMC4yIiwiIHdpdGggYWRhcHRlciB2ZXJzaW9uOiAiKS5jb25jYXQoYSwiICBVcGRhdGVkIDIwMTkxMDI4IikpO3ZhciBvPXtjb2RlOiJ1bmRlcmRvZ21lZGlhIixiaWRQYXJhbXM6W10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcztyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMuc2l0ZUlkJiZuJiZuLmxlbmd0aD4wKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLGk9MDtlLmZvckVhY2goKGZ1bmN0aW9uKGUpe3ZhciBuPWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXM7dD1PYmplY3Qocy5mbGF0dGVuKSh0LE9iamVjdChzLnBhcnNlU2l6ZXNJbnB1dCkobikpLGk9ZS5wYXJhbXMuc2l0ZUlkfSkpO3ZhciByPXt0aWQ6MSxkdDoxMCxzaWQ6aSxzaXplczp0LmpvaW4oIiwiKSx2ZXJzaW9uOmF9O2lmKG4mJm4uZ2RwckNvbnNlbnQmJih2b2lkIDAhPT1uLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci5nZHByQXBwbGllcz0hIW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLG4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YSYmbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzJiZ2b2lkIDAhPT1uLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSYmKHIuY29uc2VudEdpdmVuPSEhbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhLnZlbmRvckNvbnNlbnRzWzE1OV0pLHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHIuY29uc2VudERhdGE9bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSksbi51c3BDb25zZW50JiYoci51c3BDb25zZW50PW4udXNwQ29uc2VudCksIXIuZ2RwckFwcGxpZXN8fHIuY29uc2VudEdpdmVuKXJldHVybnttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovL3VkbXNlcnZlLm5ldC91ZG0vaW1nLmZldGNoIixkYXRhOnIsYmlkUGFyYW1zOmV9fSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxuKXtpZighZCYmbi5sZW5ndGg+MCYmblswXS5ib2R5JiZuWzBdLmJvZHkudXNlclN5bmNzJiZuWzBdLmJvZHkudXNlclN5bmNzLmxlbmd0aD4wKXJldHVybiBkPSEwLG5bMF0uYm9keS51c2VyU3luY3MuZmlsdGVyKChmdW5jdGlvbihuKXt2YXIgdD1uLnR5cGU7cmV0dXJuISghZS5pZnJhbWVFbmFibGVkfHwiaWZyYW1lIiE9PXQpfHwoISghZS5waXhlbEVuYWJsZWR8fCJpbWFnZSIhPT10KXx8dm9pZCAwKX0pKX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXTtyZXR1cm4gbi5iaWRQYXJhbXMuZm9yRWFjaCgoZnVuY3Rpb24obil7ZS5ib2R5Lm1pZHMuZm9yRWFjaCgoZnVuY3Rpb24oZSl7aWYoIShlLnVzZUNvdW50PjApKXtlLnVzZUNvdW50fHwoZS51c2VDb3VudD0wKTt2YXIgcj0hMCxkPW4ubWVkaWFUeXBlcyYmbi5tZWRpYVR5cGVzLmJhbm5lciYmbi5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9uLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOm4uc2l6ZXM7aWYoT2JqZWN0KHMucGFyc2VTaXplc0lucHV0KShkKS5mb3JFYWNoKChmdW5jdGlvbihuKXtuPT09ZS53aWR0aCsieCIrZS5oZWlnaHQmJihyPSExKX0pKSwhcil7dmFyIHA9e3JlcXVlc3RJZDpuLmJpZElkLGJpZGRlckNvZGU6by5jb2RlLGNwbTpwYXJzZUZsb2F0KGUuY3BtKSx3aWR0aDplLndpZHRoLGhlaWdodDplLmhlaWdodCxhZDplLmFkX2NvZGVfaHRtbCxjcmVhdGl2ZUlkOmUubWlkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITEsdHRsOmUudHRsfHw2MCxtZXRhOnthZHZlcnRpc2VyRG9tYWluczplLmFkdmVydGlzZXJfZG9tYWluc3x8W119fTtwLmNwbTw9MHx8cC5hZC5sZW5ndGg8PTB8fChlLnVzZUNvdW50KysscC5hZCs9ZnVuY3Rpb24oZSxuLHQpe3ZhciBzPW4ubm90aWZpY2F0aW9uX3VybCxyPXMuaW5kZXhPZigiO3ZlcnNpb249Iik7cisxJiYocz1zLnN1YnN0cmluZygwLHIpKTtzKz0iO3ZlcnNpb249Ii5jb25jYXQoYSkscys9IjtjYj0iK01hdGgucmFuZG9tKCkscys9IjtxcXE9IisxL2UuY3BtLHMrPSI7aGJ0PSIraS5iLmdldENvbmZpZygiX2JpZGRlclRpbWVvdXQiKSxzKz0iO3N0eWxlPWFkYXB0ZXIiLHMrPSI7dmlzPSIrZW5jb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkscys9Ijt0cmFmZmljX2luZm89IitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZnVuY3Rpb24oKXtmb3IodmFyIGUsbj17fSx0PXdpbmRvdy5sb2NhdGlvbi5ocmVmLnNsaWNlKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIj8iKSsxKS5zcGxpdCgiJiIpLHM9MDtzPHQubGVuZ3RoO3MrKykoZT10W3NdLnNwbGl0KCI9IikpWzBdLm1hdGNoKC9edXRtXy8pJiYobltlWzBdXT1lWzFdLnN1YnN0cigwLDE1MCkpO3JldHVybiBufSgpKSksdC5wYXJhbXMuc3ViSWQmJihzKz0iO3N1YmlkPSIrZW5jb2RlVVJJQ29tcG9uZW50KHQucGFyYW1zLnN1YklkKSk7cmV0dXJuJzxzY3JpcHQgYXN5bmMgc3JjPSInK3MrJyI+PFwvc2NyaXB0Pid9KHAsZSxuKSx0LnB1c2gocCkpfX19KSl9KSksdH19O09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShvKX19LFs4NzZdKTsKdXBianNDaHVuayhbOThdLHs4ODI6ZnVuY3Rpb24ocixlLHQpe3IuZXhwb3J0cz10KDg4Myl9LDg4MzpmdW5jdGlvbihyLGUsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQoZSwidW5pZmllZElkU3VibW9kdWxlIiwoZnVuY3Rpb24oKXtyZXR1cm4gdX0pKTt2YXIgbj10KDApLG89dCg0KSxpPXQoOSksYz0idW5pZmllZElkIix1PXtuYW1lOmMsZ3ZsaWQ6MjEsZGVjb2RlOmZ1bmN0aW9uKHIpe3JldHVybiByJiYic3RyaW5nIj09dHlwZW9mIHIuVERJRD97dGRpZDpyLlRESUR9OnZvaWQgMH0sZ2V0SWQ6ZnVuY3Rpb24ocil7dmFyIGU9ciYmci5wYXJhbXN8fHt9O2lmKGUmJigic3RyaW5nIj09dHlwZW9mIGUucGFydG5lcnx8InN0cmluZyI9PXR5cGVvZiBlLnVybCkpe3ZhciB0PWUudXJsfHwiaHR0cHM6Ly9tYXRjaC5hZHNydnIub3JnL3RyYWNrL3JpZD90dGRfcGlkPSIuY29uY2F0KGUucGFydG5lciwiJmZtdD1qc29uIik7cmV0dXJue2NhbGxiYWNrOmZ1bmN0aW9uKHIpe3ZhciBlPXtzdWNjZXNzOmZ1bmN0aW9uKGUpe3ZhciB0O2lmKGUpdHJ5e3Q9SlNPTi5wYXJzZShlKX1jYXRjaChyKXtPYmplY3Qobi5sb2dFcnJvcikocil9cih0KX0sZXJyb3I6ZnVuY3Rpb24oZSl7T2JqZWN0KG4ubG9nRXJyb3IpKCIiLmNvbmNhdChjLCI6IElEIGZldGNoIGVuY291bnRlcmVkIGFuIGVycm9yIiksZSkscigpfX07T2JqZWN0KG8uYSkodCxlLHZvaWQgMCx7bWV0aG9kOiJHRVQiLHdpdGhDcmVkZW50aWFsczohMH0pfX19T2JqZWN0KG4ubG9nRXJyb3IpKCJVc2VyIElEIC0gdW5pZmllZElkIHN1Ym1vZHVsZSByZXF1aXJlcyBlaXRoZXIgcGFydG5lciBvciB1cmwgdG8gYmUgZGVmaW5lZCIpfX07T2JqZWN0KGkuZSkoInVzZXJJZCIsdSl9fSxbODgyXSk7CnVwYmpzQ2h1bmsoWzExXSx7MTc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShuKSlpZigicHViUHJvdmlkZWRJZCI9PT1uKXQ9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTtlbHNle3ZhciByPWEoZVtuXSxuKTtyJiZ0LnB1c2gocil9cmV0dXJuIHR9LHQuYT1mdW5jdGlvbihlKXt2YXIgdD1bXTtyZXR1cm4gZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qoci5pc1BsYWluT2JqZWN0KShlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkpLmZvckVhY2goKGZ1bmN0aW9uKGUpe09iamVjdC5rZXlzKGUuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe09iamVjdChyLmRlZXBBY2Nlc3MpKGUsImNvbmZpZy5iaWRkZXJzIikmJkFycmF5LmlzQXJyYXkoZS5jb25maWcuYmlkZGVycykmJk9iamVjdChyLmRlZXBBY2Nlc3MpKG8sbisiLnNvdXJjZSIpJiZ0LnB1c2goe3NvdXJjZTpvW25dLnNvdXJjZSxiaWRkZXJzOmUuY29uZmlnLmJpZGRlcnN9KX0pKX0pKSx0fTt2YXIgcj1uKDApLG89e2ludGVudElxSWQ6e3NvdXJjZToiaW50ZW50aXEuY29tIixhdHlwZToxfSxuYXZlZ2dJZDp7c291cmNlOiJuYXZlZ2cuY29tIixhdHlwZToxfSxwdWJjaWQ6e3NvdXJjZToicHViY2lkLm9yZyIsYXR5cGU6MX0sdGRpZDp7c291cmNlOiJhZHNlcnZlci5vcmciLGF0eXBlOjEsZ2V0VWlkRXh0OmZ1bmN0aW9uKCl7cmV0dXJue3J0aVBhcnRuZXI6IlRESUQifX19LGlkNWlkOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS51aWR9LHNvdXJjZToiaWQ1LXN5bmMuY29tIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbihlKXtpZihlLmV4dClyZXR1cm4gZS5leHR9fSxwYXJyYWJsZUlkOntzb3VyY2U6InBhcnJhYmxlLmNvbSIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5laWQ/ZS5laWQ6ZS5jY3BhT3B0b3V0PyIiOm51bGx9LGdldFVpZEV4dDpmdW5jdGlvbihlKXt2YXIgdD1PYmplY3Qoci5waWNrKShlLFsiaWJhT3B0b3V0IiwiY2NwYU9wdG91dCJdKTtpZihPYmplY3Qua2V5cyh0KS5sZW5ndGgpcmV0dXJuIHR9fSxpZGxfZW52Ontzb3VyY2U6ImxpdmVyYW1wLmNvbSIsYXR5cGU6M30sbGlwYjp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGlwYmlkfSxzb3VyY2U6ImxpdmVpbnRlbnQuY29tIixhdHlwZTozLGdldEVpZEV4dDpmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUuc2VnbWVudHMpJiZlLnNlZ21lbnRzLmxlbmd0aClyZXR1cm57c2VnbWVudHM6ZS5zZWdtZW50c319fSxicml0ZXBvb2xpZDp7c291cmNlOiJicml0ZXBvb2wuY29tIixhdHlwZTozfSxkbWRJZDp7c291cmNlOiJoY24uaGVhbHRoIixhdHlwZTozfSxsb3RhbWVQYW5vcmFtYUlkOntzb3VyY2U6ImNyd2RjbnRybC5uZXQiLGF0eXBlOjF9LGNyaXRlb0lkOntzb3VyY2U6ImNyaXRlby5jb20iLGF0eXBlOjF9LG1lcmtsZUlkOntzb3VyY2U6Im1lcmtsZWluYy5jb20iLGF0eXBlOjMsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9LGdldFVpZEV4dDpmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5rZXlJRD97a2V5SUQ6ZS5rZXlJRH06dm9pZCAwfX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LElEUDp7c291cmNlOiJ6ZW90YXAuY29tIixhdHlwZToxfSxoYWxvSWQ6e3NvdXJjZToiYXVkaWdlbnQuY29tIixhdHlwZToxfSxxdWFudGNhc3RJZDp7c291cmNlOiJxdWFudGNhc3QuY29tIixhdHlwZToxfSxuZXh0cm9sbElkOntzb3VyY2U6Im5leHRyb2xsLmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LGNvbm5lY3RpZDp7c291cmNlOiJ2ZXJpem9ubWVkaWEuY29tIixhdHlwZTozfSxmYWJyaWNrSWQ6e3NvdXJjZToibmV1c3Rhci5iaXoiLGF0eXBlOjF9LG13T3BlbkxpbmtJZDp7c291cmNlOiJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLGF0eXBlOjF9LHRhcGFkSWQ6e3NvdXJjZToidGFwYWQuY29tIixhdHlwZToxfSxub3ZhdGlxOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5zbm93Zmxha2V9LHNvdXJjZToibm92YXRpcS5jb20iLGF0eXBlOjF9LHVpZDI6e3NvdXJjZToidWlkYXBpLmNvbSIsYXR5cGU6MyxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH19LGRhcElkOntzb3VyY2U6ImFrYW1haS5jb20iLGF0eXBlOjF9LGRlZXBpbnRlbnRJZDp7c291cmNlOiJkZWVwaW50ZW50LmNvbSIsYXR5cGU6M30sYWRtaXhlcklkOntzb3VyY2U6ImFkbWl4ZXIubmV0IixhdHlwZTozfSxhZHRlbGxpZ2VudElkOntzb3VyY2U6ImFkdGVsbGlnZW50LmNvbSIsYXR5cGU6M30sYW14SWQ6e3NvdXJjZToiYW14cnRiLmNvbSIsYXR5cGU6MX0scHVibGlua0lkOntzb3VyY2U6ImVwc2lsb24uY29tIixhdHlwZTozfSxrcHVpZDp7c291cmNlOiJrcHVpZC5jb20iLGF0eXBlOjN9LGltdWlkOntzb3VyY2U6ImludGltYXRlbWVyZ2VyLmNvbSIsYXR5cGU6MX0sY29ubmVjdElkOntzb3VyY2U6InlhaG9vLmNvbSIsYXR5cGU6M319O2Z1bmN0aW9uIGEoZSx0KXt2YXIgbj1vW3RdO2lmKG4mJmUpe3ZhciBhPXt9O2Euc291cmNlPW4uc291cmNlO3ZhciBpPU9iamVjdChyLmlzRm4pKG4uZ2V0VmFsdWUpP24uZ2V0VmFsdWUoZSk6ZTtpZihPYmplY3Qoci5pc1N0cikoaSkpe3ZhciBjPXtpZDppLGF0eXBlOm4uYXR5cGV9O2lmKE9iamVjdChyLmlzRm4pKG4uZ2V0VWlkRXh0KSl7dmFyIHU9bi5nZXRVaWRFeHQoZSk7dSYmKGMuZXh0PXUpfWlmKGEudWlkcz1bY10sT2JqZWN0KHIuaXNGbikobi5nZXRFaWRFeHQpKXt2YXIgcz1uLmdldEVpZEV4dChlKTtzJiYoYS5leHQ9cyl9cmV0dXJuIGF9fXJldHVybiBudWxsfX0sODg2OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4ODcpfSw4ODc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsIlBCSlNfVVNFUl9JRF9PUFRPVVRfTkFNRSIsKGZ1bmN0aW9uKCl7cmV0dXJuIHd9KSksbi5kKHQsImNvcmVTdG9yYWdlIiwoZnVuY3Rpb24oKXtyZXR1cm4gQ30pKSxuLmQodCwic3luY0RlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4gSX0pKSxuLmQodCwiYXVjdGlvbkRlbGF5IiwoZnVuY3Rpb24oKXtyZXR1cm4ga30pKSx0LnNldFN1Ym1vZHVsZVJlZ2lzdHJ5PWZ1bmN0aW9uKGUpe1Y9ZX0sdC5zZXRTdG9yZWRWYWx1ZT1MLHQuc2V0U3RvcmVkQ29uc2VudERhdGE9TSx0LmZpbmRSb290RG9tYWluPUosdC5yZXF1ZXN0Qmlkc0hvb2s9JCxuLmQodCwidmFsaWRhdGVHZHByRW5mb3JjZW1lbnQiLChmdW5jdGlvbigpe3JldHVybiBZfSkpLHQuYXR0YWNoSWRTeXN0ZW09bmUsdC5pbml0PXJlO3ZhciByPW4oMTEpLG89bi5uKHIpLGE9bigzKSxpPW4oMTApLGM9bi5uKGkpLHU9bigxNCkscz1uKDgpLGQ9big1KSxsPW4ubihkKSxmPW4oOSksYj1uKDE3KSxwPW4oNyksZz1uKDApLG09bigxMikseT1uLm4obSk7ZnVuY3Rpb24gTyhlLHQpe3ZhciBuPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZlW1N5bWJvbC5pdGVyYXRvcl18fGVbIkBAaXRlcmF0b3IiXTtpZighbil7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB2KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiB2KGUsdCl9KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIHI9MCxvPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpvLG46ZnVuY3Rpb24oKXtyZXR1cm4gcj49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbcisrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpvfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsaT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1uLmNhbGwoZSl9LG46ZnVuY3Rpb24oKXt2YXIgZT1uLm5leHQoKTtyZXR1cm4gaT1lLmRvbmUsZX0sZTpmdW5jdGlvbihlKXtjPSEwLGE9ZX0sZjpmdW5jdGlvbigpe3RyeXtpfHxudWxsPT1uLnJldHVybnx8bi5yZXR1cm4oKX1maW5hbGx5e2lmKGMpdGhyb3cgYX19fX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9dmFyIGosaCxJLGssRD0iVXNlciBJRCIsRT0iY29va2llIixTPSJodG1sNSIseD0iX3BianNfdXNlcmlkX2NvbnNlbnRfZGF0YSIsQT0zMCx3PSJfcGJqc19pZF9vcHRvdXQiLEM9T2JqZWN0KHAuYSkoInVzZXJpZCIpLFU9W10sXz0hMSxQPVtdLFQ9W10sVj1bXTtmdW5jdGlvbiBMKGUsdCl7dmFyIG49ZS5jb25maWcuc3RvcmFnZSxyPSJmdW5jdGlvbiI9PXR5cGVvZiBlLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZT9lLnN1Ym1vZHVsZS5kb21haW5PdmVycmlkZSgpOm51bGw7dHJ5e3ZhciBvPU9iamVjdChnLmlzUGxhaW5PYmplY3QpKHQpP0pTT04uc3RyaW5naWZ5KHQpOnQsYT1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1Km4uZXhwaXJlcykudG9VVENTdHJpbmcoKTtuLnR5cGU9PT1FPyhDLnNldENvb2tpZShuLm5hbWUsbyxhLCJMYXgiLHIpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZDLnNldENvb2tpZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSxhLCJMYXgiLHIpKTpuLnR5cGU9PT1TJiYoQy5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KG4ubmFtZSwiX2V4cCIpLGEpLEMuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG4ubmFtZSxlbmNvZGVVUklDb21wb25lbnQobykpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZDLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSkpfWNhdGNoKGUpe09iamVjdChnLmxvZ0Vycm9yKShlKX19ZnVuY3Rpb24gTihlKXt2YXIgdD1PYmplY3QoZy5nZXRQcmViaWRJbnRlcm5hbCkoKS5zZXRFaWRQZXJtaXNzaW9uczsiZnVuY3Rpb24iPT10eXBlb2YgdCYmT2JqZWN0KGcuaXNBcnJheSkoZSkmJnQoT2JqZWN0KGIuYSkoZSkpfWZ1bmN0aW9uIHEoZSl7dmFyIHQsbj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLHI9bj8iIi5jb25jYXQoZS5uYW1lLCJfIikuY29uY2F0KG4pOmUubmFtZTt0cnl7aWYoZS50eXBlPT09RSl0PUMuZ2V0Q29va2llKHIpO2Vsc2UgaWYoZS50eXBlPT09Uyl7dmFyIG89Qy5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZSgiIi5jb25jYXQoZS5uYW1lLCJfZXhwIikpOyIiPT09bz90PUMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2Uocik6byYmbmV3IERhdGUobykuZ2V0VGltZSgpLURhdGUubm93KCk+MCYmKHQ9ZGVjb2RlVVJJQ29tcG9uZW50KEMuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UocikpKX0ic3RyaW5nIj09dHlwZW9mIHQmJiJ7Ij09PXQudHJpbSgpLmNoYXJBdCgwKSYmKHQ9SlNPTi5wYXJzZSh0KSl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfXJldHVybiB0fWZ1bmN0aW9uIEYoZSl7dmFyIHQ9e2NvbnNlbnRTdHJpbmc6IiIsZ2RwckFwcGxpZXM6ITEsYXBpVmVyc2lvbjowfTtyZXR1cm4gZSYmKHQuY29uc2VudFN0cmluZz1lLmNvbnNlbnRTdHJpbmcsdC5nZHByQXBwbGllcz1lLmdkcHJBcHBsaWVzLHQuYXBpVmVyc2lvbj1lLmFwaVZlcnNpb24pLE9iamVjdChnLmN5cmI1M0hhc2gpKEpTT04uc3RyaW5naWZ5KHQpKX1mdW5jdGlvbiBNKGUpe3RyeXt2YXIgdD1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KkEpLnRvVVRDU3RyaW5nKCk7Qy5zZXRDb29raWUoeCxGKGUpLHQsIkxheCIpfWNhdGNoKGUpe09iamVjdChnLmxvZ0Vycm9yKShlKX19ZnVuY3Rpb24gQigpe3RyeXtyZXR1cm4gQy5nZXRDb29raWUoeCl9Y2F0Y2goZSl7T2JqZWN0KGcubG9nRXJyb3IpKGUpfX1mdW5jdGlvbiBSKGUpe2lmKGUmJiJib29sZWFuIj09dHlwZW9mIGUuZ2RwckFwcGxpZXMmJmUuZ2RwckFwcGxpZXMpe2lmKCFlLmNvbnNlbnRTdHJpbmcpcmV0dXJuITE7aWYoMT09PWUuYXBpVmVyc2lvbiYmITE9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShlLCJ2ZW5kb3JEYXRhLnB1cnBvc2VDb25zZW50cy4xIikpcmV0dXJuITE7aWYoMj09PWUuYXBpVmVyc2lvbiYmITE9PT1PYmplY3QoZy5kZWVwQWNjZXNzKShlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIEooKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06d2luZG93LmxvY2F0aW9uLmhvc3RuYW1lO2lmKCFDLmNvb2tpZXNBcmVFbmFibGVkKCkpcmV0dXJuIGU7dmFyIHQsbixyPWUuc3BsaXQoIi4iKTtpZigyPT1yLmxlbmd0aClyZXR1cm4gZTt2YXIgbz0tMixhPSJfcmRjIi5jb25jYXQoRGF0ZS5ub3coKSksaT0id3JpdGVhYmxlIjtkb3t0PXIuc2xpY2Uobykuam9pbigiLiIpO3ZhciBjPW5ldyBEYXRlKE9iamVjdChnLnRpbWVzdGFtcCkoKSsxZTQpLnRvVVRDU3RyaW5nKCk7Qy5zZXRDb29raWUoYSxpLGMsIkxheCIsdCx2b2lkIDApO3ZhciB1PUMuZ2V0Q29va2llKGEsdm9pZCAwKTt1PT09aT8obj0hMSxDLnNldENvb2tpZShhLCIiLCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVCIsdm9pZCAwLHQsdm9pZCAwKSk6KG8rPS0xLG49TWF0aC5hYnMobyk8PXIubGVuZ3RoKX13aGlsZShuKTtyZXR1cm4gdH1mdW5jdGlvbiBIKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXt9O3QmJihuPU9iamVjdChnLmRlbGF5RXhlY3V0aW9uKSgoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaCksdCgpfSksZS5sZW5ndGgpKSxlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuY2FsbGJhY2soKGZ1bmN0aW9uKHQpe3Q/KGUuY29uZmlnLnN0b3JhZ2UmJkwoZSx0KSxlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZSh0LGUuY29uZmlnKSk6T2JqZWN0KGcubG9nSW5mbykoIiIuY29uY2F0KEQsIjogIikuY29uY2F0KGUuc3VibW9kdWxlLm5hbWUsIiAtIHJlcXVlc3QgaWQgcmVzcG9uZGVkIHdpdGggYW4gZW1wdHkgdmFsdWUiKSksbigpfSkpLGUuY2FsbGJhY2s9dm9pZCAwfSkpfWZ1bmN0aW9uIHooZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSkmJmUubGVuZ3RoP2UuZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNQbGFpbk9iamVjdCkoZS5pZE9iaikmJk9iamVjdC5rZXlzKGUuaWRPYmopLmxlbmd0aH0pKS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKHQuaWRPYmopLmZvckVhY2goKGZ1bmN0aW9uKG4pe2Vbbl09dC5pZE9ialtuXX0pKSxlfSkse30pOnt9fWZ1bmN0aW9uIEcoZSx0KXtbZV0uc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIUFycmF5LmlzQXJyYXkoZSl8fCFlLmxlbmd0aH0pKXx8ZS5mb3JFYWNoKChmdW5jdGlvbihlKXtlLmJpZHMmJk9iamVjdChnLmlzQXJyYXkpKGUuYmlkcykmJighZS5iaWRzLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT1lLmJpZGRlcn0pKSYmT2JqZWN0KGcuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LnByZWJpZC5zdG9yZWRyZXF1ZXN0IikmJmUuYmlkcy5wdXNoKHtiaWRkZXI6InMyc0JpZGRlclBsYWNlaG9sZGVyIn0pLGUuYmlkcy5mb3JFYWNoKChmdW5jdGlvbihlKXt2YXIgbj1mdW5jdGlvbihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiZlLmxlbmd0aCYmdD9lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIWUuY29uZmlnLmJpZGRlcnN8fCFPYmplY3QoZy5pc0FycmF5KShlLmNvbmZpZy5iaWRkZXJzKXx8eSgpKGUuY29uZmlnLmJpZGRlcnMsdCl8fCJzMnNCaWRkZXJQbGFjZWhvbGRlciI9PT10fSkpLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChnLmlzUGxhaW5PYmplY3QpKGUuaWRPYmopJiZPYmplY3Qua2V5cyhlLmlkT2JqKS5sZW5ndGh9KSkucmVkdWNlKChmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qua2V5cyh0LmlkT2JqKS5mb3JFYWNoKChmdW5jdGlvbihuKXtlW25dPXQuaWRPYmpbbl19KSksZX0pLHt9KTp7fX0odCxlLmJpZGRlcik7T2JqZWN0LmtleXMobikubGVuZ3RoJiYoZS51c2VySWQ9bixlLnVzZXJJZEFzRWlkcz1PYmplY3QoYi5iKShuKSl9KSkpfSkpfWZ1bmN0aW9uIFcoZSl7dmFyIHQ9ITE7aWYodm9pZCAwPT09aiYmKGo9ZnVuY3Rpb24oZSx0KXt2YXIgbj1ZKGUsdCkscj1uLnVzZXJJZE1vZHVsZXM7aWYoIW4uaGFzVmFsaWRhdGVkJiYhUih0KSlyZXR1cm4gT2JqZWN0KGcubG9nV2FybikoIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSksW107dmFyIG89QigpO3JldHVybiBNKHQpLHIucmVkdWNlKChmdW5jdGlvbihlLG4pe3JldHVybiBaKG4sdCxvLCExKSxlLnB1c2gobiksZX0pLFtdKX0oUCxzLmdkcHJEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpKSkubGVuZ3RoKXtOKGopO3ZhciBuPWouZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KGcuaXNGbikoZS5jYWxsYmFjayl9KSk7aWYobi5sZW5ndGgpaWYoZSYmaz4wKXt0PSEwO3ZhciByPSExLG89ZnVuY3Rpb24oKXtyfHwocj0hMCxlKCkpfTtPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiIC0gYXVjdGlvbiBkZWxheWVkIGJ5ICIpLmNvbmNhdChrLCIgYXQgbW9zdCB0byBmZXRjaCBpZHMiKSksaD1zZXRUaW1lb3V0KG8sayksSChuLG8pfWVsc2UgYy5hLm9uKGwuYS5FVkVOVFMuQVVDVElPTl9FTkQsKGZ1bmN0aW9uIGUoKXtjLmEub2ZmKGwuYS5FVkVOVFMuQVVDVElPTl9FTkQsZSksST4wP3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7SChuKX0pLEkpOkgobil9KSl9ZSYmIXQmJmUoKX1mdW5jdGlvbiAkKGUsdCl7VygoZnVuY3Rpb24oKXtHKHQuYWRVbml0c3x8T2JqZWN0KHUuYSkoKS5hZFVuaXRzLGopLGUuY2FsbCh0aGlzLHQpfSkpfWZ1bmN0aW9uIEsoKXtyZXR1cm4gVygpLHooail9ZnVuY3Rpb24gUSgpe3JldHVybiBXKCksT2JqZWN0KGIuYikoeihqKSl9ZnVuY3Rpb24gWChlLHQpe3ZhciBuPWU/ZS5zdWJtb2R1bGVOYW1lczpudWxsO258fChuPVtdKSxXKChmdW5jdGlvbigpe3ZhciBlPXMuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCkscj1ZKFAsZSksbz1yLnVzZXJJZE1vZHVsZXM7aWYoci5oYXNWYWxpZGF0ZWR8fFIoZSkpe3ZhciBhPUIoKTtNKGUpO3ZhciBpLGM9W10sdT1PKG8pO3RyeXtmb3IodS5zKCk7IShpPXUubigpKS5kb25lOyl7dmFyIGQ9aS52YWx1ZTtuLmxlbmd0aD4wJiYtMT09PW4uaW5kZXhPZihkLnN1Ym1vZHVsZS5uYW1lKXx8KE9iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSByZWZyZXNoaW5nICIpLmNvbmNhdChkLnN1Ym1vZHVsZS5uYW1lKSksWihkLGUsYSwhMCksZWUoZCksai5sZW5ndGgmJk4oaiksT2JqZWN0KGcuaXNGbikoZC5jYWxsYmFjaykmJmMucHVzaChkKSl9fWNhdGNoKGUpe3UuZShlKX1maW5hbGx5e3UuZigpfWMubGVuZ3RoPjAmJkgoYyksdCYmdCgpfWVsc2UgT2JqZWN0KGcubG9nV2FybikoIiIuY29uY2F0KEQsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSl9KSl9dmFyIFk9T2JqZWN0KGYuYikoInN5bmMiLChmdW5jdGlvbihlLHQpe3JldHVybnt1c2VySWRNb2R1bGVzOmUsaGFzVmFsaWRhdGVkOnQmJnQuaGFzVmFsaWRhdGVkfX0pLCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIpO2Z1bmN0aW9uIFooZSx0LG4scil7aWYoZS5jb25maWcuc3RvcmFnZSl7dmFyIG8sYT1xKGUuY29uZmlnLnN0b3JhZ2UpLGk9ITE7aWYoIm51bWJlciI9PXR5cGVvZiBlLmNvbmZpZy5zdG9yYWdlLnJlZnJlc2hJblNlY29uZHMpe3ZhciBjPW5ldyBEYXRlKHEoZS5jb25maWcuc3RvcmFnZSwibGFzdCIpKTtpPWMmJkRhdGUubm93KCktYy5nZXRUaW1lKCk+MWUzKmUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kc30hYXx8aXx8cnx8IWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG51bGwhPWUmJmU9PT1GKHQpfShuLHQpP289ZS5zdWJtb2R1bGUuZ2V0SWQoZS5jb25maWcsdCxhKToiZnVuY3Rpb24iPT10eXBlb2YgZS5zdWJtb2R1bGUuZXh0ZW5kSWQmJihvPWUuc3VibW9kdWxlLmV4dGVuZElkKGUuY29uZmlnLHQsYSkpLE9iamVjdChnLmlzUGxhaW5PYmplY3QpKG8pJiYoby5pZCYmKEwoZSxvLmlkKSxhPW8uaWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBvLmNhbGxiYWNrJiYoZS5jYWxsYmFjaz1vLmNhbGxiYWNrKSksYSYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKGEsZS5jb25maWcpKX1lbHNlIGlmKGUuY29uZmlnLnZhbHVlKWUuaWRPYmo9ZS5jb25maWcudmFsdWU7ZWxzZXt2YXIgdT1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LHZvaWQgMCk7T2JqZWN0KGcuaXNQbGFpbk9iamVjdCkodSkmJigiZnVuY3Rpb24iPT10eXBlb2YgdS5jYWxsYmFjayYmKGUuY2FsbGJhY2s9dS5jYWxsYmFjayksdS5pZCYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHUuaWQsZS5jb25maWcpKSl9fWZ1bmN0aW9uIGVlKGUpe2Zvcih2YXIgdD0hMSxuPTA7bjxqLmxlbmd0aDtuKyspaWYoZS5jb25maWcubmFtZS50b0xvd2VyQ2FzZSgpPT09altuXS5jb25maWcubmFtZS50b0xvd2VyQ2FzZSgpKXt0PSEwLGpbbl09ZTticmVha310fHxqLnB1c2goZSl9ZnVuY3Rpb24gdGUoKXt2YXIgZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5yZWR1Y2UoKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIXR8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQubmFtZSl8fCghdC5zdG9yYWdlfHxPYmplY3QoZy5pc0VtcHR5U3RyKSh0LnN0b3JhZ2UudHlwZSl8fE9iamVjdChnLmlzRW1wdHlTdHIpKHQuc3RvcmFnZS5uYW1lKXx8LTE9PT1uLmluZGV4T2YodC5zdG9yYWdlLnR5cGUpP09iamVjdChnLmlzUGxhaW5PYmplY3QpKHQudmFsdWUpP2UucHVzaCh0KTp0LnN0b3JhZ2V8fHQudmFsdWV8fGUucHVzaCh0KTplLnB1c2godCkpLGV9KSxbXSk6W119KFQsMCxVKTtpZihlLmxlbmd0aCl7dmFyIHQ9Vi5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiFvKCkoUCwoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZT09PWUubmFtZX0pKX0pKTtQPXQubWFwKChmdW5jdGlvbih0KXt2YXIgbj1vKCkoZSwoZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZSYmKGUubmFtZS50b0xvd2VyQ2FzZSgpPT09dC5uYW1lLnRvTG93ZXJDYXNlKCl8fHQuYWxpYXNOYW1lJiZlLm5hbWUudG9Mb3dlckNhc2UoKT09PXQuYWxpYXNOYW1lLnRvTG93ZXJDYXNlKCkpfSkpO3JldHVybiBuJiZ0Lm5hbWUhPT1uLm5hbWUmJihuLm5hbWU9dC5uYW1lKSx0LmZpbmRSb290RG9tYWluPUosbj97c3VibW9kdWxlOnQsY29uZmlnOm4sY2FsbGJhY2s6dm9pZCAwLGlkT2JqOnZvaWQgMH06bnVsbH0pKS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKSwhXyYmUC5sZW5ndGgmJihPYmplY3QodS5hKSgpLnJlcXVlc3RCaWRzLmJlZm9yZSgkLDQwKSxPYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiIC0gdXNlcnN5bmMgY29uZmlnIHVwZGF0ZWQgZm9yICIpLmNvbmNhdChQLmxlbmd0aCwiIHN1Ym1vZHVsZXM6ICIpLFAubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJtb2R1bGUubmFtZX0pKSksXz0hMCl9fWZ1bmN0aW9uIG5lKGUpe28oKShWLChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lPT09ZS5uYW1lfSkpfHwoVi5wdXNoKGUpLHRlKCkpfWZ1bmN0aW9uIHJlKGUpe1A9W10sVD1bXSxfPSExLGo9dm9pZCAwLC0xIT09KFU9W0MubG9jYWxTdG9yYWdlSXNFbmFibGVkKCk/UzpudWxsLEMuY29va2llc0FyZUVuYWJsZWQoKT9FOm51bGxdLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lfSkpKS5pbmRleE9mKEUpJiZDLmdldENvb2tpZSh3KT9PYmplY3QoZy5sb2dJbmZvKSgiIi5jb25jYXQoRCwiIC0gb3B0LW91dCBjb29raWUgZm91bmQsIGV4aXQgbW9kdWxlIikpOi0xIT09VS5pbmRleE9mKFMpJiZDLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKHcpP09iamVjdChnLmxvZ0luZm8pKCIiLmNvbmNhdChELCIgLSBvcHQtb3V0IGxvY2FsU3RvcmFnZSBmb3VuZCwgZXhpdCBtb2R1bGUiKSk6KGUuZ2V0Q29uZmlnKChmdW5jdGlvbihlKXt2YXIgdD1lLnVzZXJTeW5jO3QmJnQudXNlcklkcyYmKFQ9dC51c2VySWRzLEk9T2JqZWN0KGcuaXNOdW1iZXIpKHQuc3luY0RlbGF5KT90LnN5bmNEZWxheTo1MDAsaz1PYmplY3QoZy5pc051bWJlcikodC5hdWN0aW9uRGVsYXkpP3QuYXVjdGlvbkRlbGF5OjAsdGUoKSl9KSksT2JqZWN0KHUuYSkoKS5nZXRVc2VySWRzPUssT2JqZWN0KHUuYSkoKS5nZXRVc2VySWRzQXNFaWRzPVEsT2JqZWN0KHUuYSkoKS5yZWZyZXNoVXNlcklkcz1YKX1yZShhLmIpLE9iamVjdChmLmMpKCJ1c2VySWQiLG5lKX19LFs4ODZdKTsKdXBianNDaHVuayhbNzddLHs5Mjk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDkzMCl9LDkzMDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsKGZ1bmN0aW9uKCl7cmV0dXJuIEN9KSk7dmFyIGk9cigxKSxhPXIoMikscz1yKDApLGQ9cigzKSxuPXIoMTMpO2Z1bmN0aW9uIGMoZSx0KXt2YXIgcj1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihpPWkuZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLHIucHVzaC5hcHBseShyLGkpfXJldHVybiByfWZ1bmN0aW9uIG8oZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBwPSI1LjIwLjIiLGI9IlVTRCIsbT1bImFkbWl4ZXIubmV0IiwiYWRzZXJ2ZXIub3JnIiwiYWR0ZWxsaWdlbnQuY29tIiwiYWthbWFpLmNvbSIsImFteHJ0Yi5jb20iLCJhdWRpZ2VudC5jb20iLCJicml0ZXBvb2wuY29tIiwiY3JpdGVvLmNvbSIsImNyd2RjbnRybC5uZXQiLCJkZWVwaW50ZW50LmNvbSIsImhjbi5oZWFsdGgiLCJpZDUtc3luYy5jb20iLCJpZHgubGF0IiwiaW50ZW50aXEuY29tIiwiaW50aW1hdGVtZXJnZXIuY29tIiwibGl2ZWludGVudC5jb20iLCJsaXZlcmFtcC5jb20iLCJtZWRpYXdhbGxhaHNjcmlwdC5jb20iLCJtZXJrbGVpbmMuY29tIiwibmV0aWQuZGUiLCJuZXVzdGFyLmJpeiIsIm5leHRyb2xsLmNvbSIsIm5vdmF0aXEuY29tIiwicGFycmFibGUuY29tIiwicHViY2lkLm9yZyIsInF1YW50Y2FzdC5jb20iLCJxdWFudGNhc3QuY29tIiwidGFwYWQuY29tIiwidWlkYXBpLmNvbSIsInZlcml6b25tZWRpYS5jb20iLCJ5YWhvby5jb20iLCJ6ZW90YXAuY29tIl07ZnVuY3Rpb24gdShlKXtyZXR1cm57dzpwYXJzZUludChlWzBdKSxoOnBhcnNlSW50KGVbMV0pfX1mdW5jdGlvbiB2KGUpe3JldHVybiBPYmplY3Qocy5pc0FycmF5KShlKSYmMj09PWUubGVuZ3RoJiYhT2JqZWN0KHMuaXNBcnJheSkoZVswXSk/W3UoZSldOmUubWFwKHUpfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIE9iamVjdChzLmlzQXJyYXkpKE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInVzZXJJZEFzRWlkcyIpKT9lLnVzZXJJZEFzRWlkcy5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybi0xIT09bS5pbmRleE9mKGUuc291cmNlKX0pKTpbXX1mdW5jdGlvbiBsKGUpe3JldHVybiBPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnNlY3VyZSIpfHwiaHR0cHM6Ij09PWRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sPzE6MH1mdW5jdGlvbiB5KGUpe3ZhciB0O3JldHVybiBPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMucHViSWQiKT90PSEwOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5kY24iKSYmT2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnBvcyIpJiYodD0hMSksdH1mdW5jdGlvbiBqKCl7dmFyIGU9ZC5iLmdldENvbmZpZygieWFob29zc3AubW9kZSIpO3JldHVybiB2b2lkIDA9PT0oZT1lP2UudG9Mb3dlckNhc2UoKTp2b2lkIDApfHxlPT09YS5iP2EuYjplPT09YS5kP2EuZDoiYWxsIj09PWU/IioiOnZvaWQgMH1mdW5jdGlvbiBmKGUpe3ZhciB0PWooKSxyPXtjdXJyZW5jeTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuY3VyIil8fGIsbWVkaWFUeXBlOnQsc2l6ZToiKiJ9O3JldHVybiEhT2JqZWN0KHMuaXNGbikoZS5nZXRGbG9vcikmJmUuZ2V0Rmxvb3Iocil9ZnVuY3Rpb24gZyhlLHQscixpKXt2YXIgYT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9jKE9iamVjdChyKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7byhlLHQsclt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhyKSk6YyhPYmplY3QocikpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpKX0pKX1yZXR1cm4gZX0oe30saSk7Zm9yKHZhciBkIGluIHIpc3dpdGNoKGUpe2Nhc2Uic3RyaW5nIjotMSE9PXQuaW5kZXhPZihkKSYmT2JqZWN0KHMuaXNTdHIpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlIm51bWJlciI6LTEhPT10LmluZGV4T2YoZCkmJk9iamVjdChzLmlzTnVtYmVyKShyW2RdKSYmKGFbZF09cltkXSk7YnJlYWs7Y2FzZSJhcnJheSI6LTEhPT10LmluZGV4T2YoZCkmJk9iamVjdChzLmlzQXJyYXkpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlIm9iamVjdCI6LTEhPT10LmluZGV4T2YoZCkmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKHJbZF0pJiYoYVtkXT1yW2RdKTticmVhaztjYXNlIm9iamVjdEFsbEtleXMiOk9iamVjdChzLmlzUGxhaW5PYmplY3QpKHIpJiYoYVtkXT1yW2RdKX1yZXR1cm4gYX1mdW5jdGlvbiBoKGUpe3ZhciB0PWQuYi5nZXRDb25maWcoInlhaG9vc3NwLnR0bCIpO3JldHVybiBBKHR8fE9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy50dGwiKSl9ZnVuY3Rpb24gQShlKXtyZXR1cm4gT2JqZWN0KHMuaXNOdW1iZXIpKGUpJiZlPjAmJmU8MzYwMD9lOjMwMH1mdW5jdGlvbiB4KGUpe3JldHVybiBPYmplY3Qocy5pc1N0cikoZSkmJmUubGVuZ3RoPjB9ZnVuY3Rpb24gVChlLHQpe2lmKGUpe3ZhciByPXtpZDpPYmplY3Qocy5nZW5lcmF0ZVVVSUQpKCksY3VyOltmKGUpLmN1cnJlbmN5fHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuYmlkT3ZlcnJpZGUuY3VyIil8fGJdLGltcDpbXSxzaXRlOntwYWdlOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInJlZmVyZXJJbmZvLnJlZmVyZXIiKX0sZGV2aWNlOntkbnQ6MCx1YTpuYXZpZ2F0b3IudXNlckFnZW50LGlwOk9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5kZXZpY2UuaXAiKXx8T2JqZWN0KHMuZGVlcEFjY2VzcykodCwicGFyYW1zLmV4dC5pcCIpfHx2b2lkIDB9LHJlZ3M6e2V4dDp7dXNfcHJpdmFjeTplLnVzcENvbnNlbnQ/ZS51c3BDb25zZW50OiIiLGdkcHI6ZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjB9fSxzb3VyY2U6e2V4dDp7aGI6MSxhZGFwdGVydmVyOiIxLjAuMSIscHJlYmlkdmVyOnAsaW50ZWdyYXRpb246e25hbWU6InByZWJpZC5qcyIsdmVyOnB9fSxmZDoxfSx1c2VyOntleHQ6e2NvbnNlbnQ6ZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz9lLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmc6IiIsZWlkczpPKHQpfX19O3JldHVybiEwPT09eSh0KT8oci5zaXRlLnB1Ymxpc2hlcj17aWQ6dC5wYXJhbXMucHViSWR9LChPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuYmlkT3ZlcnJpZGUuc2l0ZS5pZCIpfHxPYmplY3Qocy5kZWVwQWNjZXNzKSh0LCJwYXJhbXMuc2l0ZUlkIikpJiYoci5zaXRlLmlkPU9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInBhcmFtcy5iaWRPdmVycmlkZS5zaXRlLmlkIil8fHQucGFyYW1zLnNpdGVJZCkpOnIuc2l0ZS5pZD10LnBhcmFtcy5kY24sZC5iLmdldENvbmZpZygib3J0YjIiKSYmKHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1kLmIuZ2V0Q29uZmlnKCJvcnRiMiIpLGk9T2JqZWN0KHMuZGVlcEFjY2Vzcykociwic2l0ZSIpfHx2b2lkIDAsYT1PYmplY3Qocy5kZWVwQWNjZXNzKShpLCJjb250ZW50Iil8fHZvaWQgMCxuPU9iamVjdChzLmRlZXBBY2Nlc3MpKGksImNvbnRlbnQuZGF0YSIpfHx2b2lkIDAsYz1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJhcHAuY29udGVudCIpfHx2b2lkIDAsbz1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJhcHAuY29udGVudC5kYXRhIil8fHZvaWQgMCxwPU9iamVjdChzLmRlZXBBY2Nlc3MpKHIsInVzZXIiKXx8dm9pZCAwO2lmKGkmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGkpKXt2YXIgYj1bIm5hbWUiLCJkb21haW4iLCJwYWdlIiwicmVmIiwia2V5d29yZHMiLCJzZWFyY2giXSxtPVsiY2F0Iiwic2VjdGlvbmNhdCIsInBhZ2VjYXQiXSx1PVsiZXh0Il07ZS5zaXRlPWcoInN0cmluZyIsYixpLGUuc2l0ZSksZS5zaXRlPWcoImFycmF5IixtLGksZS5zaXRlKSxlLnNpdGU9Zygib2JqZWN0Iix1LGksZS5zaXRlKX1pZihhJiZPYmplY3Qocy5pc1BsYWluT2JqZWN0KShhKSl7dmFyIHY9WyJpZCIsInRpdGxlIiwic2VyaWVzIiwic2Vhc29uIiwiZ2VucmUiLCJjb250ZW50cmF0aW5nIiwibGFuZ3VhZ2UiXSxPPVsiZXBpc29kZSIsInByb2RxIiwiY29udGV4dCIsImxpdmVzdHJlYW0iLCJsZW4iXSxsPVsiY2F0Il0seT1bImV4dCJdO2Uuc2l0ZS5jb250ZW50PWcoInN0cmluZyIsdixhLGUuc2l0ZS5jb250ZW50KSxlLnNpdGUuY29udGVudD1nKCJudW1iZXIiLE8sYSxlLnNpdGUuY29udGVudCksZS5zaXRlLmNvbnRlbnQ9ZygiYXJyYXkiLGwsYSxlLnNpdGUuY29udGVudCksZS5zaXRlLmNvbnRlbnQ9Zygib2JqZWN0Iix5LGEsZS5zaXRlLmNvbnRlbnQpLG4mJk9iamVjdChzLmlzQXJyYXkpKG4pJiZuLmV2ZXJ5KChmdW5jdGlvbih0KXt2YXIgcj17fSxpPVsic2VnbWVudCJdLGE9WyJleHQiXTtyPWcoInN0cmluZyIsWyJpZCIsIm5hbWUiXSx0LHIpLHI9ZygiYXJyYXkiLGksdCxyKSxyPWcoIm9iamVjdCIsYSx0LHIpLGUuc2l0ZS5jb250ZW50LmRhdGE9W10sZS5zaXRlLmNvbnRlbnQuZGF0YS5wdXNoKHIpfSkpfWMmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGMpJiZvJiZPYmplY3Qocy5pc0FycmF5KShvKSYmby5ldmVyeSgoZnVuY3Rpb24odCl7dmFyIHI9e30saT1bInNlZ21lbnQiXSxhPVsiZXh0Il07cj1nKCJzdHJpbmciLFsiaWQiLCJuYW1lIl0sdCxyKSxyPWcoImFycmF5IixpLHQscikscj1nKCJvYmplY3QiLGEsdCxyKSxlLmFwcD17Y29udGVudDp7ZGF0YTpbXX19LGUuYXBwLmNvbnRlbnQuZGF0YS5wdXNoKHIpfSkpO2lmKHAmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKHApKXt2YXIgaj1bImlkIiwiYnV5ZXJ1aWQiLCJnZW5kZXIiLCJrZXl3b3JkcyIsImN1c3RvbWRhdGEiXSxmPVsieW9iIl0saD1bImRhdGEiXSxBPVsiZXh0Il07ZS51c2VyPWcoInN0cmluZyIsaixwLGUudXNlciksZS51c2VyPWcoIm51bWJlciIsZixwLGUudXNlciksZS51c2VyPWcoImFycmF5IixoLHAsZS51c2VyKSxlLnVzZXIuZXh0PWcoIm9iamVjdCIsQSxwLGUudXNlci5leHQpfXJldHVybiBlfShyKSksT2JqZWN0KHMuZGVlcEFjY2VzcykodCwic2NoYWluIikmJihyLnNvdXJjZS5leHQuc2NoYWluPXQuc2NoYWluLHIuc291cmNlLmV4dC5zY2hhaW4ubm9kZXNbMF0ucmlkPXIuaWQpLHJ9fWZ1bmN0aW9uIGsoZSx0KXt2YXIgcj1qKCk7aWYodCYmZSl7dmFyIGk9e2lkOmUuYmlkSWQsc2VjdXJlOmwoZSksYmlkZmxvb3I6ZihlKS5mbG9vcnx8T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC5iaWRmbG9vciIpfTtpZighZS5tZWRpYVR5cGVzLmJhbm5lcnx8dm9pZCAwIT09ciYmciE9PWEuYiYmIioiIT09cnx8KGkuYmFubmVyPXttaW1lczplLm1lZGlhVHlwZXMuYmFubmVyLm1pbWVzfHxbInRleHQvaHRtbCIsInRleHQvamF2YXNjcmlwdCIsImFwcGxpY2F0aW9uL2phdmFzY3JpcHQiLCJpbWFnZS9qcGciXSxmb3JtYXQ6dihlLnNpemVzKX0sZS5tZWRpYVR5cGVzLmJhbm5lci5wb3MmJihpLmJhbm5lci5wb3M9ZS5tZWRpYVR5cGVzLmJhbm5lci5wb3MpKSxlLm1lZGlhVHlwZXMudmlkZW8mJihyPT09YS5kfHwiKiI9PT1yKSl7dmFyIGQ9dihlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSk7aS52aWRlbz17bWltZXM6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5taW1lcyIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubWltZXN8fFsidmlkZW8vbXA0IiwiYXBwbGljYXRpb24vamF2YXNjcmlwdCJdLHc6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby53Iil8fGRbMF0udyxoOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uaCIpfHxkWzBdLmgsbWF4Yml0cmF0ZTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1heGJpdHJhdGUiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1heGJpdHJhdGV8fHZvaWQgMCxtYXhkdXJhdGlvbjpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLm1heGR1cmF0aW9uIil8fGUubWVkaWFUeXBlcy52aWRlby5tYXhkdXJhdGlvbnx8dm9pZCAwLG1pbmR1cmF0aW9uOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8ubWluZHVyYXRpb24iKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLm1pbmR1cmF0aW9ufHx2b2lkIDAsYXBpOk9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uYXBpIil8fGUubWVkaWFUeXBlcy52aWRlby5hcGl8fFsyXSxkZWxpdmVyeTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLmRlbGl2ZXJ5Iil8fGUubWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeXx8dm9pZCAwLHBvczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnBvcyIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucG9zfHx2b2lkIDAscGxheWJhY2ttZXRob2Q6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5wbGF5YmFja21ldGhvZCIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2R8fHZvaWQgMCxwbGFjZW1lbnQ6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLmJpZE92ZXJyaWRlLmltcC52aWRlby5wbGFjZW1lbnQiKXx8ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYWNlbWVudHx8dm9pZCAwLGxpbmVhcml0eTpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLmxpbmVhcml0eSIpfHxlLm1lZGlhVHlwZXMudmlkZW8ubGluZWFyaXR5fHwxLHByb3RvY29sczpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnByb3RvY29scyIpfHxlLm1lZGlhVHlwZXMudmlkZW8ucHJvdG9jb2xzfHxbMiw1XSxzdGFydGRlbGF5Ok9iamVjdChzLmRlZXBBY2Nlc3MpKGUsInBhcmFtcy5iaWRPdmVycmlkZS5pbXAudmlkZW8uc3RhcnRkZWxheSIpfHxlLm1lZGlhVHlwZXMudmlkZW8uc3RhcnRkZWxheXx8MCxyZXdhcmRlZDpPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMuYmlkT3ZlcnJpZGUuaW1wLnZpZGVvLnJld2FyZGVkIil8fHZvaWQgMH19aWYoaS5leHQ9e2RmcF9hZF91bml0X2NvZGU6ZS5hZFVuaXRDb2RlfSxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMua3ZwIikmJk9iamVjdChzLmlzUGxhaW5PYmplY3QpKGUucGFyYW1zLmt2cCkpZm9yKHZhciBuIGluIGkuZXh0Lmt2cz17fSxlLnBhcmFtcy5rdnApaWYoT2JqZWN0KHMuaXNTdHIpKGUucGFyYW1zLmt2cFtuXSl8fE9iamVjdChzLmlzTnVtYmVyKShlLnBhcmFtcy5rdnBbbl0pKWkuZXh0Lmt2c1tuXT1lLnBhcmFtcy5rdnBbbl07ZWxzZSBpZihPYmplY3Qocy5pc0FycmF5KShlLnBhcmFtcy5rdnBbbl0pKXt2YXIgYz1lLnBhcmFtcy5rdnBbbl07KGMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qocy5pc1N0cikoZSl9KSl8fGMuZXZlcnkoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qocy5pc051bWJlcikoZSl9KSkpJiYoaS5leHQua3ZzW25dPWUucGFyYW1zLmt2cFtuXSl9T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwib3J0YjJJbXAuZXh0LmRhdGEiKSYmT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkoZS5vcnRiMkltcC5leHQuZGF0YSkmJihpLmV4dC5kYXRhPWUub3J0YjJJbXAuZXh0LmRhdGEpLCExPT09eShlKT8oaS50YWdpZD1lLnBhcmFtcy5wb3MsaS5leHQucG9zPWUucGFyYW1zLnBvcyk6T2JqZWN0KHMuZGVlcEFjY2VzcykoZSwicGFyYW1zLnBsYWNlbWVudElkIikmJihpLnRhZ2lkPWUucGFyYW1zLnBsYWNlbWVudElkKSx0LmltcC5wdXNoKGkpfX1mdW5jdGlvbiB3KGUpe3ZhciB0PWUucGF5bG9hZCxyPWUucmVxdWVzdE9wdGlvbnMsaT1lLmJpZGRlclJlcXVlc3Qsbj15KGkpLGM9ZC5iLmdldENvbmZpZygieWFob29zc3AuZW5kcG9pbnQiKXx8Imh0dHBzOi8vYzJzaGIucHViZ3cueWFob28uY29tL2JpZFJlcXVlc3QiO2lmKCEwPT09biYmKGM9ZC5iLmdldENvbmZpZygieWFob29zc3AuZW5kcG9pbnQiKXx8Imh0dHBzOi8vYzJzaGIucHViZ3cueWFob28uY29tL2FkbWF4L2JpZC9wYXJ0bmVycy9QQkpTIiksITA9PT1PYmplY3Qocy5kZWVwQWNjZXNzKShpLCJwYXJhbXMudGVzdGluZy5lMmV0ZXN0IikpaWYoT2JqZWN0KHMubG9nSW5mbykoInlhaG9vc3NwIGFkYXB0ZXIgZTJldGVzdCBtb2RlIGlzIGFjdGl2ZSIpLHIud2l0aENyZWRlbnRpYWxzPSExLCEwPT09bil0LnNpdGUuaWQ9IjEyMzQ1NjciO2Vsc2V7dmFyIG89aigpO3Quc2l0ZS5pZD0iOGE5Njk1MTYwMTdhN2EzOTZlYzUzOWQ5N2Y1NDAwMTEiLHQuaW1wLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UuZXh0LmUyZVRlc3RNb2RlPSEwLG89PT1hLmI/ZS50YWdpZD0iOGE5Njk5NzgwMTdhN2FhYWJhYjRhYjBiYzAxYTAwMDkiOm89PT1hLmQ/ZS50YWdpZD0iOGE5Njk1OGEwMTdhN2E1N2FjMzc1ZDUwYzBjNzAwY2MiOihPYmplY3Qocy5sb2dXYXJuKSgneWFob29zc3AgYWRhcHRlciBlMmV0ZXN0IG1vZGUgZG9lcyBub3Qgc3VwcG9ydCB5YWhvb3NzcC5tb2RlPSJhbGwiLiBcbiBQbGVhc2Ugc3BlY2lmeSBlaXRoZXIgImJhbm5lciIgb3IgInZpZGVvIicpLE9iamVjdChzLmxvZ1dhcm4pKCJ5YWhvb3NzcCBhZGFwdGVyIGUyZXRlc3QgbW9kZTogUGxlYXNlIG1ha2Ugc3VyZSB5b3VyIGFkVW5pdCBtYXRjaGVzIHRoZSB5YWhvb3NzcC5tb2RlIHZpZGVvIG9yIGJhbm5lciIpKX0pKX1yZXR1cm4gT2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIGFkYXB0ZXIgZW5kcG9pbnQgb3ZlcnJpZGUgZW5hYmxlZC4gUG9pbnRpbmcgcmVxdWVzdHMgdG86ICIsYykse3VybDpjLG1ldGhvZDoiUE9TVCIsZGF0YTp0LG9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0Oml9fXZhciBDPXtjb2RlOiJ5YWhvb3NzcCIsYWxpYXNlczpbXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmIsYS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgdD1lLnBhcmFtcztyZXR1cm4hMD09PU9iamVjdChzLmRlZXBBY2Nlc3MpKHQsInRlc3RpbmcuZTJldGVzdCIpfHwoISghT2JqZWN0KHMuaXNQbGFpbk9iamVjdCkodCl8fCEoeCh0LnB1YklkKXx8eCh0LmRjbikmJngodC5wb3MpKSl8fChPYmplY3Qocy5sb2dXYXJuKSgieWFob29zc3AgYmlkZGVyIHBhcmFtcyBtaXNzaW5nIG9yIGluY29ycmVjdCwgcGxlYXNlIHBhc3Mgb2JqZWN0IHdpdGggZWl0aGVyOiBkY24gJiBwb3MgT1IgcHViSWQiKSwhMSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7aWYoIU9iamVjdChzLmlzRW1wdHkpKGUpJiYhT2JqZWN0KHMuaXNFbXB0eSkodCkpe3ZhciByPXtjb250ZW50VHlwZToiYXBwbGljYXRpb24vanNvbiIsY3VzdG9tSGVhZGVyczp7Ingtb3BlbnJ0Yi12ZXJzaW9uIjoiMi41In19O3Iud2l0aENyZWRlbnRpYWxzPWZ1bmN0aW9uKGUpe3JldHVybiEoZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbil9KHQpO3ZhciBpPWZ1bmN0aW9uKGUpe3ZhciB0PWooKSxyPVtdO3JldHVybiB0PT09YS5iP3I9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlLm1lZGlhVHlwZXMpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09YS5ifSkpfSkpOnQ9PT1hLmQ/cj1lLmZpbHRlcigoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUubWVkaWFUeXBlcykuc29tZSgoZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1hLmR9KSl9KSk6IioiPT09dCYmKHI9ZS5maWx0ZXIoKGZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3Qua2V5cyhlLm1lZGlhVHlwZXMpLnNvbWUoKGZ1bmN0aW9uKGUpe3JldHVybiBlPT09YS5ifHxlPT09YS5kfSkpfSkpKSxyfShlKTtpZighMD09PWQuYi5nZXRDb25maWcoInlhaG9vc3NwLnNpbmdsZVJlcXVlc3RNb2RlIikpe3ZhciBuPVQodCxpWzBdKTtyZXR1cm4gaS5mb3JFYWNoKChmdW5jdGlvbihlKXtrKGUsbil9KSksdyh7cGF5bG9hZDpuLHJlcXVlc3RPcHRpb25zOnIsYmlkZGVyUmVxdWVzdDp0fSl9cmV0dXJuIGkubWFwKChmdW5jdGlvbihlKXt2YXIgaT1UKHQsZSk7cmV0dXJuIGsoZSxpKSx3KHtwYXlsb2FkOmkscmVxdWVzdE9wdGlvbnM6cixiaWRkZXJSZXF1ZXN0OmV9KX0pKX1PYmplY3Qocy5sb2dXYXJuKSgneWFob29zc3AgQWRhcHRlcjogYnVpbGRSZXF1ZXN0cyBjYWxsZWQgd2l0aCBlaXRoZXIgZW1wdHkgInZhbGlkQmlkUmVxdWVzdHMiIG9yICJiaWRkZXJSZXF1ZXN0IicpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3QuZGF0YTt2YXIgcj10LmJpZGRlclJlcXVlc3QsaT1bXTtyZXR1cm4gZS5ib2R5JiZBcnJheS5pc0FycmF5KGUuYm9keS5zZWF0YmlkKT8oZS5ib2R5LnNlYXRiaWQuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9ZS5iaWRbMF19Y2F0Y2goZSl7cmV0dXJuIGl9dmFyIGQ9dC5leHQmJnQuZXh0LmVuY3A/dC5leHQuZW5jcDp0LnByaWNlLGM9e2FkSWQ6T2JqZWN0KHMuZGVlcEFjY2VzcykodCwiYWRJZCIpP3QuYWRJZDp0LmltcGlkfHx0LmNyaWQsYWRVbml0Q29kZTpyLmFkVW5pdENvZGUscmVxdWVzdElkOnQuaW1waWQsYmlkZGVyQ29kZTpDLmNvZGUsY3BtOmQsd2lkdGg6dC53LGhlaWdodDp0LmgsY3JlYXRpdmVJZDp0LmNyaWR8fDAsY3VycmVuY3k6dC5jdXJ8fGIsZGVhbElkOnQuZGVhbGlkP3QuZGVhbGlkOm51bGwsbmV0UmV2ZW51ZTohMCx0dGw6aChyKSxtZXRhOnthZHZlcnRpc2VyRG9tYWluczp0LmFkb21haW59fSxvPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRtO3JldHVybi0xIT09dC5pbmRleE9mKCJvMnBsYXllclNldHRpbmdzIil8fC0xIT09dC5pbmRleE9mKCJZQUhPTy5WaWRlb1BsYXRmb3JtLlZpZGVvUGxheWVyIil8fC0xIT09dC5pbmRleE9mKCJBZFBsYWNlbWVudCIpP2EuYjotMSE9PXQuaW5kZXhPZigiVkFTVCIpP2EuZDp2b2lkIDB9KHQpO289PT1hLmI/KGMubWVkaWFUeXBlPWEuYixjLmFkPXQuYWRtLGMubWV0YS5tZWRpYVR5cGU9YS5iKTpvPT09YS5kJiYoYy5tZWRpYVR5cGU9YS5kLGMubWV0YS5tZWRpYVR5cGU9YS5kLGMudmFzdFhtbD10LmFkbSx0Lm51cmwmJihjLnZhc3RVcmw9dC5udXJsKSksIm91dHN0cmVhbSIhPT1PYmplY3Qocy5kZWVwQWNjZXNzKShyLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8ci5yZW5kZXJlcnx8KGMucmVuZGVyZXI9ZnVuY3Rpb24oZSx0KXt2YXIgcj1uLmEuaW5zdGFsbCh7dXJsOiJodHRwczovL2Nkbi52aWRpYmxlLnR2L3Byb2QvaGItb3V0c3RyZWFtLXJlbmRlcmVyL3JlbmRlcmVyLmpzIixsb2FkZWQ6ITEsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KTt0cnl7ci5zZXRSZW5kZXIoKGZ1bmN0aW9uKHQpe3NldFRpbWVvdXQoKGZ1bmN0aW9uKCl7bzJQbGF5ZXJSZW5kZXIodCl9KSxPYmplY3Qocy5kZWVwQWNjZXNzKShlLCJwYXJhbXMudGVzdGluZy5yZW5kZXJlci5zZXRUaW1lb3V0Iil8fDcwMCl9KSl9Y2F0Y2goZSl7T2JqZWN0KHMubG9nV2FybikoInlhaG9vc3NwIHJlbmRlcmVyIGVycm9yOiBzZXRSZW5kZXIoKSBmYWlsZWQiLGUpfXJldHVybiByfShyKXx8dm9pZCAwKSxpLnB1c2goYyl9KSksaSk6aX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLGkpe3ZhciBhPSFPYmplY3Qocy5pc0VtcHR5KSh0KSYmdFswXS5ib2R5O3JldHVybiBhJiZhLmV4dCYmYS5leHQucGl4ZWxzP2Z1bmN0aW9uKGUsdCl7dmFyIHI9L1x3Kig/PVxzKS8saT0vc3JjPSgifCcpKC4qPylcMS8sYT1bXTtpZih0KXt2YXIgcz10Lm1hdGNoKC8oaW1nfGlmcmFtZSlbXHNcU10qP3NyY1xzKj1ccyooInwnKSguKj8pXDIvZ2kpO3MmJnMuZm9yRWFjaCgoZnVuY3Rpb24odCl7dmFyIHM9dC5tYXRjaChyKVswXSxkPXQubWF0Y2goaSlbMl07aWYocyYmZCl7dmFyIG49ImltZyI9PT1zLnRvTG93ZXJDYXNlKCk/ImltYWdlIjoiaWZyYW1lIjtpZighZS5pZnJhbWVFbmFibGVkJiYiaWZyYW1lIj09PW58fCFlLnBpeGVsRW5hYmxlZCYmImltYWdlIj09PW4pcmV0dXJuO2EucHVzaCh7dHlwZTpuLHVybDpkfSl9fSkpfXJldHVybiBhfShlLGEuZXh0LnBpeGVscyk6W119fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikoQyl9fSxbOTI5XSk7CnVwYmpzQ2h1bmsoWzc2XSx7OTMxOmZ1bmN0aW9uKGUsbix0KXtlLmV4cG9ydHM9dCg5MzIpfSw5MzI6ZnVuY3Rpb24oZSxuLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKG4sInNwZWMiLChmdW5jdGlvbigpe3JldHVybiB1fSkpO3ZhciBhPXQoMCkscj10KDEpLGk9dCgxMSksbz10Lm4oaSkscz10KDIpLGM9dCgxMyksZD10KDMpLHA9Imh0dHBzOi8vYWQueWllbGRsYWIubmV0Iix1PXtjb2RlOiJ5aWVsZGxhYiIsZ3ZsaWQ6NzAsc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5kLHMuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJmUucGFyYW1zLmFkc2xvdElkJiZlLnBhcmFtcy5zdXBwbHlJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgdD1bXSxyPXt0czpEYXRlLm5vdygpLGpzb246ITB9O09iamVjdChhLl9lYWNoKShlLChmdW5jdGlvbihlKXtpZih0LnB1c2goZS5wYXJhbXMuYWRzbG90SWQpLGUucGFyYW1zLnRhcmdldGluZyYmKHIudD1mdW5jdGlvbihlKXt2YXIgbj1bXTtmb3IodmFyIHQgaW4gZSlpZihlLmhhc093blByb3BlcnR5KHQpKXt2YXIgYT10LHI9ZVt0XTtuLnB1c2goYSsiPSIrcil9cmV0dXJuIG4uam9pbigiJiIpfShlLnBhcmFtcy50YXJnZXRpbmcpKSxlLnVzZXJJZEFzRWlkcyYmQXJyYXkuaXNBcnJheShlLnVzZXJJZEFzRWlkcykmJihyLmlkcz1mdW5jdGlvbihlKXtmb3IodmFyIG49W10sdD0wO3Q8ZS5sZW5ndGg7dCsrKW4ucHVzaChlW3RdLnNvdXJjZSsiOiIrZVt0XS51aWRzWzBdLmlkKTtyZXR1cm4gbi5qb2luKCIsIil9KGUudXNlcklkQXNFaWRzKSksZS5wYXJhbXMuY3VzdG9tUGFyYW1zJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnBhcmFtcy5jdXN0b21QYXJhbXMpKWZvcih2YXIgbiBpbiBlLnBhcmFtcy5jdXN0b21QYXJhbXMpcltuXT1lLnBhcmFtcy5jdXN0b21QYXJhbXNbbl07dmFyIGksbyxzLGMscDtlLnNjaGFpbiYmT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkoZS5zY2hhaW4pJiZBcnJheS5pc0FycmF5KGUuc2NoYWluLm5vZGVzKSYmKHIuc2NoYWluPShpPWUuc2NoYWluLG89aS52ZXJ8fCIiLHM9MT09PWkuY29tcGxldGV8fDA9PT1pLmNvbXBsZXRlP2kuY29tcGxldGU6IiIsYz1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiIsImV4dCJdLHA9aS5ub2Rlcy5yZWR1Y2UoKGZ1bmN0aW9uKGUsbil7cmV0dXJuIGUrIiEiLmNvbmNhdChjLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV0/KHQ9bltlXSxlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvIS9nLCIlMjEiKSk6IiI7dmFyIHR9KSkuam9pbigiLCIpKX0pLCIiKSwiIi5jb25jYXQobywiLCIpLmNvbmNhdChzKS5jb25jYXQocCkpKTt2YXIgdT1mdW5jdGlvbihlKXtpZihlLnBhcmFtcy5pYWJDb250ZW50JiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShlLnBhcmFtcy5pYWJDb250ZW50KSlyZXR1cm4gZS5wYXJhbXMuaWFiQ29udGVudDt2YXIgbj1kLmIuZ2V0Q29uZmlnKCJvcnRiMi5zaXRlIik/ZC5iLmdldENvbmZpZygib3J0YjIuc2l0ZS5jb250ZW50Iik6ZC5iLmdldENvbmZpZygib3J0YjIuYXBwLmNvbnRlbnQiKTtpZihuJiZPYmplY3QoYS5pc1BsYWluT2JqZWN0KShuKSlyZXR1cm4gbjtyZXR1cm59KGUpO3UmJihyLmlhYl9jb250ZW50PWZ1bmN0aW9uKGUpe3ZhciBuPVsia2V5d29yZHMiLCJjYXQiXSx0PVtdO2Zvcih2YXIgYSBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkoYSkpe3ZhciByPS0xIT09bi5pbmRleE9mKGEpJiZBcnJheS5pc0FycmF5KGVbYV0pP2VbYV0ubWFwKChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGUpfSkpLmpvaW4oInwiKTplbmNvZGVVUklDb21wb25lbnQoZVthXSk7dC5wdXNoKCIiLmNvbmNhdChhLCI6IixyKSl9cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0LmpvaW4oIiwiKSl9KHUpKX0pKSxuJiYobi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5yZWZlcmVyJiYoci5wdWJyZWY9bi5yZWZlcmVySW5mby5yZWZlcmVyKSxuLmdkcHJDb25zZW50JiYoci5nZHByPSJib29sZWFuIiE9dHlwZW9mIG4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXN8fG4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsci5nZHByJiYoci5jb25zZW50PW4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpKTt2YXIgaT10LmpvaW4oIiwiKSxvPWZ1bmN0aW9uKGUpe3ZhciBuPVtdO2Zvcih2YXIgdCBpbiBlKWlmKGUuaGFzT3duUHJvcGVydHkodCkpe3ZhciBhPWVbdF07InNjaGFpbiIhPT10JiYiaWFiX2NvbnRlbnQiIT09dD9uLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KHQpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYSkpOm4ucHVzaCh0KyI9IithKX1yZXR1cm4gbi5qb2luKCImIil9KHIpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChwLCIveXAvIikuY29uY2F0KGksIj8iKS5jb25jYXQobyksdmFsaWRCaWRSZXF1ZXN0czplLHF1ZXJ5UGFyYW1zOnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLG4pe3ZhciB0PVtdLHI9RGF0ZS5ub3coKSxpPW4ucXVlcnlQYXJhbXM7cmV0dXJuIG4udmFsaWRCaWRSZXF1ZXN0cy5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihlLmJvZHkpe3ZhciBkLHUsdj1vKCkoZS5ib2R5LChmdW5jdGlvbihlKXtyZXR1cm4gbi5wYXJhbXMuYWRzbG90SWQ9PWUuaWR9KSk7aWYodil7dmFyIGw9MiE9PW4uc2l6ZXMubGVuZ3RofHxPYmplY3QoYS5pc0FycmF5KShuLnNpemVzWzBdKT9uLnNpemVzWzBdOm4uc2l6ZXMsYj12b2lkIDAhPT1uLnBhcmFtcy5hZFNpemU/bShuLnBhcmFtcy5hZFNpemUpOnZvaWQgMCE9PXYuYWRzaXplP20odi5hZHNpemUpOmwsaD12b2lkIDAhPT1uLnBhcmFtcy5leHRJZD8iJmlkPSIrbi5wYXJhbXMuZXh0SWQ6IiIseT12b2lkIDAhPT12LmFkdHlwZT92LmFkdHlwZToiIixnPWkuZ2Rwcj8iJmdkcHI9IitpLmdkcHI6IiIsaj1pLmNvbnNlbnQ/IiZjb25zZW50PSIraS5jb25zZW50OiIiLEk9dm9pZCAwIT09di5wdmlkPyImcHZpZD0iK3YucHZpZDoiIix3PWkuaWFiX2NvbnRlbnQ/IiZpYWJfY29udGVudD0iK2kuaWFiX2NvbnRlbnQ6IiIsTz17cmVxdWVzdElkOm4uYmlkSWQsY3BtOnYucHJpY2UvMTAwLHdpZHRoOmJbMF0saGVpZ2h0OmJbMV0sY3JlYXRpdmVJZDoiIit2LmlkLGRlYWxJZDp2WyJjLmRlYWxpZCJdP3ZbImMuZGVhbGlkIl06di5waWQsY3VycmVuY3k6IkVVUiIsbmV0UmV2ZW51ZTohMSx0dGw6MzAwLHJlZmVycmVyOiIiLGFkOic8c2NyaXB0IHNyYz0iJy5jb25jYXQocCwiL2QvIikuY29uY2F0KHYuaWQsIi8iKS5jb25jYXQobi5wYXJhbXMuc3VwcGx5SWQsIi8/dHM9IikuY29uY2F0KHIpLmNvbmNhdChoKS5jb25jYXQoZykuY29uY2F0KGopLmNvbmNhdChJKS5jb25jYXQodywnIj48XC9zY3JpcHQ+JyksbWV0YTp7YWR2ZXJ0aXNlckRvbWFpbnM6di5hZHZlcnRpc2VyP3YuYWR2ZXJ0aXNlcjoibi9hIn19O2lmKGQ9bix1PXksT2JqZWN0KGEuZGVlcEFjY2VzcykoZCwibWVkaWFUeXBlcy52aWRlbyIpJiYidmlkZW8iPT09dS50b0xvd2VyQ2FzZSgpKXt2YXIgQz1mdW5jdGlvbihlKXt2YXIgbj1PYmplY3QoYS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKTtyZXR1cm4gbiYmT2JqZWN0KGEuaXNBcnJheSkoblswXSk/blswXTpufShuKTtpZihDJiYoTy53aWR0aD1DWzBdLE8uaGVpZ2h0PUNbMV0pLE8ubWVkaWFUeXBlPXMuZCxPLnZhc3RVcmw9IiIuY29uY2F0KHAsIi9kLyIpLmNvbmNhdCh2LmlkLCIvIikuY29uY2F0KG4ucGFyYW1zLnN1cHBseUlkLCIvP3RzPSIpLmNvbmNhdChyKS5jb25jYXQoaCkuY29uY2F0KGcpLmNvbmNhdChqKS5jb25jYXQoSSkuY29uY2F0KHcpLGZ1bmN0aW9uKGUpe3JldHVybiJvdXRzdHJlYW0iPT09T2JqZWN0KGEuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iil9KG4pKXt2YXIgQT1jLmEuaW5zdGFsbCh7aWQ6bi5iaWRJZCx1cmw6Imh0dHBzOi8vYWQuYWRpdGlvbi5jb20vZHluYW1pYy5hZD9hPW8xOTMwOTImbWFfbG9hZEV2ZW50PW1hLXN0YXJ0LWV2ZW50Iixsb2FkZWQ6ITF9KTtBLnNldFJlbmRlcihmKSxPLnJlbmRlcmVyPUF9fXQucHVzaChPKX19fSkpLHR9fTtmdW5jdGlvbiBtKGUpe3JldHVybiBlLnNwbGl0KCJ4IikubWFwKE51bWJlcil9ZnVuY3Rpb24gZihlKXtlLnJlbmRlcmVyLnB1c2goKGZ1bmN0aW9uKCl7d2luZG93Lm1hX3dpZHRoPWUud2lkdGgsd2luZG93Lm1hX2hlaWdodD1lLmhlaWdodCx3aW5kb3cubWFfdmFzdFVybD1lLnZhc3RVcmwsd2luZG93Lm1hX2NvbnRhaW5lcj1lLmFkVW5pdENvZGUsd2luZG93LmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJtYS1zdGFydC1ldmVudCIpKX0pKX1PYmplY3Qoci5yZWdpc3RlckJpZGRlcikodSl9fSxbOTMxXSk7CnVwYmpzLnByb2Nlc3NRdWV1ZSgpOw==";try{var decodedCode=atob(prebidjsCode);eval(decodedCode)}catch(e){}_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs=window.upbjs};this.load=function(){_shared__WEBPACK_IMPORTED_MODULE_1__.Z.cpbjs||(initPbjs(),subscriptionLayer.invokeEventCallbacks("postset"))}}},536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={map:function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i,e));return n},forEach:function(e,t){if(e)for(var n=0;n<e.length;n++)t(e[n],n,e)},find:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i,n,e))return i}},CDefer:function(){var e,t;this.fate="unresolved",this.state="pending",this.promise=new Promise((function(n,i){e=n,t=i})),this.promise.then((e=>(this.state="fulfilled",e)),(e=>(this.state="rejected",e))),this.resolve=function(t){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",e(t)},this.reject=function(e){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved",t(e)},this.isResolved=function(){return"resolved"===this.fate},this.isPending=function(){return"pending"===this.state},this.isFulfilled=function(){return"fulfilled"===this.state},this.isRejected=function(){return"rejected"===this.state}}}},616:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deepClone:()=>i,isNumber:()=>r,isNil:()=>o,debounce:()=>a,escapeSelector:()=>c,getElementWithSelector:()=>l,isElementInBody:()=>u,extractQueryParamFromUrl:()=>h,topmostAccessibleWindow:()=>p,extractVariableFromString:()=>f,getRandomInt:()=>g,getTrueByProbability:()=>m,truncateString:()=>w,matchStringsOnString:()=>b,isFileHTML:()=>v});var i=function(e){if(!e)return e;var t,n=[Number,String,Boolean];try{if(n.forEach((n=>{e instanceof n&&(t=n(e))})),void 0===t)if("[object Array]"===Object.prototype.toString.call(e))t=[],e.forEach(((e,n,r)=>{t[n]=i(e)}));else if("object"==typeof e)if(e.nodeType&&"function"==typeof e.cloneNode)t=e.cloneNode(!0);else if(e.prototype)t=e;else if(e instanceof Date)t=new Date(e);else for(var r in t={},e)t[r]=i(e[r]);else t=e}catch(n){t=e}return t};function r(e){return!isNaN(e)&&"number"==typeof e}function o(e){return null==e}function a(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this;return function(){for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];const d=()=>{t=null,i||e.apply(r,a)},c=i&&!t;clearTimeout(t),t=setTimeout(d,n),c&&e.apply(r,a)}}var s=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function d(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function c(e){var t=e.charAt(0);return"#"===t||"."===t?t+e.substring(1).replace(s,d):e}function l(e){try{return document.querySelector(e)}catch(t){return console.error("document.querySelector:".concat(e," - error:").concat(t)),null}}function u(e){return e&&(document.documentElement||document.body).contains(e)}var h=function(e,t){e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};const p=function(){let e=window;try{if(top.document)return top}catch(e){}try{for(;e.parent.document;)e=e.parent}catch(e){}return e}();var f=function(e,t){if(e){for(var n=t.split("."),i=e,r=0;r<n.length;r++){var o=n[r];if(!i[o])return;i=i[o]}return i}};function g(e){return Math.floor(Math.random()*Math.floor(e))}function m(e){return g(100)<e}function w(e,t){return e.length>t?e.substring(0,t):e}function b(e,t){return e.every((e=>null==t?void 0:t.includes(e)))}function v(e){var t;const n=e.getResponseHeader("content-type");return null!==(t=null==n?void 0:n.toLowerCase().includes("html"))&&void 0!==t&&t}},614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i={};n.r(i),n.d(i,{getSizeType:()=>w,isUnacceptable:()=>y,isUnacceptableATFSize:()=>b});var r=n(868),o=n(616),a=new function(){this.insertElement=function(e,t,n){switch(n){case"appendChild":t.appendChild(e);break;case"insertBefore":t.parentElement.insertBefore(e,t);break;case"insertAfter":t.nextElementSibling?this.insertElement(e,t.nextElementSibling,"insertBefore"):this.insertElement(e,t.parentElement,"appendChild")}}},s=n(536),d=n(302),c=n(586),l=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}];const u=(e,t)=>((e,t)=>e.filter((e=>_.sizeValidation.getSizeType(e)===t)))(l,e).filter((e=>!_.sizeValidation.isUnacceptableATFSize(e)||!t));var h=function(e,t,n){for(var i=function(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=e[i];r&&r.width&&r.height&&(r.width>t&&(t=r.width),r.height>n&&(n=r.height))}return{width:t,height:n}}(e),r=_.sizeValidation.getSizeType(t),o=u(r,n),a=0;a<o.length;a++){var s=o[a];if(s.width<=i.width&&s.height<=i.height){for(var d=!0,c=0;c<e.length;c++){var l=e[c];if(l&&l.width===s.width&&l.height===s.height){d=!1;break}}if(d)return s}}},p=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t},f=function(e,t){if(e&&e.length>0)for(var n=0;n<e.length;n++){for(var i=e[n],r=!0,o=0;o<i.length;o++){var a=i[o];if(t[a.type].indexOf(a.string)<0){r=!1;break}}if(r)return!0}};const g=1,m=2;function w(e){return e.width>350?g:m}function b(e){const t=w(e),n=window.innerWidth*window.innerHeight,i=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,o=!(window.innerWidth>r.Z.consts.acceptableStandardScreenSize.width&&window.innerHeight>r.Z.consts.acceptableStandardScreenSize.height)&&document.body.scrollWidth>window.innerWidth,a=e.height,s=e.width,d=s*a/(o?i:n)*100>=16;return t==m?d||s>350:d||e.height>200}function v(e,t){const n=w(t);let i,r,o=!1,a=!0,s=!1,d=t.height;const c=t.width;if(e){"none"===window.getComputedStyle(e).display&&(i=e.style.getPropertyValue("display"),r=e.style.getPropertyPriority("display"),e.style.setProperty("display","block","important"),o=!0);const n=e.getBoundingClientRect().top;s=n+t.height>window.innerHeight,d=s?window.innerHeight-n:t.height}return a=n==m&&s?v(e,{width:c,height:d})&&M(t):b(t),o&&e.style.setProperty("display",i,r),a}function M(e){const t=window.innerWidth*window.innerHeight,n=r.Z.consts.acceptableStandardScreenSize.width*r.Z.consts.acceptableStandardScreenSize.height,i=window.innerWidth>r.Z.consts.acceptableStandardScreenSize.width&&window.innerHeight>r.Z.consts.acceptableStandardScreenSize.height,o=!i&&document.body.scrollWidth>window.innerWidth,a=t,s=w(e);return(e.width*e.height+18e4)/(o?n:a)*100>=26||s==g&&e.height>400||!i&&970===e.width&&250===e.height}function y(e,t){return!e||(0,c.isATFElement)(e)?v(e,t):M(t)}const _={addAcceptableParam:function(e){return e.indexOf(r.Z.upoSettings.acceptableURLParam)>-1?e:e=(e=(e=e.indexOf("?")>-1?e+"&"+r.Z.upoSettings.acceptableURLParam:e+"?"+r.Z.upoSettings.acceptableURLParam).replace("&&upapi=true","&upapi=true")).replace("onetag-sys.com/prebid-request?upapi=true","onetag-sys.com/prebid-request/?upapi=true")},commonUtils:o,ElementInsertion:a,sizesRemover:function(e,t){const n=[],i=d.Y.fireEvent("enableLegacySizesReplacer");s.Z.forEach(t,(function(e){e.width&&e.height&&n.push({width:e.width,height:e.height})}));for(var r=0;r<n.length;r++){var o=n[r];if(_.sizeValidation.isUnacceptable(e,o))if(i){const t=(0,c.isATFElement)(e);n[r]=h(n,o,t)}else n.splice(r,1),r--}return n},SubscriptionLayer:function(){var e={};this.subscribeForEvent=function(t,n){e[t]=e[t]||[],e[t].indexOf(n)<0&&e[t].push(n)},this.invokeEventCallbacks=function(t,n){var i=e[t]||[];s.Z.forEach(i,(function(e){e.call(void 0,n)}))}},urlValidations:{isSyncUrl:function(e,t){if("IMG"!==t)return!1;for(var n=p(e),i=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]],r=0;r<i.length;r++){for(var o=i[r],a=!0,s=0;s<o.length;s++){var d=o[s];if(n[d.type].indexOf(d.string)<0){a=!1;break}}if(a)return!0}return!1},isWhitelistURL:function(e,t){var n=p(e);return!f({SCRIPT:[[{string:"3lift.com",type:"hostname"},{string:"/header",type:"href"}]]}[t],n)&&!!f({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[t],n)}},sizeValidation:i}},96:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,u=c||l||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,g=function(){return u.Date.now()};function m(e,t,n){var r,o,a,s,d,c,l=0,u=!1,h=!1,m=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var n=r,i=o;return r=o=void 0,l=t,s=e.apply(i,n)}function M(e){return l=e,d=setTimeout(_,t),u?v(e):s}function y(e){var n=e-c;return void 0===c||n>=t||n<0||h&&e-l>=a}function _(){var e=g();if(y(e))return D(e);d=setTimeout(_,function(e){var n=t-(e-c);return h?f(n,a-(e-l)):n}(e))}function D(e){return d=void 0,m&&r?v(e):(r=o=void 0,s)}function E(){var e=g(),n=y(e);if(r=arguments,o=this,c=e,n){if(void 0===d)return M(c);if(h)return d=setTimeout(_,t),v(c)}return void 0===d&&(d=setTimeout(_,t)),s}return t=b(t)||0,w(n)&&(u=!!n.leading,a=(h="maxWait"in n)?p(b(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==d&&clearTimeout(d),l=0,r=c=o=d=void 0},E.flush=function(){return void 0===d?s:D(g())},E}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=a.test(e);return n||s.test(e)?d(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return w(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:r,maxWait:t,trailing:o})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{isBTDemandIntegration:()=>xn,setupBtSsp:()=>Yn,setupRelay:()=>kn,setupSnigel:()=>In});var t={};__webpack_require__.r(t),__webpack_require__.d(t,{createWhitelistingIFrame:()=>Ln,setupWhitelistingIFrameSettings:()=>Vn});var n=__webpack_require__(868),i=__webpack_require__(302),r=__webpack_require__(614),o=__webpack_require__(491);const a=new o.Z({prefix:"xhrSingleton: "});var s=function(e,t){return e.substr(0,t.length)===t},d=function(e){if(e=e.toLowerCase(),s(e,"proxy-"))return!1;if(s(e,"sec-"))return!1;switch(e){case"accept-charset":case"accept-encoding":case"access-control-request-headers":case"access-control-request-method":case"connection":case"content-length":case"cookie":case"cookie2":case"date":case"dnt":case"expect":case"host":case"keep-alive":case"origin":case"te":case"trailer":case"transfer-encoding":case"upgrade":case"via":case"x-client-version":case"x-cookie":case"x-referer":return!1}return!0},c=new function(){this.init=function(e,t){if(t=t||{},!e||"string"!=typeof e)throw new TypeError;this.host=e;var n=void 0===t.secure||t.secure;this.protocol=n?"https":"http",this.suffix=void 0!==t.suffix?t.suffix:""},this.$fetch=function(e){return new Promise(function(t,n){if("object"!=typeof e||"string"!=typeof e.url)throw new TypeError;var i=!1,r=e.url||"";(r.length<1||"/"!=r[0])&&(r="/"+r);var o=this.protocol+"://"+this.host+r;o+=this.suffix?"#"+this.suffix:"";var s=e.method||"GET",c=e.headers||{},l=e.body?e.body:null,u=new XMLHttpRequest;for(var h in u.onreadystatechange=function(e){if(4==u.readyState)if(0!=u.status){var r=function(e){for(var t={},n=Object.keys(e),i=0;i<n.length;i++)t[n[i].toLowerCase()]=e[n[i]];return t}(function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),i=0;i<n.length;i++){var r=n[i],o=r.indexOf(": ");if(o>0){var a=r.substring(0,o),s=r.substring(o+2);t[a]||(t[a]=[]),t[a].push(s)}}return t}(u.getAllResponseHeaders()));if(r["x-content-type"]&&(r["content-type"]=r["x-content-type"],delete r["x-content-type"]),u.status>=200&&u.status<300){var d={status:u.status,headers:r,body:u.response};t(d)}else n("status -> "+u.status)}else{if(i)return;i=!0,n("status -> "+u.status);const t={sendToServer:!0,sendPercentage:1,event:"xhr.onReadyStateChange error",meta:{url:o,method:s,body:l,event:e}};a.errorf(null,"xhr error -> ",o,t)}},u.onerror=function(e){if(i)return;i=!0,n(e);const t={sendToServer:!0,sendPercentage:1,event:"xhr.onError error",meta:{url:o,method:s,body:l,error:e}};a.errorf(null,"xhr error -> ",o,t)},u.open(s,o,!0),u.responseType="arraybuffer",c)c.hasOwnProperty(h)&&0!=c[h].length&&(d(h)||u.setRequestHeader(h,c[h][0]));u.send(l)}.bind(this))}},l=function(e,t,n){if(!e||"number"!=typeof t||"number"!=typeof n||t<=0||n<=0||t>n)throw new TypeError;for(var i=Math.floor(Math.random()*(n+1-t))+t,r="",o=0;o<i;o++)r+=e.charAt(Math.floor(Math.random()*e.length));return r},u=function(e,t){return l("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e,t)};const h=u;function p(e){let t=e.length;for(;--t>=0;)e[t]=0}const f=256,g=286,m=30,w=15,b=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),v=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),M=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),y=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_=new Array(576);p(_);const D=new Array(60);p(D);const E=new Array(512);p(E);const T=new Array(256);p(T);const N=new Array(29);p(N);const z=new Array(m);function S(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}let B,Z,x;function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}p(z);const I=e=>e<256?E[e]:E[256+(e>>>7)],Y=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},H=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Y(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},X=(e,t,n)=>{H(e,n[2*t],n[2*t+1])},O=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},R=(e,t,n)=>{const i=new Array(16);let r,o,a=0;for(r=1;r<=w;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=O(i[t]++,t))}},C=e=>{let t;for(t=0;t<g;t++)e.dyn_ltree[2*t]=0;for(t=0;t<m;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},A=e=>{e.bi_valid>8?Y(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},W=(e,t,n,i)=>{const r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]},F=(e,t,n)=>{const i=e.heap[n];let r=n<<1;for(;r<=e.heap_len&&(r<e.heap_len&&W(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!W(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i},U=(e,t,n)=>{let i,r,o,a,s=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],r=e.pending_buf[e.l_buf+s],s++,0===i?X(e,r,t):(o=T[r],X(e,o+f+1,t),a=b[o],0!==a&&(r-=N[o],H(e,r,a)),i--,o=I(i),X(e,o,n),a=v[o],0!==a&&(i-=z[o],H(e,i,a)))}while(s<e.last_lit);X(e,256,t)},V=(e,t)=>{const n=t.dyn_tree,i=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,d,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)d=e.heap[++e.heap_len]=c<2?++c:0,n[2*d]=1,e.depth[d]=0,e.opt_len--,r&&(e.static_len-=i[2*d+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)F(e,n,a);d=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],F(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*d]=n[2*a]+n[2*s],e.depth[d]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=d,e.heap[1]=d++,F(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,i=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,d=t.stat_desc.max_length;let c,l,u,h,p,f,g=0;for(h=0;h<=w;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)l=e.heap[c],h=n[2*n[2*l+1]+1]+1,h>d&&(h=d,g++),n[2*l+1]=h,l>i||(e.bl_count[h]++,p=0,l>=s&&(p=a[l-s]),f=n[2*l],e.opt_len+=f*(h+p),o&&(e.static_len+=f*(r[2*l+1]+p)));if(0!==g){do{for(h=d-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[d]--,g-=2}while(g>0);for(h=d;0!==h;h--)for(l=e.bl_count[h];0!==l;)u=e.heap[--c],u>i||(n[2*u+1]!==h&&(e.opt_len+=(h-n[2*u+1])*n[2*u],n[2*u+1]=h),l--)}})(e,t),R(n,c,e.bl_count)},j=(e,t,n)=>{let i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<d&&r===a||(s<c?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4))},L=(e,t,n)=>{let i,r,o=-1,a=t[1],s=0,d=7,c=4;for(0===a&&(d=138,c=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<d&&r===a)){if(s<c)do{X(e,r,e.bl_tree)}while(0!=--s);else 0!==r?(r!==o&&(X(e,r,e.bl_tree),s--),X(e,16,e.bl_tree),H(e,s-3,2)):s<=10?(X(e,17,e.bl_tree),H(e,s-3,3)):(X(e,18,e.bl_tree),H(e,s-11,7));s=0,o=r,0===a?(d=138,c=3):r===a?(d=6,c=3):(d=7,c=4)}};let P=!1;const K=(e,t,n,i)=>{H(e,0+(i?1:0),3),((e,t,n,i)=>{A(e),i&&(Y(e,n),Y(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var G=(e,t,n,i)=>{let r,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),V(e,e.l_desc),V(e,e.d_desc),a=(e=>{let t;for(j(e,e.dyn_ltree,e.l_desc.max_code),j(e,e.dyn_dtree,e.d_desc.max_code),V(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*y[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?K(e,t,n,i):4===e.strategy||o===r?(H(e,2+(i?1:0),3),U(e,_,D)):(H(e,4+(i?1:0),3),((e,t,n,i)=>{let r;for(H(e,t-257,5),H(e,n-1,5),H(e,i-4,4),r=0;r<i;r++)H(e,e.bl_tree[2*y[r]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),U(e,e.dyn_ltree,e.dyn_dtree)),C(e),i&&A(e)},J={_tr_init:e=>{P||((()=>{let e,t,n,i,r;const o=new Array(16);for(n=0,i=0;i<28;i++)for(N[i]=n,e=0;e<1<<b[i];e++)T[n++]=i;for(T[n-1]=i,r=0,i=0;i<16;i++)for(z[i]=r,e=0;e<1<<v[i];e++)E[r++]=i;for(r>>=7;i<m;i++)for(z[i]=r<<7,e=0;e<1<<v[i]-7;e++)E[256+r++]=i;for(t=0;t<=w;t++)o[t]=0;for(e=0;e<=143;)_[2*e+1]=8,e++,o[8]++;for(;e<=255;)_[2*e+1]=9,e++,o[9]++;for(;e<=279;)_[2*e+1]=7,e++,o[7]++;for(;e<=287;)_[2*e+1]=8,e++,o[8]++;for(R(_,287,o),e=0;e<m;e++)D[2*e+1]=5,D[2*e]=O(e,5);B=new S(_,b,257,g,w),Z=new S(D,v,0,m,w),x=new S(new Array(0),M,0,19,7)})(),P=!0),e.l_desc=new k(e.dyn_ltree,B),e.d_desc=new k(e.dyn_dtree,Z),e.bl_desc=new k(e.bl_tree,x),e.bi_buf=0,e.bi_valid=0,C(e)},_tr_stored_block:K,_tr_flush_block:G,_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(T[n]+f+1)]++,e.dyn_dtree[2*I(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{H(e,2,3),X(e,256,_),(e=>{16===e.bi_valid?(Y(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var Q=(e,t,n,i)=>{let r=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{r=r+t[i++]|0,o=o+r|0}while(--a);r%=65521,o%=65521}return r|o<<16|0};const q=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var $=(e,t,n,i)=>{const r=q,o=i+n;e^=-1;for(let n=i;n<o;n++)e=e>>>8^r[255&(e^t[n])];return-1^e},ee={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},te={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:ne,_tr_stored_block:ie,_tr_flush_block:re,_tr_tally:oe,_tr_align:ae}=J,{Z_NO_FLUSH:se,Z_PARTIAL_FLUSH:de,Z_FULL_FLUSH:ce,Z_FINISH:le,Z_BLOCK:ue,Z_OK:he,Z_STREAM_END:pe,Z_STREAM_ERROR:fe,Z_DATA_ERROR:ge,Z_BUF_ERROR:me,Z_DEFAULT_COMPRESSION:we,Z_FILTERED:be,Z_HUFFMAN_ONLY:ve,Z_RLE:Me,Z_FIXED:ye,Z_DEFAULT_STRATEGY:_e,Z_UNKNOWN:De,Z_DEFLATED:Ee}=te,Te=258,Ne=262,ze=103,Se=113,Be=666,Ze=(e,t)=>(e.msg=ee[t],t),xe=e=>(e<<1)-(e>4?9:0),ke=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Ie=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ye=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},He=(e,t)=>{re(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ye(e.strm)},Xe=(e,t)=>{e.pending_buf[e.pending++]=t},Oe=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Re=(e,t,n,i)=>{let r=e.avail_in;return r>i&&(r=i),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),n),1===e.state.wrap?e.adler=Q(e.adler,t,r,n):2===e.state.wrap&&(e.adler=$(e.adler,t,r,n)),e.next_in+=r,e.total_in+=r,r)},Ce=(e,t)=>{let n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const d=e.strstart>e.w_size-Ne?e.strstart-(e.w_size-Ne):0,c=e.window,l=e.w_mask,u=e.prev,h=e.strstart+Te;let p=c[o+a-1],f=c[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===f&&c[n+a-1]===p&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<h);if(i=Te-(h-o),o=h-Te,i>a){if(e.match_start=t,a=i,i>=s)break;p=c[o+a-1],f=c[o+a]}}}while((t=u[t&l])>d&&0!=--r);return a<=e.lookahead?a:e.lookahead},Ae=e=>{const t=e.w_size;let n,i,r,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Ne)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,i=e.hash_size,n=i;do{r=e.head[--n],e.head[n]=r>=t?r-t:0}while(--i);i=t,n=i;do{r=e.prev[--n],e.prev[n]=r>=t?r-t:0}while(--i);o+=t}if(0===e.strm.avail_in)break;if(i=Re(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=i,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ie(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ie(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<Ne&&0!==e.strm.avail_in)},We=(e,t)=>{let n,i;for(;;){if(e.lookahead<Ne){if(Ae(e),e.lookahead<Ne&&t===se)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-Ne&&(e.match_length=Ce(e,n)),e.match_length>=3)if(i=oe(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+1]);else i=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2},Fe=(e,t)=>{let n,i,r;for(;;){if(e.lookahead<Ne){if(Ae(e),e.lookahead<Ne&&t===se)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Ne&&(e.match_length=Ce(e,n),e.match_length<=5&&(e.strategy===be||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,i=oe(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=Ie(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(He(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(i=oe(e,0,e.window[e.strstart-1]),i&&He(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=oe(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2};function Ue(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}const Ve=[new Ue(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ae(e),0===e.lookahead&&t===se)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,He(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-Ne&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(He(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(He(e,!1),e.strm.avail_out),1)})),new Ue(4,4,8,4,We),new Ue(4,5,16,8,We),new Ue(4,6,32,32,We),new Ue(4,4,16,16,Fe),new Ue(8,16,32,32,Fe),new Ue(8,16,128,128,Fe),new Ue(8,32,128,256,Fe),new Ue(32,128,258,1024,Fe),new Ue(32,258,258,4096,Fe)];function je(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ee,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ke(this.dyn_ltree),ke(this.dyn_dtree),ke(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ke(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ke(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Le=e=>{if(!e||!e.state)return Ze(e,fe);e.total_in=e.total_out=0,e.data_type=De;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Se,e.adler=2===t.wrap?0:1,t.last_flush=se,ne(t),he},Pe=e=>{const t=Le(e);var n;return t===he&&((n=e.state).window_size=2*n.w_size,ke(n.head),n.max_lazy_match=Ve[n.level].max_lazy,n.good_match=Ve[n.level].good_length,n.nice_match=Ve[n.level].nice_length,n.max_chain_length=Ve[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Ke=(e,t,n,i,r,o)=>{if(!e)return fe;let a=1;if(t===we&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>9||n!==Ee||i<8||i>15||t<0||t>9||o<0||o>ye)return Ze(e,fe);8===i&&(i=9);const s=new je;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Pe(e)};var Ge={deflateInit:(e,t)=>Ke(e,t,Ee,15,8,_e),deflateInit2:Ke,deflateReset:Pe,deflateResetKeep:Le,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?fe:(e.state.gzhead=t,he):fe,deflate:(e,t)=>{let n,i;if(!e||!e.state||t>ue||t<0)return e?Ze(e,fe):fe;const r=e.state;if(!e.output||!e.input&&0!==e.avail_in||r.status===Be&&t!==le)return Ze(e,0===e.avail_out?me:fe);r.strm=e;const o=r.last_flush;if(r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,Xe(r,31),Xe(r,139),Xe(r,8),r.gzhead?(Xe(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Xe(r,255&r.gzhead.time),Xe(r,r.gzhead.time>>8&255),Xe(r,r.gzhead.time>>16&255),Xe(r,r.gzhead.time>>24&255),Xe(r,9===r.level?2:r.strategy>=ve||r.level<2?4:0),Xe(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(Xe(r,255&r.gzhead.extra.length),Xe(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=$(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(Xe(r,0),Xe(r,0),Xe(r,0),Xe(r,0),Xe(r,0),Xe(r,9===r.level?2:r.strategy>=ve||r.level<2?4:0),Xe(r,3),r.status=Se);else{let t=Ee+(r.w_bits-8<<4)<<8,n=-1;n=r.strategy>=ve||r.level<2?0:r.level<6?1:6===r.level?2:3,t|=n<<6,0!==r.strstart&&(t|=32),t+=31-t%31,r.status=Se,Oe(r,t),0!==r.strstart&&(Oe(r,e.adler>>>16),Oe(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),Ye(e),n=r.pending,r.pending!==r.pending_buf_size));)Xe(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),Ye(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,Xe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),Ye(e),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,Xe(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(e.adler=$(e.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=ze)}else r.status=ze;if(r.status===ze&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&Ye(e),r.pending+2<=r.pending_buf_size&&(Xe(r,255&e.adler),Xe(r,e.adler>>8&255),e.adler=0,r.status=Se)):r.status=Se),0!==r.pending){if(Ye(e),0===e.avail_out)return r.last_flush=-1,he}else if(0===e.avail_in&&xe(t)<=xe(o)&&t!==le)return Ze(e,me);if(r.status===Be&&0!==e.avail_in)return Ze(e,me);if(0!==e.avail_in||0!==r.lookahead||t!==se&&r.status!==Be){let n=r.strategy===ve?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Ae(e),0===e.lookahead)){if(t===se)return 1;break}if(e.match_length=0,n=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2})(r,t):r.strategy===Me?((e,t)=>{let n,i,r,o;const a=e.window;for(;;){if(e.lookahead<=Te){if(Ae(e),e.lookahead<=Te&&t===se)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){o=e.strstart+Te;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o);e.match_length=Te-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=oe(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=oe(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(He(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===le?(He(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(He(e,!1),0===e.strm.avail_out)?1:2})(r,t):Ve[r.level].func(r,t);if(3!==n&&4!==n||(r.status=Be),1===n||3===n)return 0===e.avail_out&&(r.last_flush=-1),he;if(2===n&&(t===de?ae(r):t!==ue&&(ie(r,0,0,!1),t===ce&&(ke(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),Ye(e),0===e.avail_out))return r.last_flush=-1,he}return t!==le?he:r.wrap<=0?pe:(2===r.wrap?(Xe(r,255&e.adler),Xe(r,e.adler>>8&255),Xe(r,e.adler>>16&255),Xe(r,e.adler>>24&255),Xe(r,255&e.total_in),Xe(r,e.total_in>>8&255),Xe(r,e.total_in>>16&255),Xe(r,e.total_in>>24&255)):(Oe(r,e.adler>>>16),Oe(r,65535&e.adler)),Ye(e),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?he:pe)},deflateEnd:e=>{if(!e||!e.state)return fe;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==ze&&t!==Se&&t!==Be?Ze(e,fe):(e.state=null,t===Se?Ze(e,ge):he)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return fe;const i=e.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return fe;if(1===r&&(e.adler=Q(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===r&&(ke(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Ae(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do{i.ins_h=Ie(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++}while(--t);i.strstart=e,i.lookahead=2,Ae(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,i.wrap=r,he},deflateInfo:"pako deflate (from Nodeca project)"};const Je=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Qe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)Je(n,t)&&(e[t]=n[t])}}return e},qe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,i=0,r=e.length;t<r;t++){let r=e[t];n.set(r,i),i+=r.length}return n};let $e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){$e=!1}const et=new Uint8Array(256);for(let e=0;e<256;e++)et[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;et[254]=et[254]=1;var tt=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,i,r,o,a=e.length,s=0;for(r=0;r<a;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,r=0;o<s;r++)n=e.charCodeAt(r),55296==(64512&n)&&r+1<a&&(i=e.charCodeAt(r+1),56320==(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},nt=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let i,r;const o=new Array(2*n);for(r=0,i=0;i<n;){let t=e[i++];if(t<128){o[r++]=t;continue}let a=et[t];if(a>4)o[r++]=65533,i+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&i<n;)t=t<<6|63&e[i++],a--;a>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&$e)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n})(o,r)},it=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+et[e[n]]>t?n:t};var rt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const ot=Object.prototype.toString,{Z_NO_FLUSH:at,Z_SYNC_FLUSH:st,Z_FULL_FLUSH:dt,Z_FINISH:ct,Z_OK:lt,Z_STREAM_END:ut,Z_DEFAULT_COMPRESSION:ht,Z_DEFAULT_STRATEGY:pt,Z_DEFLATED:ft}=te;function gt(e){this.options=Qe({level:ht,method:ft,chunkSize:16384,windowBits:15,memLevel:8,strategy:pt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;let n=Ge.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==lt)throw new Error(ee[n]);if(t.header&&Ge.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?tt(t.dictionary):"[object ArrayBuffer]"===ot.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ge.deflateSetDictionary(this.strm,e),n!==lt)throw new Error(ee[n]);this._dict_set=!0}}function mt(e,t){const n=new gt(t);if(n.push(e,!0),n.err)throw n.msg||ee[n.err];return n.result}gt.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?ct:at,"string"==typeof e?n.input=tt(e):"[object ArrayBuffer]"===ot.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(o===st||o===dt)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(r=Ge.deflate(n,o),r===ut)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=Ge.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===lt;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},gt.prototype.onData=function(e){this.chunks.push(e)},gt.prototype.onEnd=function(e){e===lt&&(this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var wt={Deflate:gt,deflate:mt,deflateRaw:function(e,t){return(t=t||{}).raw=!0,mt(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,mt(e,t)},constants:te};var bt=function(e,t){let n,i,r,o,a,s,d,c,l,u,h,p,f,g,m,w,b,v,M,y,_,D,E,T;const N=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),r=e.next_out,T=e.output,o=r-(t-e.avail_out),a=r+(e.avail_out-257),s=N.dmax,d=N.wsize,c=N.whave,l=N.wnext,u=N.window,h=N.hold,p=N.bits,f=N.lencode,g=N.distcode,m=(1<<N.lenbits)-1,w=(1<<N.distbits)-1;e:do{p<15&&(h+=E[n++]<<p,p+=8,h+=E[n++]<<p,p+=8),b=f[h&m];t:for(;;){if(v=b>>>24,h>>>=v,p-=v,v=b>>>16&255,0===v)T[r++]=65535&b;else{if(!(16&v)){if(0==(64&v)){b=f[(65535&b)+(h&(1<<v)-1)];continue t}if(32&v){N.mode=12;break e}e.msg="invalid literal/length code",N.mode=30;break e}M=65535&b,v&=15,v&&(p<v&&(h+=E[n++]<<p,p+=8),M+=h&(1<<v)-1,h>>>=v,p-=v),p<15&&(h+=E[n++]<<p,p+=8,h+=E[n++]<<p,p+=8),b=g[h&w];n:for(;;){if(v=b>>>24,h>>>=v,p-=v,v=b>>>16&255,!(16&v)){if(0==(64&v)){b=g[(65535&b)+(h&(1<<v)-1)];continue n}e.msg="invalid distance code",N.mode=30;break e}if(y=65535&b,v&=15,p<v&&(h+=E[n++]<<p,p+=8,p<v&&(h+=E[n++]<<p,p+=8)),y+=h&(1<<v)-1,y>s){e.msg="invalid distance too far back",N.mode=30;break e}if(h>>>=v,p-=v,v=r-o,y>v){if(v=y-v,v>c&&N.sane){e.msg="invalid distance too far back",N.mode=30;break e}if(_=0,D=u,0===l){if(_+=d-v,v<M){M-=v;do{T[r++]=u[_++]}while(--v);_=r-y,D=T}}else if(l<v){if(_+=d+l-v,v-=l,v<M){M-=v;do{T[r++]=u[_++]}while(--v);if(_=0,l<M){v=l,M-=v;do{T[r++]=u[_++]}while(--v);_=r-y,D=T}}}else if(_+=l-v,v<M){M-=v;do{T[r++]=u[_++]}while(--v);_=r-y,D=T}for(;M>2;)T[r++]=D[_++],T[r++]=D[_++],T[r++]=D[_++],M-=3;M&&(T[r++]=D[_++],M>1&&(T[r++]=D[_++]))}else{_=r-y;do{T[r++]=T[_++],T[r++]=T[_++],T[r++]=T[_++],M-=3}while(M>2);M&&(T[r++]=T[_++],M>1&&(T[r++]=T[_++]))}break}}break}}while(n<i&&r<a);M=p>>3,n-=M,p-=M<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=r,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=r<a?a-r+257:257-(r-a),N.hold=h,N.bits=p};const vt=15,Mt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_t=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Dt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Et=(e,t,n,i,r,o,a,s)=>{const d=s.bits;let c,l,u,h,p,f,g=0,m=0,w=0,b=0,v=0,M=0,y=0,_=0,D=0,E=0,T=null,N=0;const z=new Uint16Array(16),S=new Uint16Array(16);let B,Z,x,k=null,I=0;for(g=0;g<=vt;g++)z[g]=0;for(m=0;m<i;m++)z[t[n+m]]++;for(v=d,b=vt;b>=1&&0===z[b];b--);if(v>b&&(v=b),0===b)return r[o++]=20971520,r[o++]=20971520,s.bits=1,0;for(w=1;w<b&&0===z[w];w++);for(v<w&&(v=w),_=1,g=1;g<=vt;g++)if(_<<=1,_-=z[g],_<0)return-1;if(_>0&&(0===e||1!==b))return-1;for(S[1]=0,g=1;g<vt;g++)S[g+1]=S[g]+z[g];for(m=0;m<i;m++)0!==t[n+m]&&(a[S[t[n+m]]++]=m);if(0===e?(T=k=a,f=19):1===e?(T=Mt,N-=257,k=yt,I-=257,f=256):(T=_t,k=Dt,f=-1),E=0,m=0,g=w,p=o,M=v,y=0,u=-1,D=1<<v,h=D-1,1===e&&D>852||2===e&&D>592)return 1;for(;;){B=g-y,a[m]<f?(Z=0,x=a[m]):a[m]>f?(Z=k[I+a[m]],x=T[N+a[m]]):(Z=96,x=0),c=1<<g-y,l=1<<M,w=l;do{l-=c,r[p+(E>>y)+l]=B<<24|Z<<16|x|0}while(0!==l);for(c=1<<g-1;E&c;)c>>=1;if(0!==c?(E&=c-1,E+=c):E=0,m++,0==--z[g]){if(g===b)break;g=t[n+a[m]]}if(g>v&&(E&h)!==u){for(0===y&&(y=v),p+=w,M=g-y,_=1<<M;M+y<b&&(_-=z[M+y],!(_<=0));)M++,_<<=1;if(D+=1<<M,1===e&&D>852||2===e&&D>592)return 1;u=E&h,r[u]=v<<24|M<<16|p-o|0}}return 0!==E&&(r[p+E]=g-y<<24|64<<16|0),s.bits=v,0};const{Z_FINISH:Tt,Z_BLOCK:Nt,Z_TREES:zt,Z_OK:St,Z_STREAM_END:Bt,Z_NEED_DICT:Zt,Z_STREAM_ERROR:xt,Z_DATA_ERROR:kt,Z_MEM_ERROR:It,Z_BUF_ERROR:Yt,Z_DEFLATED:Ht}=te,Xt=12,Ot=30,Rt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Ct(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const At=e=>{if(!e||!e.state)return xt;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,St},Wt=e=>{if(!e||!e.state)return xt;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,At(e)},Ft=(e,t)=>{let n;if(!e||!e.state)return xt;const i=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?xt:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,Wt(e))},Ut=(e,t)=>{if(!e)return xt;const n=new Ct;e.state=n,n.window=null;const i=Ft(e,t);return i!==St&&(e.state=null),i};let Vt,jt,Lt=!0;const Pt=e=>{if(Lt){Vt=new Int32Array(512),jt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Et(1,e.lens,0,288,Vt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Et(2,e.lens,0,32,jt,0,e.work,{bits:5}),Lt=!1}e.lencode=Vt,e.lenbits=9,e.distcode=jt,e.distbits=5},Kt=(e,t,n,i)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),i>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>i&&(r=i),o.window.set(t.subarray(n-i,n-i+r),o.wnext),(i-=r)?(o.window.set(t.subarray(n-i,n),0),o.wnext=i,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var Gt={inflateReset:Wt,inflateReset2:Ft,inflateResetKeep:At,inflateInit:e=>Ut(e,15),inflateInit2:Ut,inflate:(e,t)=>{let n,i,r,o,a,s,d,c,l,u,h,p,f,g,m,w,b,v,M,y,_,D,E=0;const T=new Uint8Array(4);let N,z;const S=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return xt;n=e.state,n.mode===Xt&&(n.mode=13),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,u=s,h=d,D=St;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Ot;break}if((15&c)!==Ht){e.msg="unknown compression method",n.mode=Ot;break}if(c>>>=4,l-=4,_=8+(15&c),0===n.wbits)n.wbits=_;else if(_>n.wbits){e.msg="invalid window size",n.mode=Ot;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Xt,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Ht){e.msg="unknown compression method",n.mode=Ot;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Ot;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=$(n.check,T,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(T[0]=255&c,T[1]=c>>>8&255,n.check=$(n.check,T,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p=n.length,p>s&&(p=s),p&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(o,o+p),_)),512&n.flags&&(n.check=$(n.check,i,p,o)),s-=p,o+=p,n.length-=p),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;p=0;do{_=i[o+p++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&p<s);if(512&n.flags&&(n.check=$(n.check,i,p,o)),s-=p,o+=p,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;p=0;do{_=i[o+p++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&p<s);if(512&n.flags&&(n.check=$(n.check,i,p,o)),s-=p,o+=p,_)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Ot;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Xt;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}e.adler=n.check=Rt(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Zt;e.adler=n.check=1,n.mode=Xt;case Xt:if(t===Nt||t===zt)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=14;break;case 1:if(Pt(n),n.mode=20,t===zt){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=Ot}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Ot;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===zt)break e;case 15:n.mode=16;case 16:if(p=n.length,p){if(p>s&&(p=s),p>d&&(p=d),0===p)break e;r.set(i.subarray(o,o+p),a),s-=p,o+=p,d-=p,a+=p,n.length-=p;break}n.mode=Xt;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Ot;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.lens[S[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[S[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,N={bits:n.lenbits},D=Et(0,n.lens,0,19,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid code lengths set",n.mode=Ot;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;E=n.lencode[c&(1<<n.lenbits)-1],m=E>>>24,w=E>>>16&255,b=65535&E,!(m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(b<16)c>>>=m,l-=m,n.lens[n.have++]=b;else{if(16===b){for(z=m+2;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Ot;break}_=n.lens[n.have-1],p=3+(3&c),c>>>=2,l-=2}else if(17===b){for(z=m+3;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=m,l-=m,_=0,p=3+(7&c),c>>>=3,l-=3}else{for(z=m+7;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=m,l-=m,_=0,p=11+(127&c),c>>>=7,l-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Ot;break}for(;p--;)n.lens[n.have++]=_}}if(n.mode===Ot)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Ot;break}if(n.lenbits=9,N={bits:n.lenbits},D=Et(1,n.lens,0,n.nlen,n.lencode,0,n.work,N),n.lenbits=N.bits,D){e.msg="invalid literal/lengths set",n.mode=Ot;break}if(n.distbits=6,n.distcode=n.distdyn,N={bits:n.distbits},D=Et(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,N),n.distbits=N.bits,D){e.msg="invalid distances set",n.mode=Ot;break}if(n.mode=20,t===zt)break e;case 20:n.mode=21;case 21:if(s>=6&&d>=258){e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,bt(e,h),a=e.next_out,r=e.output,d=e.avail_out,o=e.next_in,i=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Xt&&(n.back=-1);break}for(n.back=0;E=n.lencode[c&(1<<n.lenbits)-1],m=E>>>24,w=E>>>16&255,b=65535&E,!(m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(w&&0==(240&w)){for(v=m,M=w,y=b;E=n.lencode[y+((c&(1<<v+M)-1)>>v)],m=E>>>24,w=E>>>16&255,b=65535&E,!(v+m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,n.length=b,0===w){n.mode=26;break}if(32&w){n.back=-1,n.mode=Xt;break}if(64&w){e.msg="invalid literal/length code",n.mode=Ot;break}n.extra=15&w,n.mode=22;case 22:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;E=n.distcode[c&(1<<n.distbits)-1],m=E>>>24,w=E>>>16&255,b=65535&E,!(m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(0==(240&w)){for(v=m,M=w,y=b;E=n.distcode[y+((c&(1<<v+M)-1)>>v)],m=E>>>24,w=E>>>16&255,b=65535&E,!(v+m<=l);){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=Ot;break}n.offset=b,n.extra=15&w,n.mode=24;case 24:if(n.extra){for(z=n.extra;l<z;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Ot;break}n.mode=25;case 25:if(0===d)break e;if(p=h-d,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Ot;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=r,f=a-n.offset,p=n.length;p>d&&(p=d),d-=p,n.length-=p;do{r[a++]=g[f++]}while(--p);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;r[a++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=i[o++]<<l,l+=8}if(h-=d,e.total_out+=h,n.total+=h,h&&(e.adler=n.check=n.flags?$(n.check,r,h,a-h):Q(n.check,r,h,a-h)),h=d,(n.flags?c:Rt(c))!==n.check){e.msg="incorrect data check",n.mode=Ot;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=i[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Ot;break}c=0,l=0}n.mode=29;case 29:D=Bt;break e;case Ot:D=kt;break e;case 31:return It;default:return xt}return e.next_out=a,e.avail_out=d,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Ot&&(n.mode<27||t!==Tt))&&Kt(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,n.total+=h,n.wrap&&h&&(e.adler=n.check=n.flags?$(n.check,r,h,e.next_out-h):Q(n.check,r,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Xt?128:0)+(20===n.mode||15===n.mode?256:0),(0===u&&0===h||t===Tt)&&D===St&&(D=Yt),D},inflateEnd:e=>{if(!e||!e.state)return xt;let t=e.state;return t.window&&(t.window=null),e.state=null,St},inflateGetHeader:(e,t)=>{if(!e||!e.state)return xt;const n=e.state;return 0==(2&n.wrap)?xt:(n.head=t,t.done=!1,St)},inflateSetDictionary:(e,t)=>{const n=t.length;let i,r,o;return e&&e.state?(i=e.state,0!==i.wrap&&11!==i.mode?xt:11===i.mode&&(r=1,r=Q(r,t,n,0),r!==i.check)?kt:(o=Kt(e,t,n,n),o?(i.mode=31,It):(i.havedict=1,St))):xt},inflateInfo:"pako inflate (from Nodeca project)"};var Jt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Qt=Object.prototype.toString,{Z_NO_FLUSH:qt,Z_FINISH:$t,Z_OK:en,Z_STREAM_END:tn,Z_NEED_DICT:nn,Z_STREAM_ERROR:rn,Z_DATA_ERROR:on,Z_MEM_ERROR:an}=te;function sn(e){this.options=Qe({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rt,this.strm.avail_out=0;let n=Gt.inflateInit2(this.strm,t.windowBits);if(n!==en)throw new Error(ee[n]);if(this.header=new Jt,Gt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=tt(t.dictionary):"[object ArrayBuffer]"===Qt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Gt.inflateSetDictionary(this.strm,t.dictionary),n!==en)))throw new Error(ee[n])}function dn(e,t){const n=new sn(t);if(n.push(e),n.err)throw n.msg||ee[n.err];return n.result}sn.prototype.push=function(e,t){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?$t:qt,"[object ArrayBuffer]"===Qt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),o=Gt.inflate(n,a),o===nn&&r&&(o=Gt.inflateSetDictionary(n,r),o===en?o=Gt.inflate(n,a):o===on&&(o=nn));n.avail_in>0&&o===tn&&n.state.wrap>0&&0!==e[n.next_in];)Gt.inflateReset(n),o=Gt.inflate(n,a);switch(o){case rn:case on:case nn:case an:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===tn))if("string"===this.options.to){let e=it(n.output,n.next_out),t=n.next_out-e,r=nt(n.output,e);n.next_out=t,n.avail_out=i-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(r)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==en||0!==s){if(o===tn)return o=Gt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},sn.prototype.onData=function(e){this.chunks.push(e)},sn.prototype.onEnd=function(e){e===en&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=qe(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var cn={Inflate:sn,inflate:dn,inflateRaw:function(e,t){return(t=t||{}).raw=!0,dn(e,t)},ungzip:dn,constants:te};const{Deflate:ln,deflate:un,deflateRaw:hn,gzip:pn}=wt,{Inflate:fn,inflate:gn,inflateRaw:mn,ungzip:wn}=cn;var bn={Deflate:ln,deflate:un,deflateRaw:hn,gzip:pn,Inflate:fn,inflate:gn,inflateRaw:mn,ungzip:wn,constants:te};const vn=new o.Z({prefix:"utf8: "});const Mn=function(e){try{if(window.TextEncoder)return new window.TextEncoder("utf-8").encode(e).buffer}catch(e){vn.debugf(null,"TextEncoder %o",e)}for(var t=unescape(encodeURIComponent(e)),n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n.buffer},yn=function(e){try{if(window.TextDecoder)return new window.TextDecoder("utf-8").decode(new Uint8Array(e))}catch(e){vn.debugf(null,"TextDecoder %o",e)}for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return decodeURIComponent(escape(t))};var _n=__webpack_require__(616),Dn=new function(){var e="pid",t="nr",o=h(8,10);const a=_n.topmostAccessibleWindow.location.href;var s=n.Z.upoSettings.recoveryScriptVersion;let d;try{d=_n.topmostAccessibleWindow.__bt_intrnl.traceID}catch(e){d=""}var l=function(e,t){""==e&&(e="/");var n=e,i="?";(t=t||{}).upapi=["true"],t.tid=[d],t.cv=[s];for(var r=Object.keys(t),o=0;o<r.length;o++)for(var a=r[o],c=t[a],l=0;l<c.length;l++){var u=c[l];n+=i+encodeURIComponent(a)+"="+encodeURIComponent(u),i="&"}return n};this.sendLog=function(e){const t=n.Z.SharedObject.getItem("websiteConfig")||{},{organizationID:i,websiteID:r}=t,o={event:e.event,severity:e.severity,error:e.error&&{name:e.error.name,stack:e.error.stack,sourceFilename:e.error.sourceFilename},message:e.message,columnNumber:e.columnNumber,lineNumber:e.lineNumber,filename:e.filename,module:e.module,orgID:i,websiteID:r,meta:{...e.meta||{},pageURL:a}};var s={method:"POST",url:l("/log"),body:Mn(JSON.stringify(o))};return c.$fetch(s)},this.testCompliance=function(e){return new Promise((function(t,n){var i={};i.pid=[o],i.nr=["2"];var r=e,a=l("/tc",i),s=JSON.stringify(e);try{s&&s.length>=2048&&window.localStorage&&!window.localStorage.updebug?(r=bn.deflate(s).buffer,i.z=[1],a=l("/tc",i)):r=Mn(s)}catch(e){r=Mn(s)}var d={method:"POST",url:a,body:r};c.$fetch(d).then((function(e){var n=JSON.parse(yn(e.body)),i={};for(var r in n)n.hasOwnProperty(r)&&(i[r]={status:n[r].status,id:n[r].id,backup:n[r].backup});t(i)}),(function(e){n(new Error)}))}))},this.reportAuctionStarted=function(n,r,s,d,u,h,p,f){const g={[e]:[o],[t]:["1"]},m={websiteID:h,orgID:p,auctionID:n,spaceExternalID:r,spaceName:s,refreshDepth:f,pageURL:a};m.bids=u.map((e=>({bidderExternalID:e.bidderId,provider:e.provider}))),d&&(m.gamAdUnitPath=d),i.Y.fireEvent("auctionStartChangeRequestData",{query:g,body:m});const w={method:"POST",url:l("/as",g),body:Mn(JSON.stringify(m))};return c.$fetch(w)},this.reportAuctionEnd=function(n,r,s,d,u,h,p,f,g,m){const w={[e]:[o],seid:[p],[t]:["1"]},b={...h,websiteID:d,orgID:u,auctionID:n,spaceExternalID:r,spaceName:s,dfpAdUnit:p,adUnitCode:p,gamEnabled:g,refreshDepth:m,pageURL:a};f&&(b.gamAdUnitPath=f),i.Y.fireEvent("auctionEndChangeRequestData",{query:w,body:b});const v={method:"POST",url:l("/ae",w),body:Mn(JSON.stringify(b))};return c.$fetch(v)},this.reportRender=function(e,n,i,r,o,s,d,u,h,p,f){const g={[t]:["1"]},m={websiteID:h,orgID:p,auctionID:e,spaceExternalID:s,spaceName:d,bidderExternalID:n,...i,refreshDepth:f,pageURL:a,amount:r,currency:o};u&&(m.gamAdUnitPath=u);const w={method:"POST",url:l("/r",g),body:Mn(JSON.stringify(m))};return c.$fetch(w)},this.reportView=function(e,n,i,r,o,s,d,u,h){const p={[t]:["1"]},f={websiteID:d,orgID:u,auctionID:e,spaceExternalID:r,spaceName:o,bidderExternalID:n,...i,refreshDepth:h,pageURL:a};s&&(f.gamAdUnitPath=s);const g={method:"POST",url:l("/v",p),body:Mn(JSON.stringify(f))};return c.$fetch(g)},this.consentData=function(e){const t={},i={},d=[10,13,25,28,32,52,69,76,91,755],u={consents:{}},h=e.tcData,p=e.error,f=n.Z.SharedObject.getItem("websiteConfig")||{},{organizationID:g,websiteID:m}=f;g&&(t.organizationID=parseInt(g)),m&&(t.websiteID=parseInt(m)),t.pageID=o,t.clientVersion=s,h?(i.cmpVersion=h.cmpVersion,i.gdprApplies=h.gdprApplies,i.tcfPolicyVersion=h.tcfPolicyVersion,i.tcString=h.tcString,h.gdprApplies&&(i.purpose=h.purpose,d.forEach((e=>u.consents[e]=h.vendor.consents[e])),i.vendor=u)):(i.gdprApplies=null,i.error=r.Z.commonUtils.truncateString(p.message,1024)),t.tcData=i,t.pageURL=a;var w={method:"POST",url:l("/ce"),body:Mn(JSON.stringify(t))};return c.$fetch(w)}};const En=new o.Z({prefix:"report: "});var Tn=new function(){function e(e){const t={};return"relay"===e.bidderCode?(t.provider=n.Z.consts.btDemand.relay,t.demandBidder=e.rawBid.btBidderCode):"s2s"===e.rawBid.source?(t.provider=n.Z.consts.btDemand.snigel,t.demandBidder=e.bidderCode):t.provider=e.bidderCode,t}this.init=function(){const t=n.Z.SharedObject.getItem("websiteConfig");i.Y.addEventListener("FirePublisherEvent",(function(e){const{data:t}=e,{eventName:n}=t,i=t.payload||{bubbles:!1,cancelable:!1,detail:void 0};if(window.CustomEvent)try{const e=new window.CustomEvent(n,i);return void window.dispatchEvent(e)}catch(e){const t=document.createEvent("CustomEvent");return t.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),void window.dispatchEvent(t)}const r=document.createEvent("CustomEvent");r.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),window.dispatchEvent(r)})),i.Y.addEventListener("sendLog",(function(e){const t=e.data;Dn.sendLog(t).then((function(e){En.infof(null,"sendLog - %o",e)}),(function(e){En.errorf(null,"sendLog - %o",e)}))})),i.Y.addEventListener("onAuctionStarted",(function(e){var n,i;const r=e.data.auction,o=r.auctionId,a=r.unit.space.id,s=r.unit.space.templateSpaceName||r.unit.space.name,d=r.unit.gamAdUnitPath,c=null!==(n=null===(i=r.unit.space.prebidSettings)||void 0===i?void 0:i.bidders)&&void 0!==n?n:[],l=r.unit.space.dfpSettings,u=c.map((e=>({bidderId:e.id,provider:e.name})));l&&(l.adxId&&u.push({bidderId:l.adxId,provider:"gad"}),l.directId&&u.push({bidderId:l.directId,provider:"direct"})),Dn.reportAuctionStarted(o,a,s,d,u,t.websiteID,t.organizationID,r.unit.countOfDispatches-1).then((function(e){En.infof(null,"onAuctionStarted - %o",e)}),(function(e){En.errorf(null,"onAuctionStarted - %o",e)}))})),i.Y.addEventListener("onAuctionEnded",(function(r){const o=r.data,a=o.auction,s=o.bid,d=a.bids,c=a.unit.space.templateSpaceName||a.unit.space.name,l=a.unit.gamAdUnitPath;let u=a.unit.space.name;const h="default-creative"===s.bidder&&s.disableAuctionEventLogging;try{if(t.dfpEnabled){const e=window.googletag.pubads().getSlots();for(let t=0;t<e.length;t++){const n=e[t],i=n.getSlotElementId();if(document.getElementById(i)===a.unit.element){u=n.getAdUnitPath().split("/")[n.getAdUnitPath().split("/").length-1];break}}}}catch(e){En.errorf(null,"onAuctionEnded: %o",e)}const p={bids:[],aliens:[],win:void 0};for(let t=0;t<d.length;t++){var f;const r=d[t],o={bid:{cpm:r.cpm,bidderCode:r.bidderCode,complianceStatus:r.complianceStatus}},a=i.Y.fireEvent("bidCpmAdjustment",o)||1,c=r.cpm/1e3*a,l=n.Z.upoSettings.prebidTimeout,h={bidderExternalID:r.bidderId,...e(r),amount:c,complianceStatus:r.complianceStatus,timeout:l,latency:r.timeToRespond,requestStatus:"OK",creativeID:r.contentIdHash,adUnit:u,adSize:String(r.width)+"x"+String(r.height),adID:r.adId,currency:r.currency,gamIteration:r.gamIteration};if(null!==(f=r.additionalBidsToRender[0])&&void 0!==f&&f.prebidTemplateType&&(h.prebidTemplateType=r.additionalBidsToRender[0].prebidTemplateType),r!==s)switch(h.complianceStatus){case n.Z.consts.complianceStatus.COMPLIANT:case n.Z.consts.complianceStatus.INCOMPLIANT:p.bids.push(h);break;default:p.aliens.push(h)}else p.win=h}if(h){const e={sendToServer:!0,event:"Default Creative",meta:{adUnitCode:u,aliens:p.aliens,auctionID:a.auctionId,bids:p.bids,dfpAdUnit:u,gamEnabled:t.dfpEnabled,orgID:t.organizationID,pageURL:_n.topmostAccessibleWindow.location.href,refreshDepth:a.unit.countOfDispatches-1,spaceExternalID:a.unit.space.id,spaceName:c,websiteID:t.websiteID,win:p.win}};En.infof(null,"Default Creative, auction ID -> ",a.auctionId||"N/A",e)}else Dn.reportAuctionEnd(a.auctionId,a.unit.space.id,c,t.websiteID,t.organizationID,p,u,l,t.dfpEnabled,a.unit.countOfDispatches-1).then((function(e){En.infof(null,"onAuctionEnded - %o",e)}),(function(e){En.errorf(null,"onAuctionEnded - %o",e)}))})),i.Y.addEventListener("onAuctionRendered",(function(n){const r=n.data,o=r.auction,a=r.bid,s=o.unit.space.templateSpaceName||o.unit.space.name;if(!("default-creative"===a.bidder&&a.disableAuctionEventLogging)){const n={bid:{cpm:a.cpm,bidderCode:a.bidderCode,complianceStatus:a.complianceStatus}},r=i.Y.fireEvent("bidCpmAdjustment",n)||1,d=a.cpm/1e3*r;Dn.reportRender(o.auctionId,a.bidderId,e(a),d,a.currency,o.unit.space.id,s,o.unit.gamAdUnitPath,t.websiteID,t.organizationID,o.unit.countOfDispatches-1).then((function(e){En.infof(null,"onAuctionRendered - %o",e)}),(function(e){En.errorf(null,"onAuctionRendered - %o",e)}))}})),i.Y.addEventListener("onAdViewed",(function(n){const i=n.data,r=i.auction,o=i.bid,a=r.unit.space.templateSpaceName||r.unit.space.name;"default-creative"===o.bidder&&o.disableAuctionEventLogging||Dn.reportView(r.auctionId,o.bidderId,e(o),r.unit.space.id,a,r.unit.gamAdUnitPath,t.websiteID,t.organizationID,r.unit.countOfDispatches-1).then((function(e){En.infof(null,"onAdViewed - %o",e)}),(function(e){En.errorf(null,"onAdViewed - %o",e)}))}))},i.Y.addEventListener("consentData",(function(e){const t=e.data;Dn.consentData(t).then((function(e){En.infof(null,"consentData - %o",e)}),(function(e){En.errorf(null,"consentData - %o",e)}))}))};const Nn=new o.Z({prefix:"verifications: "});const zn={Report:Tn,Verifications:new function(){this.run=function(){r(),e()};var e=function(){i.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var t=i.Y.fireEvent("acceptableAbTest");if(t){var n="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";t&&(n=t.src);var r=new Image;r.addEventListener("load",(function(){t.callback(!0)}),!1),r.addEventListener("error",(function(){t.callback(!1)}),!1),r.src=n}}))},t=!1,r=function(){i.Y.addEventListener("getRestrictionSettingsEnded",(function(e){var r=e.data;r.contentRestriction&&r.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push((function(){window.pbjs.onEvent("bidResponse",(function(e){if(!t&&e&&e.length>0)for(var r=0;r<e.length;r++)if(e[r].cpm>0&&"emx_digital"!==e[r].bidder&&"districtmDMX"!==e[r].bidder){t=!0,i.Y.fireEvent("disableStopFlag")||(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag=!0);var o=n.Z.SharedObject.getItem("renderedUnits"),a={adBlockDetectionType:n.Z.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!o||0==o.length};const e={sendToServer:!0,event:"pbjsDetected",meta:a,sendPercentage:1};Nn.noticef(null,"pub's pbjs was detected -> ",a,e)}if(e){var s={cpm:e.cpm?e.cpm:0,creativeLength:e.ad?e.ad.length:0,bidderCode:e.bidderCode||"",adUnitCode:e.adUnitCode||""};const t={sendToServer:!0,event:"pbjsBidReceived",meta:s};Nn.noticef(null,"pub's pbjs bid was received -> ",s,t)}}))})))}))}}};var Sn=__webpack_require__(17);function Bn(e){for(var t=e.length,n=5381,i=52711;t--;){var r=e.charCodeAt(t);n=33*n^r,i=33*i^r}return 4096*(n>>>0)+(i>>>0)}const Zn=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"bidder_";const r=i+Bn(e+"_".concat(t,"_")+JSON.stringify(n).trim());return r.substr(0,500)};function xn(){return i.Y.hasEventListener("enableRelayAdapter")||i.Y.hasEventListener("snigelAdapterConfiguration")||i.Y.hasEventListener("addBTDemand")}function kn(e){const{relayBidderParams:t}=i.Y.fireEvent("enableRelayAdapter",{spaceName:e.name})||{},n=e.prebidSettings.bidders.find((e=>"relay"===e.name));if(t&&!n){const n={name:"relay",id:Zn(e.id,"relay",t,Sn.v.btDemand.btDemandPrefix),params:t};e.prebidSettings.bidders.push(n),e.prebidSettings.enabled=!0}}function In(e){const{adUnitStoredRequestId:t}=i.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.name})||{};if(t){const n={name:Sn.v.btDemand.snigel,id:Zn(e.id,"snigel",t,Sn.v.btDemand.btDemandPrefix)};e.prebidSettings.bidders.push(n),e.prebidSettings.enabled=!0}}function Yn(e){const t=i.Y.fireEvent("addBTDemand",{space:e});if(t)for(const n in t)if(t.hasOwnProperty(n)){e.prebidSettings.bidders.find((e=>e.name===n))||(e.prebidSettings.bidders.push({name:n,id:Zn(e.id,n,e,Sn.v.btDemand.btDemandPrefix),params:t[n]}),e.prebidSettings.enabled=!0)}}var Hn=__webpack_require__(586),Xn=__webpack_require__(536);const On=new o.Z({prefix:"moveElementPosition: "});var Rn=new function(){var e=[],t=[];this.setMovePositionRules=function(t){e=t||[]},this.dispatch=function(i){try{if(!e||e.length<=0)return;if(!(i=i.filter((e=>t.indexOf(e)<0)))||i.length<=0)return;var r=function(o,a){if(!(o>a)){for(var s=0;s<i.length;s++){for(var d=i[s],c=[],l=0;l<e.length;l++){var u=e[l];n(u,{space:d})&&(t.push(d),u.stayLive||c.push(u))}e=c.length>0?e.filter((e=>c.indexOf(e)<0)):e}e.length>0&&setTimeout((function(){r(o+1,a)}),100)}};r(0,20)}catch(e){On.errorf(null,"error in `movePositionService` `dispatch` function: %o",e)}};var n=function(e,t){var n=e.elementToMove(t),i=e.relativeElement(t);return!(!n||!i||n.__upo_moved)&&(r.Z.ElementInsertion.insertElement(n,i,e.htmlElementInsertionType),n.__upo_moved=!0,!0)}},Cn=__webpack_require__(143),An=__webpack_require__(905);const Wn=new o.Z({prefix:"whitelistingIFrame: "});const Fn="BT_WHITELISTING_IFRAME_ACCESS";function Un(){if("firefox"===(0,An.Xh)())return Promise.resolve(Cn.W)}function Vn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn.I.whitelistingIFrameSettings.publisherDomainWhitelistingIFrameCandidates,t=Un();if(!t){const n=i.Y.fireEvent("customWhitelistingIFrameURL"),r=i.Y.fireEvent("keepBTDomainWhitelistingIFrame");t=n?Promise.resolve(n):r?Promise.resolve(null):jn(e,0)}return t.then((e=>{Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL=e||Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL,Wn.infof(null,"Finished setupWhitelistingIFrameSettings: %o",Cn.I.whitelistingIFrameSettings)})),t}function jn(e,t){const n=e[t];return n?new Promise((i=>{const o=n.src,a=n.acceptHTMLType,s=r.Z.addAcceptableParam(o),d=new window.XMLHttpRequest;d.open("GET",s),d.addEventListener("load",(n=>{try{if(!d.status.toString().startsWith("4")&&d.responseURL==="".concat(_n.topmostAccessibleWindow.location.origin).concat(s)&&function(e){const t=e.getResponseHeader("x-frame-options");if(t&&"deny"===t.toLowerCase())return!1;const n=e.getResponseHeader("content-security-policy"),i=n&&n.split(","),r=i&&i.find((e=>e.startsWith("frame-ancestors")))&&r.split(" ");return!(r&&!r.some((e=>e===_n.topmostAccessibleWindow.location.origin)))}(d)&&(a||!(0,_n.isFileHTML)(d)))return void function(e){try{let t=_n.topmostAccessibleWindow.localStorage.getItem(Fn);if(t=t&&JSON.parse(t),t&&void 0!==t.canAccess&&t.expiration&&t.url&&t.version&&Date.now()<t.expiration&&t.url===e&&"1"===t.version)return Promise.resolve(t.canAccess)}catch(e){Wn.noticef(null,"whitelisting flawed cached value structure")}return new Promise((t=>{const n=document.createElement("iframe");n.src=e;const i=()=>{n.removeEventListener("load",i);let r=!1;n.contentDocument&&(r=!0),t(r);const o={canAccess:r,url:e,expiration:Date.now()+6048e5,version:"1"};_n.topmostAccessibleWindow.localStorage.setItem(Fn,JSON.stringify(o)),n.parentElement.removeChild(n)};n.addEventListener("load",i),n.style.setProperty("visibility","hidden"),document.body.appendChild(n)}))}(s).then((e=>{i(e?s:null)}));jn(e,t+1).then((e=>i(e)))}catch(n){jn(e,t+1).then((e=>i(e)))}})),d.addEventListener("error",(n=>{jn(e,t+1).then((e=>i(e)))})),d.send()})):Promise.resolve(null)}function Ln(e){const t=!!e,n=e||Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL,i=n===Cn.W;var r=document.createElement("iframe"),o=function(){if(this.removeEventListener("load",o),i||t||this.contentDocument||(Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL=Cn.W,_n.topmostAccessibleWindow.localStorage.removeItem(Fn),this.src=Cn.I.whitelistingIFrameSettings.defaultWhitelistingIFrameURL),n.includes("about:blank"))try{!function(e){var t=e.contentWindow,n=function(e){return 0===e.indexOf("//")&&(e=_n.topmostAccessibleWindow.location.protocol+e),e};const i=function(e,t){if(e&&""===e.src&&e.outerHTML){const i=new RegExp(t+'="([^"]+)"',"g").exec(e.outerHTML);i&&i[1]&&(e[t]=n(i[1]))}};var r=t.XMLHttpRequest.prototype.open;t.XMLHttpRequest.prototype.open=function(){try{var e=Array.prototype.slice.call(arguments);e[1]=n(e[1])}catch(e){Wn.errorf(null,"error in XHRHttpRequest.open hook: %o",e)}return r.apply(this,e)};var o=t.open;t.open=function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Wn.errorf(null,"error in `window.open` hook: %o",e)}return o.apply(this,e)};const a=function(e){return function(){try{var t=Array.prototype.slice.call(arguments);["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&i(t[0],"src"),"LINK"===t[0].tagName&&i(t[0],"href")}catch(e){Wn.errorf(null,"error in `hookOnFunc`: %o",e)}return e.apply(this,t)}},s=t.HTMLElement.prototype.insertBefore;t.HTMLElement.prototype.insertBefore=a(s);const d=t.HTMLElement.prototype.appendChild;t.HTMLElement.prototype.appendChild=a(d);var c=t.HTMLElement.prototype.__lookupGetter__("innerHTML"),l=t.HTMLElement.prototype.__lookupSetter__("innerHTML");t.HTMLElement.prototype.__defineSetter__("innerHTML",(function(){try{var e=Array.prototype.slice.call(arguments),t=l.apply(this,e),n=this.firstChild;i(n,"src")}catch(e){Wn.errorf(null,'error in HTMLElement "innerHTML" property setter hook: %o',e)}return t})),t.HTMLElement.prototype.__defineGetter__("innerHTML",(function(){try{return c.apply(this)}catch(e){Wn.errorf(null,'error in HTMLElement "innerHTML" property getter hook: %o',e)}}));for(var u=Sn.v.htmlElements,h=0;h<u.length;h++)t[u[h]]&&function(e){var t=e.prototype,i="src",r=t.__lookupGetter__(i),o=t.__lookupSetter__(i);r&&(t.__defineSetter__(i,(function(){try{var e=Array.prototype.slice.call(arguments);e[0]=n(e[0])}catch(e){Wn.errorf(null,'error in <html> "src" attribute setter hook: %o',e)}return o.apply(this,e)})),t.__defineGetter__(i,(function(){try{return r.apply(this)}catch(e){Wn.errorf(null,'error in <html> "src" attribute getter hook: %o',e)}})))}(t[u[h]])}(this)}catch(e){Wn.errorf(null,"error calling `addAboutBlankHooks` in `createWhitelistingIFrame`: %o",e)}};return r.addEventListener("load",o),r.src=n,r}const Pn={btDemandService:e,commonBLUtils:Hn,movePositionService:Rn,whitelistingIFrame:t},Kn=new o.Z({prefix:"utils: "});function Gn(e,t){if(i.Y.fireEvent("omitBTAdLabel",{unit:e}))return;const{element:n}=e,r=n.querySelector(".default-creative-container")||n.querySelector(".ahover")||n.querySelector('[id^="google_ads_iframe_"]'),o="upo-label",a=!(!r||!r.querySelector(".".concat(o)));if(!r||a)return;const s=function(e,t,n){const i=document.createElement("div");return i.className=e,i.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;cursor:pointer;"),window.setTimeout((function(){i.style.opacity="1"}),2e3),i.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>',i.addEventListener("click",(()=>{if(!document.getElementById("bt_blocklist-confirmation_".concat(i.parentElement.parentElement.id))){const e=document.createElement("div");e.setAttribute("id","bt_blocklist-confirmation_".concat(i.parentElement.parentElement.id)),e.setAttribute("style","left:50%;top:50%;transform: translate(-50%, -50%);position:absolute;background:rgba(255, 255, 255, 0.9);height:fit-content;width:fit-content;border-radius:5px 5px 5px 5px;padding:8px;line-height:normal !important;");const r=document.createElement("p");r.innerHTML="Report this ad as animated",r.setAttribute("style","text-align:center;font-size:14px;font-family:sans-serif;color:#444;"),e.appendChild(r);const o=document.createElement("button");o.classList.add("bt_blocklist_cancel_btn"),o.setAttribute("style","font-size:12px;padding:1px;float:right;font-family:sans-serif;cursor:pointer;"),o.innerHTML="Cancel",o.addEventListener("click",(e=>i.parentElement.removeChild(e.target.parentElement))),e.appendChild(o);const a=document.createElement("button");a.classList.add("bt_blocklist_confirmation_btn"),a.setAttribute("style","font-size:12px;margin-right:2px;padding:1px;float:right;font-family:sans-serif;cursor:pointer;"),a.innerHTML="Confirm",a.addEventListener("click",(e=>{const r=document.querySelector('[src="'.concat(Cn.W,'"][style*="display: none !important;"]'));i.parentElement.removeChild(e.target.parentElement),t.element.classList.add("up-hide"),t.element.classList.remove("up-show");const o=n.contentIdHash||n.creativeId;if(!o){const e={sendPercentage:100,sendToServer:!0,meta:{SSP:n.bidder},event:"Blocked creative without id"};Kn.errorf(null,"Blocked creative without contentIdHash or creativeId from %o",[n.bidder],e)}if(r&&o){const e=n.contentIdHash?"contentIdHash":"creativeId";r.contentWindow.postMessage({message:"Set Blocklist Creative",creativeId:o},"https://".concat(Cn.I.staticDomain));const t={sendPercentage:100,sendToServer:!0,meta:{creativeId:o,idType:e},event:"Blocked animated creative"};Kn.infof(null,"Blocked animated creative with %o %o",[e,o],t)}})),e.appendChild(a),i.parentElement.appendChild(e)}})),i}(o,e,t);r.appendChild(s),e.adLabelElement=s}const Jn=new o.Z({prefix:"auction: "});var Qn=function(e){var t=!1,o=new r.Z.SubscriptionLayer;this.auctionId=h(8,9),this.unit=e.unit,this.state=Qn.States.UNOFFERED,this.creationTime=new Date,this.lastUpdate=this.creationTime,this.bids=[],this.subscribeForEvent=function(e,t){o.subscribeForEvent(e,t)},this.cancelAuction=function(){t=!0,a(this)},this.getWinningBid=function(){for(var e=void 0,t=0;t<this.bids.length;t++){var i=this.bids[t];(!e||i.cpm>e.cpm)&&i.complianceStatus===n.Z.consts.complianceStatus.COMPLIANT&&(e=i)}return e},this.addBids=function(e){if(e)for(var t=0;t<e.length;t++){var n=e[t];this.bids.push(n)}};this.getComplianceBids=function(){for(var e=[],t=0;t<this.bids.length;t++){var i=this.bids[t];i.complianceStatus===n.Z.consts.complianceStatus.COMPLIANT&&e.push(i)}return e},this.renderWinningBid=function(){var e=this.getWinningBid();this.renderBid(e)};var a=function(e){e.bids.forEach((e=>{e.cancelBid()}))};function s(e){return new Promise(((t,n)=>{window.setTimeout((function(){try{e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","block","important"),t()}catch(e){n(e)}}),1e3)}))}this.renderBid=function(e){try{if(i.Y.fireEvent("renderBidInElementStarted",{element:this.unit&&this.unit.element}),this.state=Qn.States.DONE,function(){if(!document.getElementById("bt-render-styles")){var e=document.createElement("style");e.id="bt-render-styles",e.type="text/css",e.textContent=".up-hide { display: none !important; }",e.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }',(document.head||document.body||document.documentElement).appendChild(e)}}(),function(e,t){for(var n=0;n<e.bids.length;n++){var i=e.bids[n];i!==t&&i.cancelBid()}}(this,e),!e||t||!r.Z.commonUtils.isElementInBody(this.unit.element))return this.unit.currentBid||((c=this.unit).element.classList.add("up-hide"),c.element.classList.remove("up-show")),e&&e.cancelBid(),void o.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});{this.unit.cleanup(),d(this.unit.element),function(e,t){e.element.classList.add("up-show"),e.element.classList.remove("up-hide")}(this.unit),this.unit.element._adData_=e,e.onRenderedEvent(function(){!function(e,t,n){var i=e.querySelector(".default-creative-container")||e.querySelector(".ahover")||e.querySelector('[id^="google_ads_iframe_"]');i.style.position||i.style.setProperty("position","relative");if(i.style.setProperty("width","max-content","important"),["sharethrough","triplelift"].indexOf(t.bidderCode)>=0){var r=t.width,o=function(e){var t=e.sizes,n=0;return Xn.Z.forEach(t,(function(e){var t=e.split("x")[0];(t=parseInt(t))>n&&(n=t)})),n}(n);(r>o||r<120)&&(r=o),i.style.setProperty("max-width",r+"px","important")}i.style.setProperty("z-index",0),i.style.setProperty("margin","0 auto"),i.style.setProperty("display","block")}(this.unit.element,e,this.unit.space),Gn(this.unit,e),function(e){return new Promise(((t,n)=>{try{if(i.Y.fireEvent("skipEnsureElementVisibility",{unit:e}))t();else{const i=e.element;i.classList.contains("up-show")||i.classList.add("up-show"),Promise.all([s(i),s(i.parentElement),s(i.parentElement.parentElement)]).then(t).catch(n)}}catch(e){n(e)}}))}(this.unit).then((()=>{!function(e){if(0===e.offsetWidth&&0===e.offsetHeight){const t={sendToServer:!0,sendPercentage:1,event:"ad-unit-hidden-by-css",meta:{elementId:e.id||"N/A"}};Jn.infof(null,"detectAndLogHiddenAdUnit, element ID -> ",e.id||"N/A",t)}}(this.unit.element)})).catch((e=>{Jn.errorf(null,"bid.onRenderedEvent: ensureElementVisibility/detectAndLogHiddenAdUnit: %o",e)})),o.invokeEventCallbacks("auctionRendered",e),this.unit.rendered(e),n.Z.SharedObject.getItem("renderedUnits")||n.Z.SharedObject.setItem("renderedUnits",[]),n.Z.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var a={placement:this.unit.element};const t=e.additionalBidsToRender&&e.additionalBidsToRender.length>0&&e.additionalBidsToRender[0];t?(t.onRenderedEvent((()=>e.renderBid(a))),t.renderBid()):e.renderBid(a),o.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!0})}}catch(e){Jn.errorf(null,"renderBid err:%o",e)}var c};var d=function(e){e.style.removeProperty("background-image"),e.style.removeProperty("background-repeat")}};Qn.States={UNOFFERED:0,DISPATCHED:1,DONE:3};var qn=function(e,t,n,i,r,o,a,s){this.bidId=h(16,24),this.ad=e.ad,this.adId=e.adId,this.adUrl=e.adUrl,this.bidderId=e.bidderId,this.bidder=e.bidder,this.bidderCode=e.bidderCode,this.contentIdHash=e.contentIdHash,this.currency=e.currency,this.creativeId=e.creativeId,this.c=e.c,this.cpm=e.cpm,this.complianceStatus=e.complianceStatus||0,this.disableAuctionEventLogging=e.disableAuctionEventLogging,this.height=e.height,this.isBackupCreative=e.isBackupCreative,this.timeToRespond=e.timeToRespond,this.size=e.size,this.width=e.width,this.rawBid=t,this.type=n,this.status=qn.Status.LIVE,this.additionalBidsToRender=[],this.renderBid=r,this.cancelBid=function(){this.status!==qn.Status.CANCELED&&(this.status=qn.Status.CANCELED,o&&o(),this.additionalBidsToRender.forEach((e=>e.cancelBid())))},this.getGPTTargeting=function(e){return i&&i.call(this,e)},this.onRenderedEvent=a||function(){},this.makeEntryForTestCompliance=s||function(){}};qn.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,DEFAULT_CREATIVE:9},qn.Status={LIVE:0,CANCELED:1},qn.PrebidTemplateTypes={RENDER_AD:"renderAd",APSTAG:"apstag",HB_ADID:"hb_adid",UC_TAG_DATA:"ucTagData",DISTRICTM_ADSLOT:"districtm_adslot"};var $n=function(e){this.unitID=h(16,24),this.element=e.element,this.space=e.space,this.state=e.state||$n.States.PENDING,this.gamAdUnitPath,this.currentBid,this.countOfDispatches=0,this.countOfRenders=0,this.lastInvokeTime,this.cleanup=function(){var e=this.element.children,n=[];for(let i=0;i<e.length;i++)n.push(t(e[i]));for(let e=0;e<n.length;e++)n[e]()},this.rendered=function(e){this.currentBid=e};var t=function(e){return function(){e&&e.parentNode&&e.parentNode.removeChild(e)}}};$n.States={PENDING:0,CHECKING:1,DISPATCHED:2};const ei={Auction:Qn,Bid:qn,Space:function(e){var t,n,r,o;if(this.id=e.id,this.name=e.name,this.templateSpaceName=e.templateSpaceName,this.staging=e.staging,this.deviceType=e.deviceType,this.selector={position:e.selector.position,value:e.selector.value},this.sizes=e.sizes,this.prebidSettings={enabled:null!==(t=null===(n=e.prebidSettings)||void 0===n?void 0:n.enabled)&&void 0!==t&&t,bidders:(null!==(r=null===(o=e.prebidSettings)||void 0===o?void 0:o.bidders)&&void 0!==r?r:[]).filter((e=>e.id&&e.name&&e.params)).map((e=>{let{name:t,id:n,params:i}=e;return{name:t,id:n,params:i}}))},kn(this),In(this),Yn(this),this.dfpSettings={enabled:!1},e.dfpSettings&&e.dfpSettings.enabled){this.dfpSettings={adxId:e.dfpSettings.adxId,directId:e.dfpSettings.directId,enabled:e.dfpSettings.enabled,order:[]};for(let t of e.dfpSettings.order)i.Y.fireEvent("removeAdServerRequestIteration",{iterationConfig:t})||this.dfpSettings.order.push({params:{keyValues:t.params.keyValues||{},queryParams:t.params.queryParams||{}},adx:{bidderID:t.adx.bidderID,testCompliance:t.adx.testCompliance},direct:{bidderID:t.direct.bidderID}})}},Unit:$n};function ti(e){const t=An.tq();switch(e){case"mobile":return t;case"desktop":return!t;default:return!0}}function ni(e){let{string:t,condition:n,candidates:i=[]}=e;if(1===i.length)switch(n){case"equals":case"equalsOneOf":return t===i[0];case"startsWith":case"endsWith":case"includes":return t[n](i[0]);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":{const e=n.split("OneOf")[0];return t[e](i[0])}}else if(i.length>1)switch(n){case"equalsOneOf":return i.includes(t);case"startsWithOneOf":case"endsWithOneOf":case"includesOneOf":{const e=n.split("OneOf")[0];return i.some((n=>t[e](n)))}}}const ii={addBTDemand:{hookName:"addBTDemand",handler:e=>{let{btDemandConfig:t={}}=e;return t}},enableAmazon:{hookName:"amazonBidderConfiguration",handler:e=>{let{amazonConfig:t={},pubID:n,keepHbPb:i=!1}=e;const{amazonCPMCurrency:r="USD",amazonCPMChart:o}=t;return window.upo_amzn={amazonCPMCurrency:r,amazonCPMChart:o},{pubID:n,keepHbPb:i}}},enableLegacySizesReplacer:{hookName:"enableLegacySizesReplacer",handler:e=>e},enableRelay:{hookName:"enableRelayAdapter",handler:e=>{let{relayConfig:t={},sid:n}=e;return{relayBidderParams:{...t},sid:n}}},enableSnigel:{hookName:"snigelAdapterConfiguration",handler:(e,t)=>{var n;let{snigelConfig:i={},websiteStoredRequestId:r}=e;const o=(null==t||null===(n=t.data)||void 0===n?void 0:n.spaceName)||"",a={websiteStoredRequestId:r,adUnitStoredRequestId:null};return a.adUnitStoredRequestId=i[o],a}},hideDOMElementsViaCSS:{parseSettingValue:e=>{const{org:t=[],website:n=[],websiteOverridesOrg:i}=e;return i?n:[...t,...n]},handler:e=>{const t=[];if(e.forEach((e=>{let{whenDevice:n,selectors:i}=e;ti(n)&&t.push(...i)})),t.length>0){const e=document.createElement("style");e.textContent="".concat(t.join(", ")," { display: none !important; }"),(document.head||document.body||document.documentElement).appendChild(e)}}},insertCustomCSS:{parseSettingValue:e=>{const{org:t=[],website:n=[],websiteOverridesOrg:i}=e;return i?n:[...t,...n]},handler:e=>{let t="";if(e.forEach((e=>{let{whenDevice:n,customCSS:i=""}=e;ti(n)&&(t="".concat(t,"\n").concat(i))})),""!==t){const e=document.createElement("style");e.textContent=t,(document.head||document.body||document.documentElement).appendChild(e)}}},prebidConfig:{hookName:"prebidDoneInit",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e;return i?n:{...t,...n}},handler:(e,t)=>{const n=e,i=t.data.cpbjs;i.que.push((function(){i.setConfig(n)}))}},prebidTimeout:{hookName:"prebidTimeout",handler:e=>e},priceFloor:{hookName:"priceFloor",handler:(e,t)=>{const n=t.data.cpbjs,{currency:i="USD",priceFloor:r}=e;r&&n.que.push((()=>{n.setConfig({floors:{enforcement:{floorDeals:!0},data:{currency:i,schema:{fields:["mediaType"]},values:{banner:r}}}})}))}},removeSizes:{hookName:"sizesToRemoveBySpace",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e,{forAllSpaces:r=[],forSpaces:o=[]}=t,{forAllSpaces:a=[],forSpaces:s=[]}=n;return{forAllSpaces:i?a:[...r,...a],forSpaces:i?s:[...o,...s]}},handler:(e,t)=>{let{forAllSpaces:n,forSpaces:i}=e;const r=t.data.spaceName,o=t.hookFileData||[],a=new Set(o);return n.forEach((e=>{let{whenDevice:t,sizes:n=[]}=e;ti(t)&&n.forEach((e=>{a.add(e)}))})),i.forEach((e=>{let{name:t,nameList:n,whenName:i,whenDevice:o,sizes:s=[]}=e;ti(o)&&ni({string:r,condition:i,candidates:t?[t]:n})&&s.forEach((e=>{a.add(e)}))})),[...a].map((e=>{if("fluid"===e)return"fluid";{let t,n;return"string"==typeof e?[t,n]=e.split("x").map((e=>parseInt(e,10))):"object"==typeof e&&(t=e.width,n=e.height),isNaN(t)||isNaN(n)?null:{width:t,height:n}}})).filter((e=>null!==e))}},rewriteGAMSlots:{hookName:"rewriteGAMSlots",handler:(e,t)=>{let n,{rewritePathMethod:i,rewritePathData:r}=e;switch(i){case"insertBTAdUnit":{const{btUnitName:e,insertionDepth:t,maxDepth:i}=r||{};t&&(n=n=>{let r=n.getAdUnitPath();"/"!==r[0]&&(r="/".concat(r));const o=e||"Blockthrough";let a=r.split("/");a.splice(t,0,o),i&&i>0&&(a=a.slice(0,i+1));return a.join("/")});break}}if(n)return{parseSlotAdUnitPath:n,shouldCopyTargeting:!0}}},scrapeGoogletagSlots:{hookName:"scrapeGoogletagSlots",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e;if(i)return n;{const e={},{slots:i}=t.filterOut||{},{slots:r}=n.filterOut||{};return(i||r)&&(e.filterOut={},e.filterOut.slots=i&&r?[...i,...r]:i||r),e}},handler:(e,t)=>{let{dontScrape:n,filterOut:i}=e;const r=t.data&&t.data.slot;let o=!0;if(n||!r)o=!1;else{const e=i&&i.slots;if(e&&e.length>0){o=!e.some((e=>{let{divId:t,divIdList:n,whenDivId:i,whenDevice:o}=e;return ti(o)&&ni({string:r.getSlotElementId(),condition:i,candidates:t?[t]:n})}))}}return o}},scrapePrebid:{hookName:"scrapePrebidAdUnits",parseSettingValue:e=>{const{org:t={},website:n={},websiteOverridesOrg:i}=e;if(i)return n;{const e={};e.adUnitsVar=t.adUnitsVar||n.adUnitsVar;const{removeBidders:i}=t.parse||{},{removeBidders:r}=n.parse||{};(i||r)&&(e.parse={},e.parse.removeBidders=i&&r?{forAllAdUnits:[...i.forAllAdUnits||[],...r.forAllAdUnits||[]],forAdUnits:[...i.forAdUnits||[],...r.forAdUnits||[]]}:i||r);const{adUnits:o}=t.filterOut||{},{adUnits:a}=n.filterOut||{};return(o||a)&&(e.filterOut={},e.filterOut.adUnits=o&&a?[...o,...a]:o||a),e}},handler:(e,t)=>{let n,{dontScrape:i,adUnitsVar:o,parse:a,filterOut:s}=e;if(i)n=!1;else{if(n=t.hookFileData||{},o&&(n.getAdUnits=()=>r.Z.commonUtils.extractVariableFromString(window,o)),a){const e=a.removeBidders?function(){let{forAllAdUnits:e=[],forAdUnits:t=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.length>0||t.length>0)return n=>{const i=[];return e.forEach((e=>{let{whenDevice:t,bidders:n=[]}=e;ti(t)&&i.push.apply(i,n)})),t.forEach((e=>{let{code:t,codeList:r,whenCode:o,whenDevice:a,bidders:s=[]}=e;const d=t?[t]:r;ti(a)&&ni({string:n.code,condition:o,candidates:d})&&i.push.apply(i,s)})),n.bids=n.bids.filter((e=>{let{bidder:t}=e;return!i.includes(t)})),n}}(a.removeBidders):null,t=n.parseAdUnit;e&&(n.parseAdUnit=t?n=>e(t(n)):e)}if(s){const e=s.adUnits?(d=s.adUnits,e=>d.some((t=>{let{code:n,codeList:i,whenCode:r,whenDevice:o}=t;return ti(o)&&ni({string:e.code,condition:r,candidates:n?[n]:i})}))):null,t=n.filterOutAdUnit;e&&(n.filterOutAdUnit=t?n=>t(n)||e(n):e)}}var d;return n}}},ri=new o.Z({prefix:"scriptsettings: "}),oi=ii,ai={"enableRelay":{"_enabled":true,"_overrides_org":true,"value":{"relayConfig":{"ix":{"siteId":"794496"},"pubmatic":{"publisherId":"160377"}},"sid":"5199505043488768"}},"insertCustomCSS__website":{"_enabled":true,"_overrides_org":false,"value":[{"customCSS":"#incontent_leaderboard {\n  display: inline-block !important\n}\n\n#bottom_leaderboard {\n  display: block !important\n}\n\n.rcs-container {\n  margin-top: 600px;\n  position: absolute;\n}","whenDevice":"any"}]}},si=Object.entries(ai).reduce(((e,t)=>{let[n,i]=t;if(i._enabled)if(n.endsWith("__org")){const t=n.split("__org")[0];e[t]=e[t]||{},e[t].org=i.value}else if(n.endsWith("__website")){const t=n.split("__website")[0];e[t]=e[t]||{},e[t].websiteOverridesOrg=!!i._overrides_org,e[t].website=i.value}else e[n]=i.value;return e}),{});const di={rawSettings:ai,parsed:si},ci=new o.Z({prefix:"domutils.location"});const li=new o.Z({prefix:"domutils.pageVisibility"});function ui(){try{let t;const n=r.Z.commonUtils.debounce((e=>{if("document.hidden"===e&&t)t=!1,window.dispatchEvent(new Event("onUserLeftPage"));else if("focus"===e){if(void 0===t)return void(t=!0);t||(t=!0,dispatchEvent(new Event("onUserReturnedToPage")))}}),420);document.addEventListener("visibilitychange",(()=>{document.hidden&&n("document.hidden")})),e=()=>{n("focus")},window.addEventListener("focus",(function(t){e()}))}catch(e){li.errorf(null,"setupPageVisibilityChangeEvents - error: %o",e)}var e}function hi(e){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)e();else{var t=!1;document.addEventListener("DOMContentLoaded",(function(){t||(t=!0,e())}),!1),window.addEventListener("load",(function(){t||(t=!0,e())}))}}function pi(e){window.addEventListener("scroll",(function(t){e()}))}const fi=new o.Z({prefix:"Hooks: "});var gi=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var e=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(t,n,r,o,a){var s=t[n];s&&(t[n]=function(){var t=Array.prototype.slice.call(arguments);if(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return s.apply(this,t);if(r)try{const e=i.Y.fireEvent(r,t,this);if(null!=e)return e}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}const n=s.apply(this,t);if(o)try{i.Y.fireEvent(o,n,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return n})},this.hookPropertySetter=function(t,n,r,o,a){var s=t.__lookupGetter__(n),d=t.__lookupSetter__(n);s&&(t.__defineSetter__(n,(function(){var t=Array.prototype.slice.call(arguments);if(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return d.apply(this,t);if(r)try{const e=i.Y.fireEvent(r,t,this);if(null!=e)return e}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}const n=d.apply(this,t);if(o)try{i.Y.fireEvent(o,n,this)}catch(t){if(!a)throw t;if(e.indexOf(t.type)>=0)throw t}return n})),t.__defineGetter__(n,(function(){try{return s.apply(this)}catch(e){fi.errorf(null,"error in `hookPropertySetter` object getter hook: %o",e)}})))},this.addEventListener=function(e,t){i.Y.addEventListener(e,t)}};const mi=new o.Z({prefix:"testCompliance: "});var wi=new function(){this.init=function(){i.Y.addEventListener("onAuctionGroupStarted",(function(e){mi.infof(null,"onAuctionGroupStarted: %o",e)})),i.Y.addEventListener("onAuctionGroupEnded",(function(e){mi.infof(null,"onAuctionGroupEnded: %o",e)})),i.Y.addEventListener("onAuctionStarted",(function(e){mi.infof(null,"onAuctionStarted: %o",e)})),i.Y.addEventListener("onAuctionEnded",(function(e){mi.infof(null,"onAuctionEnded: %o",e)})),i.Y.addEventListener("onPrebiddingStarted",(function(e){mi.infof(null,"onPrebiddingStarted: %o",e)})),i.Y.addEventListener("onPrebiddingEnded",(function(e){mi.infof(null,"onPrebiddingEnded: %o",e)})),i.Y.addEventListener("onPostbiddingStarted",(function(e){mi.infof(null,"onPostbiddingStarted: %o",e)})),i.Y.addEventListener("onPostbiddingEnded",(function(e){mi.infof(null,"onPostbiddingEnded: %o",e)})),i.Y.addEventListener("onAuctionBidResponse",(function(e){mi.infof(null,"onAuctionBidResponse: %o",e)})),i.Y.addEventListener("onNewUnitFound",(function(e){mi.infof(null,"onNewUnitFound: %o",e)}))}},bi=__webpack_require__(96),vi=__webpack_require__.n(bi);const Mi=function(e){return e.filter(((t,n)=>{const i=JSON.stringify(t);return n===e.findIndex((e=>JSON.stringify(e)===i))}))},yi=new o.Z({prefix:"adUnitParser: "});function _i(e,t,n){var i=window.googletag.defineSlot(e,t,n);return i&&i.addService(window.googletag.pubads()),i}function Di(e){if(e){var t=i.Y.fireEvent("rewriteGAMSlots")||i.Y.fireEvent("GAMSpecialAdUnit");if(t&&t.parseSlotAdUnitPath&&!e._is_rewritten_slot){var n=e.getSlotElementId(),r=e.getSizes();r=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];i&&i.getWidth&&i.getHeight?t.push([i.getWidth(),i.getHeight()]):i&&"fluid"===i&&t.push("fluid")}return t}(r);try{var o=t.parseSlotAdUnitPath(e);if(t.shouldSkipDestroySlot&&t.shouldSkipDestroySlot(e,o)||function(e){var t=e.getSlotElementId();window.googletag.destroySlots([e]);const n=document.getElementById(t),i=n&&n.querySelector("div[id^='google_ads_iframe_']");n&&i&&n.removeChild(i)}(e),!o)return;var a=_i(o,r,n);return a&&(a._is_rewritten_slot=!0,t.shouldCopyTargeting&&function(e,t){var n=e.getTargetingMap();for(var i in n)if(n.hasOwnProperty(i)){var r=n[i][0];t.setTargeting(i,r)}}(e,a),t.postSlotCreation&&t.postSlotCreation(a)),a}catch(e){yi.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",e)}}}}const Ei=new function(){let e=[];const t={},n={};this.set=function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=i;Array.isArray(r)||(r=[r]);for(let i=0;i<r.length;i++){const o=r[i],a=!o.deviceType||o.deviceType===An.yC||o.deviceType===An.l7();o&&a&&(e.push(o),t[o.name]=t[o.name]||[],t[o.name].push(o),n[o.id]=n[o.id]||[],n[o.id].push(o))}return e},this.getSpacesByName=function(e){return t[e]||[]},this.getSpacesByID=function(e){return n[e]||[]},this.getAll=()=>e,this.remove=function(i){e=e.filter((e=>e!=i));const r=n[i.id].indexOf(i);r>=0&&n[i.id].splice(r,1);const o=t[i.name].indexOf(i);o>=0&&t[i.name].splice(o,1)}},Ti=new o.Z({prefix:"visibility: "});var Ni=new Map,zi=new Map;function Si(e){const t=e.getBoundingClientRect(),n=function(){let e,t,n=window,i=[];for(;n!==window.top;){e=n.parent;for(let r of e.document.getElementsByTagName("iframe"))r.contentWindow===n&&(t=r.getBoundingClientRect(),i.push({x:t.x,y:t.y}));n=e}return i.reduce(((e,t)=>({x:e.x+t.x,y:e.y+t.y})),{x:0,y:0})}();try{return window.top.document.hasFocus()&&t.top+t.height/2+n.y>0&&t.left+t.width/2+n.x>0&&t.top+t.height/2+n.y<(window.top.innerHeight||window.top.document.documentElement.clientHeight)&&t.left+t.width/2+n.x<(window.top.innerWidth||window.top.document.documentElement.clientWidth)}catch(e){Ii(e)}}async function Bi(e,t,n){const i=await Zi((()=>Si(e)?{stopIterations:!1}:{stopIterations:!0}),10,100);r.Z.commonUtils.isElementInBody(e)||n(),i&&t()}async function Zi(e,t,n){if(!t)return!0;const{stopIterations:i}=e();return!i&&new Promise((i=>{setTimeout((()=>{i(Zi(e,t-1,n))}),n)}))}function xi(){Ni.forEach(((e,t)=>{let[n,i]=e;Bi(t,n,i)}))}try{window.top.addEventListener("scroll",(()=>{xi()})),window.top.addEventListener("focus",(()=>{xi()}))}catch(Ze){Ii(Ze)}function ki(e){let t,{selector:i,id:r,element:o,useIABDefinition:a}=e;if(!o)try{if(i)o=document.querySelector(i);else{if(!r)throw new Error("No selector, id, or element provided.");o=document.getElementById(r)}if(!o)throw new Error("Could not find element on page with id/selector provided.")}catch(e){return Ti.warningf(null,"getElementVisibility - selector: `%o`, id: `%o` - error: %o",[i,r,e]),n.Z.consts.elementVisibility.NOT_FOUND}if(a)t=Si(o)?n.Z.consts.elementVisibility.VISIBLE:n.Z.consts.elementVisibility.HIDDEN;else{let e,i,r;"none"===window.getComputedStyle(o).display&&(i=o.style.getPropertyValue("display"),r=o.style.getPropertyPriority("display"),o.style.setProperty("display","block","important"),e=!0);const a=function(e){var t,n;if(e)return(n=e.getBoundingClientRect()).width||n.height?(t=document.documentElement,{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}):n}(o),s=document.documentElement.scrollLeft||window.scrollX,d=document.documentElement.scrollTop||window.scrollY,c=window.innerHeight,l=window.innerWidth,u=o.offsetHeight,h=o.offsetWidth;t=a.left>=s&&a.top>=d&&h+a.left<=s+l&&u+a.top<=d+c||(a.left<=s&&a.left+h>s||a.left>=s&&a.left<=s+l)&&(a.top<=d&&a.top+u>d||a.top>=d&&a.top<=d+c)?n.Z.consts.elementVisibility.VISIBLE:n.Z.consts.elementVisibility.HIDDEN,e&&o.style.setProperty("display",i,r)}return t}function Ii(e){const t={sendToServer:!0,event:"noViewabilityFromCrossDomainIframe",sendPercentage:1,meta:{error:e}};Ti.warningf(null,"noViewabilityFromCrossDomainIframe","N/A",t)}const Yi=new o.Z({prefix:"prebidAdapter: "});var Hi=new function(){var e=!1,t={},o={},a=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(e,t){a.subscribeForEvent(e,t)},this.dispatch=function(r){try{e||(e=!0,t=n.Z.cpbjs,m(),i.Y.fireEvent("wrapPrebidRequestBids")&&b());var o={};Xn.Z.forEach(r,(function(e){o[e.spaceName]={hbAdUnit:e,deferred:new Xn.Z.CDefer}}));var d=function(e){return e.map((e=>{const{websiteStoredRequestId:t,adUnitStoredRequestId:n}=i.Y.fireEvent("snigelAdapterConfiguration",{spaceName:e.spaceName})||{},r=c(e),o=[];e.biddersSettings.forEach((e=>{const t={bidder:e.name,params:e.params};o.push(t)}));const a={code:e.spaceName,bids:o,sizes:r,mediaTypes:{banner:{sizes:r}}};return t&&n&&(a.ortb2Imp={ext:{prebid:{storedrequest:{id:n}}}}),a}))}(r);s(),function(e,t){for(let n=0;n<e.length;n++){let i=t.find((t=>t.code===e[n].spaceName)),r=[];i.bids.forEach((e=>{r.push(e.bidder)}));const o={sendToServer:!0,sendPercentage:1,event:"prebid-size-filtering",meta:{spaceName:e[n].spaceName,auctionId:e[n].auctionId,sizesBeforeFiltering:e[n].sizes,sizesAfterFiltering:i.sizes,biddersNames:r}};Yi.infof(null,"logAdUnitSizesPrebid, spaceName -> ",e[n].spaceName,o)}}(r,d),t.requestBids({adUnits:d,bidsBackHandler:function(e){try{for(var t in o)if(o.hasOwnProperty(t)){var n=o[t],i=n.hbAdUnit;if(e){var r=e[t],s=[];if(r){var c=Xn.Z.find(d,(function(e){return e.code===t})).sizes;r.bids=h(r.bids,c),s=p(r.bids,n.hbAdUnit)}var l={auctionId:i.auctionId,bids:s};n.deferred.resolve(l),Xn.Z.forEach(s,(function(e){var t={auctionId:i.auctionId,bid:e};a.invokeEventCallbacks("bidReceived",t)}))}else{var u={auctionId:i.auctionId,bids:[]};n.deferred.resolve(u)}}}catch(e){Yi.errorf(null,"dispatch: bidsBackHandler: - %o",e)}}});var l=[];for(var u in o)if(o.hasOwnProperty(u)){var f=o[u];l.push(f.deferred.promise)}return l}catch(e){Yi.errorf(null,"dispatch: - %o",e)}};var s=function(){if(t.bidderSettings&&t.bidderSettings.standard&&t.bidderSettings.standard.adserverTargeting){var e=!!Xn.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb_org"===e.key})),n=!!Xn.Z.find(t.bidderSettings.standard.adserverTargeting,(function(e){return"hb_pb"===e.key}));!e&&n&&t.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(e){var n=t.getConfig().priceGranularity;return"auto"===n?e.pbAg:"dense"===n?e.pbDg:"low"===n?e.pbLg:"medium"===n?e.pbMg:"high"===n?e.pbHg:"custom"===n?e.pbCg:e.pbHg}})}},d=function(e){var t=e.split("x");if(2!==t.length)throw new Error;var n=parseInt(t[0]),i=parseInt(t[1]);if(isNaN(n)||isNaN(i))throw new Error;return{width:n,height:i}},c=function(e){for(var t=[],n=0;n<e.sizes.length;n++){var o=d(e.sizes[n]),a=o.width,s=o.height;t.push({width:a,height:s})}var c=i.Y.fireEvent("sizesToReplaceBySpace",{spaceName:e.spaceName});c&&(t=Xn.Z.map(t,(function(e){var t=Xn.Z.find(c,(function(t){return t.size.width===e.width&&t.size.height===e.height}));return t?{width:t.replacement.width,height:t.replacement.height}:e})));const l=googletag&&googletag.pubads&&googletag.pubads().getSlots()||[],u=e.element&&e.element.getAttribute("id")||e.spaceName,h=l.find((e=>e.getSlotElementId()===u));var p=i.Y.fireEvent("sizesToRemoveBySpace",{spaceName:e.spaceName,slot:h});p&&(t=t.filter((e=>!p.some((t=>t.width===e.width&&t.height===e.height)))));var f=r.Z.sizesRemover(e.element,t);return f=f.filter((e=>!!e)),f=Xn.Z.map(f,(function(e){return[e.width,e.height]}))};var l=function(e,t){if(e.ad&&e.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))>-1&&e.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))>-1){var i=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");e.ad.indexOf("<body>")>-1?e.ad=e.ad.replace("<body>",i):e.ad=i+e.ad}"amazon"===e.bidder&&(e=function(e){try{var t=JSON.parse(e.adTargeting);for(var i in t.amzniid=e.adId,t)e.adserverTargeting[i]=t[i];e.ad=e.adHtml;try{!n.Z.upoSettings.amazonBidderConfiguration.keepHbPb&&delete e.adserverTargeting.hb_pb}catch(e){Yi.errorf(null,"changeAmazonBid - deleting hb_pb - %o",e)}delete e.adUrl}catch(e){Yi.errorf(null,"changeAmazonBid - %o",e)}return e}(e)),e.bidder&&"smartadserver"===e.bidder&&(e.bidder="smart"),e.btBidderCode&&"index"===e.btBidderCode&&(e.btBidderCode="ix"),e.bidder&&("triplelift"===e.bidder&&e.ad&&e.ad.indexOf("render_options_bm")>-1||"sharethrough"===e.bidder)&&(e.width=u(t)),e.ad&&e.cpm&&e.ad.replace(/\$\{AUCTION_PRICE\}/g,e.cpm),e.ad&&e.currency&&e.ad.replace(/\$\{AUCTION_CURRENCY\}/g,e.currency)},u=function(e){for(var t=c(e),n=0,i=0;i<t.length;i++){var r=t[i][0];r>n&&(n=r)}return n};const h=(e,t)=>e.filter((e=>t.some((t=>e.width===t[0]&&e.height===t[1]))));var p=function(e,a){var s=Xn.Z.map(e,(function(e){if(e.bidderId=function(e,t){const i=t.biddersSettings.find((t=>{const i="s2s"===e.source?n.Z.consts.btDemand.snigel:e.bidderCode;return t.name===i}));if(i)return i.id}(e,a),e.bidderId){l(e,a),o[e.adId]=new Xn.Z.CDefer;var r={ad:e.ad,adId:e.adId,adUrl:e.adUrl,bidderId:e.bidderId,bidder:e.bidder,bidderCode:e.bidderCode,currency:e.currency,creativeId:g(e),cpm:e.cpm,complianceStatus:0,height:e.height,timeToRespond:e.timeToRespond,size:e.size,width:e.width},s=new ei.Bid(r,e,ei.Bid.Types.PREBID,(function(n){var r=n.complianceBidsInAuction.length>0?Xn.Z.map(n.complianceBidsInAuction,(function(e){return e.rawBid&&e.rawBid})):void 0,o=e.adUnitCode,a=t.getAdserverTargeting(o,r)[o];return""===a.hb_pb&&a.hb_pb_org&&(a.hb_pb=a.hb_pb_org),a=i.Y.fireEvent("customAdserverTargeting",{adServerTargeting:a})||a}),(function(e){try{w(this);var t=e.placement;v(t,this)}catch(e){Yi.errorf(null,"renderBid - %o",e)}}),void 0,function(e){this.renderedDeferred.promise.then((function(){e()}))}.bind({renderedDeferred:o[e.adId]}),(function(){return f(this)}));return s}Yi.errorf(null,"dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",[a,e])}));return s.filter((e=>!r.Z.commonUtils.isNil(e)))};var f=function(e){var t={bidderExternalID:e.bidderId,markup:e.ad,url:e.adUrl,hint:{provider:e.bidderCode,uid:e.creativeId},width:parseInt(e.width),height:parseInt(e.height)};if("underdogmedia"===e.bidderCode&&(t.hintID=t.hintID+"_"+e.width+"_"+e.height),"gumgum"===e.bidderCode&&e.creative&&(t.markup=e.creative),"komoona"===e.bidderCode)try{var n=0,i=JSON.parse(unescape(e.ad.split('"creative_data":"')[1].split('","')[0]));for(var r in i.hdbd_data.hbbids){var o=i.hdbd_data.hbbids[r];o.cpm>n&&(n=o.cpm,t.markup=o.creative_data.creative)}}catch(e){Yi.errorf(null,'innerMakeEntryForTestCompliance - handling "komoona" bid - %o',e)}return e.ad&&e.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")>-1&&(t.url="https://googleads.g.doubleclick.net/pagead/adfetch"+e.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],t.markup=""),t},g=function(e){return"komoona"===e.bidder||"criteo"===e.bidder||"consumable"===e.bidder?null:e.c?String(e.c):e.adid&&"0"!==e.adid?String(e.adid):e.crid&&"0"!==e.crid?String(e.crid):e.creativeId&&"0"!==e.creativeId?String(e.creativeId):e.creative_id&&"0"!==e.creative_id?String(e.creative_id):null},m=function(){t.onEvent("bidWon",(function(e){o[e.adId].resolve()}))},w=function(e){var t=e.rawBid;t&&t.bidder&&(i.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:t}}),i.Y.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:t}}))},b=function(){var e=window.pbjs||window.jitaJS;if(e&&e.requestBids){var t=e.requestBids;e.requestBids=function(e){for(var n=[],r=e&&e.adUnits,o=0;o<r.length;o++)n.push(r[o].code);if(a.invokeEventCallbacks("refresh",n),!i.Y.fireEvent("skipOriginalRequestBidsFunction"))return t.apply(this,arguments)}}},v=function(e,n){var i=y(),r=i.container,o=i.iframe,a=function(){try{o.removeEventListener("load",a);var e=o.src===Cn.W;o.style.setProperty("visibility",""),e||(o.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var i=!e&&o.contentWindow.document,r=An.Xh();"sharethrough"===n.bidder&&window.setTimeout((function(){for(var e=document.querySelectorAll(".str-thumbnail"),t=0;t<e.length;t++){var n=e[t].style.backgroundImage;!n||-1!==n.indexOf("upapi")||-1!==n.indexOf("criteo.net")||-1!==n.indexOf("imgix.net")&&-1!==n.indexOf(".gif")?n.indexOf("imgix.net")>-1&&n.indexOf(".gif")>-1&&(n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&adunit=true")'):e[t].style.backgroundImage=n.replace('")','?adunit=true")')):n.indexOf("?")>-1?e[t].style.backgroundImage=n.replace('")','&upapi=true")'):e[t].style.backgroundImage=n.replace('")','?upapi=true")')}}),3e3),"edge"===r&&(n.rawBid.ad=n.rawBid.ad.replace(/\.html[?#]/,".html?upapi=true&"),n.rawBid.ad=n.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout((function(){if(e){o.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},"*")}else try{for(var t=i.styleSheets,n=0;n<t.length;n++)t[n].cssText&&t[n].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")>-1&&(t[n].cssText="")}catch(e){Yi.errorf(null,"innerRenderBid - `onLoad` Edge browser patch - %o",e)}}),3e3)),window.setTimeout((function(){var a="edge"===r||"ie"===r;if(a||M(n,o,e),e){var s='window.parent.postMessage(JSON.stringify({ adId: "'+n.adId+'", message: "Prebid Request" }), "*");';o.contentWindow.postMessage({type:"eval",code:s},"*")}else t.renderAd(i,n.adId);a&&M(n,o,e)}),0),o.style.width=n.width+"px",o.style.height=n.height+"px"}catch(e){Yi.errorf(null,"renderBid - %o",e)}};o.addEventListener("load",a),e.insertBefore(r,e.children[0])};function M(e,t,i){if(!1!==e.isBackupCreative)if(i)t.contentWindow.postMessage({type:"eval",code:n.Z.backupCreativeScriptForPostMessage},"*");else try{t.contentWindow.eval(atob(n.Z.backupCreativeScript))}catch(e){Yi.errorf(null,"evalBackupCreativeScript: - %o",e)}}var y=function(){var e=document.createElement("div");e.className="ahover";var t=Pn.whitelistingIFrame.createWhitelistingIFrame();return t.style.width="1px",t.style.height="1px",t.style.border="0px",t.setAttribute("marginwidth","0"),t.setAttribute("marginheight","0"),t.scrolling="no",e.appendChild(t),{container:e,iframe:t}}};const Xi=new o.Z({prefix:"testCompliance: "});var Oi=!1;try{Oi=_n.topmostAccessibleWindow.location.href&&_n.topmostAccessibleWindow.location.href.indexOf("bt_tc=false")>=0||"false"===_n.topmostAccessibleWindow.localStorage.getItem("bt_tc")}catch(Ze){Xi.errorf(null,"testComplianceDisabled: %o",Ze)}function Ri(e,t){return r.Z.sizeValidation.isUnacceptable(e.unit.element,{width:t.width,height:t.height})}function Ci(e,t,n,i){const r={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:i,auctionID:t,bidderID:n.bidderId}};Xi.noticef(null,e,n,r)}function Ai(e,t){var r;let o=n.Z.consts.complianceStatus.UNKNOWN;const a=i.Y.fireEvent("customComplianceCheck",{bid:e}),s=e.contentIdHash||e.creativeId;return null!==(r=n.Z.SharedObject.getItem("creativesIdBlocklist"))&&void 0!==r&&r.includes(s)?o=n.Z.consts.complianceStatus.INCOMPLIANT:Oi?(o=n.Z.consts.complianceStatus.COMPLIANT,Xi.debugf(null,"compliance is disabled for the current bid: ",e)):a?(o=a,Ci("custom hook file tc check: ",t.auctionId,e,"custom_hook_file_tc_check")):Ri(t,e)&&(o=n.Z.consts.complianceStatus.INCOMPLIANT,Ci("bid with unacceptance size: ",t.auctionId,e,"bid_with_unacceptance_size")),o}function Wi(e){var t={},i={};const r=n.Z.SharedObject.getItem("websiteConfig"),o=r.websiteID,a=r.organizationID;var s={};if(Xn.Z.forEach(e,(function(e){var r=e.auction,o=e.bids;s[r.auctionId]=s[r.auctionId]||{};for(var a=0;a<o.length;a++){var d=o[a];const e=Ai(d,r);if(e==n.Z.consts.complianceStatus.UNKNOWN){s[r.auctionId][d.bidId]={bid:d,result:{}};var c=d.makeEntryForTestCompliance();c.auctionID=r.auctionId,c.spaceExternalID=r.unit.space.id,c.spaceName=r.unit.space.name,c.refreshDepth=r.unit.countOfDispatches-1;var l=parseFloat(d.cpm);c.cpm=isNaN(l)?0:l,Fi(c);var u=h(5,8);t[u]=c,i[u]=d}else s[r.auctionId][d.bidId]={bid:d,result:{status:e,backup:!1}}}})),Object.keys(t).length<=0){for(var d in s)if(s.hasOwnProperty(d)){var c=s[d];for(var l in c)if(c.hasOwnProperty(l)){var u=c[l];s[d][l]=u.result}}return Promise.resolve(s)}let p;try{p=(new Intl.DateTimeFormat).resolvedOptions()}catch(e){p={locale:void 0,timeZone:void 0}}const f={domain:_n.topmostAccessibleWindow.location.host,websiteID:o,orgID:a,bids:t,locale:p.locale,timezone:p.timeZone,pageURL:_n.topmostAccessibleWindow.location.href};return Dn.testCompliance(f).then((function(e){for(var r in e){var o;if(!e.hasOwnProperty(r))continue;const l=t[r].auctionID;var a=s[l],d=i[r],c=a[d.bidId];c.result.status=e[r].status,c.result.bidContentIdHash=e[r].id,c.result.backup=e[r].backup||"true"===_n.topmostAccessibleWindow.localStorage.getItem("bt_force_backup_creative");const u=null!==(o=n.Z.SharedObject.getItem("creativesIdBlocklist"))&&void 0!==o?o:[];(u.includes(e[r].id)||u.includes(d.creativeId))&&(c.result.status=n.Z.consts.complianceStatus.INCOMPLIANT)}for(const e in s)if(s.hasOwnProperty(e)){var l=s[e];for(var u in l)if(l.hasOwnProperty(u)){var h=l[u];s[e][u]=h.result}}return s}))}function Fi(e){if(e.markup&&e.markup.indexOf("://secure.ace.advertising.com/")>-1)try{var t="https://secure.ace.advertising.com/site="+e.markup.split("Site: '")[1].split("'")[0]+"/size="+e.markup.split("Size: '")[1].split("'")[0]+"/rip="+e.markup.split("/rip=")[1].split("/")[0];t&&(e.markup='\x3c!-- "'+t+'"--\x3e'+e.markup)}catch(e){Xi.errorf(null,"generalEntryFix: %o",e)}e.markup&&!e.url&&-1===e.markup.indexOf("<body")&&(e.markup="<body>"+e.markup+"</body>")}Xi.debugf(null,"test Compliance disabled? ",Oi);const Ui=new o.Z({prefix:"dfpAdapter: "});function Vi(e){if(e){if(/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(e))return ei.Bid.PrebidTemplateTypes.RENDER_AD;if(/apstag\.renderImp\(document,/gm.test(e))return ei.Bid.PrebidTemplateTypes.APSTAG;const t=["requestAdFromPrebid(","PATTERN:hb_adid"];if(/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(e)||t.some((t=>e.includes(t))))return ei.Bid.PrebidTemplateTypes.HB_ADID;if(/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(e))return ei.Bid.PrebidTemplateTypes.UC_TAG_DATA;if(e.indexOf("districtm_adslot = ")>-1)return ei.Bid.PrebidTemplateTypes.DISTRICTM_ADSLOT}}var ji=new function(){var e=!1,t={},o={},a={},s=[],d=[],c=new r.Z.SubscriptionLayer,l={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){e||(e=!0,C())},this.dispatch=function(e){try{this.init();var n=[];return i.Y.fireEvent("onBeforeDfpRefreshDispatch"),i.Y.fireEvent("tryDisableGoogletagLazyLoad")&&u(),Xn.Z.forEach(e,(function(e){var i=new Xn.Z.CDefer;n.push(i.promise),t[e.slotElementId]={asAdUnit:e,deferred:i};var r=new Xn.Z.CDefer;o[e.slotElementId]=r})),window.googletag.cmd.push((function(){try{Ui.debugf(null,"onAdsRequestPrepareStarted");var t=window.googletag.pubads().getSlots(),n=[];Xn.Z.forEach(t,(function(t){Xn.Z.forEach(e,(function(e,r){var o=t.getSlotElementId();if(o===e.slotElementId){n.push(t);var s=h(16,24);if(a[s]=o,t.setTargeting("uponitSlotIterationId",s),i.Y.fireEvent("preTargetingSetting",{dfpSlot:t,ASAdUnit:e}),m(t,e.params.keyValuesParams.toRemove),t.__up_display||(t.__up_display=!0,window.googletag.display(e.slotElementId)),w(t,e.params.keyValuesParams.toAdd),window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&window.uponit.modifiers.dfpTargeting.length>0)try{for(var d=window.uponit.modifiers.dfpTargeting,c=0;c<d.length;c++){var l=t.getTargetingMap(),u={};for(const e in l)u[e]=l[e];var p=null;!e||null==e.floorPrice&&null==e.floorPrice||(p=e.floorPrice);var f=d[c](u,t,p);if(f)for(const e in f)l[e]&&l[e]===f[e]||t.setTargeting(e,f[e])}}catch(e){Ui.errorf(null,"dispatch: uponit-modifiers: %o",e)}t.setForceSafeFrame(!0),t.setCollapseEmptyDiv(!1)}}))})),Ui.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",g(n)),p(n);const s=googletag.pubads().isSRA()&&(o=0,n.forEach((e=>{const t=e.getTargetingMap();Object.entries(t).forEach((e=>{const t=e[0]?e[0].length:0,n=e[1]&&e[1][0]?e[1][0].length:0;o+=t+n}))})),o>=6e3);if(i.Y.fireEvent("forceNotSingleRequestRefresh")||s)for(var r=0;r<n.length;r++){const e=n[r];setTimeout((()=>{window.googletag.pubads().refresh([e],void 0,!0)}),0)}else setTimeout((()=>{window.googletag.pubads().refresh(n,void 0,!0)}),0)}catch(e){Ui.errorf(null,"dispatch: %o",e)}var o})),n}catch(e){Ui.criticalf(null,"google cmd function failed: %o",e)}};var u=function(){window.googletag.cmd.push((function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})}))},p=function(e){Xn.Z.forEach(e,(function(e){e.setTargeting("upstdfp",!0)}))},f=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];"fluid"===i?t.push(i):t.push([i.getWidth(),i.getHeight()])}}catch(e){Ui.errorf(null,"getNormalizedDfpSizes errored - %o",e)}return t},g=function(e){var t=[];try{for(var n=0;n<e.length;n++){var i=e[n];t.push({elementId:i.getSlotElementId(),dfpAdUnitPath:i.getAdUnitPath(),sizes:f(i.getSizes()),targetingMap:i.getTargetingMap()})}}catch(e){Ui.errorf(null,"getNormalizedDFPAdSlots errored - %o",e)}return t},m=function(e,t){for(let n=0;n<t.length;n++){const i=t[n],r=e.getTargetingKeys();for(let t=0;t<r.length;t++){const n=r[t];i.test(n)&&e.clearTargeting(n)}}},w=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];e.setTargeting(n,i)}};function b(e){if(!e)return!1;const t=i.Y.fireEvent("isPrebidResponse",{str:e});if(void 0!==t)return t;return!!Vi(e)}var v=function(e,t,n,r){e&&e._html_&&e._html_.indexOf("googletag.pubads().definePassback(")>-1&&(e._html_=e._html_.replace(").setTargeting('",").setTargeting('up_recovery','true').setTargeting('"),e._html_=e._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("')),e&&e._html_&&-1===e._html_.indexOf("ca-pub-15988")&&(e._html_=e._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));var o=i.Y.fireEvent("dfpResponseCustomReplace",{googleReponse:e,googleFrame:r,googleSlot:t});if(o&&(e=o),!(e._fluid_||e._height_&&e._width_)&&n.length>0)for(var a=0;a<n.length;a++){var s=n[a];if("fluid"!=s&&s.getWidth()>=120){e._width_=parseInt(s.getWidth()),e._height_=parseInt(s.getHeight());break}}};function M(e){switch(e){case ei.Bid.Types.ADX:return"gad";case ei.Bid.Types.ADX_TEXT:return"gad_text";case ei.Bid.Types.DIRECT:return"gad_dfp_direct";case ei.Bid.Types.ADSENSE:return"gam_adsense"}}var y=function(e,t){switch(e){case ei.Bid.Types.ADSENSE:case ei.Bid.Types.ADX:case ei.Bid.Types.ADX_TEXT:return t.adxBidderId;case ei.Bid.Types.DIRECT:return t.directBidderId}},_=function(e,t){try{if(e==ei.Bid.Types.DIRECT&&t._adgroup2_ids_&&t._adgroup2_ids_[0]&&t._creative_ids_&&t._creative_ids_[0])return t._adgroup2_ids_[0].toString()+"_"+t._creative_ids_[0].toString()}catch(e){Ui.errorf(null,"getCreativeId: %o",e)}};function D(e){const n=t[e],i={auctionId:n.asAdUnit.auctionId,bids:[]};n.deferred.resolve(i)}var E=function(e,t){s.push(t),e._html_=i.Y.fireEvent("CustomPrebidHTMLModification",e._html_)||e._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},T=function(e){var t=e.getSlotElementId(),n=r.Z.commonUtils.escapeSelector("#"+t),o=document.querySelector(n+' [id^="google_ads_iframe_"]');return o=i.Y.fireEvent("customInnerContainer",{googleSlot:e})||o},N=function(e,t,n){var i=new RegExp("([?&]"+t+"=)([^&#]*)([&#$].*)","g");return e.replace(i,"$1".concat(encodeURIComponent(n),"$3"))},z=function(e,t){var n=new RegExp("(^|[&])"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[3]?decodeURIComponent(n[3].replace(/\+/g," ")):"":null},S=function(e){try{for(var n={},i=0;i<e.length;i++){var r=e[i],o=t[r.getSlotElementId()].asAdUnit;if(o&&o.params&&o.params.queryParams)for(var a in o.params.queryParams)if(o.params.queryParams.hasOwnProperty(a)){var s=o.params.queryParams[a];n[a]=s}}return n}catch(e){Ui.errorf(null,"getSlotsQueryParams: %o",e)}};var B=function(e,n,i,r){try{var a=Xn.Z.map(n,(function(e,t){if(i.indexOf(t)>-1)return n[t]}));return function(e,n){try{if(e){for(var i={},r=[],a=0;a<e.length;a++){var s=e[a].response.parsedData,l=e[a].response.rawResponse,u=e[a].slot;if(u){var h=n[a],p=u.getSlotElementId(),f=new Xn.Z.CDefer;i[p]=f,r.push(f.promise);var g=t[p],m=T(u);if(!s||s&&!s._html_||s&&s._empty_)i[p].resolve({injectToDom:!1}),D(p);else{v(s,u,h,m),b(s._html_)&&E(s,p);var w=(k=u,I=void 0,I=(x=s)._html_,x._empty_?ei.Bid.Types.EMPTY:b(I)?ei.Bid.Types.DFP_PREBID:x._is_afc_?"text"===S([k]).ad_type?ei.Bid.Types.ADX_TEXT:ei.Bid.Types.ADX:I.indexOf("js/adsbygoogle.js")>-1||I.indexOf("pagead/show_ads.js")>-1?ei.Bid.Types.ADSENSE:ei.Bid.Types.DIRECT),N={ad:s._html_,adId:null,bidder:M(w),bidderId:y(w,g.asAdUnit.params),bidderCode:M(w),creativeId:_(w,s),width:s._width_,height:s._height_,cpm:g.asAdUnit.floorPrice+.01},z=new ei.Bid(N,l,w,void 0,function(e){return function(){var t=i[e];"unresolved"==t.fate&&t.resolve({injectToDom:!0,injectBackupCreative:this.isBackupCreative})}}(p),function(e){return function(){var t=i[e];"unresolved"==t.fate&&t.resolve({injectToDom:!1})}}(p),function(e){return function(t){o[e].promise.then((function(){t()}))}}(p),function(e){return function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),lineItemID:e._adgroup2_ids_&&e._adgroup2_ids_[0],creativeID:e._creative_ids_&&e._creative_ids_[0],markup:this.ad.replace(/\\(n|r|\\)/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"\\"}))}}}(s));w===ei.Bid.Types.DFP_PREBID&&(z.prebidTemplateType=Vi(N.ad));var B={auctionId:g.asAdUnit.auctionId,bids:[z]};g.deferred.resolve(B);var Z={auctionId:g.asAdUnit.auctionId,bid:z};c.invokeEventCallbacks("bidReceived",Z)}}else r.push(Promise.resolve({injectToDom:!1}))}return Promise.all(r).then(function(e){try{for(var t=[],n=0;n<this.responsesWithSlots.length;n++){const i=e[n],r=this.responsesWithSlots[n].response,o=r.parsedData,a=this.responsesWithSlots[n].slot,s=a&&a.getSlotElementId();i&&!i.injectToDom&&(s&&d.push(s),o._html_="",o._empty_=!0,o._width_=1,o._height_=1),r.injectBackupCreative=i.injectBackupCreative,t.push(r)}return t}catch(e){Ui.errorf(null,"handleDfpBidResponses: Promise.all: %o",e)}}.bind({responsesWithSlots:e,deferredsPromises:r}))}}catch(e){Ui.errorf(null,"handleDfpBidResponses: %o",e)}var x,k,I}(Xn.Z.map(e,(function(e,t){return{slot:a[t],response:e}})),r)}catch(e){Ui.errorf(null,"invokeMiddleware: %o",e)}},Z=function(e,t,i,r){return Ui.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",[g(t),i]),new Promise((function(o,a){try{if(""===e.responseText)return t.forEach((e=>D(e.getSlotElementId()))),void o();var s=function(e){for(var t=e.split("\n"),n=[],i=0;i<t.length;i++){var r=t[i];if(i%2==0&&""!=r){try{var o=window.JSON.parse(r)}catch(e){Ui.errorf(null,"parseGoogleExpandableResponse: 1 %o",e)}var a=Object.keys(o)[0],s=o[a],d={adUnitPath:a,rawResponse:s,parsedData:{}};try{for(var c in l)if(l.hasOwnProperty(c)){var u=l[c];void 0!==s[u]&&null!==s[u]&&(d.parsedData[c]=s[u])}}catch(e){Ui.errorf(null,"parseGoogleExpandableResponse: 2 %o",e)}n.push(d)}else i%2!=0&&(n[n.length-1].parsedData._html_=r)}return n}(e.responseText);B(s,t,i,r).then((function(t){!function(e){for(let t=0;t<e.length;t++){const i=e[t];if(!i.injectBackupCreative)continue;const r=i.parsedData,o=r._html_,a="<\/script>";r._html_=o.substr(0,o.indexOf(a)+a.length)+"<script>"+atob(n.Z.backupCreativeScript)+"<\/script>"+o.substr(o.indexOf(a)+a.length)}}(t);var i=function(e){for(var t="",n=0;n<e.length;n++){var i=e[n],r=i.parsedData,o=r._html_;delete r._html_;var a=i.rawResponse,s={};try{for(var d in l)if(l.hasOwnProperty(d)){var c=l[d];1==r[d]?a[c]=1:0==r[d]?a[c]=0:a[c]=r[d]}s[i.adUnitPath]=a}catch(e){Ui.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",e)}try{t=t+JSON.stringify(s)+"\n"+o+"\n"}catch(e){Ui.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",e)}}return t}(t);!function(e,t){t.__defineGetter__("responseText",(function(){return e})),t.__defineGetter__("response",(function(){return e})),t.__defineGetter__("status",(function(){return 200})),t.__defineGetter__("readyState",(function(){return 4}))}(i,e),o()}))}catch(e){Ui.criticalf(null,"handleResponsesFromXHR errored: %o",e)}}))},x=function(e){var t="sz",n=r.Z.commonUtils.extractQueryParamFromUrl(t,e);if(n||(t="prev_iu_szs",n=r.Z.commonUtils.extractQueryParamFromUrl(t,e)),n){var i=n.split(",");return i=Xn.Z.map(i,(function(e){return e.split("|")})),i=Xn.Z.map(i,(function(e,t){return Xn.Z.map(e,(function(e){var t=e.split("x");return{width:parseInt(t[0]),height:parseInt(t[1])}}))}))}},k={width:320,height:50};function I(e,t,n){return!("fluid"!==e||!n)||t.some((t=>t.width===e.width&&t.height===e.height))}function Y(e){const t=r.Z.commonUtils.extractQueryParamFromUrl("fluid",e);if(t){let e=t.split(",");return e=e.map((e=>isNaN(e)?e:parseInt(e))),e}}var H=function(e,n,o){var a;if(e)try{var s;if(e.indexOf("&sz=")>-1)s="sz";else{if(!(e.indexOf("&prev_iu_szs=")>-1))return;s="prev_iu_szs"}var d=x(e);if(!d)return;const f=d.length;a=d.filter(((e,t)=>o.indexOf(t)>-1));const g=(Y(e)||Array(f).fill(0)).filter(((e,t)=>o.includes(t)));var c=[],l=[];!function(){var t=i.Y.fireEvent("removeSizesDfpConfig");if(t){var r=t.forAll||[];a=Xn.Z.map(a,(function(i,o){var a=n[o].getSlotElementId(),s=(t[a]||[]).concat(r);return s=Xn.Z.map(s,(function(t){if("fluid"==t){var n=new RegExp("fluid=(.*?)&","g");return e=e.replace(n,""),{width:k.width,height:k.height}}return t})),i.filter((e=>!s.some((t=>t.width==e.width&&t.height==e.height))))}))}}(),a=Xn.Z.map(a,(function(e,r){var o=n[r],a=o.getSlotElementId(),s=t[a].asAdUnit.spaceName;const d=g[r];var c=i.Y.fireEvent("sizesToRemoveBySpace",{spaceName:s,slot:o});return c?(c.includes("fluid")&&d&&(g[r]=0),e.filter((e=>!c.some((t=>"fluid"===t?k.width==e.width&&k.height==e.height:t.width===e.width&&t.height===e.height))))):e}));try{Xn.Z.forEach(a,(function(e,r){var o=n[r].getSlotElementId(),a=t[o].asAdUnit;const s=g[r];var d=i.Y.fireEvent("sizesToAddBySpace",{ASAdUnit:a});if(!d)return e;Xn.Z.forEach(d,(function(t){I(t,e,s)||("fluid"===t?(I(k,e,s)||e.push({width:k.width,height:k.height}),g[r]="height"):e.push({width:t.width,height:t.height}))}))}))}catch(e){Ui.errorf(null,"sizesToAddBySpace error - %o",e)}Xn.Z.forEach(a,(function(e,t){var i=n[t].getSlotElementId(),o=document.getElementById(i),a=r.Z.sizesRemover(o,e);0==(a=a.filter((e=>!!e))).length&&(a=[{width:2,height:3}]),c.push(a);var s,d=(s=a,Xn.Z.map(s,(function(e){var t={getWidth:function(){return e.width},getHeight:function(){return e.height}};return e.width==k.width&&e.height==k.height&&(t="fluid"),t})));l.push(d)}));var u,h=0,p=Xn.Z.map(d,(function(e,t){if(o.indexOf(t)<0)return e;var n=c[h];return h++,n}));return u=Xn.Z.map(p,(function(e){return Xn.Z.map(e,(function(e){return e.width+"x"+e.height}))})),u=(u=Xn.Z.map(u,(function(e){return e.join("|")}))).join(","),{url:e=function(e,t){const n=!!Y(e),i=t.join(",");return n?N(e,"fluid",i):"".concat(e,"&fluid=").concat(encodeURIComponent(i))}(e=N(e,s,u),g),modifiedSizes:l}}catch(t){return Ui.errorf(null,"modifySizesInUrl errored - %o",t),{url:e,modifiedSizes:Xn.Z.map(n,(function(e){return e.getSizes()}))}}},X=function(){gi.addEventListener(gi.Types.XHR_OPEN_PRE,(function(e){try{var n=e.data;if(O(n[1])){var o=n[1],s=function(e){var t=[],n=r.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=r.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){for(var i=n.split("|"),o=0;o<i.length;o++){var s=i[o],d=z("uponitSlotIterationId",s);a[d]&&t.push(a[d])}return t}}(n[1]),d=function(e){for(var t=[],n=window.googletag.pubads().getSlots(),i=0;i<n.length;i++)for(var r=n[i],o=0;o<e.length;o++){var a=e[o];r.getSlotElementId()==a&&t.push(r)}return t}(s),c=function(e){var t=[],n=r.Z.commonUtils.extractQueryParamFromUrl("scp",e);if(n||(n=r.Z.commonUtils.extractQueryParamFromUrl("prev_scp",e)),n){var i,o=r.Z.commonUtils.extractQueryParamFromUrl("csp",e);o&&(i=z("upstdfp",o),Ui.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",i));for(var a=n.split("|"),s=0;s<a.length;s++){var d=a[s];(i||z("upstdfp",d))&&t.push(s)}return t}}(n[1]);w=d,Xn.Z.forEach(w,(function(e){e.clearTargeting("upstdfp")})),n[1]=r.Z.addAcceptableParam(n[1]),n[1]=function(e,t){var n=S(t);if(n)for(var i in n)if(n.hasOwnProperty(i)){var r=n[i];e.indexOf("?")<0?e=e+"?"+i+"="+r:e.indexOf("&"+i+"=")<0&&e.indexOf("?"+i+"=")<0&&(e=e+"&"+i+"="+r)}return e}(n[1],d);var l=H(n[1],d,c);n[1]=l.url;var u=l.modifiedSizes;!function(e,n,i,r){for(let o=0;o<e.length;o++){const a=e[o],s=t[n[a]];let d=[];for(let e=0;e<i[a].length;e++)i[a][e]&&(i[a][e].width&&i[a][e].height?d.push([i[a][e].width,i[a][e].height]):"fluid"===i[a][e]&&d.push("fluid"));let c=[];for(let e=0;e<r[a].length;e++)r[a][e]&&(r[a][e].getWidth&&r[a][e].getHeight?c.push([r[a][e].getWidth(),r[a][e].getHeight()]):"fluid"===r[a][e]&&c.push("fluid"));const l={sendToServer:!0,sendPercentage:1,event:"dfp-size-filtering",meta:{spaceName:s.asAdUnit.spaceName,auctionId:s.asAdUnit.auctionId,sizesBeforeFiltering:d,sizesAfterFiltering:c}};Ui.infof(null,"logAdUnitSizesDfp, spaceName -> ",s.asAdUnit.spaceName,l)}}(c,s,x(o),u),n[1]=function(e){var t=[],n=["21063911","21063048","21063670","21063817","21063671"],i=r.Z.commonUtils.extractQueryParamFromUrl("eid",e);if(!i)return e;for(var o=i.split(","),a=0;a<o.length;a++){var s=o[a];n.indexOf(s)<0&&t.push(s)}return N(e,"eid",t.join(","))}(n[1]),i.Y.fireEvent("onBeforeDfpAdsRequest",{url:n[1]}),Ui.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",[n[1],g(d),c]);var h=null,p=null,f=this,m=!1;this.onload=function(){try{if(!h||m)return;m=!0,Z(f,d,c,u).then((function(){h.call(f)}))}catch(e){Ui.errorf(null,"addListenersOnHooks: onload: %o",e)}},this.onreadystatechange=function(e){try{if(!p||m)return;4===this.readyState&&(200===this.status?(m=!0,Z(f,d,c,u).then((function(){p.call(f,e)}))):Ui.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",[this.status,this.responseText]))}catch(e){Ui.criticalf(null,"onReadyStateChangeError, err %o",e)}},this.__defineGetter__("onload",(function(){return h})),this.__defineSetter__("onload",(function(e){return h=e,e})),this.__defineGetter__("onreadystatechange",(function(){return p})),this.__defineSetter__("onreadystatechange",(function(e){return p=e,e}))}}catch(e){Ui.errorf(null,"addListenersOnHooks: %o",e)}var w}))},O=function(e){try{return e&&e.indexOf("doubleclick.net/gampad/ads")>-1&&e.indexOf("upstdfp")>-1}catch(e){}};this.subscribeForEvent=function(e,t){c.subscribeForEvent(e,t)};var R=function(){window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){var t=e.slot,n=t.getSlotElementId(),i=T(t),a=i&&i.querySelector("iframe");if(d.indexOf(n)>=0)d.splice(d.indexOf(n),1);else{var c=o[n];if(c&&"unresolved"==c.fate&&c.resolve(),function(e){setTimeout((()=>{const t=e.getSlotElementId(),n=document.getElementById(t),i=T(e);if(!(i&&i.querySelector("iframe")&&i&&r.Z.commonUtils.isElementInBody(n)&&n)){const e={sendToServer:!0,sendPercentage:1,event:"creative-removed",meta:{creativeId:t}};Ui.infof(null,"removed creative id -> ",e,e)}}),1e3)}(t),a)if(s.indexOf(n)>-1){s.splice(s.indexOf(n),1);try{i.style.width="1px",i.style.height="1px",a.width="1",a.height="1"}catch(e){Ui.errorf(null,"setGoogletagEvents: %o",e)}}else if("0"===a.width)a.style.setProperty("width","max-content","important");else{const e=a.width;a.style.setProperty("width",e+"px","important")}}}))};var C=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){var e;i.Y.fireEvent("shouldNotWrapGoogleTagRefresh")||(e=window.googletag.pubads().refresh,window.googletag.pubads().refresh=function(t,n,i){if(i)return t?e(t,n):e();Ui.debugf(null,"pub invoked `googletag` refresh - %o",{slots:t&&g(t),settings:n}),t||(t=window.googletag.pubads().getSlots());for(var r=[],o=0;o<t.length;o++)try{var a=t[o].getSlotElementId();a&&r.push(a)}catch(e){Ui.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",e)}c.invokeEventCallbacks("refresh",r)}),R(),X(window)}))}};const Li=new o.Z({prefix:"dispatch: ",level:o.z.INFO});var Pi=new function(){var e=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)},this.dispatchPrebid=function(e){try{const t={},n=[],r=[];Xn.Z.forEach(e,(function(e){const i=new Xn.Z.CDefer;t[e.auctionId]=i,n.push(i.promise);const o=e.unit.space.prebidSettings;if(o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};i.resolve(a)}}));const o=Xn.Z.map(r,(function(e){const t=e.unit.space.prebidSettings.bidders;return{auctionId:e.auctionId,biddersSettings:t,spaceName:e.unit.space.name,sizes:e.unit.space.sizes,element:e.unit.element}})),a=o.filter((e=>e.biddersSettings.length>0));let s=[];a.length>0&&(s=Hi.dispatch(a));const d=o.map(((e,t)=>a.includes(e)?s[t]:{auctionId:e.auctionId,bids:[]}));return Promise.all(d).then((function(e){try{for(var n=[],o=0;o<e.length;o++){var a=e[o],s=a.auctionId,d=Xn.Z.find(r,(function(e){return e.auctionId==s})),c=a.bids;c=i.Y.fireEvent("passZeroCpmBidsFilter")?c:c.filter((e=>e.cpm>=.01));var l=i.Y.fireEvent("filterPrebidBids");if(l)c=l(Xn.Z.map(c,(function(e){return{bid:e,rawBid:e.rawBid}})));d.addBids(c),a.bids=c,n.push({auction:d,bids:c})}Wi(n).then((function(n){for(var i in n)if(n.hasOwnProperty(i)){var r=n[i],o=Xn.Z.find(e,(function(e){return e.auctionId==i})),a=o.bids;for(var s in r)if(r.hasOwnProperty(s)){var d=r[s],c=Xn.Z.find(a,(function(e){return e.bidId==s}));c.contentIdHash=d.bidContentIdHash,c.complianceStatus=d.status,c.isBackupCreative=d.backup}t[i].resolve(o)}}))}catch(e){Li.errorf(null,"error testing Prebid bid compliance: %o",e)}})),n}catch(e){Li.errorf(null,"error in `dispatchHB`: %o",e)}},this.dispatchDFP=function(e){try{const n={},i=[],r=[];Xn.Z.forEach(e,(function(e){var t=new Xn.Z.CDefer;n[e.auctionId]=t,i.push(t.promise);const o=e.unit.space.dfpSettings;if(null!=o&&o.enabled)r.push(e);else{var a={auctionId:e.auctionId,bids:[]};t.resolve(a)}}));const o=t(r,0);return Xn.Z.forEach(o,(function(t){t.then((function(t){const i=t.auctionId;e.find((e=>e.auctionId==i)).addBids(t.bids),n[i].resolve(t)}))})),i}catch(e){Li.errorf(null,"error in `dispatchAS`: %o",e)}};var t=function(e,i){try{var o={},s=[];Xn.Z.forEach(e,(function(e){var t=new Xn.Z.CDefer;s.push(t.promise),o[e.auctionId]={auction:e,deferred:t}}));var d=[];Xn.Z.forEach(e,(function(e){e.unit.space.dfpSettings.order[i]?d.push(e):o[e.auctionId].deferred.resolve({auctionId:e.auctionId,bids:[]})}));var c=Xn.Z.map(d,(function(e){const t=e.unit.space.dfpSettings;var n=e.getWinningBid(),r=n?n.cpm:0;return{auctionId:e.auctionId,spaceName:e.unit.space.name,params:a(e,t.order[i]),slotElementId:e.unit.element.getAttribute("id"),floorPrice:r}}));const l=c.length>0?ji.dispatch(c):[];return Xn.Z.forEach(l,(function(e){e.then((function(e){try{var a=e.auctionId,s=e.bids[0],l=Xn.Z.find(d,(function(e){return e.auctionId==a})),u=Xn.Z.find(c,(function(e){return e.auctionId==a}));const h=l.getWinningBid();if(!s){t([l],i+1)[0].then((function(e){o[a].deferred.resolve(e)}));try{if(h&&1===i){const{ad:e,adId:t,bidderId:n,bidder:i,bidderCode:r,currency:o,creativeId:a,cpm:s,height:d,size:c,width:p,...f}=h,g={sendToServer:!0,event:"AAHBWithEmptyGAM",sendPercentage:1,meta:{auctionID:u.auctionId,winningBidData:f,spaceID:l.unit.space.id}};Li.infof(null,"AAHBWithEmptyGAM, auction ID -> ",u.auctionId||"N/A",g)}}catch(e){Li.errorf(null,'error checking for "AAHBWithEmptyGAM": %o',e)}return}if(s.gamIteration=i+1,s.type==ei.Bid.Types.DFP_PREBID)return h.additionalBidsToRender.push(s),s.complianceStatus=n.Z.consts.complianceStatus.COMPLIANT,void o[a].deferred.resolve({auctionId:a,bids:[]});if(!(s.type!=ei.Bid.Types.ADX_TEXT||u.params.adxShouldTestCompliance||Ri(l,s)||function(e){return e.type==qn.Types.ADX_TEXT&&[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],["animation:text2Frames","-webkit-animation"]].some((t=>r.Z.commonUtils.matchStringsOnString(t,e.ad)))}(s))){s.complianceStatus=n.Z.consts.complianceStatus.COMPLIANT,o[a].deferred.resolve(e);const t={sendToServer:!0,sendPercentage:1,event:"client_tc_applied",meta:{client_tc_type:"gad_text_ad",auctionID:a,bidderID:s.bidderId}};return void Li.noticef(null,"gam text ad: ",s,t)}Wi([{auction:l,bids:[s]}]).then((function(r){if(s.contentIdHash=r[a][s.bidId].bidContentIdHash,s.complianceStatus=r[a][s.bidId].status,s.isBackupCreative=r[a][s.bidId].backup,s.complianceStatus!=n.Z.consts.complianceStatus.COMPLIANT)return s.cancelBid(),void t([l],i+1)[0].then((function(e){e.bids.push(s),o[a].deferred.resolve(e)}));o[a].deferred.resolve(e)})).catch((function(e){s.cancelBid(),t([l],i+1)[0].then((function(e){e.bids.push(s),o[a].deferred.resolve(e)}))}))}catch(e){Li.errorf(null,"error handling auction responses from AS: %o",e)}}))})),s}catch(e){Li.errorf(null,"error in `innerInvokePostbid`: %o",e)}},o={},a=function(e,t){var n={},i=function(e,t){var n=e.getWinningBid(),i=e.getComplianceBids();const r={...s(n,e.unit),...n?n.getGPTTargeting({complianceBidsInAuction:i}):{},...t.keyValues},a=o[e.unit.unitID]?Object.keys(o[e.unit.unitID]).map((e=>new RegExp(e))):[];return a.push(...["hb_adid","hb_bidder","hb_pb","hb_format","hb_size","hb_source","amznbid","amzniid","amznp","amznsz"].map((e=>new RegExp("".concat(e,".*"))))),o[e.unit.unitID]=r,{toAdd:r,toRemove:a}}(e,t);return n.keyValuesParams=i,n.queryParams=t.params.queryParams||{},n.adxBidderId=t.adx.bidderID,n.adxShouldTestCompliance=t.adx.testCompliance,n.directBidderId=t.direct.bidderID,n},s=function(e,t){var i={up_bidder:!0};if(e&&e.bidder)if("s2s"===e.rawBid.source)i.up_bidder=Sn.v.btDemand.snigel;else if("relay"===e.bidder)i.up_bidder=Sn.v.btDemand.relay;else if(["true","false","undefined","152media","33across","a4g","aardvark","adblade","adbund","adbutler","adform","adkernel","adkerneladn","admedia","admixer","adocean","adsparc","adspirit","adsupply","adtelligent","adxcg","adyoulike","aerserv","amazon","andbeyond","aol","appnexus","appnexusAst","arteebee","atomx","audienceNetwork","automatad","beachfront","betweendigital","bidfluence","brainy","brealtime","bridgewell","brightcom","buysellads","c1x","carambola","clickforce","clickonometrics","colossus","connectad","consumable","contentIgnite","conversant","cox","cpx","criteo","defymedia","dgads","districtm","districtmDMX","e-planning","emx_digital","emxdigital","engagebdr","essens","fairtrade","featureForward","fidelityMedia","freewheel-ssp","fyber","gamma","gamoshi","getintent","gourmetAds","gumgum","gxone","imonomy","improvedigital","indexExchange","IndexExchange","inneractive","innity","inskin","insticator","invibes","iqm","ix","justpremium","kargo","komoona","kumma","lifestreet","lkqd","lockerdome","madvertise","marsmedia","matomy","media.net","medianet","mobfox","my6sense","mytarget","nginad","nobid","oftmedia","onemobile","oneplanetonly","onetag","openx","optimatic","optimera","orbitsoft","peak226","piximedia","platform.io","playgroundXyz","polluxNetwork","polymorph","prebidServer","pubgears","pubmatic","pulsepoint","pulsepointLite","quantcast","quantum","readpeak","realvu","rhythmone","rockyou","roxot","rtbdemandadk","rtbdemandBidder","rtbhouse","rubicon","rxrtb","sara","sekindoum","serverbid","sharethrough","smart","smartyads","soloway","somoAudience","sonobi","sortable","sovrn","spotx","springserve","stickyadstv","tapsense","teads","thoughtleadr","tremor","trionInteractive","triplelift","trustx","twenga","ucfunnel","underdogmedia","undertone","unruly","upo","upo1","upo10","upo2","upo3","upo4","upo5","upo6","upo7","upo8","upo9","vertamedia","vertoz","vi","vidazoo","vis.x","vuble","weborama","wideorbit","widespace","xaxis","xendiz","yahoossp","yieldbot","yieldlab","yieldmo","yieldone"].indexOf(e.bidder)>-1)i.up_bidder=e.bidder;else{const t={sendToServer:!0,event:"upBidder_unknownBidder",meta:{bidder:e.bidder,bidderCode:e.bidderCode},sendPercentage:1};Li.noticef(null,"unknown bidder for up_bidder targeting -> ",e.bidder,t)}var r=_n.topmostAccessibleWindow.location.hostname;0===r.indexOf("www.")&&(r=r.replace("www.",""));var o=r;o=o.match(/(co\.il|co\.uk|org\.il)/)?o.replace("www.","").split(".").splice(-3).join("."):o.replace("www.","").split(".").splice(-2).join("."),i.up_recovery="true";var a=An.Xh(),s=An.Uh(),d=An.Jv();i.up_browser=a,i.up_device=s,i.up_platform=d,i.up_domain=r,i.up_website=o,i.up_website_id=n.Z.SharedObject.getItem("websiteConfig").websiteID;const c=t.countOfDispatches-1;return i.up_refresh=c>30?"30":"".concat(c),i};ji.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),ji.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)})),Hi.subscribeForEvent("bidReceived",(function(t){e.invokeEventCallbacks("bidReceived",t)})),Hi.subscribeForEvent("refresh",(function(t){e.invokeEventCallbacks("refresh",t)}))},Ki=new function(){var e=[];this.set=function(t){e.push(t)},this.getBySpace=function(t){for(var n=0;n<e.length;n++){var i=e[n];if(i.space==t)return i}},this.getByElement=function(t){return e.find((e=>e.element===t))},this.getAll=function(){return e},this.purgeUnitsWithNoElementOnPage=function(){e=e.filter((e=>r.Z.commonUtils.isElementInBody(e.element)))}};const Gi=new o.Z({prefix:"refresh: "});var Ji=new function(){this.initialize=function(l){let{invokeSpaces:u}=l;const h=function(i){let{invokeSpaces:c}=i;function l(){if(!document.hasFocus())return void Gi.debugf(null,"triggerRefresh: User not on page (tab/window out of focus), no refreshes attempted.");if(0===e.size)return;const i=new Map;if(e.forEach(((t,r)=>{if(t.expiresAt&&t.expiresAt<Date.now())return void e.delete(r);let d,c;const l=ki({selector:r.selector.value});l===n.Z.consts.elementVisibility.VISIBLE?(d=t.skipComplianceCheck||function(){const e=Date.now();return e-o<(o===a?2500:500)+s}(),c="IS_VISIBLE"===t.whenVisibility||"ANY"===t.whenVisibility):l===n.Z.consts.elementVisibility.HIDDEN?(d=!0,c="IS_HIDDEN"===t.whenVisibility||"ANY"===t.whenVisibility):l===n.Z.consts.elementVisibility.NOT_FOUND&&e.delete(r),d&&c&&(e.delete(r),i.set(r,t))})),0===i.size)return void Gi.debugf(null,"triggerRefresh: No eligible refreshes in queue to attempt: %o",d(e));const l=[],u={};i.forEach(((e,t)=>{l.push(t),r.Z.commonUtils.isNumber(e.minTimeBetweenRefreshes)&&(u[t]=e.minTimeBetweenRefreshes)}));const h={filteringSettings:{minTimeBetweenRefreshesBySpace:u}};Gi.infof(null,"Attempting to refresh: %o\nLeft in queue: %o",[d(i),d(e)]),c(l,h).then((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const n=l.filter((t=>!e.includes(t)));n.length>0&&(n.forEach((e=>{t(i.get(e))})),Gi.infof(null,"Could not refresh & requeued: %o",n))}))}return r.Z.commonUtils.debounce(l,s)}({invokeSpaces:u});!function(e){let{triggerRefresh:n}=e;pi(n),window.addEventListener("onUserReturnedToPage",(()=>{!function(){const{unitVisibility:e}=i.Y.fireEvent("refreshOnReturnToPage")||{};if(e){const n=Ki.getAll().filter((t=>("ANY"===e||e===ki({element:t.element,useIABDefinition:!0}))&&t.lastInvokeTime&&Date.now()-t.lastInvokeTime.getTime()>5e3));if(n.length>0){n.forEach((e=>{t({space:e.space,whenVisibility:"ANY",skipComplianceCheck:!0,minTimeBetweenRefreshes:0,expiresAt:Date.now()+1e3})}));const e={event:"refreshOnReturnToPage",sendToServer:!0,sendPercentage:1,meta:{totalUnitsQueuedForRefresh:n.length,unitsQueuedForRefresh:n.map((e=>({elementId:e.element.id,space:{name:e.space.name,templateSpaceName:e.space.templateSpaceName},gamAdUnitPath:e.gamAdUnitPath,prevDispatchCount:e.countOfDispatches,prevRenderCount:e.countOfRenders,secsSinceLastAuction:e.lastInvokeTime?((Date.now()-e.lastInvokeTime.getTime())/1e3).toFixed(1):"Never"}))),secsSinceLastRefreshOnRTP:c?((Date.now()-c)/1e3).toFixed(1):"Never"}};Gi.infof(null,"refreshOnReturnToPage, units ->",n,e),c=Date.now()}}}(),n()})),window.addEventListener("locationChange",(()=>{!function(){let{locationChanged:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Date.now();o=t,e&&(a=t)}({locationChanged:!0})}))}({triggerRefresh:h});(i.Y.hasEventListener("spaceRefreshOnInterval")||i.Y.hasEventListener("spaceRefreshSettings"))&&(this.spaceRefreshOnInterval=function(e){let{triggerRefresh:r}=e;return e=>{let{space:o,unitDispatchCount:a}=e;const s={space:o,unitDispatchCount:a},d=i.Y.fireEvent("spaceRefreshOnInterval",s)||i.Y.fireEvent("spaceRefreshSettings",s);if(d){let{whenVisibility:e,type:a,skipComplianceCheck:s=!1}=d;if(s=s||i.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:o}),!e){if(!a)return void Gi.errorf(null,"spaceRefreshSettings [deprecated]: Use new hook `spaceRefreshOnInterval` and provide `whenVisibility`.");switch(Pn.commonBLUtils.refreshTypeDecoder(a)){case n.Z.consts.refreshType.UNKNOWN:return void Gi.errorf(null,"spaceRefreshSettings [deprecated]: Invalid refresh `type` %s",a);case n.Z.consts.refreshType.ALL:case n.Z.consts.refreshType.VISIBLE:return void Gi.debugf(null,"spaceRefreshSettings [deprecated]: Ignoring refresh with `type` %s",a);case n.Z.consts.refreshType.HIDDEN:e="IS_HIDDEN"}}const c=d.interval||d.rate||3e4;setTimeout((function(){t({space:o,whenVisibility:e,skipComplianceCheck:s}),r()}),c),Gi.infof(null,"spaceRefreshOnInterval: Refresh to be enqueued (& attempted) in %i secs: %o",[c/1e3,{spaceName:o.name,space:o,whenVisibility:e,skipComplianceCheck:s}])}}}({triggerRefresh:h}));(function(e){let{triggerRefresh:r}=e;Pi.subscribeForEvent("refresh",(function(e){e.forEach((e=>{const r=document.getElementById(e),o=r&&Ki.getByElement(r),a=o&&o.space;if(a&&o.countOfDispatches>0){let e;const s=ki({element:r});if(s===n.Z.consts.elementVisibility.VISIBLE)e="IS_VISIBLE";else if(s===n.Z.consts.elementVisibility.HIDDEN)e="IS_HIDDEN";else if(s===n.Z.consts.elementVisibility.NOT_FOUND)return;const d=i.Y.fireEvent("skipVisibleAdRefreshComplianceCheck",{space:a});Gi.infof(null,"googletag refresh: Enqueuing: %o",{spaceName:a.name,space:a,correspondingUnit:o,whenVisibility:e,skipComplianceCheck:d}),t({space:a,whenVisibility:e,skipComplianceCheck:d})}})),r()}))})({triggerRefresh:h}),function(e){let{invokeSpaces:t}=e,n=[];i.Y.addEventListener("refreshByForce",(function(e){var i=e.data,r=i&&i.settings,o=Ei.getAll(),a=r&&r.minTimeBetweenRefreshes,s=r&&r.shouldRefreshFailedSpaces,d=r&&r.spacesNames,c=r&&r.shouldRefreshAllSpaces,l=[],u={filteringSettings:{minTimeBetweenRefreshes:a}};c?l=o:(s&&Xn.Z.forEach(n,(function(e){l.push(e)})),d&&Xn.Z.forEach(o,(function(e){d.indexOf(e.name)>-1&&l.push(e)}))),l=[...new Set(l)],Gi.infof(null,"refreshByForce (settings: %o): Re-auctioning Spaces: %o",[r,l]),t(l,u).then((function(e){n=l.filter((t=>e.indexOf(t)<0))}))}))}({invokeSpaces:u})},this.minTimeBetweenAuctionsUnitsFilter=function(e,t){let o=n.Z.upoSettings.minTimeBetweenRefreshes;i.Y.hasEventListener("minTimeBetweenRefreshes")&&(o=i.Y.fireEvent("minTimeBetweenRefreshes"));r.Z.commonUtils.isNumber(t.minTimeBetweenRefreshes)&&(o=t.minTimeBetweenRefreshes);const s=t.minTimeBetweenRefreshesBySpace||{};return e.filter((e=>{let t;if(e)if(e.lastInvokeTime){const n=r.Z.commonUtils.isNumber(s[e.space])?s[e.space]:o,i=Date.now()-e.lastInvokeTime.getTime();i>n||a&&e.lastInvokeTime.getTime()<a?(t=!0,Gi.infof(null,"Re-auctioning Unit: %o",e)):(t=!1,Gi.infof(null,"Must wait at least %i seconds before we can re-auction Unit: %o",[(n-i)/1e3,e]))}else t=!0;else t=!1;return t}))},this.spaceRefreshOnInterval;const e=new Map;function t(t){let{space:n,whenVisibility:r,skipComplianceCheck:o,minTimeBetweenRefreshes:a,expiresAt:s}=t;"IS_VISIBLE"===r&&i.Y.fireEvent("dontQueueViewableRefreshes",{space:n})?Gi.debugf(null,"queueSpaceForRefresh: `dontQueueViewableRefreshes` hook set to not enqueue refresh: &o",{spaceName:n.name,space:n,whenVisibility:r,skipComplianceCheck:o,minTimeBetweenRefreshes:a,expiresAt:s||"Never"}):e.set(n,{space:n,whenVisibility:r,skipComplianceCheck:o,minTimeBetweenRefreshes:a,expiresAt:s})}let o,a;const s=500;function d(e){return Array.from(e.values()).map((e=>{let{space:t,...n}=e;return{spaceName:t.name,space:t,...n}}))}let c};function Qi(e){const t=i.Y.fireEvent("maxAmountOfUnitDispatches");return t?e.filter((e=>e.countOfDispatches<t)):e}function qi(e,t){return Ji.minTimeBetweenAuctionsUnitsFilter(e,t)}function $i(e){return e.filter((e=>!i.Y.fireEvent("filterOutUnitToBeAuctioned",{unit:e})))}function er(e){const t=e.map((e=>e.element));return e.filter(((e,n)=>t.indexOf(e.element)==n))}function tr(e,t){return new Promise(((n,i)=>{t&&t.definedSlotsFilteringSettings&&(t.definedSlotsFilteringSettings.dfpEnabled||t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push((function(){const i=window.googletag.pubads().getSlots(),r=[];e.forEach((e=>{t.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||e.space.dfpSettings.enabled?i.forEach((t=>{t.getSlotElementId()===e.element.getAttribute("id")&&(e.gamAdUnitPath=function(e){let t=e.getAdUnitPath();"/"===t.charAt(0)&&(t=t.slice(1));const[n,...i]=t.split("/");return{networkCode:n,adUnit:"/".concat(i.join("/"))}}(t),r.push(e))})):r.push(e)})),n(r)})):n(e)}))}var nr=function(){var e="push";window.googletag.cmd.unshift&&(e="unshift"),window.googletag.cmd[e]((function(){window.__cmp&&window.__cmp("getVendorConsents",null,(function(e){e&&e.gdprApplies&&(e.purposeConsents&&e.purposeConsents[1]&&e.purposeConsents[2]&&e.purposeConsents[3]&&e.purposeConsents[4]&&e.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1))})),i.Y.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad(),i.Y.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest(),i.Y.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0),window.googletag.pubads().enableAsyncRendering(),window.googletag.enableServices()}))},ir=function(e){if("dfp"===e)return nr};const rr=new o.Z({prefix:"prebidPostset: "});let or;var ar=function(){or=n.Z.cpbjs,n.Z.upoSettings.prebidTimeout=i.Y.fireEvent("prebidTimeout")||n.Z.upoSettings.prebidTimeout,function(){const e=n.Z.SharedObject.getItem("whitelistingIFrame");e?or.setCookieFrame({frame:e,isBTSafeFrameDomain:e.src===Cn.W}):i.Y.addEventListener("whitelistingIFrameLoaded",(function(e){or.setCookieFrame({frame:e.data.whitelistingIFrame,isBTSafeFrameDomain:e.data.whitelistingIFrame.src===Cn.W})}))}(),function(){try{const e=window.pbjs,t=e&&e.version&&parseInt(e.version[1]);if(t&&!isNaN(t)&&t>=4){const t=e.getConfig("consentManagement");if(t&&(t.gdpr||t.usp))return void or.setConfig({consentManagement:t})}}catch(e){rr.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",e)}try{"function"==typeof window.__tcfapi&&window.__tcfapi("ping",2,(function(e){if(e&&e.cmpLoaded&&e.gdprApplies){const e={consentManagement:or.getConfig().consentManagement||{}};e.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},or.setConfig(e)}}))}catch(e){rr.errorf(null,"setConsentConfig: __tcfapi: %o",e)}try{"function"==typeof window.__cmp&&"function"!=typeof window.__tcfapi&&window.__cmp("getConsentData",null,(function(e){if(e&&e.gdprApplies){const e={consentManagement:or.getConfig().consentManagement||{}};e.consentManagement.gdpr={cmpApi:"iab",timeout:3e3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},or.setConfig(e)}}))}catch(e){rr.errorf(null,"setConsentConfig: __cmp: %o",e)}try{"function"==typeof window.__uspapi&&window.__uspapi("getUSPData",1,(function(e,t){if(t&&e.uspString){const e={consentManagement:or.getConfig().consentManagement||{}};e.consentManagement.usp={cmpApi:"iab",timeout:100},or.setConfig(e)}}))}catch(e){rr.errorf(null,"setConsentConfig: __uspapi: %o",e)}}(),or.que.push((function(){or.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}},{name:"id5Id",params:{partner:993},storage:{type:"html5",name:"id5id",expires:90,refreshInSeconds:28800}}],auctionDelay:50}})})),function(){const e={};or.onSendLog((function(t,n,i,r){if(r.meta.fired){const t=1;e[r.meta.uid]=(0,_n.getTrueByProbability)(t)}if(e[r.meta.uid])return r={...r,sendPercentage:101,sendToServer:!0},void rr.infof(t,n,i,r);r.sendPercentage&&(r={...r,sendToServer:!0},rr.infof(t,n,i,r))}))}(),or.onBeforeRequest((function(e){let t=e&&r.Z.addAcceptableParam(e);if(t.includes("criteo.com/cdb")&&i.Y.fireEvent("addCriteoAdblockQueryParam")){const e=t.includes("abp=1");t=e?t:"".concat(t,"&abp=1")}return t})),or.aliasBidder("pulsepointLite","pulsepoint"),or.aliasBidder("indexExchange","ix"),or.aliasBidder("ix","indexExchange"),or.aliasBidder("my6sense","upo2"),or.aliasBidder("lockerdome","upo3"),or.aliasBidder("appnexus","appnexus_cl"),or.aliasBidder("rubicon","rubi_ttd"),or.aliasBidder("rubicon","rubi_mm"),or.aliasBidder("rubicon","pgRubicon"),or.aliasBidder("rubicon","rubiconAU"),or.aliasBidder("rubicon","rubi_ss"),or.aliasBidder("colossus","colossusssp"),or.aliasBidder("pubmatic","PubmaticAU"),or.aliasBidder("pubmatic","pubmatic_cl"),or.aliasBidder("pubmatic","pubmatic_alien"),function(){const e=window.pbjs||window.jitaJS;e&&e.bidderSettings&&(or.bidderSettings=e.bidderSettings);const t=e&&e.getConfig&&e.getConfig();let r,o="high";if(t){const e=t.customPriceBucket,n=t.priceGranularity;o="custom"===n?e:n,r=t.currency}or.setConfig({bidderTimeout:n.Z.upoSettings.prebidTimeout,maxRequestsPerOrigin:6,priceGranularity:o,userSync:{filterSettings:{iframe:{bidders:"*",filter:"include"}},syncsPerBidder:25,syncEnabled:!0},floors:{enforcement:{floorDeals:!0},data:{schema:{fields:["mediaType"]},values:{banner:.03}}}}),r&&or.setConfig({currency:r});i.Y.fireEvent("priceFloor",{cpbjs:or})}(),function(){const{websiteStoredRequestId:e}=i.Y.fireEvent("snigelAdapterConfiguration")||{};e&&or.setConfig({s2sConfig:[{defaultVendor:"snigel",accountId:"1000",bidders:[],extPrebid:{storedrequest:{id:e}}}]})}(),function(){if(i.Y.hasEventListener("enableRelayAdapter")){const{sid:e}=i.Y.fireEvent("enableRelayAdapter")||{},t=e||n.Z.SharedObject.getItem("websiteConfig").websiteID;or.setConfig({relayAccountId:12021}),or.setBidderConfig({bidders:["relay"],config:{schain:{validation:"strict",config:{ver:"1.0",complete:1,nodes:[{asi:"blockthrough.com",sid:t,hp:1}]}}}})}}(),or.setBidderConfig({bidders:["rubicon"],config:{ortb2:{site:{ext:{data:{keywords:"blockthrough"}}}}}});const e=i.Y.fireEvent("scrapePrebidRequestBids");e&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onListenerAdded:t,pollingInterval:n=100,maxIntervalCount:i=50}=e;if(sr())dr(t);else{let e=0;const r=setInterval((function(){e++,e>=i?clearInterval(r):sr()&&(clearInterval(r),dr(t))}),n)}}(e),i.Y.fireEvent("addIndexExchangeWrappers")&&function(){const e={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"};function t(e){return(100*parseFloat(e)).toFixed()}for(const n in e)or.bidderSettings[n]={adserverTargeting:[{key:e[n],val:function(e){var n=or.getConfig().priceGranularity;return"auto"===n?e.size+"_"+t(e.pbAg):"dense"===n?e.size+"_"+t(e.pbDg):"low"===n?e.size+"_"+t(e.pbLg):"medium"===n?e.size+"_"+t(e.pbMg):"high"===n?e.size+"_"+t(e.pbHg):"custom"===n?e.size+"_"+t(e.pbCg):e.size+"_"+t(e.pbHg)}}]}}(),function(){const e=i.Y.fireEvent("provideSChainConfig");e&&or.que.push((function(){try{if(!window[e.prebidVariable].getConfig("schain"))throw new Error("Could not find publisher's schain in their prebid variable - use manual fallback.");or.setConfig({schain:window[e.prebidVariable].getConfig("schain")})}catch(t){try{const t=e.manualFallback||{};or.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==t.complete&&void 0!==t.complete?t.complete:1,nodes:[{asi:t.asi,sid:t.sid,hp:null!==t.hp&&void 0!==t.hp?t.hp:1}]}}})}catch(e){rr.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",e)}}}))}(),i.Y.fireEvent("prebidDoneInit",{cpbjs:or})};function sr(){return window.pbjs&&window.pbjs.onEvent}function dr(e){try{window.pbjs.onEvent("beforeRequestBids",(function(e){const t=window.pbjs.adUnits||[],n=t.map((e=>{let{code:t}=e;return t})),i=e.filter((e=>!n.includes(e.code)));i.length>0&&(window.pbjs.adUnits=[...t,...i])})),e&&e()}catch(e){rr.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",e)}}var cr=function(e){if("prebid"===e)return ar},lr=new function(){var e=new r.Z.SubscriptionLayer;this.subscribeForEvent=function(t,n){e.subscribeForEvent(t,n)};this.load=function(){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],e.invokeEventCallbacks("preset"),new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){Promise.all([new Promise((function(e,t){var n=document.createElement("script");n.async="true",n.type="text/javascript",n.addEventListener("load",(function(){e()})),n.addEventListener("error",(function(e){t(e)})),n.src="https://adservice.google.com/adsid/integrator.js?domain="+_n.topmostAccessibleWindow.location.hostname+"&upapi=true",(document.head||document.body||document.documentElement).appendChild(n)})),new Promise((function(e,t){var n=!1;try{if(window.googletag&&window.googletag.getVersion){n=!0;const i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),i.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+window.googletag.getVersion()+".js?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}}catch(e){t("error in getting pubads_impl -> "+e)}if(window.googletag._vars_){var i=window.googletag._vars_,r=[21063911,21063048,21063670,21063817,21063671],o=[];for(var a in i){var s=i[a];if("string"==typeof s&&s.indexOf("pubads_impl_")>-1&&!n)try{n=!0;const i=document.createElement("script");i.async="true",i.type="text/javascript",i.addEventListener("load",(function(){e()})),i.addEventListener("error",(function(e){t(e)})),s.indexOf("?")>-1?i.src=s+"&upapi=true":i.src=s+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(i)}catch(e){t("error in getting pubads_impl -> "+e)}else if(Array.isArray(s))try{var d=s.length;if(r)for(;d--;){const e=s[d];r.indexOf(e)>-1&&s.splice(d,1)}if(o)for(var c=0;c<o.length;c++){const e=o[c];-1===s.indexOf(e)&&s.push(e)}}catch(e){console.error("error in adding/removing eids -> "+e)}}}n||t()}))]).then((function(){e()}),(function(e){t(e)}))})),n.addEventListener("error",(function(){t()})),n.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true",(document.head||document.body||document.documentElement).appendChild(n)}))}},ur=__webpack_require__(228),hr=new r.Z.SubscriptionLayer,pr=!1,fr=function(e){switch(pr||pr||(pr=!0,lr.subscribeForEvent("preset",(function(){mr("dfp")})),lr.subscribeForEvent("postset",(function(){br("dfp")})),ur.k.subscribeForEvent("preset",(function(){mr("prebid")})),ur.k.subscribeForEvent("postset",(function(){br("prebid")}))),e){case"dfp":lr.load();break;case"prebid":ur.k.load()}},gr=function(e,t){hr.subscribeForEvent(e,t)},mr=function(e){hr.invokeEventCallbacks(e)},wr=function(e,t){hr.subscribeForEvent(e,t)},br=function(e){hr.invokeEventCallbacks(e)};const vr=new o.Z({prefix:"defaultCreativeBid: "});function Mr(e,t){var n=[],i=!1;function r(t){var r=e.height+"px",o=e.width+"px",a=e.creativeHTML,s=document.createElement("div");s.className="default-creative-container",s.style.height=r,s.style.width=o;var d=Pn.whitelistingIFrame.createWhitelistingIFrame(e.customWhitelistingIFrameURL);d.className="default-creative-iframe",d.setAttribute("scrolling","no"),d.setAttribute("marginwidth","0"),d.setAttribute("marginheight","0"),d.setAttribute("height",r),d.setAttribute("width",o),s.appendChild(d);const c=()=>{try{if(d.removeEventListener("load",c),d.src===Cn.W)d.contentWindow.postMessage(JSON.stringify({message:"Render Secure Creative",ad:a}),"*");else{var e=d.contentWindow.document;if(navigator.userAgent&&navigator.userAgent.toLowerCase().indexOf("firefox/")>-1){const t=/firefox\/([\d.]+)/;let n=navigator.userAgent.toLowerCase().match(t)[1];n&&parseInt(n,10)<67&&e.open("text/html","replace")}e.write(a),e.close()}i=!0,Xn.Z.forEach(n,(function(e){e()}))}catch(e){vr.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",e)}};d.addEventListener("load",c),t.appendChild(s)}var o={ad:e.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+t.unit.space.name,bidderCode:e.providerName||"default-creative",width:e.width,height:e.height,disableAuctionEventLogging:e.disableAuctionEventLogging},a=new ei.Bid(o,o,ei.Bid.Types.DEFAULT_CREATIVE,void 0,(function(e){r(e.placement)}),void 0,(function(e){i?e():n.push(e)}),void 0);return a}const yr=new o.Z;var _r=new function(){var e,t=!1,o=[],a=[],s=!1;let d,c=_n.topmostAccessibleWindow.localStorage.getItem("btUserCountry");function l(){return window.pbjs&&window.pbjs.adUnits}function u(e){return h(v(e))}function h(t,r){const a=function(){const e=[],t=i.Y.fireEvent("auctionBlockerHook");return t&&e.push(t),e}();return Promise.all(a).then((()=>function(e){const t=[],n=[];return Xn.Z.forEach(e,(function(e){var r,o,a=Pn.commonBLUtils.getSpaceElement(e);a&&((r=Ki.getByElement(a))||((o=a).alreadyWraped||(gi.hookFunction(o,"setAttribute",gi.Types.SET_ATTRIBUTE_PRE,void 0,!0),o.alreadyWraped=!0),r=new ei.Unit({element:a,space:e}),i.Y.fireEvent("onNewUnitFound",r),Ki.set(r),n.push(r)),r&&r.space==e&&t.push(r))})),function(e){const{AD_UNIT_PATH_PREFIX:t,deriveDataFromUnitForSpaces:n,slotDataBySpaceName:r}=i.Y.fireEvent("newGAMSlotsOnUnitCreation")||{};e.length>0&&(n||r)&&window.googletag.cmd.push((function(){try{e.forEach((e=>{let i,o,a,{unitID:s,element:d,space:c}=e;const l=n&&n.includes(c.name)&&t,u=r&&r[c.name];(l||u)&&(u&&({adUnitPath:i,sizes:o,slotElementId:a}=r[c.name]||{}),!i&&t&&(i="".concat(t).concat(c.name)),o||(o=c.sizes.map((e=>e.split("x").map((e=>parseInt(e,10))))).filter((e=>2===e.length&&!isNaN(e[0])&&!isNaN(e[1])))),a||(d.id||d.setAttribute("id","bt-unit-".concat(s)),a=d.id),i&&o&&o.length>0&&a&&_i(i,o,a))}))}catch(e){yi.errorf(null,"error defining new GAM slots on Unit creation",e)}}))}(n),t}(t))).then((t=>function(t,r){return new Promise((function(a,l){if(0!==t.length){i.Y.fireEvent("onBeforeInvokeDispatch",{spaces:Xn.Z.map(t,(function(e){return e.space}))}),function(e){e.forEach((e=>{let{space:t}=e;i.Y.fireEvent("modifySpacesOnBeforeFetching",{space:t})}))}(t);var u={};r&&(u=r.filteringSettings||{}),async function(t,n){const i={definedSlotsFilteringSettings:{dfpEnabled:e.dfp,alwaysFilterByGoogletagSlots:s}};n={...i,...n};let r=t.filter((e=>e.state===ei.Unit.States.PENDING));if(r.length>0){r.forEach((e=>{e.state=ei.Unit.States.CHECKING}));let e=[...r];for(const t of b)if(r=await t(r,n),e=e.filter((e=>{const t=r.includes(e);return t||(e.state=ei.Unit.States.PENDING),t})),0===r.length)break}return r}(t,u).then((function(t){try{if(function(e){e&&0!==e.length&&n.Z.upoSettings.amazonBidderConfiguration.enabled&&e.forEach((e=>{const t=e.space;if(t.prebidSettings.bidders=t.prebidSettings.bidders||[],t.prebidSettings.bidders.some((e=>"amazon"===e.name))||!googletag||!googletag.pubads)return;const i=e.element,r=googletag.pubads().getSlots().find((e=>document.getElementById(e.getSlotElementId())===i)),o=r&&r.getAdUnitPath();o&&t.prebidSettings.bidders.push({id:o+"_amazon_bidder",name:"amazon",params:{pubID:n.Z.upoSettings.amazonBidderConfiguration.pubID,adUnitGPTPath:o}})}))}(t),a(t||[]),!t||0===t.length)return;var r=Xn.Z.map(t,(function(e){return e.space}));Pn.movePositionService.dispatch(r);var s=Xn.Z.map(t,(function(e){return new ei.Auction({unit:e})}));if(i.Y.fireEvent("onAuctionGroupStarted",s),function(e){Xn.Z.forEach(e,(function(e){e.state=ei.Auction.States.DISPATCHED,e.unit.state=ei.Unit.States.DISPATCHED,o.push(e),e.unit.countOfDispatches++,e.unit.lastInvokeTime=new Date,i.Y.fireEvent("onAuctionStarted",{auction:e})}))}(s),_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;i.Y.fireEvent("onPrebiddingStarted",s);const l=Pi.dispatchPrebid(s);Promise.all(l).then((function(t){if(i.Y.fireEvent("onPrebiddingEnded",s),_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;const n=Pi.dispatchDFP(s);Xn.Z.forEach(n,(function(t,n){t.then((function(t){var n=Xn.Z.find(s,(function(e){return e.auctionId==t.auctionId}));let r=n.getWinningBid();if(r&&r.type===ei.Bid.Types.PREBID&&0===r.additionalBidsToRender.length&&e.dfp&&n.unit.space.dfpSettings.enabled&&n.cancelAuction(),_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;const o=d?function(e,t){const n=["250x250","300x250","300x600","320x100","336x280","728x90"],i=["160x600","300x250","728x90"];e=e.filter((e=>"RU"===t?n.includes(e):i.includes(e)));let r=e[Math.floor(Math.random()*e.length)];const o="RU"===t?"r":"b",a=function(e,t){const n={"250x250":["250x250-1.png","250x250-3.png","250x250.png"],"300x250":["300x250-4.png","300x250-pt.png","300x250-ptn.png","300x250.png"],"300x600":["300x600-pt.png","300x600-ptn.png","300x600.png"],"320x100":["320x100-2.png","320x100-p.png","320x100.png"],"336x280":["336x280-ptn.png","336x280.png"],"728x90":["728x90-p.png","728x90.png"]},i=["ban1(1).png","ban1(2).png","ban1(3).png","ban2(1).png","ban2(2).png","ban3(1).png","ban3(2).png","ban4(1).png","ban4(2).png","ban4(3).png","ban5(1).png","ban5(2).png","ban5(3).png","ban5(4).png","ban5(5).png"],r="r"===t?n[e][Math.floor(Math.random()*n[e].length)]:i[Math.floor(Math.random()*i.length)];return"//ads2ads.net/"+t+"/"+e+"/"+r}(r,o),s=o+"PSA";r=r.split("x");const d="r"===o?"https://youtu.be/EJasSVlSGf8":"https://t.me/lukabekkk/16";return{width:r[0],height:r[1],creativeHTML:'<a href="'+d+'" target="_blank"><img src="'+a+'"></a>',disableAuctionEventLogging:!0,providerName:s}}(n.unit.space.sizes,c):i.Y.fireEvent("getDefaultCreative",{auction:n});if((_n.topmostAccessibleWindow.localStorage.getItem("forceDefaultCreative")&&o||d)&&(r=void 0),!r&&o)r=Mr(o,n),n.addBids([r]);else if(!r){const e=function(e){let t,n,i,r=!1;const o="https://helpua.nazk.gov.ua/?utm_source=adt_f&utm_medium=cpm&utm_campaign=Blockthrough&utm_id=adt_f_traffic";e.includes("728x90")?(n=728,t=90,i=M("728x90"),r=!0):e.includes("300x250")?(n=300,t=250,i=M("300x250"),r=!0):e.includes("160x600")&&(n=160,t=600,i=M("160x600"),r=!0);if(r)return{width:n,height:t,creativeHTML:"<a href='".concat(o,"' target='_blank'><img src='").concat(i,"'></a>"),disableAuctionEventLogging:!0,providerName:"uaCharityV2"}}(n.unit.space.sizes);e&&(r=Mr(e,n),n.addBids([r]))}n.subscribeForEvent("auctionRendered",(function(){n.unit.countOfRenders++,i.Y.fireEvent("onAuctionRendered",{auction:n,bid:r}),i.Y.fireEvent("onAuctionRenderedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:r});const e=n.unit.countOfRenders;!function(e,t){let n,i;if(Ni.has(e))zi.get(e).push(t);else{const r=new Promise(((e,t)=>{n=e,i=t}));Ni.set(e,[n,i]),zi.set(e,[t]),r.then((()=>{zi.get(e).forEach((e=>e()))})).finally((()=>{Ni.delete(e),zi.delete(e)})),Bi(e,n,i)}}(n.unit.element,(()=>{e==n.unit.countOfRenders&&(i.Y.fireEvent("onAdViewed",{auction:n,bid:r}),i.Y.fireEvent("onAdViewedWebsiteHook",{space:n.unit.space,element:n.unit.element,winningBid:r}))}))})),n.subscribeForEvent("renderBidDone",(function(e){i.Y.fireEvent("onAuctionEnded",{auction:n,bid:e.successfulyRenderedBid&&r}),i.Y.fireEvent("onAuctionEndedWebsiteHook",{element:n.unit.element,bid:e.successfulyRenderedBid&&r})})),n.renderBid(r),n.unit.state=ei.Unit.States.PENDING,Ji.spaceRefreshOnInterval&&Ji.spaceRefreshOnInterval({space:n.unit.space,unitDispatchCount:n.unit.countOfDispatches})}))}))}))}catch(e){yr.errorf(null,"recovery: filterUnits %o",e)}}))}else a([])}))}(t,r))).then((e=>e.map((e=>e.space))))}function p(e){const t='[id="'.concat(e,'"]');let n;if(n=r.Z.commonUtils.getElementWithSelector(t),!n)return;const i=Ki.getByElement(n);if(i)return i.space;return v().find((e=>{const t=Pn.commonBLUtils.getSpaceElement(e);return t&&t===n}))}c?d="RU"===c||"BY"===c:async function(){return await fetch("https://api.btloader.com/country").then((e=>e.json())).then((e=>e.country))}().then((e=>{c=e,d="RU"===c||"BY"===c,_n.topmostAccessibleWindow.localStorage.setItem("btUserCountry",c)})),this.invoke=function(d){if(_n.topmostAccessibleWindow.__bt_intrnl.stopFlag)return;if(t)return;t=!0,e=d.settings||{};const c=Ei.set(d.spaces);var f;s=i.Y.fireEvent("alwaysFilterByGoogletagSlots")||n.Z.upoSettings.amazonBidderConfiguration.enabled,function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t]){var n=[],r=[],o=ir(t),a=cr(t);o&&n.push(o),a&&r.push(a);var s=i.Y.fireEvent("thirdPartyModulePreset",{type:t}),d=i.Y.fireEvent("thirdPartyModulePostset",{type:t});s&&n.push(s),d&&r.push(d),Xn.Z.forEach(n,(function(e){gr(t,e)})),Xn.Z.forEach(r,(function(e){wr(t,e)})),fr(t)}}(e),(e.dfp||s)&&function(){const e=window.googletag&&window.googletag.cmd.unshift?"unshift":"push";window.googletag.cmd[e]((function(){const e=window.googletag.defineSlot;if(window.googletag.defineSlot=function(t,n,i){const r=e(t,n,i);return setTimeout((function(){if(r){if(Di(r))return;m(r)}}),0),r},i.Y.fireEvent("overrideDefineOutOfPageSlot")){const e=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(t,n){const i=e(t,n);return setTimeout((function(){if(i){if(Di(i))return;m(i)}}),0),i}}}))}(),window.googletag.cmd.push((function(){var e=window.googletag.pubads().getSlots();Xn.Z.forEach(e,(function(e){Di(e)}))})),f=Ei.getAll(),i.Y.fireEvent("listenToNewSpaces",{spaces:f,callback:function(e){if(e){for(let t=0;t<e.length;t++){const n=e[t],i=n&&new ei.Space(n);Ei.set(i)}u()}}}),(a=i.Y.fireEvent("movePositionRules")||[])&&a.length>0&&Pn.movePositionService.setMovePositionRules(a),function(){try{history.pushState=(e=history.pushState,function(){const t=e.apply(this,arguments);return window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationChange")),t}),history.replaceState=(e=>function(){const t=e.apply(this,arguments);return window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationChange")),t})(history.replaceState),window.addEventListener("popstate",(()=>{window.dispatchEvent(new Event("locationChange"))}))}catch(e){ci.errorf(null,"setupLocationChangeEvent - error: %o",e)}var e}(),ui();pi(vi()((()=>{u()}),500)),window.addEventListener("locationChange",(()=>{setTimeout(u,1001)})),Ji.initialize({invokeSpaces:h}),i.Y.addEventListener("websiteHooksGetSpaces",(function(){return Ei.getAll()}));let g=i.Y.fireEvent("scrapePrebidAdUnits");g&&("boolean"==typeof g&&(g={}),function(e){var t,o=e.getAdUnits||l,a=e.filterOutAdUnit,s=e.parseAdUnit,d=e.postParsingAdUnits,c=e.parseInterval||1e3,h=[],p=function(){if((t=o()||[]).length>0){for(var e=[],c=[],l=0;l<t.length;l++){const n=t[l];if(!n||h.indexOf(n)>=0)continue;const i=JSON.parse(JSON.stringify(n)),r=s?s(i):i;!r||a&&a(r)||(h.push(n),e.push(r))}if(0===e.length)return;if((e=d?d(e):e).forEach((e=>{if(!e)return;const t=function(e){try{var t={},o=e.selector||r.Z.commonUtils.escapeSelector("#"+e.code),a=e.sizes;if(a||e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&(a=e.mediaTypes.banner.sizes),!a)return;function l(e){return 2===e.length&&e.every((e=>!Array.isArray(e)&&!isNaN(e)))}function u(e){return"".concat(e[0],"x").concat(e[1])}let h;var s,d,c;h=l(a)?[u(a)]:a.filter(l).map(u),t.id=e.id,t.id||(t.id="space_"+Bn(e.code+"_"+o)),t.id=t.id.substr(0,500),t.name=e.code,t.deviceType=e.deviceType,t.sizes=h,t.selector={position:0,value:o},e.bids?t.prebidSettings={enabled:!0,bidders:null!==(s=null===(d=(c=e.bids).map)||void 0===d?void 0:d.call(c,(e=>(e.params=e.params||{},{id:Zn(t.id,e.bidder,e.params),name:e.bidder,params:e.params}))))&&void 0!==s?s:[]}:t.prebidSettings={enabled:!1,bidders:[]},t.prebidSettings.bidders=Mi(t.prebidSettings.bidders);const p=n.Z.SharedObject.getItem("websiteConfig"),f=i.Y.fireEvent("enableComplianceSecondPass");return p.dfpEnabled?t.dfpSettings={adxId:t.name+"_adx",directId:t.name+"_direct",enabled:!0,order:[{params:{},adx:{bidderID:t.name+"_adx",testCompliance:!0},direct:{bidderID:t.name+"_direct"}},{params:{queryParams:f?{}:{ad_type:"text"}},adx:{bidderID:t.name+"_adx",testCompliance:!!f},direct:{bidderID:t.name+"_direct"}}]}:t.dfpSettings={enabled:!1},t}catch(e){yi.errorf(null,"error in parsing prebid ad unit - err: %o",e)}}(e);var o=t&&new ei.Space(t);o&&(Ei.getSpacesByName(o.name).length>0||c.push(o))})),0===c.length)return;Ei.set(c),u(c)}};p(),setInterval((function(){p()}),c)}(g)),i.Y.hasEventListener("scrapeGoogletagSlots")&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((e=>{!p(e.getSlotElementId())&&i.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Ei.set(w(e))}))})),(e.dfp||s)&&window.googletag.cmd.push((function(){window.googletag.pubads().getSlots().forEach((e=>{m(e)}))})),window.__upo_d.getSpaces=function(){return Ei.getAll()},window.__upo_d.getUnits=function(){return Ki.getAll()},window.__upo_d.getAuctions=function(){return o},u(c);let b=1;const v=setInterval((function(){15===b&&clearInterval(v),b++,u(c)}),100)};var f,g=[];function m(e){var t=e.getSlotElementId(),n=e.getAdUnitPath(),o=Ei.getAll(),a=p(t);if(!a){if(i.Y.fireEvent("useSlotPath"))a=Ei.getSpacesByName(n.split("/")[n.split("/").length-1])[0];else{var s=i.Y.fireEvent("customGetSpace",{spaces:o,divId:t,slot:e});s&&(a=Xn.Z.find(o,(function(e){return e.name==s.name})))}(a=a&&JSON.parse(JSON.stringify(a)))&&(a.selector.value=r.Z.commonUtils.escapeSelector("#"+t),a.templateSpaceName=a.name,a.name=t,Ei.set(a))}!a&&i.Y.fireEvent("scrapeGoogletagSlots",{slot:e})&&Ei.set(w(e)),a&&g.indexOf(a)<0&&(g.push(a),clearTimeout(f),f=setTimeout((function(){h(g),g=[]}),100))}function w(t){if(!t)return;if(i.Y.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:t}))return;var o=t.getSlotElementId(),a=t.getSizes(),s=Xn.Z.map(a,(function(e){if(e.getWidth)return e.getWidth()+"x"+e.getHeight()}));s.filter((e=>!!e));var d="adxId_"+o,c="directId_"+o;const l=i.Y.fireEvent("enableComplianceSecondPass");var u={id:o,name:o,staging:!1,selector:{value:r.Z.commonUtils.escapeSelector("#"+o),position:n.Z.consts.selectorPosition.APPEND_CHILD},sizes:s,prebidSettings:{enabled:!0,bidders:[]},dfpSettings:{adxId:d,directId:c,enabled:e.dfp,order:[{params:{},adx:{bidderID:d,testCompliance:!0},direct:{bidderID:c}},{params:{queryParams:l?{}:{ad_type:"text"}},adx:{bidderID:d,testCompliance:!!l},direct:{bidderID:c}}]}};return u.prebidSettings.bidders=[],new ei.Space(u)}const b=[Qi,qi,$i,er,tr];function v(e){const t=e||Ei.getAll();return Ki.purgeUnitsWithNoElementOnPage(),t.filter((e=>!Ki.getBySpace(e)))}function M(e){const t={"300x250":["300x250-1.jpg","300x250-2.png","300x250-3.jpg","300x250-4.jpg"],"160x600":["160x600-1.jpg","160x600-2.png","160x600-3.jpg","160x600-4.jpg"],"728x90":["728x90-1.jpg","728x90-2.png","728x90-3.jpg","728x90-4.jpg"]},n=t[e][Math.floor(Math.random()*t[e].length)];return"//ads2ads.net/ua/".concat(n)}};function Dr(e){return _n.topmostAccessibleWindow.location.hostname.indexOf(e)>-1}const Er={isSite:Dr,isSiteOneOf:function(e){return e.some((function(e){return Dr(e)}))},showElement:function(e){e&&"none"===window.getComputedStyle(e).display&&e.style.setProperty("display","","")},hasClass:function(e,t){if(e&&t)return(" "+e.className+" ").indexOf(" "+t+" ")>-1},removeClass:function(e,t){if(!t||!e)return;const n=new RegExp("\\b"+e+"\\b","g");let i=t.className;i=i.replace(n,""),t.className=i},addClass:function(e,t){if(!t||!e)return;const n=t.className;n.indexOf(e)>-1||(""!==n&&(e=" "+e),t.className=n+e)}};const Tr=new o.Z({prefix:"main: "});window.__upo_d=window.__upo_d||{},window.__upo_d.v="v2",_n.topmostAccessibleWindow.__bt_intrnl=_n.topmostAccessibleWindow.__bt_intrnl||{},window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var Nr={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{"5647394157887488":{"name":"incontent_boxad_1-bottom","sizes":["300x250"],"device_type":"all","selector":{"value":"#incontent_boxad_1-bottom","index":0,"position":0,"page":""},"prebids":{"5086955632066560":{"bidder":"openx","params":{"delDomain":"wikia-d.openx.net","unit":"540378538"}},"5108268400640000":{"bidder":"pubmatic","params":{"adSlot":"BT_BTF_Right_Rail","publisherId":"156260"}},"5146846467981312":{"bidder":"triplelift","params":{"inventoryCode":"Desktop_Lower_Right_BoxAd_Fandom_BT"}},"5205689935855616":{"bidder":"rubicon","params":{"accountId":"7450","siteId":"205040","zoneId":"2231038"}},"5638572710297600":{"bidder":"onemobile","params":{"dcn":"8a969964017b7bbfbcd1c2e8fa290044","pos":"Desktop_Right_Rail_Fandom_BT_300x250"}},"5684868699652096":{"bidder":"appnexus","params":{"placementId":"24551599"}},"5709796421402624":{"bidder":"criteo","params":{"zoneId":1405747}},"6216408080842752":{"bidder":"ix","params":{"siteId":"749520","size":[300,250]}}},"adx":"5081809711792128","direct":"4923705187631104","staging":false,"unit":"incontent_boxad_1-bottom"},"5661073691639808":{"name":"incontent_leaderboard","sizes":["728x90"],"device_type":"all","selector":{"value":"#incontent_leaderboard","index":0,"position":0,"page":""},"prebids":{"5102312941944832":{"bidder":"criteo","params":{"zoneId":"1409112"}},"5111472228139008":{"bidder":"nobid","params":{"placementId":22603247856,"siteId":22602419051}},"5636896532201472":{"bidder":"ix","params":{"siteId":"776805","size":[728,90]}},"5638313837854720":{"bidder":"openx","params":{"delDomain":"wikia-d.openx.net","unit":"540193622"}},"5641906041126912":{"bidder":"rubicon","params":{"accountId":"7450","siteId":"205040","zoneId":"1010052"}},"5646469041225728":{"bidder":"triplelift","params":{"inventoryCode":"Fandom_BT_InContent_prebid"}},"5670632493678592":{"bidder":"pubmatic","params":{"adSlot":"BT_InContent","publisherId":"156260","size":[728,90]}},"5746535806533632":{"bidder":"onemobile","params":{"dcn":"8a9699f00175750d02821e01e03d01e8","pos":"top_leaderboard_728x90"}},"5766689001046016":{"bidder":"appnexus","params":{"placementId":"24209269"}}},"adx":"5115757934411776","direct":"5707174931070976","staging":false,"unit":"incontent_leaderboard"},"5690016615366656":{"name":"incontent_boxad_1-top","sizes":["160x600","300x250","300x600"],"device_type":"all","selector":{"value":"#incontent_boxad_1-top","index":0,"position":0,"page":""},"prebids":{"5087131826388992":{"bidder":"triplelift","params":{"inventoryCode":"Desktop_Lower_Right_BoxAd_Fandom_BT"}},"5653402494173184":{"bidder":"ix","params":{"siteId":"307678","size":[160,600]}},"5673294970748928":{"bidder":"onemobile","params":{"dcn":"8a969964017b7bbfbcd1c2e8fa290044","pos":"Desktop_Right_Rail_Fandom_BT_300x250"}},"5676422646464512":{"bidder":"onemobile","params":{"dcn":"8a969964017b7bbfbcd1c2e7da750043","pos":"Desktop_Right_Rail_Fandom_BT_300x600"}},"5681805146456064":{"bidder":"criteo","params":{"zoneId":1405747}},"5698830732361728":{"bidder":"openx","params":{"delDomain":"wikia-d.openx.net","unit":"540378538"}},"5716516602380288":{"bidder":"ix","params":{"siteId":"307678","size":[300,250]}},"5723773117399040":{"bidder":"ix","params":{"siteId":"307678","size":[300,600]}},"5737084227682304":{"bidder":"pubmatic","params":{"adSlot":"Fandom_BT_Right_Rail_Sticky_300x250","publisherId":"156260"}},"5747240986476544":{"bidder":"appnexus","params":{"placementId":"14133057"}},"5759699445088256":{"bidder":"rubicon","params":{"accountId":"7450","siteId":"205040","zoneId":"1076380"}}},"adx":"5631929807273984","direct":"5747532408815616","staging":false,"unit":"incontent_boxad_1-top"},"5710823676706816":{"name":"top_leaderboard","sizes":["728x90","970x90"],"device_type":"all","selector":{"value":"#top_leaderboard","index":0,"position":0,"page":""},"prebids":{"5630461765222400":{"bidder":"appnexus","params":{"placementId":"13669314"}},"5634727808598016":{"bidder":"ix","params":{"siteId":"292733","size":[728,90]}},"5720884550565888":{"bidder":"ix","params":{"siteId":"292733","size":[970,90]}},"5735489622507520":{"bidder":"criteo","params":{"zoneId":"1409112"}},"5735977334079488":{"bidder":"pubmatic","params":{"adSlot":"Fandom_BT_TopLeaderboard_728x90@728x90","publisherId":"156260","size":[728,90]}},"5745956151623680":{"bidder":"triplelift","params":{"inventoryCode":"Desktop_Top_Leaderboard_Fandom_BT"}},"5751720905801728":{"bidder":"nobid","params":{"placementId":22603247856,"siteId":22602419051}},"5758660163665920":{"bidder":"openx","params":{"delDomain":"wikia-d.openx.net","unit":"540193622"}},"6201263791276032":{"bidder":"rubicon","params":{"accountId":"7450","siteId":"205040","zoneId":"1010052"}},"6231535750479872":{"bidder":"onemobile","params":{"dcn":"8a9699f00175750d02821e01e03d01e8","pos":"top_leaderboard_728x90"}}},"adx":"5736360594898944","direct":"5665897776676864","staging":false,"unit":"top_leaderboard"},"5739578054934528":{"name":"top_boxad","sizes":["300x250","300x600","120x600","160x600"],"device_type":"all","selector":{"value":"#top_boxad","index":0,"position":0,"page":""},"prebids":{"5073974789668864":{"bidder":"ix","params":{"siteId":"292734","size":[300,600]}},"5183058815746048":{"bidder":"criteo","params":{"zoneId":"1405747"}},"5633511561101312":{"bidder":"ix","params":{"siteId":"292734","size":[160,600]}},"5650081779810304":{"bidder":"appnexus","params":{"placementId":"13669315"}},"5653703569702912":{"bidder":"ix","params":{"siteId":"292734","size":[300,250]}},"5653710322532352":{"bidder":"rubicon","params":{"accountId":"7450","siteId":"205040","zoneId":"1010054"}},"5708458371317760":{"bidder":"nobid","params":{"placementId":22603247955,"siteId":22602419051}},"5721690217644032":{"bidder":"ix","params":{"siteId":"292734","size":[120,600]}},"5726282181509120":{"bidder":"triplelift","params":{"inventoryCode":"Desktop_Top_Right_BoxAd_Fandom_BT"}},"5731255420190720":{"bidder":"pubmatic","params":{"adSlot":"Fandom_BT_TopRightBox_300x250@300x250","publisherId":"156260","size":[300,250]}},"5763631957409792":{"bidder":"openx","params":{"delDomain":"wikia-d.openx.net","unit":"540193629"}},"6045464077008896":{"bidder":"onemobile","params":{"dcn":"8a9699f00175750d02821e01e03d01e8","pos":"top_right_boxad_300x250"}}},"adx":"5760196052779008","direct":"5683848714125312","staging":false,"unit":"top_boxad"},"5764498931580928":{"name":"bottom_leaderboard","sizes":["300x250","728x90","970x90","970x250"],"device_type":"all","selector":{"value":"#bottom_leaderboard","index":0,"position":0,"page":""},"prebids":{"5067236195696640":{"bidder":"rubicon","params":{"accountId":"7450","siteId":"205040","zoneId":"1053190"}},"5075363884433408":{"bidder":"pubmatic","params":{"adSlot":"Bottom_LeaderboardBT_728x90@728x90","publisherId":"156260","size":[728,90]}},"5075807641796608":{"bidder":"ix","params":{"siteId":"299403","size":[728,90]}},"5105934209646592":{"bidder":"onemobile","params":{"dcn":"8a9699f00175750d02821e01e03d01e8","pos":"bottom_leaderboard_728x90"}},"5146862339227648":{"bidder":"openx","params":{"delDomain":"wikia-d.openx.net","unit":"540311079"}},"5633267117064192":{"bidder":"nobid","params":{"placementId":22603247904,"siteId":22602419051}},"5677858977480704":{"bidder":"ix","params":{"siteId":"299403","size":[300,250]}},"5689640141979648":{"bidder":"criteo","params":{"zoneId":"1409112"}},"5729234300436480":{"bidder":"triplelift","params":{"inventoryCode":"Desktop_Top_Leaderboard_Fandom_BT"}},"5757716881473536":{"bidder":"appnexus","params":{"placementId":"13946510"}}},"adx":"5760219016593408","direct":"5723284399194112","staging":false,"unit":"bottom_leaderboard"}}};let zr,Sr;var Br=Nr.spaces||{},Zr="api.btloader.com";const xr=n.Z.upoSettings.staticDomain,kr=n.Z.upoSettings.recoveryScriptVersion;(_n.topmostAccessibleWindow.location.href.indexOf("bt_debug=true")>=0||"true"===_n.topmostAccessibleWindow.localStorage.getItem("bt_debug"))&&(Nr.dfpEnabled="true"===_n.topmostAccessibleWindow.localStorage.getItem("forceGAM")||Nr.dfpEnabled,Nr.mobileContentEnabled="true"===_n.topmostAccessibleWindow.localStorage.getItem("forceMobileContent")||Nr.mobileContentEnabled,Nr.contentEnabled="true"===_n.topmostAccessibleWindow.localStorage.getItem("forceContent")||Nr.contentEnabled);var Ir,Yr={websiteData:Nr,scriptSettings:di,apiDomain:Zr,staticDomain:xr,websiteID:"5666295871700992",organizationID:"5199505043488768",dfpEnabled:Nr.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:Nr.mobileContentEnabled,contentEnabled:Nr.contentEnabled,recoveryScriptVersion:kr};window.__upo_d.websiteConfig=Yr,n.Z.SharedObject.setItem("websiteConfig",Yr);var Hr=function(){return{browser:An.Xh(),device:An.Uh(),platform:An.Jv(),isMobile:An.tq()}};var Xr=function(){Cr(window),Wr(),Pn.whitelistingIFrame.setupWhitelistingIFrameSettings().then(Rr),function(){window.addEventListener("message",(e=>{const{message:t,blocklistedCreatives:i}=e.data;"Get Blocklist Creatives"===t&&n.Z.SharedObject.setItem("creativesIdBlocklist",i)}));const e=Pn.whitelistingIFrame.createWhitelistingIFrame(Cn.W);e.style.width="0px",e.style.height="0px",e.style.setProperty("display","none","important"),e.addEventListener("load",(()=>{e.contentWindow.postMessage({message:"Get Blocklist Creatives"},"https://".concat(Cn.I.staticDomain))})),document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))}(),i.Y.fireEvent("clearSpaces")&&(Br=[]),Or()},Or=function(){var e=Xn.Z.map(Br,(function(e){return e})),t=i.Y.fireEvent("customSpacesFilter",{spaces:e});t&&(Br=Br.filter((e=>t.some((t=>t.id===e.id)))))},Rr=function(){const e=Pn.whitelistingIFrame.createWhitelistingIFrame();e.addEventListener("load",(function(){zr=e,Sr=e.src===Cn.W,n.Z.SharedObject.setItem("whitelistingIFrame",zr),i.Y.fireEvent("whitelistingIFrameLoaded",{whitelistingIFrame:zr})})),e.style.width="0px",e.style.height="0px",e.style.display="none",document.body?document.body.appendChild(e):window.addEventListener("DOMContentLoaded",(function(){document.body.appendChild(e)}))},Cr=function(e){e&&function(e,t){if(e.grumi){var n=document.createElement("iframe");n.style="display:none;width:1px;height:1px;",n.addEventListener("load",(function(){n.done||(n.done=!0,e.Node.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,e.HTMLElement.prototype.appendChild=n.contentWindow.Node.prototype.appendChild,t())})),hi((function(){document.body.appendChild(n)}))}else t()}(e,(function(){try{e.XMLHttpRequest&&gi.hookFunction(e.XMLHttpRequest.prototype,"open",gi.Types.XHR_OPEN_PRE,void 0,!0),gi.hookFunction(e,"fetch",gi.Types.FETCH_PRE,void 0,!0),e.HTMLElement&&gi.hookFunction(e.HTMLElement.prototype,"insertBefore",gi.Types.INSERT_BEFORE_PRE,void 0,!0),e.HTMLElement&&gi.hookFunction(e.HTMLElement.prototype,"appendChild",gi.Types.APPEND_CHILD_PRE,gi.Types.APPEND_CHILD_POST,!0),e.HTMLImageElement&&gi.hookFunction(e.HTMLImageElement.prototype,"setAttribute",gi.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0),gi.hookFunction(e,"open",gi.Types.WIN_OPEN_PRE,void 0,!0),e.HTMLElement&&gi.hookPropertySetter(e.HTMLElement.prototype,"innerHTML",gi.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0),e.HTMLElement&&gi.hookFunction(e.HTMLElement.prototype,"hasChildNodes",gi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0),Ar(e)}catch(e){Tr.errorf(null,"`createHooksOnWindow` - %o",e)}}))},Ar=function(e){for(var t=n.Z.consts.htmlElements,i=0;i<t.length;i++)e[t[i]]&&gi.hookPropertySetter(e[t[i]].prototype,"src",gi.Types.HTML_SRC_PROP_PRE,void 0,!0)},Wr=function(){gi.addEventListener(gi.Types.HTML_SRC_PROP_PRE,(function(e){var t=e.data;if("object"==typeof t[0]&&t[0].toString&&(t[0]=t[0].toString()),r.Z.urlValidations.isWhitelistURL(t[0],this.tagName))t[0]=r.Z.addAcceptableParam(t[0]);else if(r.Z.urlValidations.isSyncUrl(t[0],this.tagName)&&zr){if(Sr){const e="new window.Image().src = '"+t[0]+"'";return zr.contentWindow.postMessage({type:"eval",code:e},"*"),t[0]}return(new zr.contentWindow.Image).src=t[0]}})),gi.addEventListener(gi.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,(function(e){try{if(this.classList.contains("up-show"))return!1;if(this.childNodes&&this.childNodes.length>0){for(var t=!1,n=0;n<this.children.length;n++)if(this.children[n].classList.contains("up-show")){t=!0;break}if(t)return!1}}catch(e){Tr.errorf(null,"`hasChildNodes` hook - %o",e)}})),gi.addEventListener(gi.Types.HTML_ELEMENT_INNERHTML_POST,(function(e){if(this&&this.classList&&"adsbygoogle"===this.classList[0]){var t=this.querySelector("iframe"),n=t.contentWindow;"about:blank"!==t.src&&""!==t.src||Cr(n);var i=n.document.write;n.document.write=function(e){e&&e.indexOf("show_ads_impl.js")>-1&&(e=r.Z.addAcceptableParam(e)),i.call(this,e)}}})),gi.addEventListener(gi.Types.XHR_OPEN_PRE,(function(e){var t=e.data;r.Z.urlValidations.isWhitelistURL(t[1],"SCRIPT")&&(t[1]=r.Z.addAcceptableParam(t[1]))})),gi.addEventListener(gi.Types.IMG_SET_ATTRIBUTE_PRE,(function(e){var t=e.data;if("srcset"===t[0].toLowerCase()){this.src&&r.Z.urlValidations.isWhitelistURL(this.src,this.tagName)&&(this.src=r.Z.addAcceptableParam(this.src));for(var n=t[1].split(","),i=0;i<n.length;i++){var o=n[i],a=(o=o.trim()).split(" ")[0],s=o.split(" ")[1]||"";r.Z.urlValidations.isWhitelistURL(a,this.tagName)&&(o=r.Z.addAcceptableParam(a)+" "+s,n[i]=o)}t[1]=n.join(",")}else"src"===t[0].toLowerCase()&&r.Z.urlValidations.isWhitelistURL(t[1],this.tagName)&&(t[1]=r.Z.addAcceptableParam(t[1]))})),gi.addEventListener(gi.Types.INSERT_BEFORE_PRE,(function(e){var t=e.data;i.Y.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:t[0]}),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&r.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=r.Z.addAcceptableParam(t[0].src)),"LINK"===t[0].tagName&&t[0].href&&r.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=r.Z.addAcceptableParam(t[0].href))})),gi.addEventListener(gi.Types.APPEND_CHILD_PRE,(function(e){var t=e.data;if(t[0]&&t[0].src&&0===t[0].src.indexOf("blob:"))e.shouldStop=!0;else{if(t[0].children&&t[0].children.length>0)for(var n=0;n<t[0].children.length;n++){var i=t[0].children[n];if(i.src&&r.Z.urlValidations.isWhitelistURL(i.src,i.tagName)&&(i.src=r.Z.addAcceptableParam(i.src)),i.src&&r.Z.urlValidations.isSyncUrl(i.src,i.tagName)&&zr){if(Sr){const e="new Image().src = '"+t[0].src+"'";return zr.contentWindow.postMessage({type:"eval",code:e},"*"),t[0]}return zr.contentDocument.body.appendChild(t[0])}}if("LINK"===t[0].tagName&&t[0].href&&r.Z.urlValidations.isWhitelistURL(t[0].href,t[0].tagName)&&(t[0].href=r.Z.addAcceptableParam(t[0].href)),["SCRIPT","IFRAME"].indexOf(t[0].tagName)>-1&&t[0].src&&r.Z.urlValidations.isWhitelistURL(t[0].src,t[0].tagName)&&(t[0].src=r.Z.addAcceptableParam(t[0].src)),r.Z.urlValidations.isSyncUrl(t[0].src,t[0].tagName)&&zr){if(Sr){const e="new Image().src = '"+t[0].src+"'";return zr.contentWindow.postMessage({type:"eval",code:e},"*"),t[0]}return zr.contentDocument.body.appendChild(t[0])}}})),gi.addEventListener(gi.Types.APPEND_CHILD_POST,(function(e){var t=e.data;"IFRAME"!==t.tagName||"about:blank"!==t.src&&""!==t.src||Cr(t.contentWindow)})),gi.addEventListener(gi.Types.WIN_OPEN_PRE,(function(e){if(e.data[0]&&(e.data[0].indexOf("clickout.sharethrough.com")>-1||e.data[0].indexOf("3lift.com/pass")>-1)&&zr&&!Sr)return zr.contentWindow.open(e.data[0])})),gi.addEventListener(gi.Types.SET_ATTRIBUTE_PRE,(function(e){var t=e.data[0],n=e.data[1];"class"===t&&this.className.indexOf("up-show")>=0&&n.indexOf("up-show")<0&&(e.data[1]=e.data[1]+" up-show")}))},Fr=function(){window.uponit=window.uponit||{que:[]},window.uponit.addModifier=function(e,t){window.uponit.modifiers=window.uponit.modifiers||{},window.uponit.modifiers[e]=window.uponit.modifiers[e]||[],window.uponit.modifiers[e].push(t)};for(var e=0;e<window.uponit.que.length;e++){var t=window.uponit.que[e];try{t()}catch(e){Tr.errorf(null,"window.uponit.que - %o",e)}}window.uponit.que.push=function(e){e()}};const Ur=e=>{const t=Object.entries(e).map((e=>{let[t,n]=e;const r={};r.id=t,r.name=n.name,r.staging=n.staging,r.deviceType=n.device_type,r.selector={position:n.selector.position,value:n.selector.value},r.sizes=n.sizes;const o=n.prebids&&Object.keys(n.prebids).length>0;r.prebidSettings={enabled:o,bidders:[]},o&&Object.entries(n.prebids).forEach((e=>{let[t,n]=e;const i={id:t,name:n.bidder,params:n.params};r.prebidSettings.bidders.push(i)}));const a=i.Y.fireEvent("enableComplianceSecondPass");return r.dfpSettings={adxId:n.adx,directId:n.direct,enabled:Yr.dfpEnabled&&"0"!=n.adx,order:[{params:{},adx:{bidderID:n.adx,testCompliance:!0},direct:{bidderID:n.direct}},{params:{queryParams:a?{}:{ad_type:"text"}},adx:{bidderID:n.adx,testCompliance:!!a},direct:{bidderID:n.direct}}]},[t,r]}));return Object.fromEntries(t)};var Vr=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];i.id=n;var r=new ei.Space(i);t.push(r)}return t};!function(){if(window.uponitAlreadyLoaded)return;window.uponitAlreadyLoaded=!0,c.init(Zr,{secure:!0});try{wi.init(),zn.Verifications.run(),zn.Report.init()}catch(e){Tr.errorf(null,"init - initializing log, verification, and report layers - %o",e)}Ir=Hr(),window.__upo_d.isMobile=Ir.isMobile;var e={browser:Ir.browser,device:Ir.device,platform:Ir.platform,isMobile:Ir.isMobile};i.Y.addEventListener("getUserEnvDataWebsiteHooks",(function(){return e})),window.__upo_d.userEvnData=e,function(){try{window.__tcfapi("addEventListener",0,(function(e,t){if(!t||"useractioncomplete"!==e.eventStatus&&"tcloaded"!==e.eventStatus){if(!t){var n="Unable to attach event listener. tcfapi does not adhere to IAB spec. ";n+="listenerSuccess: "+t+". ",e&&(n+="eventStatus: "+e.eventStatus+"."),i.Y.fireEvent("consentData",{error:{message:n}})}}else i.Y.fireEvent("consentData",{tcData:e})}))}catch(e){i.Y.fireEvent("consentData",{error:e})}}(),function(){try{const e=new o.Z({prefix:"hook: "});window.eval.call(window,"(function (CustomEvents, websiteConfig, lg, hookUtils) {\n"+atob("LyoKICAgICMgY2hhbmdlbG9nCiAgICAjIyA0LzE1LzIwMjAKICAgICogW2Rpb2dvZ210XSAtIG1vdmluZyByZWZyZXNoIGxvZ2ljIGZvciBmYW5kb20gZnJvbSBvcmcgdG8gd2Vic2l0ZSBob29rCiAgICAjIyA4LzEyLzIwMjAKICAgICogIFtLZW5kYWxsXSAtIEVuYWJsZSBBZFggb24gRnV0aGVhZCBhbmQgTXV0aGVhZAogICAgIyMgOC8xOS8yMDIwCiAgICAqICBbS2VuZGFsbF0gLSBwcmljZSBncmFudWxhcml0eSA9IGRlbnNlCiAgICAjIyA5LzA0LzIwMjAKICAgICogIFtLZW5kYWxsXSAtIEFkZCBnYW1lcGVkaWEgdG8gR0FNCiovCgp2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0KICAnI2hpdmlfbGVhZGVyYm9hcmR7IGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudCB9I2JvdHRvbV9sZWFkZXJib2FyZHtkaXNwbGF5OmlubGluZS10YWJsZSAhaW1wb3J0YW50O30gI3RvcF9ib3hhZC5kZWZhdWx0LWhlaWdodHtoZWlnaHQ6IGF1dG8gIWltcG9ydGFudH0nOwovLyBIaWRlIGdvb2dsZV9hZCBjb250YWluZXIgd2hpbiB3aW5uaW5nIGJpZCBpcyBoYgpzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQuY29uY2F0KAogICcgLmFob3ZlciArIFtpZF49Imdvb2dsZV9hZCJdLFtpZF49Imdvb2dsZV9hZCJdICsgLmFob3Zlcnsgd2lkdGg6IDFweCAhaW1wb3J0YW50OyBoZWlnaHQ6MXB4ICFpbXBvcnRhbnQ7IGRpc3BsYXk6IGdyaWQgIWltcG9ydGFudDsgfScKKTsKKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cgp3aW5kb3cuYWJfdmVyc2lvbiA9IDE7CkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCd3aGl0ZWxpc3RlZEZyYW1lU3JjJywgZnVuY3Rpb24gKCkgewogIC8vIGxlYXZpbmcgdW50aWwgd2UgcmVtb3ZlIGFsbCB0aGUgbG9nZ2luZwogIHdpbmRvdy5hYl92ZXJzaW9uID0gMjsKICByZXR1cm4gewogICAgdXJsOiAnLy9tcmIudXBhcGkubmV0L3NhZmVGcmFtZS5odG1sP3VwYXBpPXRydWUnLAogICAgZG9udERvU3JjTW9kaWZpY2F0aW9uOiB0cnVlLAogIH07Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2N1c3RvbUNvbXBsaWFuY2VDaGVjaycsIGZ1bmN0aW9uIChldmVudCkgewogIHZhciBiaWQgPSBldmVudC5kYXRhLmJpZDsKICAvLyBjaGVjayBpZiBiaWRkZXIgY29kZSBpcyBjcml0ZW8KICBpZiAoYmlkLmJpZGRlckNvZGUgPT0gJ2NyaXRlbycpIHsKICAgIC8vIGNvbXBsYWluY2Ugc3RhdHVzIDEgbWVhbnMgY29tcGxpYW50IGJpZC4gUmVmZXIgdG8gY29uc3RzLmpzCiAgICByZXR1cm4gMTsKICB9Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3JlbmRlckJpZEluRWxlbWVudFN0YXJ0ZWQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICB2YXIgZWxtID0gZXZlbnQuZGF0YS5lbGVtZW50OwogIGhvb2tVdGlscy5zaG93RWxlbWVudChlbG0pOwp9KTsKCi8qKgogKiByZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiB6ZXJvIG9uIHRoZSBgbWF4YCB2YWx1ZSAoZm9yIGV4YW1wbGU6IGlmIG1heD0xMDAsIHRoZSByYW5nZSBpcyBbMC05OV0pCiAqIEBwYXJhbSB7bnVtYmVyfSBtYXgKICovCmZ1bmN0aW9uIGdldFJhbmRvbUludChtYXgpIHsKICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTsKfQoKLyoqCiAqIEZhbmRvbSBpcyB1c2luZyBvdXIgQWRYIHNlYXQgKERGUCBhY2NvdW50KSAyMjA2MDA2OTUxNAogKiBUaGlzIHN3YXBzIG91dCB0aGUgZXhpc3RpbmcgYWRVbml0cyBmb3IgYWRVbml0cyB3ZSBjcmVhdGVkIGZvciBlYWNoIHNpdGUuCiAqLwppZiAoaG9va1V0aWxzLmlzU2l0ZU9uZU9mKFsnZnV0aGVhZC5jb20nLCAnbXV0aGVhZC5jb20nLCAnZ2FtZXBlZGlhLmNvbSddKSkgewogIEN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdHQU1TcGVjaWFsQWRVbml0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICByZXR1cm4gewogICAgICBwYXJzZVNsb3RBZFVuaXRQYXRoOiBmdW5jdGlvbiAoREZQc2xvdCkgewogICAgICAgIHZhciBzbG90RWxlbWVudElkID0gREZQc2xvdC5nZXRTbG90RWxlbWVudElkKCk7CiAgICAgICAgdmFyIG5ld0FkVW5pdFBhdGggPSBnZXRBZFVuaXRDb2RlKHNsb3RFbGVtZW50SWQpOwoKICAgICAgICBpZiAoIW5ld0FkVW5pdFBhdGgpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHZhciBuZXdQYXRoOwoKICAgICAgICBpZiAoaG9va1V0aWxzLmlzU2l0ZU9uZU9mKFsnZnV0aGVhZC5jb20nLCAnbXV0aGVhZC5jb20nXSkpIHsKICAgICAgICAgIG5ld1BhdGggPSAnLzIyMDYwMDY5NTE0LDU0NDEvJyArIG5ld0FkVW5pdFBhdGg7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5ld1BhdGggPSAnLzIyMDYwMDY5NTE0LycgKyBuZXdBZFVuaXRQYXRoOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5ld1BhdGg7CiAgICAgIH0sCiAgICAgIHNob3VsZENvcHlUYXJnZXRpbmc6IHRydWUsCiAgICB9OwogIH0pOwp9CgpmdW5jdGlvbiBnZXRBZFVuaXRDb2RlKHNsb3RFbGVtZW50SWQpIHsKICB2YXIgc2l0ZURvbWFpbjsKCiAgaWYgKGhvb2tVdGlscy5pc1NpdGUoJ211dGhlYWQuY29tJykpIHsKICAgIHNpdGVEb21haW4gPSAnbXV0aGVhZC5jb20nOwogIH0gZWxzZSBpZiAoaG9va1V0aWxzLmlzU2l0ZSgnZnV0aGVhZC5jb20nKSkgewogICAgc2l0ZURvbWFpbiA9ICdmdXRoZWFkLmNvbSc7CiAgfSBlbHNlIGlmIChob29rVXRpbHMuaXNTaXRlKCdnYW1lcGVkaWEuY29tJykpIHsKICAgIHNpdGVEb21haW4gPSAnZ2FtZXBlZGlhLmNvbSc7CiAgfQoKICBpZiAoaG9va1V0aWxzLmlzU2l0ZU9uZU9mKFsnbXV0aGVhZC5jb20nLCAnZnV0aGVhZC5jb20nXSkpIHsKICAgIGlmIChzbG90RWxlbWVudElkLmluY2x1ZGVzKCd6b25lLTAxJykpIHsKICAgICAgcmV0dXJuIHNpdGVEb21haW4gKyAnLycgKyBzaXRlRG9tYWluICsgJ19jZG0tem9uZS0wMSc7CiAgICB9IGVsc2UgaWYgKHNsb3RFbGVtZW50SWQuaW5jbHVkZXMoJ3pvbmUtMDInKSkgewogICAgICByZXR1cm4gc2l0ZURvbWFpbiArICcvJyArIHNpdGVEb21haW4gKyAnX2NkbS16b25lLTAyJzsKICAgIH0gZWxzZSBpZiAoc2xvdEVsZW1lbnRJZC5pbmNsdWRlcygnem9uZS0wMycpKSB7CiAgICAgIHJldHVybiBzaXRlRG9tYWluICsgJy8nICsgc2l0ZURvbWFpbiArICdfY2RtLXpvbmUtMDMnOwogICAgfSBlbHNlIGlmIChzbG90RWxlbWVudElkLmluY2x1ZGVzKCd6b25lLTA0JykpIHsKICAgICAgcmV0dXJuIHNpdGVEb21haW4gKyAnLycgKyBzaXRlRG9tYWluICsgJ19jZG0tem9uZS0wNCc7CiAgICB9IGVsc2UgaWYgKHNsb3RFbGVtZW50SWQuaW5jbHVkZXMoJ3pvbmUtMDUnKSkgewogICAgICByZXR1cm4gc2l0ZURvbWFpbiArICcvJyArIHNpdGVEb21haW4gKyAnX2NkbS16b25lLTA1JzsKICAgIH0gZWxzZSBpZiAoc2xvdEVsZW1lbnRJZC5pbmNsdWRlcygnem9uZS0wNicpKSB7CiAgICAgIHJldHVybiBzaXRlRG9tYWluICsgJy8nICsgc2l0ZURvbWFpbiArICdfY2RtLXpvbmUtMDYnOwogICAgfQogIH0gZWxzZSBpZiAoaG9va1V0aWxzLmlzU2l0ZSgnZ2FtZXBlZGlhLmNvbScpKSB7CiAgICB2YXIgYWRVbml0U3VmZml4OwogICAgc3dpdGNoIChzbG90RWxlbWVudElkKSB7CiAgICAgIGNhc2UgJ3RvcF9sZWFkZXJib2FyZCc6CiAgICAgICAgYWRVbml0U3VmZml4ID0gJ19jZG0tem9uZS0wMSc7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3RvcF9ib3hhZCc6CiAgICAgICAgYWRVbml0U3VmZml4ID0gJ19jZG0tem9uZS0wMic7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2luY29udGVudF9ib3hhZF8xJzoKICAgICAgICBhZFVuaXRTdWZmaXggPSAnX2NkbS16b25lLTAzJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnYm90dG9tX2xlYWRlcmJvYXJkJzoKICAgICAgICBhZFVuaXRTdWZmaXggPSAnX2NkbS16b25lLTA0JzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnZm9vdGVyX2JveGFkJzoKICAgICAgICBhZFVuaXRTdWZmaXggPSAnX2NkbS16b25lLTA2JzsKICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICAgIGlmIChhZFVuaXRTdWZmaXgpIHsKICAgICAgcmV0dXJuIHNpdGVEb21haW4gKyAnLycgKyBzaXRlRG9tYWluICsgYWRVbml0U3VmZml4OwogICAgfQogIH0KfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3ByZWJpZERvbmVJbml0JywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgdmFyIGNwYmpzID0gZXZlbnQuZGF0YS5jcGJqczsKICBjcGJqcy5xdWUucHVzaChmdW5jdGlvbiAoKSB7CiAgICBjcGJqcy5zZXRDb25maWcoewogICAgICBwcmljZUdyYW51bGFyaXR5OiAnZGVuc2UnLAogICAgfSk7CiAgfSk7Cn0pOwoKLy8gUmVmcmVzaCB2aWV3YWJsZSBhZCB1bml0cyBvbiAndXNlciByZXR1cm4gdG8gcGFnZScgZXZlbnRzIFtBTS0zNDM3XQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigncmVmcmVzaE9uUmV0dXJuVG9QYWdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgcmV0dXJuIHsgdW5pdFZpc2liaWxpdHk6ICdWSVNJQkxFJyB9Owp9KTsKCi8vIENsZWFyIGFueSBleGlzdGluZyBwdWIgR1BUIHNsb3RzIG9uIHRoZSBwYWdlIGFuZCB0aGVuIGVuc3VyZSB0aGF0IHRoZSBvbmx5IG5ld2x5IGRlZmluZWQgc2xvdHMgYXJlIHRoZSBvbmVzIHdlIGRlZmluZSBmb3Igb3VyIEJUIEFkWCBhY2NvdW50ICgyMjA2MDA2OTUxNCkKZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICBnb29nbGV0YWcuZGVzdHJveVNsb3RzKCk7CiAgdmFyIG9yaWdpbmFsRGVmaW5lU2xvdCA9IGdvb2dsZXRhZy5kZWZpbmVTbG90OwogIGdvb2dsZXRhZy5kZWZpbmVTbG90ID0gZnVuY3Rpb24gKHBhdGgsIHNpemVzLCBkaXYpIHsKICAgIGlmIChwYXRoLmluZGV4T2YoMjIwNjAwNjk1MTQpIDwgMCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgcmV0dXJuIG9yaWdpbmFsRGVmaW5lU2xvdC5jYWxsKHRoaXMsIHBhdGgsIHNpemVzLCBkaXYpOwogIH07Cn0pOwoKLy8gRGVmaW5lIGEgR0FNIHNsb3QgZm9yIGV2ZXJ5IHVuaXQgd2UgZmluZCBvbiB0aGUgcGFnZQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignbmV3R0FNU2xvdHNPblVuaXRDcmVhdGlvbicsIGZ1bmN0aW9uIChldmVudCkgewogIHJldHVybiB7CiAgICBBRF9VTklUX1BBVEhfUFJFRklYOiAnLzIyMDYwMDY5NTE0LDU0NDEvZmFuZG9tLmNvbS9mYW5kb20uY29tXycsCiAgICBkZXJpdmVEYXRhRnJvbVVuaXRGb3JTcGFjZXM6IFsKICAgICAgJ2JvdHRvbV9sZWFkZXJib2FyZCcsCiAgICAgICdpbmNvbnRlbnRfYm94YWRfMS10b3AnLAogICAgICAnaW5jb250ZW50X2JveGFkXzEtYm90dG9tJywKICAgICAgJ3RvcF9ib3hhZCcsCiAgICAgICd0b3BfbGVhZGVyYm9hcmQnLAogICAgICAnaW5jb250ZW50X2xlYWRlcmJvYXJkJywKICAgIF0sCiAgfTsKfSk7CgovLyBDcmVhdGUgdHdvIGRpdnMgYW5kIGFwcGVuZCB0aGVtIHRvIGluY29udGVudF9ib3hhZF8xIFtBTS0yMDY4XQp2YXIgYm94YWRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICB2YXIgYm94YWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5jb250ZW50X2JveGFkXzEnKTsKCiAgaWYgKGJveGFkKSB7CiAgICBjbGVhckludGVydmFsKGJveGFkSW50ZXJ2YWwpOwogICAgdmFyIGJveGFkVG9wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICB2YXIgYm94YWRCb3R0b20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGJveGFkVG9wLmlkID0gJ2luY29udGVudF9ib3hhZF8xLXRvcCc7CiAgICBib3hhZEJvdHRvbS5pZCA9ICdpbmNvbnRlbnRfYm94YWRfMS1ib3R0b20nOwoKICAgIGJveGFkLmFwcGVuZENoaWxkKGJveGFkVG9wKTsKICAgIGJveGFkLmFwcGVuZENoaWxkKGJveGFkQm90dG9tKTsKICB9Cn0sIDEwMDApOwoKLy8gQ3JlYXRlIGRpdiBhbmQgYXBwZW5kIHRvIGluY29udGVudF9wbGF5ZXIgW0FNLTI2NDJdCnZhciBpbmNvbnRlbnRJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICB2YXIgaW5jb250ZW50UGxheWVyQWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5jb250ZW50X3BsYXllcicpOwoKICBpZiAoaW5jb250ZW50UGxheWVyQWQpIHsKICAgIGNsZWFySW50ZXJ2YWwoaW5jb250ZW50SW50ZXJ2YWwpOwogICAgdmFyIGluY29udGVudExlYWRlcmJvYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICBpbmNvbnRlbnRMZWFkZXJib2FyZC5pZCA9ICdpbmNvbnRlbnRfbGVhZGVyYm9hcmQnOwoKICAgIGluY29udGVudFBsYXllckFkLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUnKTsKICAgIGluY29udGVudFBsYXllckFkLmFwcGVuZENoaWxkKGluY29udGVudExlYWRlcmJvYXJkKTsKICB9Cn0sIDEwMDApOwoKLy8gQ2xlYXIgdGhlIGludGVydmFscyBpbiBjYXNlIHRoZSBlbGVtZW50cyBhcmUgbmV2ZXIgZm91bmQKc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgY2xlYXJJbnRlcnZhbChib3hhZEludGVydmFsKTsKICBjbGVhckludGVydmFsKGluY29udGVudEludGVydmFsKTsKfSwgMTAwMDApOwoKLy8gQ29uZmlndXJlIG5vbi12aWV3YWJsZSByZWZyZXNoIGZvciBhZCB1bml0cyAobWF4IDIgcmVmcmVzaCkgW0FNLTI2NjJdIFtBTS0zNDM3XQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignc3BhY2VSZWZyZXNoT25JbnRlcnZhbCcsIGZ1bmN0aW9uIChldmVudCkgewogIGlmIChldmVudC5kYXRhLnVuaXREaXNwYXRjaENvdW50IDwgMykgewogICAgcmV0dXJuIHsKICAgICAgd2hlblZpc2liaWxpdHk6ICdJU19ISURERU4nLAogICAgfTsKICB9Cn0pOwoKLy8gIkRpc2FibGUiIHNpemVzIGZvciBhZCB1bml0cyBbQU0tMTA0NSwgQU0tMTA0Nl0KQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NpemVzVG9SZW1vdmVCeVNwYWNlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgdmFyIHNwYWNlTmFtZSA9IGV2ZW50LmRhdGEuc3BhY2VOYW1lOwogIHZhciBzaXplc1RvUmVtb3ZlID0gW107CiAgaWYgKHNwYWNlTmFtZSA9PT0gJ2JvdHRvbV9sZWFkZXJib2FyZCcpIHsKICAgIHNpemVzVG9SZW1vdmUucHVzaCh7IHdpZHRoOiA5NzAsIGhlaWdodDogMjUwIH0pOwogIH0KICByZXR1cm4gc2l6ZXNUb1JlbW92ZTsKfSk7CgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcigncHJlYmlkRG9uZUluaXQnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICB2YXIgY3BianMgPSBldmVudC5kYXRhLmNwYmpzOwogIC8vIEFkZCBiaWRkZXItc3BlY2lmaWMgc2NoYWluIGNvbmZpZ3MgW0JURS02NDldCiAgY3BianMucXVlLnB1c2goZnVuY3Rpb24gKCkgewogICAgY3BianMuc2V0QmlkZGVyQ29uZmlnKHsKICAgICAgYmlkZGVyczogWydydWJpY29uJ10sCiAgICAgIGNvbmZpZzogewogICAgICAgIHNjaGFpbjogewogICAgICAgICAgdmFsaWRhdGlvbjogJ3N0cmljdCcsCiAgICAgICAgICBjb25maWc6IHsKICAgICAgICAgICAgdmVyOiAnMS4wJywKICAgICAgICAgICAgY29tcGxldGU6IDEsCiAgICAgICAgICAgIG5vZGVzOiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgYXNpOiAnZmFuZG9tLmNvbScsCiAgICAgICAgICAgICAgICBzaWQ6ICc3NDUwJywKICAgICAgICAgICAgICAgIGhwOiAxLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgIH0sCiAgICB9KTsKICAgIGNwYmpzLnNldEJpZGRlckNvbmZpZyh7CiAgICAgIGJpZGRlcnM6IFsndHJpcGxlbGlmdCddLAogICAgICBjb25maWc6IHsKICAgICAgICBzY2hhaW46IHsKICAgICAgICAgIHZhbGlkYXRpb246ICdzdHJpY3QnLAogICAgICAgICAgY29uZmlnOiB7CiAgICAgICAgICAgIHZlcjogJzEuMCcsCiAgICAgICAgICAgIGNvbXBsZXRlOiAxLAogICAgICAgICAgICBub2RlczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGFzaTogJ2ZhbmRvbS5jb20nLAogICAgICAgICAgICAgICAgc2lkOiAnMTIxNScsCiAgICAgICAgICAgICAgICBocDogMSwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICB9LAogICAgfSk7CiAgICAvLyBBZGQgbm9iaWQgdXNlclN5bmMgaUZyYW1lIGNvbmZpZyBodHRwczovL3d3dy5ub2JpZC5pby9pbnRlZ3JhdGlvbi8gW0JURS02NDZdCiAgICBjcGJqcy5zZXRDb25maWcoewogICAgICB1c2VyU3luYzogewogICAgICAgIGZpbHRlclNldHRpbmdzOiB7CiAgICAgICAgICBpZnJhbWU6IHsKICAgICAgICAgICAgYmlkZGVyczogJyonLAogICAgICAgICAgICBmaWx0ZXI6ICdpbmNsdWRlJywKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgfSwKICAgIH0pOwogIH0pOwp9KTsKCi8vIEFkZCBTbmlnZWwgaW50ZWdyYXRpb24gW0JURS02NjFdIFtBTS0yNzE4XQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignc25pZ2VsQWRhcHRlckNvbmZpZ3VyYXRpb24nLCBmdW5jdGlvbiAoZXZlbnQpIHsKICB2YXIgc3BhY2VOYW1lID0gKGV2ZW50LmRhdGEgJiYgZXZlbnQuZGF0YS5zcGFjZU5hbWUpIHx8ICcnOwogIHZhciBjb25maWcgPSB7CiAgICB3ZWJzaXRlU3RvcmVkUmVxdWVzdElkOiAnZmFuZG9tX2NvbScsCiAgICBhZFVuaXRTdG9yZWRSZXF1ZXN0SWQ6IG51bGwsCiAgfTsKCiAgaWYgKAogICAgc3BhY2VOYW1lID09PSAndG9wX2xlYWRlcmJvYXJkJyB8fAogICAgc3BhY2VOYW1lID09PSAnYm90dG9tX2xlYWRlcmJvYXJkJyB8fAogICAgc3BhY2VOYW1lID09PSAndG9wX2JveGFkJyB8fAogICAgc3BhY2VOYW1lID09PSAnaW5jb250ZW50X2xlYWRlcmJvYXJkJwogICkgewogICAgY29uZmlnLmFkVW5pdFN0b3JlZFJlcXVlc3RJZCA9ICdmYW5kb21fY29tLScgKyBzcGFjZU5hbWU7CiAgfSBlbHNlIGlmIChzcGFjZU5hbWUuc3RhcnRzV2l0aCgnaW5jb250ZW50X2JveGFkXzEtJykpIHsKICAgIC8vIFNuaWdlbCBkb2VzIG5vdCB3YW50IHRvIGlzc3VlIG5ldyBJRHMgYW5kIHdhbnRzIHVzIHRvIGNvbnRpbnVlIHVzaW5nIGBpbmNvbnRlbnRfYm94YWRfMWAgW0JURS03MTFdCiAgICBjb25maWcuYWRVbml0U3RvcmVkUmVxdWVzdElkID0gJ2ZhbmRvbV9jb20taW5jb250ZW50X2JveGFkXzEnOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSk7CgovLyBBZGQgY2xpZW50IHNjcmlwdCB2ZXJzaW9uIGluIEdBTSB0YXJnZXRpbmcgW0JURS02OTZdCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcmVUYXJnZXRpbmdTZXR0aW5nJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgdmFyIGRmcFNsb3QgPSBldmVudC5kYXRhLmRmcFNsb3Q7CgogIC8vIFBhc3MgQS9CIGJ1bmRsZSBJRCB0byBHQU0gdGFyZ2V0aW5nIHVzaW5nIHJlY292ZXJ5U2NyaXB0VmVyc2lvbgogIGRmcFNsb3Quc2V0VGFyZ2V0aW5nKCdidW5kbGVfSUQnLCB3ZWJzaXRlQ29uZmlnLnJlY292ZXJ5U2NyaXB0VmVyc2lvbik7Cn0pOwoKLy8gQ29uZmlndXJlIEFtYXpvbiBmb3IgZmFuZG9tLmNvbQpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignYW1hem9uQmlkZGVyQ29uZmlndXJhdGlvbicsIGZ1bmN0aW9uIChldmVudCkgewogIHJldHVybiB7CiAgICBwdWJJRDogJzMxMTUnLAogICAga2VlcEhiUGI6IHRydWUsCiAgfTsKfSk7CndpbmRvdy51cG9fYW16biA9IHsKICBhbWF6b25DUE1DaGFydDogewogICAgJzcxNndvdyc6IDM1LAogICAgaGFydnVvOiAzNCwKICAgICczYWNlMHcnOiAzMywKICAgIGNweWwxYzogMzIsCiAgICAnNXM4cWd3JzogMzEsCiAgICBkbm83cGM6IDMwLAogICAgJzFxNW84dyc6IDI5LAogICAgJzl3dHAxYyc6IDI4LAogICAgJzg4dzRxbyc6IDI3LAogICAgZnFsNjJvOiAyNiwKICAgICc0YWp4MWMnOiAyNSwKICAgIGJzOHlkYzogMjQsCiAgICAnNWppMzljJzogMjMsCiAgICBlejRhOXM6IDIyLAogICAgJzlwc3prJzogMjEsCiAgICBhdHd1bTg6IDIwLAogICAgbmxlNjgwOiAxOS41LAogICAgJzc4MjRuNCc6IDE5LAogICAgdjMzN2swOiAxOC41LAogICAgZ25vYm5rOiAxOCwKICAgIGp1am5rMDogMTcuNSwKICAgICcybjh0dHMnOiAxNywKICAgIHJjOG93MDogMTYuNSwKICAgIGN3dHN6azogMTYsCiAgICBwb2I0bGM6IDE1LjUsCiAgICAnNmdsOHU4JzogMTUsCiAgICB4bmhnY2c6IDE0LjUsCiAgICBkeWFhNjg6IDE0LAogICAgbHB5d3cwOiAxMy41LAogICAgJzE2c3lrZyc6IDEzLAogICAgdHdteG9nOiAxMi41LAogICAgJzlkZ3pjdyc6IDEyLAogICAgbXl4MzQwOiAxMS41LAogICAgJzhqaTc3ayc6IDExLAogICAgd2VqYTRnOiAxMC41LAogICAgZ2V4b2cwOiAxMCwKICAgIGkydjhxbzogOS41LAogICAgJzNuZ2N1OCc6IDksCiAgICBzY2c3d2c6IDguNSwKICAgIGI1NWU2ODogOCwKICAgICcxdnF1azh3JzogNy45NSwKICAgIGl3dTB3MDogNy45LAogICAgJzE5anIxbW8nOiA3Ljg1LAogICAgJzd0YTlrdyc6IDcuOCwKICAgICcxa25hc3hzJzogNy43NSwKICAgIHUwZHM3NDogNy43LAogICAgJzE0eXhxdGMnOiA3LjY1LAogICAgZWMwcTJvOiA3LjYsCiAgICAnMXI2MTlmayc6IDcuNTUsCiAgICBwZmtoZHM6IDcuNSwKICAgICcxZzJoaTRnJzogNy40NSwKICAgICczOGd5cmsnOiA3LjQsCiAgICAnMW51NjR1OCc6IDcuMzUsCiAgICB4Nzk0M2s6IDcuMywKICAgICcxMW4ybTgwJzogNy4yNSwKICAgIGIwNWxoYzogNy4yLAogICAgJzF5eHB3NWMnOiA3LjE1LAogICAgbTNwY3NnOiA3LjEsCiAgICAnMWNxbWRqNCc6IDcuMDUsCiAgICAnNHdlajI4JzogNywKICAgICcxaHFmMmY0JzogNi45NSwKICAgIHIzaTFvZzogNi45LAogICAgJzE2bXZiNDAnOiA2Ljg1LAogICAgZnp5YWRjOiA2LjgsCiAgICAnMXN0eXRxOCc6IDYuNzUsCiAgICBucm14MzQ6IDYuNywKICAgICcxZWVqeHRzJzogNi42NSwKICAgICcxa2plZ3cnOiA2LjYsCiAgICAnMXBpM3A0dyc6IDYuNTUsCiAgICB5djZvZTg6IDYuNSwKICAgICcxM2IwNmlvJzogNi40NSwKICAgIGNvMzVzMDogNi40LAogICAgJzF2YnY2NjgnOiA2LjM1LAogICAgaWh1bXRjOiA2LjMsCiAgICAnMTk0cm5rMCc6IDYuMjUsCiAgICAnN2Vhdmk4JzogNi4yLAogICAgJzFrOGJldjQnOiA2LjE1LAogICAgdGxlZTRnOiA2LjEsCiAgICAnMTVzd2l5byc6IDYuMDUsCiAgICBmNXppODA6IDYsCiAgICAnMXMwMDFrdyc6IDUuOTUsCiAgICBxOWo5ajQ6IDUuOSwKICAgICcxZ3dnYTlzJzogNS44NSwKICAgICc0MmZxd3cnOiA1LjgsCiAgICAnMWx3OHo1cyc6IDUuNzUsCiAgICB2OWJ5ZjQ6IDUuNywKICAgIHpwNWdqazogNS42NSwKICAgICc5Mjhmc3cnOiA1LjYsCiAgICAnMXd6c3Fndyc6IDUuNTUsCiAgICBrNXM3NDA6IDUuNSwKICAgICcxYXNwN3VvJzogNS40NSwKICAgICc1cWRiN2snOiA1LjQsCiAgICAnMWlrZHVrZyc6IDUuMzUsCiAgICByeGd0dHM6IDUuMywKICAgICcxN2d1MzljJzogNS4yNSwKICAgIGd0eDJpbzogNS4yLAogICAgJzF0bnhsdmsnOiA1LjE1LAogICAgbjU1dHo0OiA1LjEsCiAgICAnMWRzMnVwcyc6IDUuMDUsCiAgICB5MmJjdzogNSwKICAgICcxb3ZtbTB3JzogNC45NSwKICAgIHk4cGxhODogNC45LAogICAgJzEyb2ozZW8nOiA0Ljg1LAogICAgYzFtMm8wOiA0LjgsCiAgICAnMXduYjhxbyc6IDQuNzUsCiAgICBqdGFwZHM6IDQuNywKICAgICcxYWc3cTRnJzogNC42NSwKICAgICc4cHF5Mm8nOiA0LjYsCiAgICAnMWxqcmhmayc6IDQuNTUsCiAgICB1d3Vnb3c6IDQuNSwKICAgICcxNGNnbnBjJzogNC40NSwKICAgIGRwam15bzogNC40LAogICAgJzFxams2YmsnOiA0LjM1LAogICAgb3QzZTlzOiA0LjMsCiAgICAnMWZnMGYwZyc6IDQuMjUsCiAgICAnMmx6dm5rJzogNC4yLAogICAgJzFuN3AxcTgnOiA0LjE1LAogICAgd2tzMHprOiA0LjEsCiAgICAnMTEwbGo0MCc6IDQuMDUsCiAgICBhZG9pZGM6IDQsCiAgICAnMXliOHQxYyc6IDMuOTUsCiAgICBsaDg5b2c6IDMuOSwKICAgICcxYzQ1YWY0JzogMy44NSwKICAgICc1M3c4M2snOiAzLjgsCiAgICAnMWh4d3JnZyc6IDMuNzUsCiAgICByYXpxcHM6IDMuNywKICAgICcxNnVkMDVjJzogMy42NSwKICAgIGc3ZnplbzogMy42LAogICAgJzF0MWdpcmsnOiAzLjU1LAogICAgbno0bTRnOiAzLjUsCiAgICAnMWVtMW12NCc6IDMuNDUsCiAgICAnMXMxM2k4JzogMy40LAogICAgJzFwcGxlNjgnOiAzLjM1LAogICAgejJvZGZrOiAzLjMsCiAgICAnMTNpaHZrMCc6IDMuMjUsCiAgICBjdmt1dGM6IDMuMiwKICAgICcxdXBlMzI4JzogMy4xNSwKICAgIGh2ZGpwYzogMy4xLAogICAgJzE4aWFrZzAnOiAzLjA1LAogICAgJzZydHNlOCc6IDMsCiAgICAnMXd4YXU0Zyc6IDIuOTksCiAgICB4ZXF0NHc6IDIuOTgsCiAgICAnMWY2MHRtbyc6IDIuOTcsCiAgICBmbmdzbjQ6IDIuOTYsCiAgICAnMWpsdWJyNCc6IDIuOTUsCiAgICBrM2Fhcms6IDIuOTQsCiAgICAnMTF1a2I5Yyc6IDIuOTMsCiAgICAnMmMwYTlzJzogMi45MiwKICAgICcxc2hoYzAwJzogMi45MSwKICAgIHN5eGIwZzogMi45LAogICAgJzFhcTdiaTgnOiAyLjg5LAogICAgYjduYWlvOiAyLjg4LAogICAgJzFteHBnY2cnOiAyLjg3LAogICAgbmY1ZmN3OiAyLjg2LAogICAgJzE1NmZmdW8nOiAyLjg1LAogICAgJzVudmV2NCc6IDIuODQsCiAgICAnMXZ0Y2dsYyc6IDIuODMsCiAgICB3YXNmbHM6IDIuODIsCiAgICAnMWUyMmczayc6IDIuODEsCiAgICBlamlmNDA6IDIuOCwKICAgICcxaWh2eTgwJzogMi43OSwKICAgIGl6Yng4ZzogMi43OCwKICAgICcxMHFseHE4JzogMi43NywKICAgICcxODF3cW8nOiAyLjc2LAogICAgJzFyZGl5Z3cnOiAyLjc1LAogICAgcnV5eGhjOiAyLjc0LAogICAgJzE5bTh4ejQnOiAyLjczLAogICAgYTNvd3prOiAyLjcyLAogICAgJzFwNW03ZW8nOiAyLjcxLAogICAgcG4yNmY0OiAyLjcsCiAgICAnMTdlYzZ3dyc6IDIuNjksCiAgICAnN3ZzNXhjJzogMi42OCwKICAgICcxeTE5N25rJzogMi42NywKICAgIHlpcDZvMDogMi42NiwKICAgICcxZzl6NzVzJzogMi42NSwKICAgIGdyZjY2ODogMi42NCwKICAgICcxa3BzcGE4JzogMi42MywKICAgIGw3OG9hbzogMi42MiwKICAgICcxMnlpb3NnJzogMi42MSwKICAgICczZnluc3cnOiAyLjYsCiAgICAnMXRsZnBqNCc6IDIuNTksCiAgICB1MnZvams6IDIuNTgsCiAgICAnMWJ1NXAxYyc6IDIuNTcsCiAgICBjYmxvMXM6IDIuNTYsCiAgICAnMW1zcG5uayc6IDIuNTUsCiAgICBuYTVtbzA6IDIuNTQsCiAgICAnMTUxZm41cyc6IDIuNTMsCiAgICAnNWl2bTY4JzogMi41MiwKICAgICcxdm9jbndnJzogMi41MSwKICAgIHc1c213dzogMi41LAogICAgJzFkeDJuZW8nOiAyLjQ5LAogICAgZWVpbWY0OiAyLjQ4LAogICAgJzFpY3c1ajQnOiAyLjQ3LAogICAgaXVjNGprOiAyLjQ2LAogICAgJzEwbG01MWMnOiAyLjQ1LAogICAgJzEzMjQxcyc6IDIuNDQsCiAgICAnMXI4ajVzMCc6IDIuNDMsCiAgICBycHo0c2c6IDIuNDIsCiAgICAnMTloOTVhOCc6IDIuNDEsCiAgICAnOXlwNGFvJzogMi40LAogICAgJzFwMG1lcHMnOiAyLjM5LAogICAgcGkyZHE4OiAyLjM4LAogICAgJzE3OWNlODAnOiAyLjM3LAogICAgJzdxc2Q4Zyc6IDIuMzYsCiAgICAnMXh3OWV5byc6IDIuMzUsCiAgICB5ZHBkejQ6IDIuMzQsCiAgICAnMWc0emVndyc6IDIuMzMsCiAgICBnbWZkaGM6IDIuMzIsCiAgICAnMWtrc3dsYyc6IDIuMzEsCiAgICBsMjh2bHM6IDIuMywKICAgICcxMnRpdzNrJzogMi4yOSwKICAgICczYXl2NDAnOiAyLjI4LAogICAgJzF0Z2Z3dTgnOiAyLjI3LAogICAgdHh2dnVvOiAyLjI2LAogICAgJzFicDV3Y2cnOiAyLjI1LAogICAgYzZsdmN3OiAyLjI0LAogICAgJzFud28xNm8nOiAyLjIzLAogICAgb2U0MDc0OiAyLjIyLAogICAgJzE2NWUwb3cnOiAyLjIxLAogICAgJzZtdHpwYyc6IDIuMiwKICAgICcxd3NiMWZrJzogMi4xOSwKICAgIHg5cjBnMDogMi4xOCwKICAgICcxZjExMHhzJzogMi4xNywKICAgIGZpZ3p5ODogMi4xNiwKICAgICcxamd1ajI4JzogMi4xNSwKICAgIGp5YWkybzogMi4xNCwKICAgICcxMXBraWtnJzogMi4xMywKICAgICcyNzBoa3cnOiAyLjEyLAogICAgJzFzY2hqYjQnOiAyLjExLAogICAgc3R4aWJrOiAyLjEsCiAgICAnMWFsN2l0Yyc6IDIuMDksCiAgICBiMm5odHM6IDIuMDgsCiAgICAnMXE0a3M4dyc6IDIuMDcsCiAgICBxbTByOWM6IDIuMDYsCiAgICAnMThkYXJyNCc6IDIuMDUsCiAgICAnOHVxcXJrJzogMi4wNCwKICAgICcxejA3c2hzJzogMi4wMywKICAgIHpobnJpODogMi4wMiwKICAgICcxaDh4czAwJzogMi4wMSwKICAgIGhxZHIwZzogMiwKICAgICcxbG9yYTRnJzogMS45OSwKICAgIG02Nzk0dzogMS45OCwKICAgICcxM3hoOW1vJzogMS45NywKICAgICc0ZXg4bjQnOiAxLjk2LAogICAgJzF1a2VhZGMnOiAxLjk1LAogICAgdjF1OWRzOiAxLjk0LAogICAgJzFjdDQ5dmsnOiAxLjkzLAogICAgZGFrOHcwOiAxLjkyLAogICAgJzFtOHFndzAnOiAxLjkxLAogICAgbXE2ZndnOiAxLjksCiAgICAnMTRoZ2dlOCc6IDEuODksCiAgICAnNHl3ZmVvJzogMS44OCwKICAgICcxdjRkaDR3JzogMS44NywKICAgIHZsdGc1YzogMS44NiwKICAgICcxZGQzZ240JzogMS44NSwKICAgIGR1amZuazogMS44NCwKICAgICcxaHN3eXJrJzogMS44MywKICAgIGlhY3hzMDogMS44MiwKICAgICcxMDFteTlzJzogMS44MSwKICAgIGoyeGE4OiAxLjgsCiAgICAnMXFvanowZyc6IDEuNzksCiAgICByNXp5MHc6IDEuNzgsCiAgICAnMTh4OXlpbyc6IDEuNzcsCiAgICAnOWVweGo0JzogMS43NiwKICAgICcxb2duN3k4JzogMS43NSwKICAgIG95MzZ5bzogMS43NCwKICAgICcxNnBkN2dnJzogMS43MywKICAgICc3NnQ2Z3cnOiAxLjcyLAogICAgJzF4Y2E4NzQnOiAxLjcxLAogICAgeHRxNzdrOiAxLjcsCiAgICAnMWZsMDdwYyc6IDEuNjksCiAgICBnMmc2cHM6IDEuNjgsCiAgICAnMWswdHB0cyc6IDEuNjcsCiAgICBraTlvdTg6IDEuNjYsCiAgICAnMTI5anBjMCc6IDEuNjUsCiAgICAnMnF6b2NnJzogMS42NCwKICAgICcxc3dncTJvJzogMS42MywKICAgIHRkd3AzNDogMS42MiwKICAgICcxYjU2cGt3JzogMS42MSwKICAgIGJtbW9sYzogMS42LAogICAgJzFuY291ZjQnOiAxLjU5LAogICAgbnU0dGZrOiAxLjU4LAogICAgJzE1bGV0eGMnOiAxLjU3LAogICAgJzYydXN4cyc6IDEuNTYsCiAgICAnMXc4YnVvMCc6IDEuNTUsCiAgICB3cHJ0b2c6IDEuNTQsCiAgICAnMWVoMXU2OCc6IDEuNTMsCiAgICBleWh0Nm86IDEuNTIsCiAgICAnMWl3dmNhbyc6IDEuNTEsCiAgICBqZWJiYjQ6IDEuNSwKICAgICcxMTVsYnN3JzogMS40OSwKICAgICcxbjFhdGMnOiAxLjQ4LAogICAgJzFyc2ljamsnOiAxLjQ3LAogICAgczl5YmswOiAxLjQ2LAogICAgJzFhMThjMXMnOiAxLjQ1LAogICAgYWlvYjI4OiAxLjQ0LAogICAgJzFwa2xsaGMnOiAxLjQzLAogICAgcTIxa2hzOiAxLjQyLAogICAgJzE3dGJremsnOiAxLjQxLAogICAgJzhhcmswMCc6IDEuNCwKICAgICcxeWc4bHE4JzogMS4zOSwKICAgIHl4b2txbzogMS4zOCwKICAgICcxZ295bDhnJzogMS4zNywKICAgIGg2ZWs4dzogMS4zNiwKICAgICcxbDRzM2N3JzogMS4zNSwKICAgIGxtODJkYzogMS4zNCwKICAgICcxM2RpMnY0JzogMS4zMywKICAgICczdXkxdmsnOiAxLjMyLAogICAgJzF1MGYzbHMnOiAxLjMxLAogICAgdWh2Mm04OiAxLjMsCiAgICAnMWM5NTM0MCc6IDEuMjksCiAgICBjcWwyNGc6IDEuMjgsCiAgICAnMW1pcTI5cyc6IDEuMjcsCiAgICBuMDYxYTg6IDEuMjYsCiAgICAnMTRyZzFzMCc6IDEuMjUsCiAgICAnNTh3MHNnJzogMS4yNCwKICAgICcxdmVkMmlvJzogMS4yMywKICAgIHZ2dDFqNDogMS4yMiwKICAgICcxZG4zMjB3JzogMS4yMSwKICAgIGU0ajExYzogMS4yLAogICAgJzFpMndrNWMnOiAxLjE5LAogICAgaWtjajVzOiAxLjE4LAogICAgJzEwYm1qbmsnOiAxLjE3LAogICAgdDJpbzA6IDEuMTYsCiAgICAnMXF5amtlOCc6IDEuMTUsCiAgICByZnpqZW86IDEuMTQsCiAgICAnMTk3OWp3Zyc6IDEuMTMsCiAgICAnOW9waXd3JzogMS4xMiwKICAgICcxb3FtdGMwJzogMS4xMSwKICAgIHA4MnNjZzogMS4xLAogICAgJzE2emNzdTgnOiAxLjA5LAogICAgJzdnc3J1byc6IDEuMDgsCiAgICAnMXhtOXRrdyc6IDEuMDcsCiAgICB5M3BzbGM6IDEuMDYsCiAgICAnMWZ1enQzNCc6IDEuMDUsCiAgICBnY2ZzM2s6IDEuMDQsCiAgICAnMWthdGI3ayc6IDEuMDMsCiAgICBrczlhODA6IDEuMDIsCiAgICAnMTJqamFwcyc6IDEuMDEsCiAgICAnMzB6OXE4JzogMSwKICAgICcxdDZnYmdnJzogMC45OSwKICAgIHRud2FndzogMC45OCwKICAgICcxYmY2YXlvJzogMC45NywKICAgIGJ3bTl6NDogMC45NiwKICAgICcxbm1vZnN3JzogMC45NSwKICAgIG80NGV0YzogMC45NCwKICAgICcxNXZlZmI0JzogMC45MywKICAgICc2Y3VlYmsnOiAwLjkyLAogICAgJzF3aWJnMXMnOiAwLjkxLAogICAgd3pyZjI4OiAwLjksCiAgICAnMWVyMWZrMCc6IDAuODksCiAgICBmOGhla2c6IDAuODgsCiAgICAnMWo2dXhvZyc6IDAuODcsCiAgICBqb2F3b3c6IDAuODYsCiAgICAnMTFma3g2byc6IDAuODUsCiAgICAnMXgwdzc0JzogMC44NCwKICAgICcxczJoeHhjJzogMC44MywKICAgIHNqeHd4czogMC44MiwKICAgICcxYWI3eGZrJzogMC44MSwKICAgIGFzbndnMDogMC44LAogICAgJzFwdWw2djQnOiAwLjc5LAogICAgcWMxNXZrOiAwLjc4LAogICAgJzE4M2I2ZGMnOiAwLjc3LAogICAgJzhrcjVkcyc6IDAuNzYsCiAgICAnMXlxODc0MCc6IDAuNzUsCiAgICB6N282NGc6IDAuNzQsCiAgICAnMWd5eTZtOCc6IDAuNzMsCiAgICBoZ2U1bW86IDAuNzIsCiAgICAnMWxlcm9xbyc6IDAuNzEsCiAgICBsdzducjQ6IDAuNywKICAgICcxM25obzh3JzogMC42OSwKICAgICc0NHhuOWMnOiAwLjY4LAogICAgJzF1YWVvemsnOiAwLjY3LAogICAgdXJ1bzAwOiAwLjY2LAogICAgJzFjajRvaHMnOiAwLjY1LAogICAgZDBrbmk4OiAwLjY0LAogICAgJzFseXF2aTgnOiAwLjYzLAogICAgbWc2dWlvOiAwLjYyLAogICAgJzE0N2d2MGcnOiAwLjYxLAogICAgJzRvd3Uwdyc6IDAuNiwKICAgICcxdXVkdnI0JzogMC41OSwKICAgIHZidHVyazogMC41OCwKICAgICcxZDMzdjljJzogMC41NywKICAgIGRranU5czogMC41NiwKICAgICcxaGl4ZGRzJzogMC41NSwKICAgIGkwZGNlODogMC41NCwKICAgIHpybmN3MDogMC41MywKICAgICc5M2J3Zyc6IDAuNTIsCiAgICAnMXFla2Rtbyc6IDAuNTEsCiAgICBxdzBjbjQ6IDAuNSwKICAgICcxOG5hZDR3JzogMC40OSwKICAgICc5NHFjNWMnOiAwLjQ4LAogICAgJzFvNm5ta2cnOiAwLjQ3LAogICAgb28zbGt3OiAwLjQ2LAogICAgJzE2ZmRtMm8nOiAwLjQ1LAogICAgJzZ3dGwzNCc6IDAuNDQsCiAgICAnMXgyYW10Yyc6IDAuNDMsCiAgICB4anFsdHM6IDAuNDIsCiAgICAnMWZiMG1iayc6IDAuNDEsCiAgICBmc2dsYzA6IDAuNCwKICAgICcxanF1NGcwJzogMC4zOSwKICAgIGs4YTNnZzogMC4zOCwKICAgICcxMXprM3k4JzogMC4zNywKICAgICcyaDAyeW8nOiAwLjM2LAogICAgJzFzbWg0b3cnOiAwLjM1LAogICAgdDN4M3BjOiAwLjM0LAogICAgJzFhdjc0NzQnOiAwLjMzLAogICAgYmNuMzdrOiAwLjMyLAogICAgJzFuMnA5MWMnOiAwLjMxLAogICAgbms1ODFzOiAwLjMsCiAgICAnMTViZjhqayc6IDAuMjksCiAgICAnNXN2N2swJzogMC4yOCwKICAgICcxdnljOWE4JzogMC4yNywKICAgIHdmczhhbzogMC4yNiwKICAgICcxZTcyOHNnJzogMC4yNSwKICAgIGVvaTdzdzogMC4yNCwKICAgICcxaW12cXd3JzogMC4yMywKICAgIGo0YnB4YzogMC4yMiwKICAgICcxMHZscWY0JzogMC4yMSwKICAgICcxZDFwZmsnOiAwLjIsCiAgICAnMXJpaXI1cyc6IDAuMTksCiAgICByenlxNjg6IDAuMTgsCiAgICAnMTlyOHFvMCc6IDAuMTcsCiAgICBhOG9wb2c6IDAuMTYsCiAgICAnMXBhbTAzayc6IDAuMTUsCiAgICBwczF6NDA6IDAuMTQsCiAgICAnMTdqYnpscyc6IDAuMTMsCiAgICAnODByeW04JzogMC4xMiwKICAgICcxeTY5MGNnJzogMC4xMSwKICAgIHlub3pjdzogMC4xLAogICAgJzFnZXl6dW8nOiAwLjA5LAogICAgZ3dleXY0OiAwLjA4LAogICAgJzFrdXNoejQnOiAwLjA3LAogICAgbGM4Z3prOiAwLjA2LAogICAgJzEzM2loaGMnOiAwLjA1LAogICAgJzNreWdocyc6IDAuMDQsCiAgICAnMXRxZmk4MCc6IDAuMDMsCiAgICB1N3ZoOGc6IDAuMDIsCiAgICAnMWJ6NWhxOCc6IDAuMDIsCiAgfSwKfTsKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdhZGRCVERlbWFuZCcsIGZ1bmN0aW9uICgpIHsKICByZXR1cm4gewogICAgb25ldGFnOiB7CiAgICAgIHB1YklkOiAnNzU4MDQ4NjFiNzZhODUyJywKICAgIH0sCiAgfTsKfSk7Cg==")+"\n})")(i.Y,Yr,e,Er)}catch(e){Tr.errorf(null,"failed to pass CustomEvents, websiteConfig, logger and hooks utility functions - %o",e)}}(),Object.entries(si).forEach((e=>{let[t,n]=e;if(oi[t]){const{hookName:e,parseSettingValue:r,handler:o}=oi[t],a=r?r(n):n;e?i.Y.addEventListener(e,(e=>o(a,e))):(o(a),ri.infof(null,"loadSettings: ".concat(t," (no associated hook): Setting applied.")))}else ri.errorf(null,"loadSettings: No setting handler found for %o (setting will not be applied).",t)})),function(){const e=i.Y.fireEvent("amazonBidderConfiguration");e&&e.pubID&&(n.Z.upoSettings.amazonBidderConfiguration.enabled=!0,n.Z.upoSettings.amazonBidderConfiguration=Object.assign(n.Z.upoSettings.amazonBidderConfiguration,e))}();const t=i.Y.fireEvent("hookDFPEnabledValue");t&&(Yr.dfpEnabled=t);try{Br=Vr(Ur(Br))}catch(e){Tr.errorf(null,"init - parsing static spaces - %o",e)}if(Fr(),i.Y.fireEvent("shouldDisableUponit"))Tr.noticef(null,"halting: we have been disabled by hooks");else{i.Y.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),i.Y.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),Xr(),Yr.prebidEnabled=!!(Br.find((e=>e.prebidSettings&&e.prebidSettings.enabled))||i.Y.fireEvent("scrapePrebidAdUnits")||i.Y.fireEvent("amazonBidderConfiguration")||Pn.btDemandService.isBTDemandIntegration());var r={spaces:Br,settings:{prebid:i.Y.fireEvent("forcePrebidEnabled")||Yr.prebidEnabled,dfp:Yr.dfpEnabled}};hi((function(){i.Y.fireEvent("onDomLoaded"),i.Y.fireEvent("onBeforeRecovery",{spaces:Br,settings:r.settings}),_r.invoke(r)}))}}()})()})();
//# sourceMappingURL=recovery.js.map

})({});
